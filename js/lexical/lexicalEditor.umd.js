(function($n,qt){typeof exports=="object"&&typeof module<"u"?qt(exports):typeof define=="function"&&define.amd?define(["exports"],qt):($n=typeof globalThis<"u"?globalThis:$n||self,qt($n.lexicalEditor={}))})(this,function($n){"use strict";var N2=Object.defineProperty;var A2=($n,qt,ni)=>qt in $n?N2($n,qt,{enumerable:!0,configurable:!0,writable:!0,value:ni}):$n[qt]=ni;var Wn=($n,qt,ni)=>A2($n,typeof qt!="symbol"?qt+"":qt,ni);var qt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ni(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Gf={exports:{}},aa={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ly;function SE(){if(ly)return aa;ly=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(l,s,o){var u=null;if(o!==void 0&&(u=""+o),s.key!==void 0&&(u=""+s.key),"key"in s){o={};for(var f in s)f!=="key"&&(o[f]=s[f])}else o=s;return s=o.ref,{$$typeof:r,type:l,key:u,ref:s!==void 0?s:null,props:o}}return aa.Fragment=e,aa.jsx=t,aa.jsxs=t,aa}var sy;function xE(){return sy||(sy=1,Gf.exports=SE()),Gf.exports}var $=xE(),Xf={exports:{}},$e={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ay;function CE(){if(ay)return $e;ay=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),y=Symbol.iterator;function b(L){return L===null||typeof L!="object"?null:(L=y&&L[y]||L["@@iterator"],typeof L=="function"?L:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,S={};function C(L,J,le){this.props=L,this.context=J,this.refs=S,this.updater=le||_}C.prototype.isReactComponent={},C.prototype.setState=function(L,J){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,J,"setState")},C.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function w(){}w.prototype=C.prototype;function x(L,J,le){this.props=L,this.context=J,this.refs=S,this.updater=le||_}var E=x.prototype=new w;E.constructor=x,v(E,C.prototype),E.isPureReactComponent=!0;var N=Array.isArray,A={H:null,A:null,T:null,S:null,V:null},O=Object.prototype.hasOwnProperty;function R(L,J,le,ge,he,Ce){return le=Ce.ref,{$$typeof:r,type:L,key:J,ref:le!==void 0?le:null,props:Ce}}function D(L,J){return R(L.type,J,void 0,void 0,void 0,L.props)}function M(L){return typeof L=="object"&&L!==null&&L.$$typeof===r}function B(L){var J={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(le){return J[le]})}var H=/\/+/g;function q(L,J){return typeof L=="object"&&L!==null&&L.key!=null?B(""+L.key):J.toString(36)}function Y(){}function Z(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(Y,Y):(L.status="pending",L.then(function(J){L.status==="pending"&&(L.status="fulfilled",L.value=J)},function(J){L.status==="pending"&&(L.status="rejected",L.reason=J)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function ie(L,J,le,ge,he){var Ce=typeof L;(Ce==="undefined"||Ce==="boolean")&&(L=null);var me=!1;if(L===null)me=!0;else switch(Ce){case"bigint":case"string":case"number":me=!0;break;case"object":switch(L.$$typeof){case r:case e:me=!0;break;case h:return me=L._init,ie(me(L._payload),J,le,ge,he)}}if(me)return he=he(L),me=ge===""?"."+q(L,0):ge,N(he)?(le="",me!=null&&(le=me.replace(H,"$&/")+"/"),ie(he,J,le,"",function(ze){return ze})):he!=null&&(M(he)&&(he=D(he,le+(he.key==null||L&&L.key===he.key?"":(""+he.key).replace(H,"$&/")+"/")+me)),J.push(he)),1;me=0;var pe=ge===""?".":ge+":";if(N(L))for(var be=0;be<L.length;be++)ge=L[be],Ce=pe+q(ge,be),me+=ie(ge,J,le,Ce,he);else if(be=b(L),typeof be=="function")for(L=be.call(L),be=0;!(ge=L.next()).done;)ge=ge.value,Ce=pe+q(ge,be++),me+=ie(ge,J,le,Ce,he);else if(Ce==="object"){if(typeof L.then=="function")return ie(Z(L),J,le,ge,he);throw J=String(L),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return me}function U(L,J,le){if(L==null)return L;var ge=[],he=0;return ie(L,ge,"","",function(Ce){return J.call(le,Ce,he++)}),ge}function G(L){if(L._status===-1){var J=L._result;J=J(),J.then(function(le){(L._status===0||L._status===-1)&&(L._status=1,L._result=le)},function(le){(L._status===0||L._status===-1)&&(L._status=2,L._result=le)}),L._status===-1&&(L._status=0,L._result=J)}if(L._status===1)return L._result.default;throw L._result}var K=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)};function ne(){}return $e.Children={map:U,forEach:function(L,J,le){U(L,function(){J.apply(this,arguments)},le)},count:function(L){var J=0;return U(L,function(){J++}),J},toArray:function(L){return U(L,function(J){return J})||[]},only:function(L){if(!M(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},$e.Component=C,$e.Fragment=t,$e.Profiler=s,$e.PureComponent=x,$e.StrictMode=l,$e.Suspense=d,$e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A,$e.__COMPILER_RUNTIME={__proto__:null,c:function(L){return A.H.useMemoCache(L)}},$e.cache=function(L){return function(){return L.apply(null,arguments)}},$e.cloneElement=function(L,J,le){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var ge=v({},L.props),he=L.key,Ce=void 0;if(J!=null)for(me in J.ref!==void 0&&(Ce=void 0),J.key!==void 0&&(he=""+J.key),J)!O.call(J,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&J.ref===void 0||(ge[me]=J[me]);var me=arguments.length-2;if(me===1)ge.children=le;else if(1<me){for(var pe=Array(me),be=0;be<me;be++)pe[be]=arguments[be+2];ge.children=pe}return R(L.type,he,void 0,void 0,Ce,ge)},$e.createContext=function(L){return L={$$typeof:u,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:o,_context:L},L},$e.createElement=function(L,J,le){var ge,he={},Ce=null;if(J!=null)for(ge in J.key!==void 0&&(Ce=""+J.key),J)O.call(J,ge)&&ge!=="key"&&ge!=="__self"&&ge!=="__source"&&(he[ge]=J[ge]);var me=arguments.length-2;if(me===1)he.children=le;else if(1<me){for(var pe=Array(me),be=0;be<me;be++)pe[be]=arguments[be+2];he.children=pe}if(L&&L.defaultProps)for(ge in me=L.defaultProps,me)he[ge]===void 0&&(he[ge]=me[ge]);return R(L,Ce,void 0,void 0,null,he)},$e.createRef=function(){return{current:null}},$e.forwardRef=function(L){return{$$typeof:f,render:L}},$e.isValidElement=M,$e.lazy=function(L){return{$$typeof:h,_payload:{_status:-1,_result:L},_init:G}},$e.memo=function(L,J){return{$$typeof:g,type:L,compare:J===void 0?null:J}},$e.startTransition=function(L){var J=A.T,le={};A.T=le;try{var ge=L(),he=A.S;he!==null&&he(le,ge),typeof ge=="object"&&ge!==null&&typeof ge.then=="function"&&ge.then(ne,K)}catch(Ce){K(Ce)}finally{A.T=J}},$e.unstable_useCacheRefresh=function(){return A.H.useCacheRefresh()},$e.use=function(L){return A.H.use(L)},$e.useActionState=function(L,J,le){return A.H.useActionState(L,J,le)},$e.useCallback=function(L,J){return A.H.useCallback(L,J)},$e.useContext=function(L){return A.H.useContext(L)},$e.useDebugValue=function(){},$e.useDeferredValue=function(L,J){return A.H.useDeferredValue(L,J)},$e.useEffect=function(L,J,le){var ge=A.H;if(typeof le=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ge.useEffect(L,J)},$e.useId=function(){return A.H.useId()},$e.useImperativeHandle=function(L,J,le){return A.H.useImperativeHandle(L,J,le)},$e.useInsertionEffect=function(L,J){return A.H.useInsertionEffect(L,J)},$e.useLayoutEffect=function(L,J){return A.H.useLayoutEffect(L,J)},$e.useMemo=function(L,J){return A.H.useMemo(L,J)},$e.useOptimistic=function(L,J){return A.H.useOptimistic(L,J)},$e.useReducer=function(L,J,le){return A.H.useReducer(L,J,le)},$e.useRef=function(L){return A.H.useRef(L)},$e.useState=function(L){return A.H.useState(L)},$e.useSyncExternalStore=function(L,J,le){return A.H.useSyncExternalStore(L,J,le)},$e.useTransition=function(){return A.H.useTransition()},$e.version="19.1.0",$e}var oy;function Zf(){return oy||(oy=1,Xf.exports=CE()),Xf.exports}var z=Zf();const Wf=ni(z);var Qf={exports:{}},oa={},Jf={exports:{}},ed={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uy;function EE(){return uy||(uy=1,function(r){function e(U,G){var K=U.length;U.push(G);e:for(;0<K;){var ne=K-1>>>1,L=U[ne];if(0<s(L,G))U[ne]=G,U[K]=L,K=ne;else break e}}function t(U){return U.length===0?null:U[0]}function l(U){if(U.length===0)return null;var G=U[0],K=U.pop();if(K!==G){U[0]=K;e:for(var ne=0,L=U.length,J=L>>>1;ne<J;){var le=2*(ne+1)-1,ge=U[le],he=le+1,Ce=U[he];if(0>s(ge,K))he<L&&0>s(Ce,ge)?(U[ne]=Ce,U[he]=K,ne=he):(U[ne]=ge,U[le]=K,ne=le);else if(he<L&&0>s(Ce,K))U[ne]=Ce,U[he]=K,ne=he;else break e}}return G}function s(U,G){var K=U.sortIndex-G.sortIndex;return K!==0?K:U.id-G.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;r.unstable_now=function(){return o.now()}}else{var u=Date,f=u.now();r.unstable_now=function(){return u.now()-f}}var d=[],g=[],h=1,y=null,b=3,_=!1,v=!1,S=!1,C=!1,w=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function N(U){for(var G=t(g);G!==null;){if(G.callback===null)l(g);else if(G.startTime<=U)l(g),G.sortIndex=G.expirationTime,e(d,G);else break;G=t(g)}}function A(U){if(S=!1,N(U),!v)if(t(d)!==null)v=!0,O||(O=!0,q());else{var G=t(g);G!==null&&ie(A,G.startTime-U)}}var O=!1,R=-1,D=5,M=-1;function B(){return C?!0:!(r.unstable_now()-M<D)}function H(){if(C=!1,O){var U=r.unstable_now();M=U;var G=!0;try{e:{v=!1,S&&(S=!1,x(R),R=-1),_=!0;var K=b;try{t:{for(N(U),y=t(d);y!==null&&!(y.expirationTime>U&&B());){var ne=y.callback;if(typeof ne=="function"){y.callback=null,b=y.priorityLevel;var L=ne(y.expirationTime<=U);if(U=r.unstable_now(),typeof L=="function"){y.callback=L,N(U),G=!0;break t}y===t(d)&&l(d),N(U)}else l(d);y=t(d)}if(y!==null)G=!0;else{var J=t(g);J!==null&&ie(A,J.startTime-U),G=!1}}break e}finally{y=null,b=K,_=!1}G=void 0}}finally{G?q():O=!1}}}var q;if(typeof E=="function")q=function(){E(H)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,Z=Y.port2;Y.port1.onmessage=H,q=function(){Z.postMessage(null)}}else q=function(){w(H,0)};function ie(U,G){R=w(function(){U(r.unstable_now())},G)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(U){U.callback=null},r.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<U?Math.floor(1e3/U):5},r.unstable_getCurrentPriorityLevel=function(){return b},r.unstable_next=function(U){switch(b){case 1:case 2:case 3:var G=3;break;default:G=b}var K=b;b=G;try{return U()}finally{b=K}},r.unstable_requestPaint=function(){C=!0},r.unstable_runWithPriority=function(U,G){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var K=b;b=U;try{return G()}finally{b=K}},r.unstable_scheduleCallback=function(U,G,K){var ne=r.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?ne+K:ne):K=ne,U){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=K+L,U={id:h++,callback:G,priorityLevel:U,startTime:K,expirationTime:L,sortIndex:-1},K>ne?(U.sortIndex=K,e(g,U),t(d)===null&&U===t(g)&&(S?(x(R),R=-1):S=!0,ie(A,K-ne))):(U.sortIndex=L,e(d,U),v||_||(v=!0,O||(O=!0,q()))),U},r.unstable_shouldYield=B,r.unstable_wrapCallback=function(U){var G=b;return function(){var K=b;b=G;try{return U.apply(this,arguments)}finally{b=K}}}}(ed)),ed}var cy;function wE(){return cy||(cy=1,Jf.exports=EE()),Jf.exports}var td={exports:{}},Yt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fy;function TE(){if(fy)return Yt;fy=1;var r=Zf();function e(d){var g="https://react.dev/errors/"+d;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)g+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+d+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var l={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(d,g,h){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:y==null?null:""+y,children:d,containerInfo:g,implementation:h}}var u=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(d,g){if(d==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Yt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,Yt.createPortal=function(d,g){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return o(d,g,null,h)},Yt.flushSync=function(d){var g=u.T,h=l.p;try{if(u.T=null,l.p=2,d)return d()}finally{u.T=g,l.p=h,l.d.f()}},Yt.preconnect=function(d,g){typeof d=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,l.d.C(d,g))},Yt.prefetchDNS=function(d){typeof d=="string"&&l.d.D(d)},Yt.preinit=function(d,g){if(typeof d=="string"&&g&&typeof g.as=="string"){var h=g.as,y=f(h,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,_=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;h==="style"?l.d.S(d,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:y,integrity:b,fetchPriority:_}):h==="script"&&l.d.X(d,{crossOrigin:y,integrity:b,fetchPriority:_,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Yt.preinitModule=function(d,g){if(typeof d=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var h=f(g.as,g.crossOrigin);l.d.M(d,{crossOrigin:h,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&l.d.M(d)},Yt.preload=function(d,g){if(typeof d=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var h=g.as,y=f(h,g.crossOrigin);l.d.L(d,h,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Yt.preloadModule=function(d,g){if(typeof d=="string")if(g){var h=f(g.as,g.crossOrigin);l.d.m(d,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:h,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else l.d.m(d)},Yt.requestFormReset=function(d){l.d.r(d)},Yt.unstable_batchedUpdates=function(d,g){return d(g)},Yt.useFormState=function(d,g,h){return u.H.useFormState(d,g,h)},Yt.useFormStatus=function(){return u.H.useHostTransitionStatus()},Yt.version="19.1.0",Yt}var dy;function gy(){if(dy)return td.exports;dy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),td.exports=TE(),td.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hy;function NE(){if(hy)return oa;hy=1;var r=wE(),e=Zf(),t=gy();function l(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function o(n){var i=n,a=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(a=i.return),n=i.return;while(n)}return i.tag===3?a:null}function u(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function f(n){if(o(n)!==n)throw Error(l(188))}function d(n){var i=n.alternate;if(!i){if(i=o(n),i===null)throw Error(l(188));return i!==n?null:n}for(var a=n,c=i;;){var p=a.return;if(p===null)break;var m=p.alternate;if(m===null){if(c=p.return,c!==null){a=c;continue}break}if(p.child===m.child){for(m=p.child;m;){if(m===a)return f(p),n;if(m===c)return f(p),i;m=m.sibling}throw Error(l(188))}if(a.return!==c.return)a=p,c=m;else{for(var T=!1,k=p.child;k;){if(k===a){T=!0,a=p,c=m;break}if(k===c){T=!0,c=p,a=m;break}k=k.sibling}if(!T){for(k=m.child;k;){if(k===a){T=!0,a=m,c=p;break}if(k===c){T=!0,c=m,a=p;break}k=k.sibling}if(!T)throw Error(l(189))}}if(a.alternate!==c)throw Error(l(190))}if(a.tag!==3)throw Error(l(188));return a.stateNode.current===a?n:i}function g(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=g(n),i!==null)return i;n=n.sibling}return null}var h=Object.assign,y=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),w=Symbol.for("react.provider"),x=Symbol.for("react.consumer"),E=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),H=Symbol.iterator;function q(n){return n===null||typeof n!="object"?null:(n=H&&n[H]||n["@@iterator"],typeof n=="function"?n:null)}var Y=Symbol.for("react.client.reference");function Z(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===Y?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case v:return"Fragment";case C:return"Profiler";case S:return"StrictMode";case A:return"Suspense";case O:return"SuspenseList";case M:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case _:return"Portal";case E:return(n.displayName||"Context")+".Provider";case x:return(n._context.displayName||"Context")+".Consumer";case N:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case R:return i=n.displayName||null,i!==null?i:Z(n.type)||"Memo";case D:i=n._payload,n=n._init;try{return Z(n(i))}catch{}}return null}var ie=Array.isArray,U=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K={pending:!1,data:null,method:null,action:null},ne=[],L=-1;function J(n){return{current:n}}function le(n){0>L||(n.current=ne[L],ne[L]=null,L--)}function ge(n,i){L++,ne[L]=n.current,n.current=i}var he=J(null),Ce=J(null),me=J(null),pe=J(null);function be(n,i){switch(ge(me,i),ge(Ce,n),ge(he,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?U1(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=U1(i),n=j1(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}le(he),ge(he,n)}function ze(){le(he),le(Ce),le(me)}function Ye(n){n.memoizedState!==null&&ge(pe,n);var i=he.current,a=j1(i,n.type);i!==a&&(ge(Ce,n),ge(he,a))}function re(n){Ce.current===n&&(le(he),le(Ce)),pe.current===n&&(le(pe),Qo._currentValue=K)}var ue=Object.prototype.hasOwnProperty,fe=r.unstable_scheduleCallback,Se=r.unstable_cancelCallback,xe=r.unstable_shouldYield,Je=r.unstable_requestPaint,Ve=r.unstable_now,Wt=r.unstable_getCurrentPriorityLevel,sn=r.unstable_ImmediatePriority,an=r.unstable_UserBlockingPriority,on=r.unstable_NormalPriority,Sl=r.unstable_LowPriority,Ss=r.unstable_IdlePriority,xl=r.log,cM=r.unstable_setDisableYieldValue,lo=null,Nn=null;function wi(n){if(typeof xl=="function"&&cM(n),Nn&&typeof Nn.setStrictMode=="function")try{Nn.setStrictMode(lo,n)}catch{}}var An=Math.clz32?Math.clz32:gM,fM=Math.log,dM=Math.LN2;function gM(n){return n>>>=0,n===0?32:31-(fM(n)/dM|0)|0}var Lc=256,zc=4194304;function Cl(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function $c(n,i,a){var c=n.pendingLanes;if(c===0)return 0;var p=0,m=n.suspendedLanes,T=n.pingedLanes;n=n.warmLanes;var k=c&134217727;return k!==0?(c=k&~m,c!==0?p=Cl(c):(T&=k,T!==0?p=Cl(T):a||(a=k&~n,a!==0&&(p=Cl(a))))):(k=c&~m,k!==0?p=Cl(k):T!==0?p=Cl(T):a||(a=c&~n,a!==0&&(p=Cl(a)))),p===0?0:i!==0&&i!==p&&(i&m)===0&&(m=p&-p,a=i&-i,m>=a||m===32&&(a&4194048)!==0)?i:p}function so(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function hM(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xS(){var n=Lc;return Lc<<=1,(Lc&4194048)===0&&(Lc=256),n}function CS(){var n=zc;return zc<<=1,(zc&62914560)===0&&(zc=4194304),n}function Gh(n){for(var i=[],a=0;31>a;a++)i.push(n);return i}function ao(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function pM(n,i,a,c,p,m){var T=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var k=n.entanglements,F=n.expirationTimes,Q=n.hiddenUpdates;for(a=T&~a;0<a;){var se=31-An(a),ce=1<<se;k[se]=0,F[se]=-1;var ee=Q[se];if(ee!==null)for(Q[se]=null,se=0;se<ee.length;se++){var te=ee[se];te!==null&&(te.lane&=-536870913)}a&=~ce}c!==0&&ES(n,c,0),m!==0&&p===0&&n.tag!==0&&(n.suspendedLanes|=m&~(T&~i))}function ES(n,i,a){n.pendingLanes|=i,n.suspendedLanes&=~i;var c=31-An(i);n.entangledLanes|=i,n.entanglements[c]=n.entanglements[c]|1073741824|a&4194090}function wS(n,i){var a=n.entangledLanes|=i;for(n=n.entanglements;a;){var c=31-An(a),p=1<<c;p&i|n[c]&i&&(n[c]|=i),a&=~p}}function Xh(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Zh(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function TS(){var n=G.p;return n!==0?n:(n=window.event,n===void 0?32:lE(n.type))}function mM(n,i){var a=G.p;try{return G.p=n,i()}finally{G.p=a}}var Ti=Math.random().toString(36).slice(2),Qt="__reactFiber$"+Ti,bn="__reactProps$"+Ti,xs="__reactContainer$"+Ti,Wh="__reactEvents$"+Ti,yM="__reactListeners$"+Ti,bM="__reactHandles$"+Ti,NS="__reactResources$"+Ti,oo="__reactMarker$"+Ti;function Qh(n){delete n[Qt],delete n[bn],delete n[Wh],delete n[yM],delete n[bM]}function Cs(n){var i=n[Qt];if(i)return i;for(var a=n.parentNode;a;){if(i=a[xs]||a[Qt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(n=I1(n);n!==null;){if(a=n[Qt])return a;n=I1(n)}return i}n=a,a=n.parentNode}return null}function Es(n){if(n=n[Qt]||n[xs]){var i=n.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return n}return null}function uo(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(l(33))}function ws(n){var i=n[NS];return i||(i=n[NS]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Lt(n){n[oo]=!0}var AS=new Set,OS={};function El(n,i){Ts(n,i),Ts(n+"Capture",i)}function Ts(n,i){for(OS[n]=i,n=0;n<i.length;n++)AS.add(i[n])}var vM=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),RS={},kS={};function _M(n){return ue.call(kS,n)?!0:ue.call(RS,n)?!1:vM.test(n)?kS[n]=!0:(RS[n]=!0,!1)}function Fc(n,i,a){if(_M(i))if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var c=i.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+a)}}function Bc(n,i,a){if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+a)}}function Hr(n,i,a,c){if(c===null)n.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(i,a,""+c)}}var Jh,MS;function Ns(n){if(Jh===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Jh=i&&i[1]||"",MS=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Jh+n+MS}var ep=!1;function tp(n,i){if(!n||ep)return"";ep=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(i){var ce=function(){throw Error()};if(Object.defineProperty(ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ce,[])}catch(te){var ee=te}Reflect.construct(n,[],ce)}else{try{ce.call()}catch(te){ee=te}n.call(ce.prototype)}}else{try{throw Error()}catch(te){ee=te}(ce=n())&&typeof ce.catch=="function"&&ce.catch(function(){})}}catch(te){if(te&&ee&&typeof te.stack=="string")return[te.stack,ee.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=c.DetermineComponentFrameRoot(),T=m[0],k=m[1];if(T&&k){var F=T.split(`
`),Q=k.split(`
`);for(p=c=0;c<F.length&&!F[c].includes("DetermineComponentFrameRoot");)c++;for(;p<Q.length&&!Q[p].includes("DetermineComponentFrameRoot");)p++;if(c===F.length||p===Q.length)for(c=F.length-1,p=Q.length-1;1<=c&&0<=p&&F[c]!==Q[p];)p--;for(;1<=c&&0<=p;c--,p--)if(F[c]!==Q[p]){if(c!==1||p!==1)do if(c--,p--,0>p||F[c]!==Q[p]){var se=`
`+F[c].replace(" at new "," at ");return n.displayName&&se.includes("<anonymous>")&&(se=se.replace("<anonymous>",n.displayName)),se}while(1<=c&&0<=p);break}}}finally{ep=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?Ns(a):""}function SM(n){switch(n.tag){case 26:case 27:case 5:return Ns(n.type);case 16:return Ns("Lazy");case 13:return Ns("Suspense");case 19:return Ns("SuspenseList");case 0:case 15:return tp(n.type,!1);case 11:return tp(n.type.render,!1);case 1:return tp(n.type,!0);case 31:return Ns("Activity");default:return""}}function DS(n){try{var i="";do i+=SM(n),n=n.return;while(n);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Kn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function LS(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function xM(n){var i=LS(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),c=""+n[i];if(!n.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var p=a.get,m=a.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return p.call(this)},set:function(T){c=""+T,m.call(this,T)}}),Object.defineProperty(n,i,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(T){c=""+T},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function Uc(n){n._valueTracker||(n._valueTracker=xM(n))}function zS(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var a=i.getValue(),c="";return n&&(c=LS(n)?n.checked?"true":"false":n.value),n=c,n!==a?(i.setValue(n),!0):!1}function jc(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var CM=/[\n"\\]/g;function Pn(n){return n.replace(CM,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function np(n,i,a,c,p,m,T,k){n.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?n.type=T:n.removeAttribute("type"),i!=null?T==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+Kn(i)):n.value!==""+Kn(i)&&(n.value=""+Kn(i)):T!=="submit"&&T!=="reset"||n.removeAttribute("value"),i!=null?rp(n,T,Kn(i)):a!=null?rp(n,T,Kn(a)):c!=null&&n.removeAttribute("value"),p==null&&m!=null&&(n.defaultChecked=!!m),p!=null&&(n.checked=p&&typeof p!="function"&&typeof p!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?n.name=""+Kn(k):n.removeAttribute("name")}function $S(n,i,a,c,p,m,T,k){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(n.type=m),i!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||i!=null))return;a=a!=null?""+Kn(a):"",i=i!=null?""+Kn(i):a,k||i===n.value||(n.value=i),n.defaultValue=i}c=c??p,c=typeof c!="function"&&typeof c!="symbol"&&!!c,n.checked=k?n.checked:!!c,n.defaultChecked=!!c,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(n.name=T)}function rp(n,i,a){i==="number"&&jc(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function As(n,i,a,c){if(n=n.options,i){i={};for(var p=0;p<a.length;p++)i["$"+a[p]]=!0;for(a=0;a<n.length;a++)p=i.hasOwnProperty("$"+n[a].value),n[a].selected!==p&&(n[a].selected=p),p&&c&&(n[a].defaultSelected=!0)}else{for(a=""+Kn(a),i=null,p=0;p<n.length;p++){if(n[p].value===a){n[p].selected=!0,c&&(n[p].defaultSelected=!0);return}i!==null||n[p].disabled||(i=n[p])}i!==null&&(i.selected=!0)}}function FS(n,i,a){if(i!=null&&(i=""+Kn(i),i!==n.value&&(n.value=i),a==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=a!=null?""+Kn(a):""}function BS(n,i,a,c){if(i==null){if(c!=null){if(a!=null)throw Error(l(92));if(ie(c)){if(1<c.length)throw Error(l(93));c=c[0]}a=c}a==null&&(a=""),i=a}a=Kn(i),n.defaultValue=a,c=n.textContent,c===a&&c!==""&&c!==null&&(n.value=c)}function Os(n,i){if(i){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=i;return}}n.textContent=i}var EM=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function US(n,i,a){var c=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?c?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":c?n.setProperty(i,a):typeof a!="number"||a===0||EM.has(i)?i==="float"?n.cssFloat=a:n[i]=(""+a).trim():n[i]=a+"px"}function jS(n,i,a){if(i!=null&&typeof i!="object")throw Error(l(62));if(n=n.style,a!=null){for(var c in a)!a.hasOwnProperty(c)||i!=null&&i.hasOwnProperty(c)||(c.indexOf("--")===0?n.setProperty(c,""):c==="float"?n.cssFloat="":n[c]="");for(var p in i)c=i[p],i.hasOwnProperty(p)&&a[p]!==c&&US(n,p,c)}else for(var m in i)i.hasOwnProperty(m)&&US(n,m,i[m])}function ip(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wM=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),TM=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Hc(n){return TM.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var lp=null;function sp(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Rs=null,ks=null;function HS(n){var i=Es(n);if(i&&(n=i.stateNode)){var a=n[bn]||null;e:switch(n=i.stateNode,i.type){case"input":if(np(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Pn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var c=a[i];if(c!==n&&c.form===n.form){var p=c[bn]||null;if(!p)throw Error(l(90));np(c,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(i=0;i<a.length;i++)c=a[i],c.form===n.form&&zS(c)}break e;case"textarea":FS(n,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&As(n,!!a.multiple,i,!1)}}}var ap=!1;function KS(n,i,a){if(ap)return n(i,a);ap=!0;try{var c=n(i);return c}finally{if(ap=!1,(Rs!==null||ks!==null)&&(Nf(),Rs&&(i=Rs,n=ks,ks=Rs=null,HS(i),n)))for(i=0;i<n.length;i++)HS(n[i])}}function co(n,i){var a=n.stateNode;if(a===null)return null;var c=a[bn]||null;if(c===null)return null;a=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(l(231,i,typeof a));return a}var Kr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),op=!1;if(Kr)try{var fo={};Object.defineProperty(fo,"passive",{get:function(){op=!0}}),window.addEventListener("test",fo,fo),window.removeEventListener("test",fo,fo)}catch{op=!1}var Ni=null,up=null,Kc=null;function PS(){if(Kc)return Kc;var n,i=up,a=i.length,c,p="value"in Ni?Ni.value:Ni.textContent,m=p.length;for(n=0;n<a&&i[n]===p[n];n++);var T=a-n;for(c=1;c<=T&&i[a-c]===p[m-c];c++);return Kc=p.slice(n,1<c?1-c:void 0)}function Pc(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function Ic(){return!0}function IS(){return!1}function vn(n){function i(a,c,p,m,T){this._reactName=a,this._targetInst=p,this.type=c,this.nativeEvent=m,this.target=T,this.currentTarget=null;for(var k in n)n.hasOwnProperty(k)&&(a=n[k],this[k]=a?a(m):m[k]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Ic:IS,this.isPropagationStopped=IS,this}return h(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ic)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ic)},persist:function(){},isPersistent:Ic}),i}var wl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qc=vn(wl),go=h({},wl,{view:0,detail:0}),NM=vn(go),cp,fp,ho,Yc=h({},go,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gp,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==ho&&(ho&&n.type==="mousemove"?(cp=n.screenX-ho.screenX,fp=n.screenY-ho.screenY):fp=cp=0,ho=n),cp)},movementY:function(n){return"movementY"in n?n.movementY:fp}}),qS=vn(Yc),AM=h({},Yc,{dataTransfer:0}),OM=vn(AM),RM=h({},go,{relatedTarget:0}),dp=vn(RM),kM=h({},wl,{animationName:0,elapsedTime:0,pseudoElement:0}),MM=vn(kM),DM=h({},wl,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),LM=vn(DM),zM=h({},wl,{data:0}),YS=vn(zM),$M={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},FM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},BM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function UM(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=BM[n])?!!i[n]:!1}function gp(){return UM}var jM=h({},go,{key:function(n){if(n.key){var i=$M[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=Pc(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?FM[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gp,charCode:function(n){return n.type==="keypress"?Pc(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Pc(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),HM=vn(jM),KM=h({},Yc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),VS=vn(KM),PM=h({},go,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gp}),IM=vn(PM),qM=h({},wl,{propertyName:0,elapsedTime:0,pseudoElement:0}),YM=vn(qM),VM=h({},Yc,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),GM=vn(VM),XM=h({},wl,{newState:0,oldState:0}),ZM=vn(XM),WM=[9,13,27,32],hp=Kr&&"CompositionEvent"in window,po=null;Kr&&"documentMode"in document&&(po=document.documentMode);var QM=Kr&&"TextEvent"in window&&!po,GS=Kr&&(!hp||po&&8<po&&11>=po),XS=" ",ZS=!1;function WS(n,i){switch(n){case"keyup":return WM.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function QS(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ms=!1;function JM(n,i){switch(n){case"compositionend":return QS(i);case"keypress":return i.which!==32?null:(ZS=!0,XS);case"textInput":return n=i.data,n===XS&&ZS?null:n;default:return null}}function eD(n,i){if(Ms)return n==="compositionend"||!hp&&WS(n,i)?(n=PS(),Kc=up=Ni=null,Ms=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return GS&&i.locale!=="ko"?null:i.data;default:return null}}var tD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function JS(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!tD[n.type]:i==="textarea"}function ex(n,i,a,c){Rs?ks?ks.push(c):ks=[c]:Rs=c,i=Df(i,"onChange"),0<i.length&&(a=new qc("onChange","change",null,a,c),n.push({event:a,listeners:i}))}var mo=null,yo=null;function nD(n){L1(n,0)}function Vc(n){var i=uo(n);if(zS(i))return n}function tx(n,i){if(n==="change")return i}var nx=!1;if(Kr){var pp;if(Kr){var mp="oninput"in document;if(!mp){var rx=document.createElement("div");rx.setAttribute("oninput","return;"),mp=typeof rx.oninput=="function"}pp=mp}else pp=!1;nx=pp&&(!document.documentMode||9<document.documentMode)}function ix(){mo&&(mo.detachEvent("onpropertychange",lx),yo=mo=null)}function lx(n){if(n.propertyName==="value"&&Vc(yo)){var i=[];ex(i,yo,n,sp(n)),KS(nD,i)}}function rD(n,i,a){n==="focusin"?(ix(),mo=i,yo=a,mo.attachEvent("onpropertychange",lx)):n==="focusout"&&ix()}function iD(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Vc(yo)}function lD(n,i){if(n==="click")return Vc(i)}function sD(n,i){if(n==="input"||n==="change")return Vc(i)}function aD(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var On=typeof Object.is=="function"?Object.is:aD;function bo(n,i){if(On(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var a=Object.keys(n),c=Object.keys(i);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var p=a[c];if(!ue.call(i,p)||!On(n[p],i[p]))return!1}return!0}function sx(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function ax(n,i){var a=sx(n);n=0;for(var c;a;){if(a.nodeType===3){if(c=n+a.textContent.length,n<=i&&c>=i)return{node:a,offset:i-n};n=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=sx(a)}}function ox(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?ox(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function ux(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=jc(n.document);i instanceof n.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)n=i.contentWindow;else break;i=jc(n.document)}return i}function yp(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var oD=Kr&&"documentMode"in document&&11>=document.documentMode,Ds=null,bp=null,vo=null,vp=!1;function cx(n,i,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;vp||Ds==null||Ds!==jc(c)||(c=Ds,"selectionStart"in c&&yp(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),vo&&bo(vo,c)||(vo=c,c=Df(bp,"onSelect"),0<c.length&&(i=new qc("onSelect","select",null,i,a),n.push({event:i,listeners:c}),i.target=Ds)))}function Tl(n,i){var a={};return a[n.toLowerCase()]=i.toLowerCase(),a["Webkit"+n]="webkit"+i,a["Moz"+n]="moz"+i,a}var Ls={animationend:Tl("Animation","AnimationEnd"),animationiteration:Tl("Animation","AnimationIteration"),animationstart:Tl("Animation","AnimationStart"),transitionrun:Tl("Transition","TransitionRun"),transitionstart:Tl("Transition","TransitionStart"),transitioncancel:Tl("Transition","TransitionCancel"),transitionend:Tl("Transition","TransitionEnd")},_p={},fx={};Kr&&(fx=document.createElement("div").style,"AnimationEvent"in window||(delete Ls.animationend.animation,delete Ls.animationiteration.animation,delete Ls.animationstart.animation),"TransitionEvent"in window||delete Ls.transitionend.transition);function Nl(n){if(_p[n])return _p[n];if(!Ls[n])return n;var i=Ls[n],a;for(a in i)if(i.hasOwnProperty(a)&&a in fx)return _p[n]=i[a];return n}var dx=Nl("animationend"),gx=Nl("animationiteration"),hx=Nl("animationstart"),uD=Nl("transitionrun"),cD=Nl("transitionstart"),fD=Nl("transitioncancel"),px=Nl("transitionend"),mx=new Map,Sp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Sp.push("scrollEnd");function cr(n,i){mx.set(n,i),El(i,[n])}var yx=new WeakMap;function In(n,i){if(typeof n=="object"&&n!==null){var a=yx.get(n);return a!==void 0?a:(i={value:n,source:i,stack:DS(i)},yx.set(n,i),i)}return{value:n,source:i,stack:DS(i)}}var qn=[],zs=0,xp=0;function Gc(){for(var n=zs,i=xp=zs=0;i<n;){var a=qn[i];qn[i++]=null;var c=qn[i];qn[i++]=null;var p=qn[i];qn[i++]=null;var m=qn[i];if(qn[i++]=null,c!==null&&p!==null){var T=c.pending;T===null?p.next=p:(p.next=T.next,T.next=p),c.pending=p}m!==0&&bx(a,p,m)}}function Xc(n,i,a,c){qn[zs++]=n,qn[zs++]=i,qn[zs++]=a,qn[zs++]=c,xp|=c,n.lanes|=c,n=n.alternate,n!==null&&(n.lanes|=c)}function Cp(n,i,a,c){return Xc(n,i,a,c),Zc(n)}function $s(n,i){return Xc(n,null,null,i),Zc(n)}function bx(n,i,a){n.lanes|=a;var c=n.alternate;c!==null&&(c.lanes|=a);for(var p=!1,m=n.return;m!==null;)m.childLanes|=a,c=m.alternate,c!==null&&(c.childLanes|=a),m.tag===22&&(n=m.stateNode,n===null||n._visibility&1||(p=!0)),n=m,m=m.return;return n.tag===3?(m=n.stateNode,p&&i!==null&&(p=31-An(a),n=m.hiddenUpdates,c=n[p],c===null?n[p]=[i]:c.push(i),i.lane=a|536870912),m):null}function Zc(n){if(50<Io)throw Io=0,Om=null,Error(l(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var Fs={};function dD(n,i,a,c){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(n,i,a,c){return new dD(n,i,a,c)}function Ep(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Pr(n,i){var a=n.alternate;return a===null?(a=Rn(n.tag,i,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=i,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,i=n.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function vx(n,i){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,i=a.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function Wc(n,i,a,c,p,m){var T=0;if(c=n,typeof n=="function")Ep(n)&&(T=1);else if(typeof n=="string")T=h2(n,a,he.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case M:return n=Rn(31,a,i,p),n.elementType=M,n.lanes=m,n;case v:return Al(a.children,p,m,i);case S:T=8,p|=24;break;case C:return n=Rn(12,a,i,p|2),n.elementType=C,n.lanes=m,n;case A:return n=Rn(13,a,i,p),n.elementType=A,n.lanes=m,n;case O:return n=Rn(19,a,i,p),n.elementType=O,n.lanes=m,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case w:case E:T=10;break e;case x:T=9;break e;case N:T=11;break e;case R:T=14;break e;case D:T=16,c=null;break e}T=29,a=Error(l(130,n===null?"null":typeof n,"")),c=null}return i=Rn(T,a,i,p),i.elementType=n,i.type=c,i.lanes=m,i}function Al(n,i,a,c){return n=Rn(7,n,c,i),n.lanes=a,n}function wp(n,i,a){return n=Rn(6,n,null,i),n.lanes=a,n}function Tp(n,i,a){return i=Rn(4,n.children!==null?n.children:[],n.key,i),i.lanes=a,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var Bs=[],Us=0,Qc=null,Jc=0,Yn=[],Vn=0,Ol=null,Ir=1,qr="";function Rl(n,i){Bs[Us++]=Jc,Bs[Us++]=Qc,Qc=n,Jc=i}function _x(n,i,a){Yn[Vn++]=Ir,Yn[Vn++]=qr,Yn[Vn++]=Ol,Ol=n;var c=Ir;n=qr;var p=32-An(c)-1;c&=~(1<<p),a+=1;var m=32-An(i)+p;if(30<m){var T=p-p%5;m=(c&(1<<T)-1).toString(32),c>>=T,p-=T,Ir=1<<32-An(i)+p|a<<p|c,qr=m+n}else Ir=1<<m|a<<p|c,qr=n}function Np(n){n.return!==null&&(Rl(n,1),_x(n,1,0))}function Ap(n){for(;n===Qc;)Qc=Bs[--Us],Bs[Us]=null,Jc=Bs[--Us],Bs[Us]=null;for(;n===Ol;)Ol=Yn[--Vn],Yn[Vn]=null,qr=Yn[--Vn],Yn[Vn]=null,Ir=Yn[--Vn],Yn[Vn]=null}var un=null,vt=null,Qe=!1,kl=null,Er=!1,Op=Error(l(519));function Ml(n){var i=Error(l(418,""));throw xo(In(i,n)),Op}function Sx(n){var i=n.stateNode,a=n.type,c=n.memoizedProps;switch(i[Qt]=n,i[bn]=c,a){case"dialog":Ie("cancel",i),Ie("close",i);break;case"iframe":case"object":case"embed":Ie("load",i);break;case"video":case"audio":for(a=0;a<Yo.length;a++)Ie(Yo[a],i);break;case"source":Ie("error",i);break;case"img":case"image":case"link":Ie("error",i),Ie("load",i);break;case"details":Ie("toggle",i);break;case"input":Ie("invalid",i),$S(i,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),Uc(i);break;case"select":Ie("invalid",i);break;case"textarea":Ie("invalid",i),BS(i,c.value,c.defaultValue,c.children),Uc(i)}a=c.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||c.suppressHydrationWarning===!0||B1(i.textContent,a)?(c.popover!=null&&(Ie("beforetoggle",i),Ie("toggle",i)),c.onScroll!=null&&Ie("scroll",i),c.onScrollEnd!=null&&Ie("scrollend",i),c.onClick!=null&&(i.onclick=Lf),i=!0):i=!1,i||Ml(n)}function xx(n){for(un=n.return;un;)switch(un.tag){case 5:case 13:Er=!1;return;case 27:case 3:Er=!0;return;default:un=un.return}}function _o(n){if(n!==un)return!1;if(!Qe)return xx(n),Qe=!0,!1;var i=n.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||qm(n.type,n.memoizedProps)),a=!a),a&&vt&&Ml(n),xx(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(l(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(i===0){vt=dr(n.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;n=n.nextSibling}vt=null}}else i===27?(i=vt,Pi(n.type)?(n=Xm,Xm=null,vt=n):vt=i):vt=un?dr(n.stateNode.nextSibling):null;return!0}function So(){vt=un=null,Qe=!1}function Cx(){var n=kl;return n!==null&&(xn===null?xn=n:xn.push.apply(xn,n),kl=null),n}function xo(n){kl===null?kl=[n]:kl.push(n)}var Rp=J(null),Dl=null,Yr=null;function Ai(n,i,a){ge(Rp,i._currentValue),i._currentValue=a}function Vr(n){n._currentValue=Rp.current,le(Rp)}function kp(n,i,a){for(;n!==null;){var c=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),n===a)break;n=n.return}}function Mp(n,i,a,c){var p=n.child;for(p!==null&&(p.return=n);p!==null;){var m=p.dependencies;if(m!==null){var T=p.child;m=m.firstContext;e:for(;m!==null;){var k=m;m=p;for(var F=0;F<i.length;F++)if(k.context===i[F]){m.lanes|=a,k=m.alternate,k!==null&&(k.lanes|=a),kp(m.return,a,n),c||(T=null);break e}m=k.next}}else if(p.tag===18){if(T=p.return,T===null)throw Error(l(341));T.lanes|=a,m=T.alternate,m!==null&&(m.lanes|=a),kp(T,a,n),T=null}else T=p.child;if(T!==null)T.return=p;else for(T=p;T!==null;){if(T===n){T=null;break}if(p=T.sibling,p!==null){p.return=T.return,T=p;break}T=T.return}p=T}}function Co(n,i,a,c){n=null;for(var p=i,m=!1;p!==null;){if(!m){if((p.flags&524288)!==0)m=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var T=p.alternate;if(T===null)throw Error(l(387));if(T=T.memoizedProps,T!==null){var k=p.type;On(p.pendingProps.value,T.value)||(n!==null?n.push(k):n=[k])}}else if(p===pe.current){if(T=p.alternate,T===null)throw Error(l(387));T.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(n!==null?n.push(Qo):n=[Qo])}p=p.return}n!==null&&Mp(i,n,a,c),i.flags|=262144}function ef(n){for(n=n.firstContext;n!==null;){if(!On(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Ll(n){Dl=n,Yr=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Jt(n){return Ex(Dl,n)}function tf(n,i){return Dl===null&&Ll(n),Ex(n,i)}function Ex(n,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Yr===null){if(n===null)throw Error(l(308));Yr=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else Yr=Yr.next=i;return a}var gD=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(a,c){n.push(c)}};this.abort=function(){i.aborted=!0,n.forEach(function(a){return a()})}},hD=r.unstable_scheduleCallback,pD=r.unstable_NormalPriority,Rt={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Dp(){return{controller:new gD,data:new Map,refCount:0}}function Eo(n){n.refCount--,n.refCount===0&&hD(pD,function(){n.controller.abort()})}var wo=null,Lp=0,js=0,Hs=null;function mD(n,i){if(wo===null){var a=wo=[];Lp=0,js=$m(),Hs={status:"pending",value:void 0,then:function(c){a.push(c)}}}return Lp++,i.then(wx,wx),i}function wx(){if(--Lp===0&&wo!==null){Hs!==null&&(Hs.status="fulfilled");var n=wo;wo=null,js=0,Hs=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function yD(n,i){var a=[],c={status:"pending",value:null,reason:null,then:function(p){a.push(p)}};return n.then(function(){c.status="fulfilled",c.value=i;for(var p=0;p<a.length;p++)(0,a[p])(i)},function(p){for(c.status="rejected",c.reason=p,p=0;p<a.length;p++)(0,a[p])(void 0)}),c}var Tx=U.S;U.S=function(n,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&mD(n,i),Tx!==null&&Tx(n,i)};var zl=J(null);function zp(){var n=zl.current;return n!==null?n:gt.pooledCache}function nf(n,i){i===null?ge(zl,zl.current):ge(zl,i.pool)}function Nx(){var n=zp();return n===null?null:{parent:Rt._currentValue,pool:n}}var To=Error(l(460)),Ax=Error(l(474)),rf=Error(l(542)),$p={then:function(){}};function Ox(n){return n=n.status,n==="fulfilled"||n==="rejected"}function lf(){}function Rx(n,i,a){switch(a=n[a],a===void 0?n.push(i):a!==i&&(i.then(lf,lf),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,Mx(n),n;default:if(typeof i.status=="string")i.then(lf,lf);else{if(n=gt,n!==null&&100<n.shellSuspendCounter)throw Error(l(482));n=i,n.status="pending",n.then(function(c){if(i.status==="pending"){var p=i;p.status="fulfilled",p.value=c}},function(c){if(i.status==="pending"){var p=i;p.status="rejected",p.reason=c}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,Mx(n),n}throw No=i,To}}var No=null;function kx(){if(No===null)throw Error(l(459));var n=No;return No=null,n}function Mx(n){if(n===To||n===rf)throw Error(l(483))}var Oi=!1;function Fp(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Bp(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Ri(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function ki(n,i,a){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,(nt&2)!==0){var p=c.pending;return p===null?i.next=i:(i.next=p.next,p.next=i),c.pending=i,i=Zc(n),bx(n,null,a),i}return Xc(n,c,i,a),Zc(n)}function Ao(n,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var c=i.lanes;c&=n.pendingLanes,a|=c,i.lanes=a,wS(n,a)}}function Up(n,i){var a=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var p=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var T={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?p=m=T:m=m.next=T,a=a.next}while(a!==null);m===null?p=m=i:m=m.next=i}else p=m=i;a={baseState:c.baseState,firstBaseUpdate:p,lastBaseUpdate:m,shared:c.shared,callbacks:c.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=i:n.next=i,a.lastBaseUpdate=i}var jp=!1;function Oo(){if(jp){var n=Hs;if(n!==null)throw n}}function Ro(n,i,a,c){jp=!1;var p=n.updateQueue;Oi=!1;var m=p.firstBaseUpdate,T=p.lastBaseUpdate,k=p.shared.pending;if(k!==null){p.shared.pending=null;var F=k,Q=F.next;F.next=null,T===null?m=Q:T.next=Q,T=F;var se=n.alternate;se!==null&&(se=se.updateQueue,k=se.lastBaseUpdate,k!==T&&(k===null?se.firstBaseUpdate=Q:k.next=Q,se.lastBaseUpdate=F))}if(m!==null){var ce=p.baseState;T=0,se=Q=F=null,k=m;do{var ee=k.lane&-536870913,te=ee!==k.lane;if(te?(Ge&ee)===ee:(c&ee)===ee){ee!==0&&ee===js&&(jp=!0),se!==null&&(se=se.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});e:{var Re=n,Ne=k;ee=i;var ot=a;switch(Ne.tag){case 1:if(Re=Ne.payload,typeof Re=="function"){ce=Re.call(ot,ce,ee);break e}ce=Re;break e;case 3:Re.flags=Re.flags&-65537|128;case 0:if(Re=Ne.payload,ee=typeof Re=="function"?Re.call(ot,ce,ee):Re,ee==null)break e;ce=h({},ce,ee);break e;case 2:Oi=!0}}ee=k.callback,ee!==null&&(n.flags|=64,te&&(n.flags|=8192),te=p.callbacks,te===null?p.callbacks=[ee]:te.push(ee))}else te={lane:ee,tag:k.tag,payload:k.payload,callback:k.callback,next:null},se===null?(Q=se=te,F=ce):se=se.next=te,T|=ee;if(k=k.next,k===null){if(k=p.shared.pending,k===null)break;te=k,k=te.next,te.next=null,p.lastBaseUpdate=te,p.shared.pending=null}}while(!0);se===null&&(F=ce),p.baseState=F,p.firstBaseUpdate=Q,p.lastBaseUpdate=se,m===null&&(p.shared.lanes=0),Ui|=T,n.lanes=T,n.memoizedState=ce}}function Dx(n,i){if(typeof n!="function")throw Error(l(191,n));n.call(i)}function Lx(n,i){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)Dx(a[n],i)}var Ks=J(null),sf=J(0);function zx(n,i){n=ei,ge(sf,n),ge(Ks,i),ei=n|i.baseLanes}function Hp(){ge(sf,ei),ge(Ks,Ks.current)}function Kp(){ei=sf.current,le(Ks),le(sf)}var Mi=0,Ue=null,st=null,Nt=null,af=!1,Ps=!1,$l=!1,of=0,ko=0,Is=null,bD=0;function Et(){throw Error(l(321))}function Pp(n,i){if(i===null)return!1;for(var a=0;a<i.length&&a<n.length;a++)if(!On(n[a],i[a]))return!1;return!0}function Ip(n,i,a,c,p,m){return Mi=m,Ue=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,U.H=n===null||n.memoizedState===null?bC:vC,$l=!1,m=a(c,p),$l=!1,Ps&&(m=Fx(i,a,c,p)),$x(n),m}function $x(n){U.H=hf;var i=st!==null&&st.next!==null;if(Mi=0,Nt=st=Ue=null,af=!1,ko=0,Is=null,i)throw Error(l(300));n===null||zt||(n=n.dependencies,n!==null&&ef(n)&&(zt=!0))}function Fx(n,i,a,c){Ue=n;var p=0;do{if(Ps&&(Is=null),ko=0,Ps=!1,25<=p)throw Error(l(301));if(p+=1,Nt=st=null,n.updateQueue!=null){var m=n.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}U.H=wD,m=i(a,c)}while(Ps);return m}function vD(){var n=U.H,i=n.useState()[0];return i=typeof i.then=="function"?Mo(i):i,n=n.useState()[0],(st!==null?st.memoizedState:null)!==n&&(Ue.flags|=1024),i}function qp(){var n=of!==0;return of=0,n}function Yp(n,i,a){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~a}function Vp(n){if(af){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}af=!1}Mi=0,Nt=st=Ue=null,Ps=!1,ko=of=0,Is=null}function _n(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nt===null?Ue.memoizedState=Nt=n:Nt=Nt.next=n,Nt}function At(){if(st===null){var n=Ue.alternate;n=n!==null?n.memoizedState:null}else n=st.next;var i=Nt===null?Ue.memoizedState:Nt.next;if(i!==null)Nt=i,st=n;else{if(n===null)throw Ue.alternate===null?Error(l(467)):Error(l(310));st=n,n={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},Nt===null?Ue.memoizedState=Nt=n:Nt=Nt.next=n}return Nt}function Gp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Mo(n){var i=ko;return ko+=1,Is===null&&(Is=[]),n=Rx(Is,n,i),i=Ue,(Nt===null?i.memoizedState:Nt.next)===null&&(i=i.alternate,U.H=i===null||i.memoizedState===null?bC:vC),n}function uf(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Mo(n);if(n.$$typeof===E)return Jt(n)}throw Error(l(438,String(n)))}function Xp(n){var i=null,a=Ue.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var c=Ue.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(i={data:c.data.map(function(p){return p.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Gp(),Ue.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(n),c=0;c<n;c++)a[c]=B;return i.index++,a}function Gr(n,i){return typeof i=="function"?i(n):i}function cf(n){var i=At();return Zp(i,st,n)}function Zp(n,i,a){var c=n.queue;if(c===null)throw Error(l(311));c.lastRenderedReducer=a;var p=n.baseQueue,m=c.pending;if(m!==null){if(p!==null){var T=p.next;p.next=m.next,m.next=T}i.baseQueue=p=m,c.pending=null}if(m=n.baseState,p===null)n.memoizedState=m;else{i=p.next;var k=T=null,F=null,Q=i,se=!1;do{var ce=Q.lane&-536870913;if(ce!==Q.lane?(Ge&ce)===ce:(Mi&ce)===ce){var ee=Q.revertLane;if(ee===0)F!==null&&(F=F.next={lane:0,revertLane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),ce===js&&(se=!0);else if((Mi&ee)===ee){Q=Q.next,ee===js&&(se=!0);continue}else ce={lane:0,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},F===null?(k=F=ce,T=m):F=F.next=ce,Ue.lanes|=ee,Ui|=ee;ce=Q.action,$l&&a(m,ce),m=Q.hasEagerState?Q.eagerState:a(m,ce)}else ee={lane:ce,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},F===null?(k=F=ee,T=m):F=F.next=ee,Ue.lanes|=ce,Ui|=ce;Q=Q.next}while(Q!==null&&Q!==i);if(F===null?T=m:F.next=k,!On(m,n.memoizedState)&&(zt=!0,se&&(a=Hs,a!==null)))throw a;n.memoizedState=m,n.baseState=T,n.baseQueue=F,c.lastRenderedState=m}return p===null&&(c.lanes=0),[n.memoizedState,c.dispatch]}function Wp(n){var i=At(),a=i.queue;if(a===null)throw Error(l(311));a.lastRenderedReducer=n;var c=a.dispatch,p=a.pending,m=i.memoizedState;if(p!==null){a.pending=null;var T=p=p.next;do m=n(m,T.action),T=T.next;while(T!==p);On(m,i.memoizedState)||(zt=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),a.lastRenderedState=m}return[m,c]}function Bx(n,i,a){var c=Ue,p=At(),m=Qe;if(m){if(a===void 0)throw Error(l(407));a=a()}else a=i();var T=!On((st||p).memoizedState,a);T&&(p.memoizedState=a,zt=!0),p=p.queue;var k=Hx.bind(null,c,p,n);if(Do(2048,8,k,[n]),p.getSnapshot!==i||T||Nt!==null&&Nt.memoizedState.tag&1){if(c.flags|=2048,qs(9,ff(),jx.bind(null,c,p,a,i),null),gt===null)throw Error(l(349));m||(Mi&124)!==0||Ux(c,i,a)}return a}function Ux(n,i,a){n.flags|=16384,n={getSnapshot:i,value:a},i=Ue.updateQueue,i===null?(i=Gp(),Ue.updateQueue=i,i.stores=[n]):(a=i.stores,a===null?i.stores=[n]:a.push(n))}function jx(n,i,a,c){i.value=a,i.getSnapshot=c,Kx(i)&&Px(n)}function Hx(n,i,a){return a(function(){Kx(i)&&Px(n)})}function Kx(n){var i=n.getSnapshot;n=n.value;try{var a=i();return!On(n,a)}catch{return!0}}function Px(n){var i=$s(n,2);i!==null&&zn(i,n,2)}function Qp(n){var i=_n();if(typeof n=="function"){var a=n;if(n=a(),$l){wi(!0);try{a()}finally{wi(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gr,lastRenderedState:n},i}function Ix(n,i,a,c){return n.baseState=a,Zp(n,st,typeof c=="function"?c:Gr)}function _D(n,i,a,c,p){if(gf(n))throw Error(l(485));if(n=i.action,n!==null){var m={payload:p,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){m.listeners.push(T)}};U.T!==null?a(!0):m.isTransition=!1,c(m),a=i.pending,a===null?(m.next=i.pending=m,qx(i,m)):(m.next=a.next,i.pending=a.next=m)}}function qx(n,i){var a=i.action,c=i.payload,p=n.state;if(i.isTransition){var m=U.T,T={};U.T=T;try{var k=a(p,c),F=U.S;F!==null&&F(T,k),Yx(n,i,k)}catch(Q){Jp(n,i,Q)}finally{U.T=m}}else try{m=a(p,c),Yx(n,i,m)}catch(Q){Jp(n,i,Q)}}function Yx(n,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(c){Vx(n,i,c)},function(c){return Jp(n,i,c)}):Vx(n,i,a)}function Vx(n,i,a){i.status="fulfilled",i.value=a,Gx(i),n.state=a,i=n.pending,i!==null&&(a=i.next,a===i?n.pending=null:(a=a.next,i.next=a,qx(n,a)))}function Jp(n,i,a){var c=n.pending;if(n.pending=null,c!==null){c=c.next;do i.status="rejected",i.reason=a,Gx(i),i=i.next;while(i!==c)}n.action=null}function Gx(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function Xx(n,i){return i}function Zx(n,i){if(Qe){var a=gt.formState;if(a!==null){e:{var c=Ue;if(Qe){if(vt){t:{for(var p=vt,m=Er;p.nodeType!==8;){if(!m){p=null;break t}if(p=dr(p.nextSibling),p===null){p=null;break t}}m=p.data,p=m==="F!"||m==="F"?p:null}if(p){vt=dr(p.nextSibling),c=p.data==="F!";break e}}Ml(c)}c=!1}c&&(i=a[0])}}return a=_n(),a.memoizedState=a.baseState=i,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xx,lastRenderedState:i},a.queue=c,a=pC.bind(null,Ue,c),c.dispatch=a,c=Qp(!1),m=im.bind(null,Ue,!1,c.queue),c=_n(),p={state:i,dispatch:null,action:n,pending:null},c.queue=p,a=_D.bind(null,Ue,p,m,a),p.dispatch=a,c.memoizedState=n,[i,a,!1]}function Wx(n){var i=At();return Qx(i,st,n)}function Qx(n,i,a){if(i=Zp(n,i,Xx)[0],n=cf(Gr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var c=Mo(i)}catch(T){throw T===To?rf:T}else c=i;i=At();var p=i.queue,m=p.dispatch;return a!==i.memoizedState&&(Ue.flags|=2048,qs(9,ff(),SD.bind(null,p,a),null)),[c,m,n]}function SD(n,i){n.action=i}function Jx(n){var i=At(),a=st;if(a!==null)return Qx(i,a,n);At(),i=i.memoizedState,a=At();var c=a.queue.dispatch;return a.memoizedState=n,[i,c,!1]}function qs(n,i,a,c){return n={tag:n,create:a,deps:c,inst:i,next:null},i=Ue.updateQueue,i===null&&(i=Gp(),Ue.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=n.next=n:(c=a.next,a.next=n,n.next=c,i.lastEffect=n),n}function ff(){return{destroy:void 0,resource:void 0}}function eC(){return At().memoizedState}function df(n,i,a,c){var p=_n();c=c===void 0?null:c,Ue.flags|=n,p.memoizedState=qs(1|i,ff(),a,c)}function Do(n,i,a,c){var p=At();c=c===void 0?null:c;var m=p.memoizedState.inst;st!==null&&c!==null&&Pp(c,st.memoizedState.deps)?p.memoizedState=qs(i,m,a,c):(Ue.flags|=n,p.memoizedState=qs(1|i,m,a,c))}function tC(n,i){df(8390656,8,n,i)}function nC(n,i){Do(2048,8,n,i)}function rC(n,i){return Do(4,2,n,i)}function iC(n,i){return Do(4,4,n,i)}function lC(n,i){if(typeof i=="function"){n=n();var a=i(n);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function sC(n,i,a){a=a!=null?a.concat([n]):null,Do(4,4,lC.bind(null,i,n),a)}function em(){}function aC(n,i){var a=At();i=i===void 0?null:i;var c=a.memoizedState;return i!==null&&Pp(i,c[1])?c[0]:(a.memoizedState=[n,i],n)}function oC(n,i){var a=At();i=i===void 0?null:i;var c=a.memoizedState;if(i!==null&&Pp(i,c[1]))return c[0];if(c=n(),$l){wi(!0);try{n()}finally{wi(!1)}}return a.memoizedState=[c,i],c}function tm(n,i,a){return a===void 0||(Mi&1073741824)!==0?n.memoizedState=i:(n.memoizedState=a,n=f1(),Ue.lanes|=n,Ui|=n,a)}function uC(n,i,a,c){return On(a,i)?a:Ks.current!==null?(n=tm(n,a,c),On(n,i)||(zt=!0),n):(Mi&42)===0?(zt=!0,n.memoizedState=a):(n=f1(),Ue.lanes|=n,Ui|=n,i)}function cC(n,i,a,c,p){var m=G.p;G.p=m!==0&&8>m?m:8;var T=U.T,k={};U.T=k,im(n,!1,i,a);try{var F=p(),Q=U.S;if(Q!==null&&Q(k,F),F!==null&&typeof F=="object"&&typeof F.then=="function"){var se=yD(F,c);Lo(n,i,se,Ln(n))}else Lo(n,i,c,Ln(n))}catch(ce){Lo(n,i,{then:function(){},status:"rejected",reason:ce},Ln())}finally{G.p=m,U.T=T}}function xD(){}function nm(n,i,a,c){if(n.tag!==5)throw Error(l(476));var p=fC(n).queue;cC(n,p,i,K,a===null?xD:function(){return dC(n),a(c)})}function fC(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:K,baseState:K,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gr,lastRenderedState:K},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gr,lastRenderedState:a},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function dC(n){var i=fC(n).next.queue;Lo(n,i,{},Ln())}function rm(){return Jt(Qo)}function gC(){return At().memoizedState}function hC(){return At().memoizedState}function CD(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var a=Ln();n=Ri(a);var c=ki(i,n,a);c!==null&&(zn(c,i,a),Ao(c,i,a)),i={cache:Dp()},n.payload=i;return}i=i.return}}function ED(n,i,a){var c=Ln();a={lane:c,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},gf(n)?mC(i,a):(a=Cp(n,i,a,c),a!==null&&(zn(a,n,c),yC(a,i,c)))}function pC(n,i,a){var c=Ln();Lo(n,i,a,c)}function Lo(n,i,a,c){var p={lane:c,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(gf(n))mC(i,p);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var T=i.lastRenderedState,k=m(T,a);if(p.hasEagerState=!0,p.eagerState=k,On(k,T))return Xc(n,i,p,0),gt===null&&Gc(),!1}catch{}finally{}if(a=Cp(n,i,p,c),a!==null)return zn(a,n,c),yC(a,i,c),!0}return!1}function im(n,i,a,c){if(c={lane:2,revertLane:$m(),action:c,hasEagerState:!1,eagerState:null,next:null},gf(n)){if(i)throw Error(l(479))}else i=Cp(n,a,c,2),i!==null&&zn(i,n,2)}function gf(n){var i=n.alternate;return n===Ue||i!==null&&i===Ue}function mC(n,i){Ps=af=!0;var a=n.pending;a===null?i.next=i:(i.next=a.next,a.next=i),n.pending=i}function yC(n,i,a){if((a&4194048)!==0){var c=i.lanes;c&=n.pendingLanes,a|=c,i.lanes=a,wS(n,a)}}var hf={readContext:Jt,use:uf,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useLayoutEffect:Et,useInsertionEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useSyncExternalStore:Et,useId:Et,useHostTransitionStatus:Et,useFormState:Et,useActionState:Et,useOptimistic:Et,useMemoCache:Et,useCacheRefresh:Et},bC={readContext:Jt,use:uf,useCallback:function(n,i){return _n().memoizedState=[n,i===void 0?null:i],n},useContext:Jt,useEffect:tC,useImperativeHandle:function(n,i,a){a=a!=null?a.concat([n]):null,df(4194308,4,lC.bind(null,i,n),a)},useLayoutEffect:function(n,i){return df(4194308,4,n,i)},useInsertionEffect:function(n,i){df(4,2,n,i)},useMemo:function(n,i){var a=_n();i=i===void 0?null:i;var c=n();if($l){wi(!0);try{n()}finally{wi(!1)}}return a.memoizedState=[c,i],c},useReducer:function(n,i,a){var c=_n();if(a!==void 0){var p=a(i);if($l){wi(!0);try{a(i)}finally{wi(!1)}}}else p=i;return c.memoizedState=c.baseState=p,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:p},c.queue=n,n=n.dispatch=ED.bind(null,Ue,n),[c.memoizedState,n]},useRef:function(n){var i=_n();return n={current:n},i.memoizedState=n},useState:function(n){n=Qp(n);var i=n.queue,a=pC.bind(null,Ue,i);return i.dispatch=a,[n.memoizedState,a]},useDebugValue:em,useDeferredValue:function(n,i){var a=_n();return tm(a,n,i)},useTransition:function(){var n=Qp(!1);return n=cC.bind(null,Ue,n.queue,!0,!1),_n().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,a){var c=Ue,p=_n();if(Qe){if(a===void 0)throw Error(l(407));a=a()}else{if(a=i(),gt===null)throw Error(l(349));(Ge&124)!==0||Ux(c,i,a)}p.memoizedState=a;var m={value:a,getSnapshot:i};return p.queue=m,tC(Hx.bind(null,c,m,n),[n]),c.flags|=2048,qs(9,ff(),jx.bind(null,c,m,a,i),null),a},useId:function(){var n=_n(),i=gt.identifierPrefix;if(Qe){var a=qr,c=Ir;a=(c&~(1<<32-An(c)-1)).toString(32)+a,i=""+i+"R"+a,a=of++,0<a&&(i+="H"+a.toString(32)),i+=""}else a=bD++,i=""+i+"r"+a.toString(32)+"";return n.memoizedState=i},useHostTransitionStatus:rm,useFormState:Zx,useActionState:Zx,useOptimistic:function(n){var i=_n();i.memoizedState=i.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=im.bind(null,Ue,!0,a),a.dispatch=i,[n,i]},useMemoCache:Xp,useCacheRefresh:function(){return _n().memoizedState=CD.bind(null,Ue)}},vC={readContext:Jt,use:uf,useCallback:aC,useContext:Jt,useEffect:nC,useImperativeHandle:sC,useInsertionEffect:rC,useLayoutEffect:iC,useMemo:oC,useReducer:cf,useRef:eC,useState:function(){return cf(Gr)},useDebugValue:em,useDeferredValue:function(n,i){var a=At();return uC(a,st.memoizedState,n,i)},useTransition:function(){var n=cf(Gr)[0],i=At().memoizedState;return[typeof n=="boolean"?n:Mo(n),i]},useSyncExternalStore:Bx,useId:gC,useHostTransitionStatus:rm,useFormState:Wx,useActionState:Wx,useOptimistic:function(n,i){var a=At();return Ix(a,st,n,i)},useMemoCache:Xp,useCacheRefresh:hC},wD={readContext:Jt,use:uf,useCallback:aC,useContext:Jt,useEffect:nC,useImperativeHandle:sC,useInsertionEffect:rC,useLayoutEffect:iC,useMemo:oC,useReducer:Wp,useRef:eC,useState:function(){return Wp(Gr)},useDebugValue:em,useDeferredValue:function(n,i){var a=At();return st===null?tm(a,n,i):uC(a,st.memoizedState,n,i)},useTransition:function(){var n=Wp(Gr)[0],i=At().memoizedState;return[typeof n=="boolean"?n:Mo(n),i]},useSyncExternalStore:Bx,useId:gC,useHostTransitionStatus:rm,useFormState:Jx,useActionState:Jx,useOptimistic:function(n,i){var a=At();return st!==null?Ix(a,st,n,i):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:Xp,useCacheRefresh:hC},Ys=null,zo=0;function pf(n){var i=zo;return zo+=1,Ys===null&&(Ys=[]),Rx(Ys,n,i)}function $o(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function mf(n,i){throw i.$$typeof===y?Error(l(525)):(n=Object.prototype.toString.call(i),Error(l(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function _C(n){var i=n._init;return i(n._payload)}function SC(n){function i(P,j){if(n){var V=P.deletions;V===null?(P.deletions=[j],P.flags|=16):V.push(j)}}function a(P,j){if(!n)return null;for(;j!==null;)i(P,j),j=j.sibling;return null}function c(P){for(var j=new Map;P!==null;)P.key!==null?j.set(P.key,P):j.set(P.index,P),P=P.sibling;return j}function p(P,j){return P=Pr(P,j),P.index=0,P.sibling=null,P}function m(P,j,V){return P.index=V,n?(V=P.alternate,V!==null?(V=V.index,V<j?(P.flags|=67108866,j):V):(P.flags|=67108866,j)):(P.flags|=1048576,j)}function T(P){return n&&P.alternate===null&&(P.flags|=67108866),P}function k(P,j,V,ae){return j===null||j.tag!==6?(j=wp(V,P.mode,ae),j.return=P,j):(j=p(j,V),j.return=P,j)}function F(P,j,V,ae){var ve=V.type;return ve===v?se(P,j,V.props.children,ae,V.key):j!==null&&(j.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===D&&_C(ve)===j.type)?(j=p(j,V.props),$o(j,V),j.return=P,j):(j=Wc(V.type,V.key,V.props,null,P.mode,ae),$o(j,V),j.return=P,j)}function Q(P,j,V,ae){return j===null||j.tag!==4||j.stateNode.containerInfo!==V.containerInfo||j.stateNode.implementation!==V.implementation?(j=Tp(V,P.mode,ae),j.return=P,j):(j=p(j,V.children||[]),j.return=P,j)}function se(P,j,V,ae,ve){return j===null||j.tag!==7?(j=Al(V,P.mode,ae,ve),j.return=P,j):(j=p(j,V),j.return=P,j)}function ce(P,j,V){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=wp(""+j,P.mode,V),j.return=P,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case b:return V=Wc(j.type,j.key,j.props,null,P.mode,V),$o(V,j),V.return=P,V;case _:return j=Tp(j,P.mode,V),j.return=P,j;case D:var ae=j._init;return j=ae(j._payload),ce(P,j,V)}if(ie(j)||q(j))return j=Al(j,P.mode,V,null),j.return=P,j;if(typeof j.then=="function")return ce(P,pf(j),V);if(j.$$typeof===E)return ce(P,tf(P,j),V);mf(P,j)}return null}function ee(P,j,V,ae){var ve=j!==null?j.key:null;if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return ve!==null?null:k(P,j,""+V,ae);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case b:return V.key===ve?F(P,j,V,ae):null;case _:return V.key===ve?Q(P,j,V,ae):null;case D:return ve=V._init,V=ve(V._payload),ee(P,j,V,ae)}if(ie(V)||q(V))return ve!==null?null:se(P,j,V,ae,null);if(typeof V.then=="function")return ee(P,j,pf(V),ae);if(V.$$typeof===E)return ee(P,j,tf(P,V),ae);mf(P,V)}return null}function te(P,j,V,ae,ve){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return P=P.get(V)||null,k(j,P,""+ae,ve);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case b:return P=P.get(ae.key===null?V:ae.key)||null,F(j,P,ae,ve);case _:return P=P.get(ae.key===null?V:ae.key)||null,Q(j,P,ae,ve);case D:var He=ae._init;return ae=He(ae._payload),te(P,j,V,ae,ve)}if(ie(ae)||q(ae))return P=P.get(V)||null,se(j,P,ae,ve,null);if(typeof ae.then=="function")return te(P,j,V,pf(ae),ve);if(ae.$$typeof===E)return te(P,j,V,tf(j,ae),ve);mf(j,ae)}return null}function Re(P,j,V,ae){for(var ve=null,He=null,we=j,Ae=j=0,Ft=null;we!==null&&Ae<V.length;Ae++){we.index>Ae?(Ft=we,we=null):Ft=we.sibling;var We=ee(P,we,V[Ae],ae);if(We===null){we===null&&(we=Ft);break}n&&we&&We.alternate===null&&i(P,we),j=m(We,j,Ae),He===null?ve=We:He.sibling=We,He=We,we=Ft}if(Ae===V.length)return a(P,we),Qe&&Rl(P,Ae),ve;if(we===null){for(;Ae<V.length;Ae++)we=ce(P,V[Ae],ae),we!==null&&(j=m(we,j,Ae),He===null?ve=we:He.sibling=we,He=we);return Qe&&Rl(P,Ae),ve}for(we=c(we);Ae<V.length;Ae++)Ft=te(we,P,Ae,V[Ae],ae),Ft!==null&&(n&&Ft.alternate!==null&&we.delete(Ft.key===null?Ae:Ft.key),j=m(Ft,j,Ae),He===null?ve=Ft:He.sibling=Ft,He=Ft);return n&&we.forEach(function(Gi){return i(P,Gi)}),Qe&&Rl(P,Ae),ve}function Ne(P,j,V,ae){if(V==null)throw Error(l(151));for(var ve=null,He=null,we=j,Ae=j=0,Ft=null,We=V.next();we!==null&&!We.done;Ae++,We=V.next()){we.index>Ae?(Ft=we,we=null):Ft=we.sibling;var Gi=ee(P,we,We.value,ae);if(Gi===null){we===null&&(we=Ft);break}n&&we&&Gi.alternate===null&&i(P,we),j=m(Gi,j,Ae),He===null?ve=Gi:He.sibling=Gi,He=Gi,we=Ft}if(We.done)return a(P,we),Qe&&Rl(P,Ae),ve;if(we===null){for(;!We.done;Ae++,We=V.next())We=ce(P,We.value,ae),We!==null&&(j=m(We,j,Ae),He===null?ve=We:He.sibling=We,He=We);return Qe&&Rl(P,Ae),ve}for(we=c(we);!We.done;Ae++,We=V.next())We=te(we,P,Ae,We.value,ae),We!==null&&(n&&We.alternate!==null&&we.delete(We.key===null?Ae:We.key),j=m(We,j,Ae),He===null?ve=We:He.sibling=We,He=We);return n&&we.forEach(function(T2){return i(P,T2)}),Qe&&Rl(P,Ae),ve}function ot(P,j,V,ae){if(typeof V=="object"&&V!==null&&V.type===v&&V.key===null&&(V=V.props.children),typeof V=="object"&&V!==null){switch(V.$$typeof){case b:e:{for(var ve=V.key;j!==null;){if(j.key===ve){if(ve=V.type,ve===v){if(j.tag===7){a(P,j.sibling),ae=p(j,V.props.children),ae.return=P,P=ae;break e}}else if(j.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===D&&_C(ve)===j.type){a(P,j.sibling),ae=p(j,V.props),$o(ae,V),ae.return=P,P=ae;break e}a(P,j);break}else i(P,j);j=j.sibling}V.type===v?(ae=Al(V.props.children,P.mode,ae,V.key),ae.return=P,P=ae):(ae=Wc(V.type,V.key,V.props,null,P.mode,ae),$o(ae,V),ae.return=P,P=ae)}return T(P);case _:e:{for(ve=V.key;j!==null;){if(j.key===ve)if(j.tag===4&&j.stateNode.containerInfo===V.containerInfo&&j.stateNode.implementation===V.implementation){a(P,j.sibling),ae=p(j,V.children||[]),ae.return=P,P=ae;break e}else{a(P,j);break}else i(P,j);j=j.sibling}ae=Tp(V,P.mode,ae),ae.return=P,P=ae}return T(P);case D:return ve=V._init,V=ve(V._payload),ot(P,j,V,ae)}if(ie(V))return Re(P,j,V,ae);if(q(V)){if(ve=q(V),typeof ve!="function")throw Error(l(150));return V=ve.call(V),Ne(P,j,V,ae)}if(typeof V.then=="function")return ot(P,j,pf(V),ae);if(V.$$typeof===E)return ot(P,j,tf(P,V),ae);mf(P,V)}return typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint"?(V=""+V,j!==null&&j.tag===6?(a(P,j.sibling),ae=p(j,V),ae.return=P,P=ae):(a(P,j),ae=wp(V,P.mode,ae),ae.return=P,P=ae),T(P)):a(P,j)}return function(P,j,V,ae){try{zo=0;var ve=ot(P,j,V,ae);return Ys=null,ve}catch(we){if(we===To||we===rf)throw we;var He=Rn(29,we,null,P.mode);return He.lanes=ae,He.return=P,He}finally{}}}var Vs=SC(!0),xC=SC(!1),Gn=J(null),wr=null;function Di(n){var i=n.alternate;ge(kt,kt.current&1),ge(Gn,n),wr===null&&(i===null||Ks.current!==null||i.memoizedState!==null)&&(wr=n)}function CC(n){if(n.tag===22){if(ge(kt,kt.current),ge(Gn,n),wr===null){var i=n.alternate;i!==null&&i.memoizedState!==null&&(wr=n)}}else Li()}function Li(){ge(kt,kt.current),ge(Gn,Gn.current)}function Xr(n){le(Gn),wr===n&&(wr=null),le(kt)}var kt=J(0);function yf(n){for(var i=n;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Gm(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function lm(n,i,a,c){i=n.memoizedState,a=a(c,i),a=a==null?i:h({},i,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var sm={enqueueSetState:function(n,i,a){n=n._reactInternals;var c=Ln(),p=Ri(c);p.payload=i,a!=null&&(p.callback=a),i=ki(n,p,c),i!==null&&(zn(i,n,c),Ao(i,n,c))},enqueueReplaceState:function(n,i,a){n=n._reactInternals;var c=Ln(),p=Ri(c);p.tag=1,p.payload=i,a!=null&&(p.callback=a),i=ki(n,p,c),i!==null&&(zn(i,n,c),Ao(i,n,c))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var a=Ln(),c=Ri(a);c.tag=2,i!=null&&(c.callback=i),i=ki(n,c,a),i!==null&&(zn(i,n,a),Ao(i,n,a))}};function EC(n,i,a,c,p,m,T){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,m,T):i.prototype&&i.prototype.isPureReactComponent?!bo(a,c)||!bo(p,m):!0}function wC(n,i,a,c){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,c),i.state!==n&&sm.enqueueReplaceState(i,i.state,null)}function Fl(n,i){var a=i;if("ref"in i){a={};for(var c in i)c!=="ref"&&(a[c]=i[c])}if(n=n.defaultProps){a===i&&(a=h({},a));for(var p in n)a[p]===void 0&&(a[p]=n[p])}return a}var bf=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function TC(n){bf(n)}function NC(n){console.error(n)}function AC(n){bf(n)}function vf(n,i){try{var a=n.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(c){setTimeout(function(){throw c})}}function OC(n,i,a){try{var c=n.onCaughtError;c(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function am(n,i,a){return a=Ri(a),a.tag=3,a.payload={element:null},a.callback=function(){vf(n,i)},a}function RC(n){return n=Ri(n),n.tag=3,n}function kC(n,i,a,c){var p=a.type.getDerivedStateFromError;if(typeof p=="function"){var m=c.value;n.payload=function(){return p(m)},n.callback=function(){OC(i,a,c)}}var T=a.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(n.callback=function(){OC(i,a,c),typeof p!="function"&&(ji===null?ji=new Set([this]):ji.add(this));var k=c.stack;this.componentDidCatch(c.value,{componentStack:k!==null?k:""})})}function TD(n,i,a,c,p){if(a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(i=a.alternate,i!==null&&Co(i,a,p,!0),a=Gn.current,a!==null){switch(a.tag){case 13:return wr===null?km():a.alternate===null&&_t===0&&(_t=3),a.flags&=-257,a.flags|=65536,a.lanes=p,c===$p?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([c]):i.add(c),Dm(n,c,p)),!1;case 22:return a.flags|=65536,c===$p?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([c])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([c]):a.add(c)),Dm(n,c,p)),!1}throw Error(l(435,a.tag))}return Dm(n,c,p),km(),!1}if(Qe)return i=Gn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=p,c!==Op&&(n=Error(l(422),{cause:c}),xo(In(n,a)))):(c!==Op&&(i=Error(l(423),{cause:c}),xo(In(i,a))),n=n.current.alternate,n.flags|=65536,p&=-p,n.lanes|=p,c=In(c,a),p=am(n.stateNode,c,p),Up(n,p),_t!==4&&(_t=2)),!1;var m=Error(l(520),{cause:c});if(m=In(m,a),Po===null?Po=[m]:Po.push(m),_t!==4&&(_t=2),i===null)return!0;c=In(c,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,n=p&-p,a.lanes|=n,n=am(a.stateNode,c,n),Up(a,n),!1;case 1:if(i=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(ji===null||!ji.has(m))))return a.flags|=65536,p&=-p,a.lanes|=p,p=RC(p),kC(p,n,a,c),Up(a,p),!1}a=a.return}while(a!==null);return!1}var MC=Error(l(461)),zt=!1;function Kt(n,i,a,c){i.child=n===null?xC(i,null,a,c):Vs(i,n.child,a,c)}function DC(n,i,a,c,p){a=a.render;var m=i.ref;if("ref"in c){var T={};for(var k in c)k!=="ref"&&(T[k]=c[k])}else T=c;return Ll(i),c=Ip(n,i,a,T,m,p),k=qp(),n!==null&&!zt?(Yp(n,i,p),Zr(n,i,p)):(Qe&&k&&Np(i),i.flags|=1,Kt(n,i,c,p),i.child)}function LC(n,i,a,c,p){if(n===null){var m=a.type;return typeof m=="function"&&!Ep(m)&&m.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=m,zC(n,i,m,c,p)):(n=Wc(a.type,null,c,i,i.mode,p),n.ref=i.ref,n.return=i,i.child=n)}if(m=n.child,!pm(n,p)){var T=m.memoizedProps;if(a=a.compare,a=a!==null?a:bo,a(T,c)&&n.ref===i.ref)return Zr(n,i,p)}return i.flags|=1,n=Pr(m,c),n.ref=i.ref,n.return=i,i.child=n}function zC(n,i,a,c,p){if(n!==null){var m=n.memoizedProps;if(bo(m,c)&&n.ref===i.ref)if(zt=!1,i.pendingProps=c=m,pm(n,p))(n.flags&131072)!==0&&(zt=!0);else return i.lanes=n.lanes,Zr(n,i,p)}return om(n,i,a,c,p)}function $C(n,i,a){var c=i.pendingProps,p=c.children,m=n!==null?n.memoizedState:null;if(c.mode==="hidden"){if((i.flags&128)!==0){if(c=m!==null?m.baseLanes|a:a,n!==null){for(p=i.child=n.child,m=0;p!==null;)m=m|p.lanes|p.childLanes,p=p.sibling;i.childLanes=m&~c}else i.childLanes=0,i.child=null;return FC(n,i,c,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&nf(i,m!==null?m.cachePool:null),m!==null?zx(i,m):Hp(),CC(i);else return i.lanes=i.childLanes=536870912,FC(n,i,m!==null?m.baseLanes|a:a,a)}else m!==null?(nf(i,m.cachePool),zx(i,m),Li(),i.memoizedState=null):(n!==null&&nf(i,null),Hp(),Li());return Kt(n,i,p,a),i.child}function FC(n,i,a,c){var p=zp();return p=p===null?null:{parent:Rt._currentValue,pool:p},i.memoizedState={baseLanes:a,cachePool:p},n!==null&&nf(i,null),Hp(),CC(i),n!==null&&Co(n,i,c,!0),null}function _f(n,i){var a=i.ref;if(a===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(l(284));(n===null||n.ref!==a)&&(i.flags|=4194816)}}function om(n,i,a,c,p){return Ll(i),a=Ip(n,i,a,c,void 0,p),c=qp(),n!==null&&!zt?(Yp(n,i,p),Zr(n,i,p)):(Qe&&c&&Np(i),i.flags|=1,Kt(n,i,a,p),i.child)}function BC(n,i,a,c,p,m){return Ll(i),i.updateQueue=null,a=Fx(i,c,a,p),$x(n),c=qp(),n!==null&&!zt?(Yp(n,i,m),Zr(n,i,m)):(Qe&&c&&Np(i),i.flags|=1,Kt(n,i,a,m),i.child)}function UC(n,i,a,c,p){if(Ll(i),i.stateNode===null){var m=Fs,T=a.contextType;typeof T=="object"&&T!==null&&(m=Jt(T)),m=new a(c,m),i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=sm,i.stateNode=m,m._reactInternals=i,m=i.stateNode,m.props=c,m.state=i.memoizedState,m.refs={},Fp(i),T=a.contextType,m.context=typeof T=="object"&&T!==null?Jt(T):Fs,m.state=i.memoizedState,T=a.getDerivedStateFromProps,typeof T=="function"&&(lm(i,a,T,c),m.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(T=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),T!==m.state&&sm.enqueueReplaceState(m,m.state,null),Ro(i,c,m,p),Oo(),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308),c=!0}else if(n===null){m=i.stateNode;var k=i.memoizedProps,F=Fl(a,k);m.props=F;var Q=m.context,se=a.contextType;T=Fs,typeof se=="object"&&se!==null&&(T=Jt(se));var ce=a.getDerivedStateFromProps;se=typeof ce=="function"||typeof m.getSnapshotBeforeUpdate=="function",k=i.pendingProps!==k,se||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(k||Q!==T)&&wC(i,m,c,T),Oi=!1;var ee=i.memoizedState;m.state=ee,Ro(i,c,m,p),Oo(),Q=i.memoizedState,k||ee!==Q||Oi?(typeof ce=="function"&&(lm(i,a,ce,c),Q=i.memoizedState),(F=Oi||EC(i,a,F,c,ee,Q,T))?(se||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(i.flags|=4194308)):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=Q),m.props=c,m.state=Q,m.context=T,c=F):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{m=i.stateNode,Bp(n,i),T=i.memoizedProps,se=Fl(a,T),m.props=se,ce=i.pendingProps,ee=m.context,Q=a.contextType,F=Fs,typeof Q=="object"&&Q!==null&&(F=Jt(Q)),k=a.getDerivedStateFromProps,(Q=typeof k=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T!==ce||ee!==F)&&wC(i,m,c,F),Oi=!1,ee=i.memoizedState,m.state=ee,Ro(i,c,m,p),Oo();var te=i.memoizedState;T!==ce||ee!==te||Oi||n!==null&&n.dependencies!==null&&ef(n.dependencies)?(typeof k=="function"&&(lm(i,a,k,c),te=i.memoizedState),(se=Oi||EC(i,a,se,c,ee,te,F)||n!==null&&n.dependencies!==null&&ef(n.dependencies))?(Q||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(c,te,F),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(c,te,F)),typeof m.componentDidUpdate=="function"&&(i.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof m.componentDidUpdate!="function"||T===n.memoizedProps&&ee===n.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&ee===n.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=te),m.props=c,m.state=te,m.context=F,c=se):(typeof m.componentDidUpdate!="function"||T===n.memoizedProps&&ee===n.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&ee===n.memoizedState||(i.flags|=1024),c=!1)}return m=c,_f(n,i),c=(i.flags&128)!==0,m||c?(m=i.stateNode,a=c&&typeof a.getDerivedStateFromError!="function"?null:m.render(),i.flags|=1,n!==null&&c?(i.child=Vs(i,n.child,null,p),i.child=Vs(i,null,a,p)):Kt(n,i,a,p),i.memoizedState=m.state,n=i.child):n=Zr(n,i,p),n}function jC(n,i,a,c){return So(),i.flags|=256,Kt(n,i,a,c),i.child}var um={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function cm(n){return{baseLanes:n,cachePool:Nx()}}function fm(n,i,a){return n=n!==null?n.childLanes&~a:0,i&&(n|=Xn),n}function HC(n,i,a){var c=i.pendingProps,p=!1,m=(i.flags&128)!==0,T;if((T=m)||(T=n!==null&&n.memoizedState===null?!1:(kt.current&2)!==0),T&&(p=!0,i.flags&=-129),T=(i.flags&32)!==0,i.flags&=-33,n===null){if(Qe){if(p?Di(i):Li(),Qe){var k=vt,F;if(F=k){e:{for(F=k,k=Er;F.nodeType!==8;){if(!k){k=null;break e}if(F=dr(F.nextSibling),F===null){k=null;break e}}k=F}k!==null?(i.memoizedState={dehydrated:k,treeContext:Ol!==null?{id:Ir,overflow:qr}:null,retryLane:536870912,hydrationErrors:null},F=Rn(18,null,null,0),F.stateNode=k,F.return=i,i.child=F,un=i,vt=null,F=!0):F=!1}F||Ml(i)}if(k=i.memoizedState,k!==null&&(k=k.dehydrated,k!==null))return Gm(k)?i.lanes=32:i.lanes=536870912,null;Xr(i)}return k=c.children,c=c.fallback,p?(Li(),p=i.mode,k=Sf({mode:"hidden",children:k},p),c=Al(c,p,a,null),k.return=i,c.return=i,k.sibling=c,i.child=k,p=i.child,p.memoizedState=cm(a),p.childLanes=fm(n,T,a),i.memoizedState=um,c):(Di(i),dm(i,k))}if(F=n.memoizedState,F!==null&&(k=F.dehydrated,k!==null)){if(m)i.flags&256?(Di(i),i.flags&=-257,i=gm(n,i,a)):i.memoizedState!==null?(Li(),i.child=n.child,i.flags|=128,i=null):(Li(),p=c.fallback,k=i.mode,c=Sf({mode:"visible",children:c.children},k),p=Al(p,k,a,null),p.flags|=2,c.return=i,p.return=i,c.sibling=p,i.child=c,Vs(i,n.child,null,a),c=i.child,c.memoizedState=cm(a),c.childLanes=fm(n,T,a),i.memoizedState=um,i=p);else if(Di(i),Gm(k)){if(T=k.nextSibling&&k.nextSibling.dataset,T)var Q=T.dgst;T=Q,c=Error(l(419)),c.stack="",c.digest=T,xo({value:c,source:null,stack:null}),i=gm(n,i,a)}else if(zt||Co(n,i,a,!1),T=(a&n.childLanes)!==0,zt||T){if(T=gt,T!==null&&(c=a&-a,c=(c&42)!==0?1:Xh(c),c=(c&(T.suspendedLanes|a))!==0?0:c,c!==0&&c!==F.retryLane))throw F.retryLane=c,$s(n,c),zn(T,n,c),MC;k.data==="$?"||km(),i=gm(n,i,a)}else k.data==="$?"?(i.flags|=192,i.child=n.child,i=null):(n=F.treeContext,vt=dr(k.nextSibling),un=i,Qe=!0,kl=null,Er=!1,n!==null&&(Yn[Vn++]=Ir,Yn[Vn++]=qr,Yn[Vn++]=Ol,Ir=n.id,qr=n.overflow,Ol=i),i=dm(i,c.children),i.flags|=4096);return i}return p?(Li(),p=c.fallback,k=i.mode,F=n.child,Q=F.sibling,c=Pr(F,{mode:"hidden",children:c.children}),c.subtreeFlags=F.subtreeFlags&65011712,Q!==null?p=Pr(Q,p):(p=Al(p,k,a,null),p.flags|=2),p.return=i,c.return=i,c.sibling=p,i.child=c,c=p,p=i.child,k=n.child.memoizedState,k===null?k=cm(a):(F=k.cachePool,F!==null?(Q=Rt._currentValue,F=F.parent!==Q?{parent:Q,pool:Q}:F):F=Nx(),k={baseLanes:k.baseLanes|a,cachePool:F}),p.memoizedState=k,p.childLanes=fm(n,T,a),i.memoizedState=um,c):(Di(i),a=n.child,n=a.sibling,a=Pr(a,{mode:"visible",children:c.children}),a.return=i,a.sibling=null,n!==null&&(T=i.deletions,T===null?(i.deletions=[n],i.flags|=16):T.push(n)),i.child=a,i.memoizedState=null,a)}function dm(n,i){return i=Sf({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function Sf(n,i){return n=Rn(22,n,null,i),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function gm(n,i,a){return Vs(i,n.child,null,a),n=dm(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function KC(n,i,a){n.lanes|=i;var c=n.alternate;c!==null&&(c.lanes|=i),kp(n.return,i,a)}function hm(n,i,a,c,p){var m=n.memoizedState;m===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:p}:(m.isBackwards=i,m.rendering=null,m.renderingStartTime=0,m.last=c,m.tail=a,m.tailMode=p)}function PC(n,i,a){var c=i.pendingProps,p=c.revealOrder,m=c.tail;if(Kt(n,i,c.children,a),c=kt.current,(c&2)!==0)c=c&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&KC(n,a,i);else if(n.tag===19)KC(n,a,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}c&=1}switch(ge(kt,c),p){case"forwards":for(a=i.child,p=null;a!==null;)n=a.alternate,n!==null&&yf(n)===null&&(p=a),a=a.sibling;a=p,a===null?(p=i.child,i.child=null):(p=a.sibling,a.sibling=null),hm(i,!1,p,a,m);break;case"backwards":for(a=null,p=i.child,i.child=null;p!==null;){if(n=p.alternate,n!==null&&yf(n)===null){i.child=p;break}n=p.sibling,p.sibling=a,a=p,p=n}hm(i,!0,a,null,m);break;case"together":hm(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Zr(n,i,a){if(n!==null&&(i.dependencies=n.dependencies),Ui|=i.lanes,(a&i.childLanes)===0)if(n!==null){if(Co(n,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(l(153));if(i.child!==null){for(n=i.child,a=Pr(n,n.pendingProps),i.child=a,a.return=i;n.sibling!==null;)n=n.sibling,a=a.sibling=Pr(n,n.pendingProps),a.return=i;a.sibling=null}return i.child}function pm(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&ef(n)))}function ND(n,i,a){switch(i.tag){case 3:be(i,i.stateNode.containerInfo),Ai(i,Rt,n.memoizedState.cache),So();break;case 27:case 5:Ye(i);break;case 4:be(i,i.stateNode.containerInfo);break;case 10:Ai(i,i.type,i.memoizedProps.value);break;case 13:var c=i.memoizedState;if(c!==null)return c.dehydrated!==null?(Di(i),i.flags|=128,null):(a&i.child.childLanes)!==0?HC(n,i,a):(Di(i),n=Zr(n,i,a),n!==null?n.sibling:null);Di(i);break;case 19:var p=(n.flags&128)!==0;if(c=(a&i.childLanes)!==0,c||(Co(n,i,a,!1),c=(a&i.childLanes)!==0),p){if(c)return PC(n,i,a);i.flags|=128}if(p=i.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),ge(kt,kt.current),c)break;return null;case 22:case 23:return i.lanes=0,$C(n,i,a);case 24:Ai(i,Rt,n.memoizedState.cache)}return Zr(n,i,a)}function IC(n,i,a){if(n!==null)if(n.memoizedProps!==i.pendingProps)zt=!0;else{if(!pm(n,a)&&(i.flags&128)===0)return zt=!1,ND(n,i,a);zt=(n.flags&131072)!==0}else zt=!1,Qe&&(i.flags&1048576)!==0&&_x(i,Jc,i.index);switch(i.lanes=0,i.tag){case 16:e:{n=i.pendingProps;var c=i.elementType,p=c._init;if(c=p(c._payload),i.type=c,typeof c=="function")Ep(c)?(n=Fl(c,n),i.tag=1,i=UC(null,i,c,n,a)):(i.tag=0,i=om(null,i,c,n,a));else{if(c!=null){if(p=c.$$typeof,p===N){i.tag=11,i=DC(null,i,c,n,a);break e}else if(p===R){i.tag=14,i=LC(null,i,c,n,a);break e}}throw i=Z(c)||c,Error(l(306,i,""))}}return i;case 0:return om(n,i,i.type,i.pendingProps,a);case 1:return c=i.type,p=Fl(c,i.pendingProps),UC(n,i,c,p,a);case 3:e:{if(be(i,i.stateNode.containerInfo),n===null)throw Error(l(387));c=i.pendingProps;var m=i.memoizedState;p=m.element,Bp(n,i),Ro(i,c,null,a);var T=i.memoizedState;if(c=T.cache,Ai(i,Rt,c),c!==m.cache&&Mp(i,[Rt],a,!0),Oo(),c=T.element,m.isDehydrated)if(m={element:c,isDehydrated:!1,cache:T.cache},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){i=jC(n,i,c,a);break e}else if(c!==p){p=In(Error(l(424)),i),xo(p),i=jC(n,i,c,a);break e}else{switch(n=i.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(vt=dr(n.firstChild),un=i,Qe=!0,kl=null,Er=!0,a=xC(i,null,c,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(So(),c===p){i=Zr(n,i,a);break e}Kt(n,i,c,a)}i=i.child}return i;case 26:return _f(n,i),n===null?(a=G1(i.type,null,i.pendingProps,null))?i.memoizedState=a:Qe||(a=i.type,n=i.pendingProps,c=zf(me.current).createElement(a),c[Qt]=i,c[bn]=n,It(c,a,n),Lt(c),i.stateNode=c):i.memoizedState=G1(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return Ye(i),n===null&&Qe&&(c=i.stateNode=q1(i.type,i.pendingProps,me.current),un=i,Er=!0,p=vt,Pi(i.type)?(Xm=p,vt=dr(c.firstChild)):vt=p),Kt(n,i,i.pendingProps.children,a),_f(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&Qe&&((p=c=vt)&&(c=t2(c,i.type,i.pendingProps,Er),c!==null?(i.stateNode=c,un=i,vt=dr(c.firstChild),Er=!1,p=!0):p=!1),p||Ml(i)),Ye(i),p=i.type,m=i.pendingProps,T=n!==null?n.memoizedProps:null,c=m.children,qm(p,m)?c=null:T!==null&&qm(p,T)&&(i.flags|=32),i.memoizedState!==null&&(p=Ip(n,i,vD,null,null,a),Qo._currentValue=p),_f(n,i),Kt(n,i,c,a),i.child;case 6:return n===null&&Qe&&((n=a=vt)&&(a=n2(a,i.pendingProps,Er),a!==null?(i.stateNode=a,un=i,vt=null,n=!0):n=!1),n||Ml(i)),null;case 13:return HC(n,i,a);case 4:return be(i,i.stateNode.containerInfo),c=i.pendingProps,n===null?i.child=Vs(i,null,c,a):Kt(n,i,c,a),i.child;case 11:return DC(n,i,i.type,i.pendingProps,a);case 7:return Kt(n,i,i.pendingProps,a),i.child;case 8:return Kt(n,i,i.pendingProps.children,a),i.child;case 12:return Kt(n,i,i.pendingProps.children,a),i.child;case 10:return c=i.pendingProps,Ai(i,i.type,c.value),Kt(n,i,c.children,a),i.child;case 9:return p=i.type._context,c=i.pendingProps.children,Ll(i),p=Jt(p),c=c(p),i.flags|=1,Kt(n,i,c,a),i.child;case 14:return LC(n,i,i.type,i.pendingProps,a);case 15:return zC(n,i,i.type,i.pendingProps,a);case 19:return PC(n,i,a);case 31:return c=i.pendingProps,a=i.mode,c={mode:c.mode,children:c.children},n===null?(a=Sf(c,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Pr(n.child,c),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return $C(n,i,a);case 24:return Ll(i),c=Jt(Rt),n===null?(p=zp(),p===null&&(p=gt,m=Dp(),p.pooledCache=m,m.refCount++,m!==null&&(p.pooledCacheLanes|=a),p=m),i.memoizedState={parent:c,cache:p},Fp(i),Ai(i,Rt,p)):((n.lanes&a)!==0&&(Bp(n,i),Ro(i,null,null,a),Oo()),p=n.memoizedState,m=i.memoizedState,p.parent!==c?(p={parent:c,cache:c},i.memoizedState=p,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=p),Ai(i,Rt,c)):(c=m.cache,Ai(i,Rt,c),c!==p.cache&&Mp(i,[Rt],a,!0))),Kt(n,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(l(156,i.tag))}function Wr(n){n.flags|=4}function qC(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!J1(i)){if(i=Gn.current,i!==null&&((Ge&4194048)===Ge?wr!==null:(Ge&62914560)!==Ge&&(Ge&536870912)===0||i!==wr))throw No=$p,Ax;n.flags|=8192}}function xf(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?CS():536870912,n.lanes|=i,Ws|=i)}function Fo(n,i){if(!Qe)switch(n.tailMode){case"hidden":i=n.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function yt(n){var i=n.alternate!==null&&n.alternate.child===n.child,a=0,c=0;if(i)for(var p=n.child;p!==null;)a|=p.lanes|p.childLanes,c|=p.subtreeFlags&65011712,c|=p.flags&65011712,p.return=n,p=p.sibling;else for(p=n.child;p!==null;)a|=p.lanes|p.childLanes,c|=p.subtreeFlags,c|=p.flags,p.return=n,p=p.sibling;return n.subtreeFlags|=c,n.childLanes=a,i}function AD(n,i,a){var c=i.pendingProps;switch(Ap(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yt(i),null;case 1:return yt(i),null;case 3:return a=i.stateNode,c=null,n!==null&&(c=n.memoizedState.cache),i.memoizedState.cache!==c&&(i.flags|=2048),Vr(Rt),ze(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(_o(i)?Wr(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Cx())),yt(i),null;case 26:return a=i.memoizedState,n===null?(Wr(i),a!==null?(yt(i),qC(i,a)):(yt(i),i.flags&=-16777217)):a?a!==n.memoizedState?(Wr(i),yt(i),qC(i,a)):(yt(i),i.flags&=-16777217):(n.memoizedProps!==c&&Wr(i),yt(i),i.flags&=-16777217),null;case 27:re(i),a=me.current;var p=i.type;if(n!==null&&i.stateNode!=null)n.memoizedProps!==c&&Wr(i);else{if(!c){if(i.stateNode===null)throw Error(l(166));return yt(i),null}n=he.current,_o(i)?Sx(i):(n=q1(p,c,a),i.stateNode=n,Wr(i))}return yt(i),null;case 5:if(re(i),a=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==c&&Wr(i);else{if(!c){if(i.stateNode===null)throw Error(l(166));return yt(i),null}if(n=he.current,_o(i))Sx(i);else{switch(p=zf(me.current),n){case 1:n=p.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=p.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=p.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=p.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=p.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof c.is=="string"?p.createElement("select",{is:c.is}):p.createElement("select"),c.multiple?n.multiple=!0:c.size&&(n.size=c.size);break;default:n=typeof c.is=="string"?p.createElement(a,{is:c.is}):p.createElement(a)}}n[Qt]=i,n[bn]=c;e:for(p=i.child;p!==null;){if(p.tag===5||p.tag===6)n.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===i)break e;for(;p.sibling===null;){if(p.return===null||p.return===i)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}i.stateNode=n;e:switch(It(n,a,c),a){case"button":case"input":case"select":case"textarea":n=!!c.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Wr(i)}}return yt(i),i.flags&=-16777217,null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==c&&Wr(i);else{if(typeof c!="string"&&i.stateNode===null)throw Error(l(166));if(n=me.current,_o(i)){if(n=i.stateNode,a=i.memoizedProps,c=null,p=un,p!==null)switch(p.tag){case 27:case 5:c=p.memoizedProps}n[Qt]=i,n=!!(n.nodeValue===a||c!==null&&c.suppressHydrationWarning===!0||B1(n.nodeValue,a)),n||Ml(i)}else n=zf(n).createTextNode(c),n[Qt]=i,i.stateNode=n}return yt(i),null;case 13:if(c=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(p=_o(i),c!==null&&c.dehydrated!==null){if(n===null){if(!p)throw Error(l(318));if(p=i.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(l(317));p[Qt]=i}else So(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;yt(i),p=!1}else p=Cx(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=p),p=!0;if(!p)return i.flags&256?(Xr(i),i):(Xr(i),null)}if(Xr(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=c!==null,n=n!==null&&n.memoizedState!==null,a){c=i.child,p=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(p=c.alternate.memoizedState.cachePool.pool);var m=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(m=c.memoizedState.cachePool.pool),m!==p&&(c.flags|=2048)}return a!==n&&a&&(i.child.flags|=8192),xf(i,i.updateQueue),yt(i),null;case 4:return ze(),n===null&&jm(i.stateNode.containerInfo),yt(i),null;case 10:return Vr(i.type),yt(i),null;case 19:if(le(kt),p=i.memoizedState,p===null)return yt(i),null;if(c=(i.flags&128)!==0,m=p.rendering,m===null)if(c)Fo(p,!1);else{if(_t!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(m=yf(n),m!==null){for(i.flags|=128,Fo(p,!1),n=m.updateQueue,i.updateQueue=n,xf(i,n),i.subtreeFlags=0,n=a,a=i.child;a!==null;)vx(a,n),a=a.sibling;return ge(kt,kt.current&1|2),i.child}n=n.sibling}p.tail!==null&&Ve()>wf&&(i.flags|=128,c=!0,Fo(p,!1),i.lanes=4194304)}else{if(!c)if(n=yf(m),n!==null){if(i.flags|=128,c=!0,n=n.updateQueue,i.updateQueue=n,xf(i,n),Fo(p,!0),p.tail===null&&p.tailMode==="hidden"&&!m.alternate&&!Qe)return yt(i),null}else 2*Ve()-p.renderingStartTime>wf&&a!==536870912&&(i.flags|=128,c=!0,Fo(p,!1),i.lanes=4194304);p.isBackwards?(m.sibling=i.child,i.child=m):(n=p.last,n!==null?n.sibling=m:i.child=m,p.last=m)}return p.tail!==null?(i=p.tail,p.rendering=i,p.tail=i.sibling,p.renderingStartTime=Ve(),i.sibling=null,n=kt.current,ge(kt,c?n&1|2:n&1),i):(yt(i),null);case 22:case 23:return Xr(i),Kp(),c=i.memoizedState!==null,n!==null?n.memoizedState!==null!==c&&(i.flags|=8192):c&&(i.flags|=8192),c?(a&536870912)!==0&&(i.flags&128)===0&&(yt(i),i.subtreeFlags&6&&(i.flags|=8192)):yt(i),a=i.updateQueue,a!==null&&xf(i,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),c=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),c!==a&&(i.flags|=2048),n!==null&&le(zl),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Vr(Rt),yt(i),null;case 25:return null;case 30:return null}throw Error(l(156,i.tag))}function OD(n,i){switch(Ap(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return Vr(Rt),ze(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return re(i),null;case 13:if(Xr(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(l(340));So()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return le(kt),null;case 4:return ze(),null;case 10:return Vr(i.type),null;case 22:case 23:return Xr(i),Kp(),n!==null&&le(zl),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return Vr(Rt),null;case 25:return null;default:return null}}function YC(n,i){switch(Ap(i),i.tag){case 3:Vr(Rt),ze();break;case 26:case 27:case 5:re(i);break;case 4:ze();break;case 13:Xr(i);break;case 19:le(kt);break;case 10:Vr(i.type);break;case 22:case 23:Xr(i),Kp(),n!==null&&le(zl);break;case 24:Vr(Rt)}}function Bo(n,i){try{var a=i.updateQueue,c=a!==null?a.lastEffect:null;if(c!==null){var p=c.next;a=p;do{if((a.tag&n)===n){c=void 0;var m=a.create,T=a.inst;c=m(),T.destroy=c}a=a.next}while(a!==p)}}catch(k){ct(i,i.return,k)}}function zi(n,i,a){try{var c=i.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var m=p.next;c=m;do{if((c.tag&n)===n){var T=c.inst,k=T.destroy;if(k!==void 0){T.destroy=void 0,p=i;var F=a,Q=k;try{Q()}catch(se){ct(p,F,se)}}}c=c.next}while(c!==m)}}catch(se){ct(i,i.return,se)}}function VC(n){var i=n.updateQueue;if(i!==null){var a=n.stateNode;try{Lx(i,a)}catch(c){ct(n,n.return,c)}}}function GC(n,i,a){a.props=Fl(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(c){ct(n,i,c)}}function Uo(n,i){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var c=n.stateNode;break;case 30:c=n.stateNode;break;default:c=n.stateNode}typeof a=="function"?n.refCleanup=a(c):a.current=c}}catch(p){ct(n,i,p)}}function Tr(n,i){var a=n.ref,c=n.refCleanup;if(a!==null)if(typeof c=="function")try{c()}catch(p){ct(n,i,p)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(p){ct(n,i,p)}else a.current=null}function XC(n){var i=n.type,a=n.memoizedProps,c=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&c.focus();break e;case"img":a.src?c.src=a.src:a.srcSet&&(c.srcset=a.srcSet)}}catch(p){ct(n,n.return,p)}}function mm(n,i,a){try{var c=n.stateNode;ZD(c,n.type,a,i),c[bn]=i}catch(p){ct(n,n.return,p)}}function ZC(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Pi(n.type)||n.tag===4}function ym(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||ZC(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Pi(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function bm(n,i,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(n),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Lf));else if(c!==4&&(c===27&&Pi(n.type)&&(a=n.stateNode,i=null),n=n.child,n!==null))for(bm(n,i,a),n=n.sibling;n!==null;)bm(n,i,a),n=n.sibling}function Cf(n,i,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?a.insertBefore(n,i):a.appendChild(n);else if(c!==4&&(c===27&&Pi(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(Cf(n,i,a),n=n.sibling;n!==null;)Cf(n,i,a),n=n.sibling}function WC(n){var i=n.stateNode,a=n.memoizedProps;try{for(var c=n.type,p=i.attributes;p.length;)i.removeAttributeNode(p[0]);It(i,c,a),i[Qt]=n,i[bn]=a}catch(m){ct(n,n.return,m)}}var Qr=!1,wt=!1,vm=!1,QC=typeof WeakSet=="function"?WeakSet:Set,$t=null;function RD(n,i){if(n=n.containerInfo,Pm=Hf,n=ux(n),yp(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var p=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var T=0,k=-1,F=-1,Q=0,se=0,ce=n,ee=null;t:for(;;){for(var te;ce!==a||p!==0&&ce.nodeType!==3||(k=T+p),ce!==m||c!==0&&ce.nodeType!==3||(F=T+c),ce.nodeType===3&&(T+=ce.nodeValue.length),(te=ce.firstChild)!==null;)ee=ce,ce=te;for(;;){if(ce===n)break t;if(ee===a&&++Q===p&&(k=T),ee===m&&++se===c&&(F=T),(te=ce.nextSibling)!==null)break;ce=ee,ee=ce.parentNode}ce=te}a=k===-1||F===-1?null:{start:k,end:F}}else a=null}a=a||{start:0,end:0}}else a=null;for(Im={focusedElem:n,selectionRange:a},Hf=!1,$t=i;$t!==null;)if(i=$t,n=i.child,(i.subtreeFlags&1024)!==0&&n!==null)n.return=i,$t=n;else for(;$t!==null;){switch(i=$t,m=i.alternate,n=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&m!==null){n=void 0,a=i,p=m.memoizedProps,m=m.memoizedState,c=a.stateNode;try{var Re=Fl(a.type,p,a.elementType===a.type);n=c.getSnapshotBeforeUpdate(Re,m),c.__reactInternalSnapshotBeforeUpdate=n}catch(Ne){ct(a,a.return,Ne)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,a=n.nodeType,a===9)Vm(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Vm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(l(163))}if(n=i.sibling,n!==null){n.return=i.return,$t=n;break}$t=i.return}}function JC(n,i,a){var c=a.flags;switch(a.tag){case 0:case 11:case 15:$i(n,a),c&4&&Bo(5,a);break;case 1:if($i(n,a),c&4)if(n=a.stateNode,i===null)try{n.componentDidMount()}catch(T){ct(a,a.return,T)}else{var p=Fl(a.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(p,i,n.__reactInternalSnapshotBeforeUpdate)}catch(T){ct(a,a.return,T)}}c&64&&VC(a),c&512&&Uo(a,a.return);break;case 3:if($i(n,a),c&64&&(n=a.updateQueue,n!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Lx(n,i)}catch(T){ct(a,a.return,T)}}break;case 27:i===null&&c&4&&WC(a);case 26:case 5:$i(n,a),i===null&&c&4&&XC(a),c&512&&Uo(a,a.return);break;case 12:$i(n,a);break;case 13:$i(n,a),c&4&&n1(n,a),c&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=UD.bind(null,a),r2(n,a))));break;case 22:if(c=a.memoizedState!==null||Qr,!c){i=i!==null&&i.memoizedState!==null||wt,p=Qr;var m=wt;Qr=c,(wt=i)&&!m?Fi(n,a,(a.subtreeFlags&8772)!==0):$i(n,a),Qr=p,wt=m}break;case 30:break;default:$i(n,a)}}function e1(n){var i=n.alternate;i!==null&&(n.alternate=null,e1(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&Qh(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var pt=null,Sn=!1;function Jr(n,i,a){for(a=a.child;a!==null;)t1(n,i,a),a=a.sibling}function t1(n,i,a){if(Nn&&typeof Nn.onCommitFiberUnmount=="function")try{Nn.onCommitFiberUnmount(lo,a)}catch{}switch(a.tag){case 26:wt||Tr(a,i),Jr(n,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:wt||Tr(a,i);var c=pt,p=Sn;Pi(a.type)&&(pt=a.stateNode,Sn=!1),Jr(n,i,a),Go(a.stateNode),pt=c,Sn=p;break;case 5:wt||Tr(a,i);case 6:if(c=pt,p=Sn,pt=null,Jr(n,i,a),pt=c,Sn=p,pt!==null)if(Sn)try{(pt.nodeType===9?pt.body:pt.nodeName==="HTML"?pt.ownerDocument.body:pt).removeChild(a.stateNode)}catch(m){ct(a,i,m)}else try{pt.removeChild(a.stateNode)}catch(m){ct(a,i,m)}break;case 18:pt!==null&&(Sn?(n=pt,P1(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),nu(n)):P1(pt,a.stateNode));break;case 4:c=pt,p=Sn,pt=a.stateNode.containerInfo,Sn=!0,Jr(n,i,a),pt=c,Sn=p;break;case 0:case 11:case 14:case 15:wt||zi(2,a,i),wt||zi(4,a,i),Jr(n,i,a);break;case 1:wt||(Tr(a,i),c=a.stateNode,typeof c.componentWillUnmount=="function"&&GC(a,i,c)),Jr(n,i,a);break;case 21:Jr(n,i,a);break;case 22:wt=(c=wt)||a.memoizedState!==null,Jr(n,i,a),wt=c;break;default:Jr(n,i,a)}}function n1(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{nu(n)}catch(a){ct(i,i.return,a)}}function kD(n){switch(n.tag){case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new QC),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new QC),i;default:throw Error(l(435,n.tag))}}function _m(n,i){var a=kD(n);i.forEach(function(c){var p=jD.bind(null,n,c);a.has(c)||(a.add(c),c.then(p,p))})}function kn(n,i){var a=i.deletions;if(a!==null)for(var c=0;c<a.length;c++){var p=a[c],m=n,T=i,k=T;e:for(;k!==null;){switch(k.tag){case 27:if(Pi(k.type)){pt=k.stateNode,Sn=!1;break e}break;case 5:pt=k.stateNode,Sn=!1;break e;case 3:case 4:pt=k.stateNode.containerInfo,Sn=!0;break e}k=k.return}if(pt===null)throw Error(l(160));t1(m,T,p),pt=null,Sn=!1,m=p.alternate,m!==null&&(m.return=null),p.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)r1(i,n),i=i.sibling}var fr=null;function r1(n,i){var a=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:kn(i,n),Mn(n),c&4&&(zi(3,n,n.return),Bo(3,n),zi(5,n,n.return));break;case 1:kn(i,n),Mn(n),c&512&&(wt||a===null||Tr(a,a.return)),c&64&&Qr&&(n=n.updateQueue,n!==null&&(c=n.callbacks,c!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?c:a.concat(c))));break;case 26:var p=fr;if(kn(i,n),Mn(n),c&512&&(wt||a===null||Tr(a,a.return)),c&4){var m=a!==null?a.memoizedState:null;if(c=n.memoizedState,a===null)if(c===null)if(n.stateNode===null){e:{c=n.type,a=n.memoizedProps,p=p.ownerDocument||p;t:switch(c){case"title":m=p.getElementsByTagName("title")[0],(!m||m[oo]||m[Qt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=p.createElement(c),p.head.insertBefore(m,p.querySelector("head > title"))),It(m,c,a),m[Qt]=n,Lt(m),c=m;break e;case"link":var T=W1("link","href",p).get(c+(a.href||""));if(T){for(var k=0;k<T.length;k++)if(m=T[k],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){T.splice(k,1);break t}}m=p.createElement(c),It(m,c,a),p.head.appendChild(m);break;case"meta":if(T=W1("meta","content",p).get(c+(a.content||""))){for(k=0;k<T.length;k++)if(m=T[k],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){T.splice(k,1);break t}}m=p.createElement(c),It(m,c,a),p.head.appendChild(m);break;default:throw Error(l(468,c))}m[Qt]=n,Lt(m),c=m}n.stateNode=c}else Q1(p,n.type,n.stateNode);else n.stateNode=Z1(p,c,n.memoizedProps);else m!==c?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,c===null?Q1(p,n.type,n.stateNode):Z1(p,c,n.memoizedProps)):c===null&&n.stateNode!==null&&mm(n,n.memoizedProps,a.memoizedProps)}break;case 27:kn(i,n),Mn(n),c&512&&(wt||a===null||Tr(a,a.return)),a!==null&&c&4&&mm(n,n.memoizedProps,a.memoizedProps);break;case 5:if(kn(i,n),Mn(n),c&512&&(wt||a===null||Tr(a,a.return)),n.flags&32){p=n.stateNode;try{Os(p,"")}catch(te){ct(n,n.return,te)}}c&4&&n.stateNode!=null&&(p=n.memoizedProps,mm(n,p,a!==null?a.memoizedProps:p)),c&1024&&(vm=!0);break;case 6:if(kn(i,n),Mn(n),c&4){if(n.stateNode===null)throw Error(l(162));c=n.memoizedProps,a=n.stateNode;try{a.nodeValue=c}catch(te){ct(n,n.return,te)}}break;case 3:if(Bf=null,p=fr,fr=$f(i.containerInfo),kn(i,n),fr=p,Mn(n),c&4&&a!==null&&a.memoizedState.isDehydrated)try{nu(i.containerInfo)}catch(te){ct(n,n.return,te)}vm&&(vm=!1,i1(n));break;case 4:c=fr,fr=$f(n.stateNode.containerInfo),kn(i,n),Mn(n),fr=c;break;case 12:kn(i,n),Mn(n);break;case 13:kn(i,n),Mn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Tm=Ve()),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,_m(n,c)));break;case 22:p=n.memoizedState!==null;var F=a!==null&&a.memoizedState!==null,Q=Qr,se=wt;if(Qr=Q||p,wt=se||F,kn(i,n),wt=se,Qr=Q,Mn(n),c&8192)e:for(i=n.stateNode,i._visibility=p?i._visibility&-2:i._visibility|1,p&&(a===null||F||Qr||wt||Bl(n)),a=null,i=n;;){if(i.tag===5||i.tag===26){if(a===null){F=a=i;try{if(m=F.stateNode,p)T=m.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{k=F.stateNode;var ce=F.memoizedProps.style,ee=ce!=null&&ce.hasOwnProperty("display")?ce.display:null;k.style.display=ee==null||typeof ee=="boolean"?"":(""+ee).trim()}}catch(te){ct(F,F.return,te)}}}else if(i.tag===6){if(a===null){F=i;try{F.stateNode.nodeValue=p?"":F.memoizedProps}catch(te){ct(F,F.return,te)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}c&4&&(c=n.updateQueue,c!==null&&(a=c.retryQueue,a!==null&&(c.retryQueue=null,_m(n,a))));break;case 19:kn(i,n),Mn(n),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,_m(n,c)));break;case 30:break;case 21:break;default:kn(i,n),Mn(n)}}function Mn(n){var i=n.flags;if(i&2){try{for(var a,c=n.return;c!==null;){if(ZC(c)){a=c;break}c=c.return}if(a==null)throw Error(l(160));switch(a.tag){case 27:var p=a.stateNode,m=ym(n);Cf(n,m,p);break;case 5:var T=a.stateNode;a.flags&32&&(Os(T,""),a.flags&=-33);var k=ym(n);Cf(n,k,T);break;case 3:case 4:var F=a.stateNode.containerInfo,Q=ym(n);bm(n,Q,F);break;default:throw Error(l(161))}}catch(se){ct(n,n.return,se)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function i1(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;i1(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function $i(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)JC(n,i.alternate,i),i=i.sibling}function Bl(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:zi(4,i,i.return),Bl(i);break;case 1:Tr(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&GC(i,i.return,a),Bl(i);break;case 27:Go(i.stateNode);case 26:case 5:Tr(i,i.return),Bl(i);break;case 22:i.memoizedState===null&&Bl(i);break;case 30:Bl(i);break;default:Bl(i)}n=n.sibling}}function Fi(n,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var c=i.alternate,p=n,m=i,T=m.flags;switch(m.tag){case 0:case 11:case 15:Fi(p,m,a),Bo(4,m);break;case 1:if(Fi(p,m,a),c=m,p=c.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(Q){ct(c,c.return,Q)}if(c=m,p=c.updateQueue,p!==null){var k=c.stateNode;try{var F=p.shared.hiddenCallbacks;if(F!==null)for(p.shared.hiddenCallbacks=null,p=0;p<F.length;p++)Dx(F[p],k)}catch(Q){ct(c,c.return,Q)}}a&&T&64&&VC(m),Uo(m,m.return);break;case 27:WC(m);case 26:case 5:Fi(p,m,a),a&&c===null&&T&4&&XC(m),Uo(m,m.return);break;case 12:Fi(p,m,a);break;case 13:Fi(p,m,a),a&&T&4&&n1(p,m);break;case 22:m.memoizedState===null&&Fi(p,m,a),Uo(m,m.return);break;case 30:break;default:Fi(p,m,a)}i=i.sibling}}function Sm(n,i){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&Eo(a))}function xm(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Eo(n))}function Nr(n,i,a,c){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)l1(n,i,a,c),i=i.sibling}function l1(n,i,a,c){var p=i.flags;switch(i.tag){case 0:case 11:case 15:Nr(n,i,a,c),p&2048&&Bo(9,i);break;case 1:Nr(n,i,a,c);break;case 3:Nr(n,i,a,c),p&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Eo(n)));break;case 12:if(p&2048){Nr(n,i,a,c),n=i.stateNode;try{var m=i.memoizedProps,T=m.id,k=m.onPostCommit;typeof k=="function"&&k(T,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(F){ct(i,i.return,F)}}else Nr(n,i,a,c);break;case 13:Nr(n,i,a,c);break;case 23:break;case 22:m=i.stateNode,T=i.alternate,i.memoizedState!==null?m._visibility&2?Nr(n,i,a,c):jo(n,i):m._visibility&2?Nr(n,i,a,c):(m._visibility|=2,Gs(n,i,a,c,(i.subtreeFlags&10256)!==0)),p&2048&&Sm(T,i);break;case 24:Nr(n,i,a,c),p&2048&&xm(i.alternate,i);break;default:Nr(n,i,a,c)}}function Gs(n,i,a,c,p){for(p=p&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var m=n,T=i,k=a,F=c,Q=T.flags;switch(T.tag){case 0:case 11:case 15:Gs(m,T,k,F,p),Bo(8,T);break;case 23:break;case 22:var se=T.stateNode;T.memoizedState!==null?se._visibility&2?Gs(m,T,k,F,p):jo(m,T):(se._visibility|=2,Gs(m,T,k,F,p)),p&&Q&2048&&Sm(T.alternate,T);break;case 24:Gs(m,T,k,F,p),p&&Q&2048&&xm(T.alternate,T);break;default:Gs(m,T,k,F,p)}i=i.sibling}}function jo(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=n,c=i,p=c.flags;switch(c.tag){case 22:jo(a,c),p&2048&&Sm(c.alternate,c);break;case 24:jo(a,c),p&2048&&xm(c.alternate,c);break;default:jo(a,c)}i=i.sibling}}var Ho=8192;function Xs(n){if(n.subtreeFlags&Ho)for(n=n.child;n!==null;)s1(n),n=n.sibling}function s1(n){switch(n.tag){case 26:Xs(n),n.flags&Ho&&n.memoizedState!==null&&m2(fr,n.memoizedState,n.memoizedProps);break;case 5:Xs(n);break;case 3:case 4:var i=fr;fr=$f(n.stateNode.containerInfo),Xs(n),fr=i;break;case 22:n.memoizedState===null&&(i=n.alternate,i!==null&&i.memoizedState!==null?(i=Ho,Ho=16777216,Xs(n),Ho=i):Xs(n));break;default:Xs(n)}}function a1(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function Ko(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var c=i[a];$t=c,u1(c,n)}a1(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)o1(n),n=n.sibling}function o1(n){switch(n.tag){case 0:case 11:case 15:Ko(n),n.flags&2048&&zi(9,n,n.return);break;case 3:Ko(n);break;case 12:Ko(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,Ef(n)):Ko(n);break;default:Ko(n)}}function Ef(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var c=i[a];$t=c,u1(c,n)}a1(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:zi(8,i,i.return),Ef(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Ef(i));break;default:Ef(i)}n=n.sibling}}function u1(n,i){for(;$t!==null;){var a=$t;switch(a.tag){case 0:case 11:case 15:zi(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var c=a.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Eo(a.memoizedState.cache)}if(c=a.child,c!==null)c.return=a,$t=c;else e:for(a=n;$t!==null;){c=$t;var p=c.sibling,m=c.return;if(e1(c),c===a){$t=null;break e}if(p!==null){p.return=m,$t=p;break e}$t=m}}}var MD={getCacheForType:function(n){var i=Jt(Rt),a=i.data.get(n);return a===void 0&&(a=n(),i.data.set(n,a)),a}},DD=typeof WeakMap=="function"?WeakMap:Map,nt=0,gt=null,Pe=null,Ge=0,rt=0,Dn=null,Bi=!1,Zs=!1,Cm=!1,ei=0,_t=0,Ui=0,Ul=0,Em=0,Xn=0,Ws=0,Po=null,xn=null,wm=!1,Tm=0,wf=1/0,Tf=null,ji=null,Pt=0,Hi=null,Qs=null,Js=0,Nm=0,Am=null,c1=null,Io=0,Om=null;function Ln(){if((nt&2)!==0&&Ge!==0)return Ge&-Ge;if(U.T!==null){var n=js;return n!==0?n:$m()}return TS()}function f1(){Xn===0&&(Xn=(Ge&536870912)===0||Qe?xS():536870912);var n=Gn.current;return n!==null&&(n.flags|=32),Xn}function zn(n,i,a){(n===gt&&(rt===2||rt===9)||n.cancelPendingCommit!==null)&&(ea(n,0),Ki(n,Ge,Xn,!1)),ao(n,a),((nt&2)===0||n!==gt)&&(n===gt&&((nt&2)===0&&(Ul|=a),_t===4&&Ki(n,Ge,Xn,!1)),Ar(n))}function d1(n,i,a){if((nt&6)!==0)throw Error(l(327));var c=!a&&(i&124)===0&&(i&n.expiredLanes)===0||so(n,i),p=c?$D(n,i):Mm(n,i,!0),m=c;do{if(p===0){Zs&&!c&&Ki(n,i,0,!1);break}else{if(a=n.current.alternate,m&&!LD(a)){p=Mm(n,i,!1),m=!1;continue}if(p===2){if(m=i,n.errorRecoveryDisabledLanes&m)var T=0;else T=n.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){i=T;e:{var k=n;p=Po;var F=k.current.memoizedState.isDehydrated;if(F&&(ea(k,T).flags|=256),T=Mm(k,T,!1),T!==2){if(Cm&&!F){k.errorRecoveryDisabledLanes|=m,Ul|=m,p=4;break e}m=xn,xn=p,m!==null&&(xn===null?xn=m:xn.push.apply(xn,m))}p=T}if(m=!1,p!==2)continue}}if(p===1){ea(n,0),Ki(n,i,0,!0);break}e:{switch(c=n,m=p,m){case 0:case 1:throw Error(l(345));case 4:if((i&4194048)!==i)break;case 6:Ki(c,i,Xn,!Bi);break e;case 2:xn=null;break;case 3:case 5:break;default:throw Error(l(329))}if((i&62914560)===i&&(p=Tm+300-Ve(),10<p)){if(Ki(c,i,Xn,!Bi),$c(c,0,!0)!==0)break e;c.timeoutHandle=H1(g1.bind(null,c,a,xn,Tf,wm,i,Xn,Ul,Ws,Bi,m,2,-0,0),p);break e}g1(c,a,xn,Tf,wm,i,Xn,Ul,Ws,Bi,m,0,-0,0)}}break}while(!0);Ar(n)}function g1(n,i,a,c,p,m,T,k,F,Q,se,ce,ee,te){if(n.timeoutHandle=-1,ce=i.subtreeFlags,(ce&8192||(ce&16785408)===16785408)&&(Wo={stylesheets:null,count:0,unsuspend:p2},s1(i),ce=y2(),ce!==null)){n.cancelPendingCommit=ce(_1.bind(null,n,i,m,a,c,p,T,k,F,se,1,ee,te)),Ki(n,m,T,!Q);return}_1(n,i,m,a,c,p,T,k,F)}function LD(n){for(var i=n;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var c=0;c<a.length;c++){var p=a[c],m=p.getSnapshot;p=p.value;try{if(!On(m(),p))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ki(n,i,a,c){i&=~Em,i&=~Ul,n.suspendedLanes|=i,n.pingedLanes&=~i,c&&(n.warmLanes|=i),c=n.expirationTimes;for(var p=i;0<p;){var m=31-An(p),T=1<<m;c[m]=-1,p&=~T}a!==0&&ES(n,a,i)}function Nf(){return(nt&6)===0?(qo(0),!1):!0}function Rm(){if(Pe!==null){if(rt===0)var n=Pe.return;else n=Pe,Yr=Dl=null,Vp(n),Ys=null,zo=0,n=Pe;for(;n!==null;)YC(n.alternate,n),n=n.return;Pe=null}}function ea(n,i){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,QD(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),Rm(),gt=n,Pe=a=Pr(n.current,null),Ge=i,rt=0,Dn=null,Bi=!1,Zs=so(n,i),Cm=!1,Ws=Xn=Em=Ul=Ui=_t=0,xn=Po=null,wm=!1,(i&8)!==0&&(i|=i&32);var c=n.entangledLanes;if(c!==0)for(n=n.entanglements,c&=i;0<c;){var p=31-An(c),m=1<<p;i|=n[p],c&=~m}return ei=i,Gc(),a}function h1(n,i){Ue=null,U.H=hf,i===To||i===rf?(i=kx(),rt=3):i===Ax?(i=kx(),rt=4):rt=i===MC?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Dn=i,Pe===null&&(_t=1,vf(n,In(i,n.current)))}function p1(){var n=U.H;return U.H=hf,n===null?hf:n}function m1(){var n=U.A;return U.A=MD,n}function km(){_t=4,Bi||(Ge&4194048)!==Ge&&Gn.current!==null||(Zs=!0),(Ui&134217727)===0&&(Ul&134217727)===0||gt===null||Ki(gt,Ge,Xn,!1)}function Mm(n,i,a){var c=nt;nt|=2;var p=p1(),m=m1();(gt!==n||Ge!==i)&&(Tf=null,ea(n,i)),i=!1;var T=_t;e:do try{if(rt!==0&&Pe!==null){var k=Pe,F=Dn;switch(rt){case 8:Rm(),T=6;break e;case 3:case 2:case 9:case 6:Gn.current===null&&(i=!0);var Q=rt;if(rt=0,Dn=null,ta(n,k,F,Q),a&&Zs){T=0;break e}break;default:Q=rt,rt=0,Dn=null,ta(n,k,F,Q)}}zD(),T=_t;break}catch(se){h1(n,se)}while(!0);return i&&n.shellSuspendCounter++,Yr=Dl=null,nt=c,U.H=p,U.A=m,Pe===null&&(gt=null,Ge=0,Gc()),T}function zD(){for(;Pe!==null;)y1(Pe)}function $D(n,i){var a=nt;nt|=2;var c=p1(),p=m1();gt!==n||Ge!==i?(Tf=null,wf=Ve()+500,ea(n,i)):Zs=so(n,i);e:do try{if(rt!==0&&Pe!==null){i=Pe;var m=Dn;t:switch(rt){case 1:rt=0,Dn=null,ta(n,i,m,1);break;case 2:case 9:if(Ox(m)){rt=0,Dn=null,b1(i);break}i=function(){rt!==2&&rt!==9||gt!==n||(rt=7),Ar(n)},m.then(i,i);break e;case 3:rt=7;break e;case 4:rt=5;break e;case 7:Ox(m)?(rt=0,Dn=null,b1(i)):(rt=0,Dn=null,ta(n,i,m,7));break;case 5:var T=null;switch(Pe.tag){case 26:T=Pe.memoizedState;case 5:case 27:var k=Pe;if(!T||J1(T)){rt=0,Dn=null;var F=k.sibling;if(F!==null)Pe=F;else{var Q=k.return;Q!==null?(Pe=Q,Af(Q)):Pe=null}break t}}rt=0,Dn=null,ta(n,i,m,5);break;case 6:rt=0,Dn=null,ta(n,i,m,6);break;case 8:Rm(),_t=6;break e;default:throw Error(l(462))}}FD();break}catch(se){h1(n,se)}while(!0);return Yr=Dl=null,U.H=c,U.A=p,nt=a,Pe!==null?0:(gt=null,Ge=0,Gc(),_t)}function FD(){for(;Pe!==null&&!xe();)y1(Pe)}function y1(n){var i=IC(n.alternate,n,ei);n.memoizedProps=n.pendingProps,i===null?Af(n):Pe=i}function b1(n){var i=n,a=i.alternate;switch(i.tag){case 15:case 0:i=BC(a,i,i.pendingProps,i.type,void 0,Ge);break;case 11:i=BC(a,i,i.pendingProps,i.type.render,i.ref,Ge);break;case 5:Vp(i);default:YC(a,i),i=Pe=vx(i,ei),i=IC(a,i,ei)}n.memoizedProps=n.pendingProps,i===null?Af(n):Pe=i}function ta(n,i,a,c){Yr=Dl=null,Vp(i),Ys=null,zo=0;var p=i.return;try{if(TD(n,p,i,a,Ge)){_t=1,vf(n,In(a,n.current)),Pe=null;return}}catch(m){if(p!==null)throw Pe=p,m;_t=1,vf(n,In(a,n.current)),Pe=null;return}i.flags&32768?(Qe||c===1?n=!0:Zs||(Ge&536870912)!==0?n=!1:(Bi=n=!0,(c===2||c===9||c===3||c===6)&&(c=Gn.current,c!==null&&c.tag===13&&(c.flags|=16384))),v1(i,n)):Af(i)}function Af(n){var i=n;do{if((i.flags&32768)!==0){v1(i,Bi);return}n=i.return;var a=AD(i.alternate,i,ei);if(a!==null){Pe=a;return}if(i=i.sibling,i!==null){Pe=i;return}Pe=i=n}while(i!==null);_t===0&&(_t=5)}function v1(n,i){do{var a=OD(n.alternate,n);if(a!==null){a.flags&=32767,Pe=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(n=n.sibling,n!==null)){Pe=n;return}Pe=n=a}while(n!==null);_t=6,Pe=null}function _1(n,i,a,c,p,m,T,k,F){n.cancelPendingCommit=null;do Of();while(Pt!==0);if((nt&6)!==0)throw Error(l(327));if(i!==null){if(i===n.current)throw Error(l(177));if(m=i.lanes|i.childLanes,m|=xp,pM(n,a,m,T,k,F),n===gt&&(Pe=gt=null,Ge=0),Qs=i,Hi=n,Js=a,Nm=m,Am=p,c1=c,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,HD(on,function(){return w1(),null})):(n.callbackNode=null,n.callbackPriority=0),c=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||c){c=U.T,U.T=null,p=G.p,G.p=2,T=nt,nt|=4;try{RD(n,i,a)}finally{nt=T,G.p=p,U.T=c}}Pt=1,S1(),x1(),C1()}}function S1(){if(Pt===1){Pt=0;var n=Hi,i=Qs,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=U.T,U.T=null;var c=G.p;G.p=2;var p=nt;nt|=4;try{r1(i,n);var m=Im,T=ux(n.containerInfo),k=m.focusedElem,F=m.selectionRange;if(T!==k&&k&&k.ownerDocument&&ox(k.ownerDocument.documentElement,k)){if(F!==null&&yp(k)){var Q=F.start,se=F.end;if(se===void 0&&(se=Q),"selectionStart"in k)k.selectionStart=Q,k.selectionEnd=Math.min(se,k.value.length);else{var ce=k.ownerDocument||document,ee=ce&&ce.defaultView||window;if(ee.getSelection){var te=ee.getSelection(),Re=k.textContent.length,Ne=Math.min(F.start,Re),ot=F.end===void 0?Ne:Math.min(F.end,Re);!te.extend&&Ne>ot&&(T=ot,ot=Ne,Ne=T);var P=ax(k,Ne),j=ax(k,ot);if(P&&j&&(te.rangeCount!==1||te.anchorNode!==P.node||te.anchorOffset!==P.offset||te.focusNode!==j.node||te.focusOffset!==j.offset)){var V=ce.createRange();V.setStart(P.node,P.offset),te.removeAllRanges(),Ne>ot?(te.addRange(V),te.extend(j.node,j.offset)):(V.setEnd(j.node,j.offset),te.addRange(V))}}}}for(ce=[],te=k;te=te.parentNode;)te.nodeType===1&&ce.push({element:te,left:te.scrollLeft,top:te.scrollTop});for(typeof k.focus=="function"&&k.focus(),k=0;k<ce.length;k++){var ae=ce[k];ae.element.scrollLeft=ae.left,ae.element.scrollTop=ae.top}}Hf=!!Pm,Im=Pm=null}finally{nt=p,G.p=c,U.T=a}}n.current=i,Pt=2}}function x1(){if(Pt===2){Pt=0;var n=Hi,i=Qs,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=U.T,U.T=null;var c=G.p;G.p=2;var p=nt;nt|=4;try{JC(n,i.alternate,i)}finally{nt=p,G.p=c,U.T=a}}Pt=3}}function C1(){if(Pt===4||Pt===3){Pt=0,Je();var n=Hi,i=Qs,a=Js,c=c1;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Pt=5:(Pt=0,Qs=Hi=null,E1(n,n.pendingLanes));var p=n.pendingLanes;if(p===0&&(ji=null),Zh(a),i=i.stateNode,Nn&&typeof Nn.onCommitFiberRoot=="function")try{Nn.onCommitFiberRoot(lo,i,void 0,(i.current.flags&128)===128)}catch{}if(c!==null){i=U.T,p=G.p,G.p=2,U.T=null;try{for(var m=n.onRecoverableError,T=0;T<c.length;T++){var k=c[T];m(k.value,{componentStack:k.stack})}}finally{U.T=i,G.p=p}}(Js&3)!==0&&Of(),Ar(n),p=n.pendingLanes,(a&4194090)!==0&&(p&42)!==0?n===Om?Io++:(Io=0,Om=n):Io=0,qo(0)}}function E1(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,Eo(i)))}function Of(n){return S1(),x1(),C1(),w1()}function w1(){if(Pt!==5)return!1;var n=Hi,i=Nm;Nm=0;var a=Zh(Js),c=U.T,p=G.p;try{G.p=32>a?32:a,U.T=null,a=Am,Am=null;var m=Hi,T=Js;if(Pt=0,Qs=Hi=null,Js=0,(nt&6)!==0)throw Error(l(331));var k=nt;if(nt|=4,o1(m.current),l1(m,m.current,T,a),nt=k,qo(0,!1),Nn&&typeof Nn.onPostCommitFiberRoot=="function")try{Nn.onPostCommitFiberRoot(lo,m)}catch{}return!0}finally{G.p=p,U.T=c,E1(n,i)}}function T1(n,i,a){i=In(a,i),i=am(n.stateNode,i,2),n=ki(n,i,2),n!==null&&(ao(n,2),Ar(n))}function ct(n,i,a){if(n.tag===3)T1(n,n,a);else for(;i!==null;){if(i.tag===3){T1(i,n,a);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(ji===null||!ji.has(c))){n=In(a,n),a=RC(2),c=ki(i,a,2),c!==null&&(kC(a,c,i,n),ao(c,2),Ar(c));break}}i=i.return}}function Dm(n,i,a){var c=n.pingCache;if(c===null){c=n.pingCache=new DD;var p=new Set;c.set(i,p)}else p=c.get(i),p===void 0&&(p=new Set,c.set(i,p));p.has(a)||(Cm=!0,p.add(a),n=BD.bind(null,n,i,a),i.then(n,n))}function BD(n,i,a){var c=n.pingCache;c!==null&&c.delete(i),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,gt===n&&(Ge&a)===a&&(_t===4||_t===3&&(Ge&62914560)===Ge&&300>Ve()-Tm?(nt&2)===0&&ea(n,0):Em|=a,Ws===Ge&&(Ws=0)),Ar(n)}function N1(n,i){i===0&&(i=CS()),n=$s(n,i),n!==null&&(ao(n,i),Ar(n))}function UD(n){var i=n.memoizedState,a=0;i!==null&&(a=i.retryLane),N1(n,a)}function jD(n,i){var a=0;switch(n.tag){case 13:var c=n.stateNode,p=n.memoizedState;p!==null&&(a=p.retryLane);break;case 19:c=n.stateNode;break;case 22:c=n.stateNode._retryCache;break;default:throw Error(l(314))}c!==null&&c.delete(i),N1(n,a)}function HD(n,i){return fe(n,i)}var Rf=null,na=null,Lm=!1,kf=!1,zm=!1,jl=0;function Ar(n){n!==na&&n.next===null&&(na===null?Rf=na=n:na=na.next=n),kf=!0,Lm||(Lm=!0,PD())}function qo(n,i){if(!zm&&kf){zm=!0;do for(var a=!1,c=Rf;c!==null;){if(n!==0){var p=c.pendingLanes;if(p===0)var m=0;else{var T=c.suspendedLanes,k=c.pingedLanes;m=(1<<31-An(42|n)+1)-1,m&=p&~(T&~k),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,k1(c,m))}else m=Ge,m=$c(c,c===gt?m:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(m&3)===0||so(c,m)||(a=!0,k1(c,m));c=c.next}while(a);zm=!1}}function KD(){A1()}function A1(){kf=Lm=!1;var n=0;jl!==0&&(WD()&&(n=jl),jl=0);for(var i=Ve(),a=null,c=Rf;c!==null;){var p=c.next,m=O1(c,i);m===0?(c.next=null,a===null?Rf=p:a.next=p,p===null&&(na=a)):(a=c,(n!==0||(m&3)!==0)&&(kf=!0)),c=p}qo(n)}function O1(n,i){for(var a=n.suspendedLanes,c=n.pingedLanes,p=n.expirationTimes,m=n.pendingLanes&-62914561;0<m;){var T=31-An(m),k=1<<T,F=p[T];F===-1?((k&a)===0||(k&c)!==0)&&(p[T]=hM(k,i)):F<=i&&(n.expiredLanes|=k),m&=~k}if(i=gt,a=Ge,a=$c(n,n===i?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c=n.callbackNode,a===0||n===i&&(rt===2||rt===9)||n.cancelPendingCommit!==null)return c!==null&&c!==null&&Se(c),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||so(n,a)){if(i=a&-a,i===n.callbackPriority)return i;switch(c!==null&&Se(c),Zh(a)){case 2:case 8:a=an;break;case 32:a=on;break;case 268435456:a=Ss;break;default:a=on}return c=R1.bind(null,n),a=fe(a,c),n.callbackPriority=i,n.callbackNode=a,i}return c!==null&&c!==null&&Se(c),n.callbackPriority=2,n.callbackNode=null,2}function R1(n,i){if(Pt!==0&&Pt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(Of()&&n.callbackNode!==a)return null;var c=Ge;return c=$c(n,n===gt?c:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c===0?null:(d1(n,c,i),O1(n,Ve()),n.callbackNode!=null&&n.callbackNode===a?R1.bind(null,n):null)}function k1(n,i){if(Of())return null;d1(n,i,!0)}function PD(){JD(function(){(nt&6)!==0?fe(sn,KD):A1()})}function $m(){return jl===0&&(jl=xS()),jl}function M1(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Hc(""+n)}function D1(n,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,n.id&&a.setAttribute("form",n.id),i.parentNode.insertBefore(a,i),n=new FormData(n),a.parentNode.removeChild(a),n}function ID(n,i,a,c,p){if(i==="submit"&&a&&a.stateNode===p){var m=M1((p[bn]||null).action),T=c.submitter;T&&(i=(i=T[bn]||null)?M1(i.formAction):T.getAttribute("formAction"),i!==null&&(m=i,T=null));var k=new qc("action","action",null,c,p);n.push({event:k,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(jl!==0){var F=T?D1(p,T):new FormData(p);nm(a,{pending:!0,data:F,method:p.method,action:m},null,F)}}else typeof m=="function"&&(k.preventDefault(),F=T?D1(p,T):new FormData(p),nm(a,{pending:!0,data:F,method:p.method,action:m},m,F))},currentTarget:p}]})}}for(var Fm=0;Fm<Sp.length;Fm++){var Bm=Sp[Fm],qD=Bm.toLowerCase(),YD=Bm[0].toUpperCase()+Bm.slice(1);cr(qD,"on"+YD)}cr(dx,"onAnimationEnd"),cr(gx,"onAnimationIteration"),cr(hx,"onAnimationStart"),cr("dblclick","onDoubleClick"),cr("focusin","onFocus"),cr("focusout","onBlur"),cr(uD,"onTransitionRun"),cr(cD,"onTransitionStart"),cr(fD,"onTransitionCancel"),cr(px,"onTransitionEnd"),Ts("onMouseEnter",["mouseout","mouseover"]),Ts("onMouseLeave",["mouseout","mouseover"]),Ts("onPointerEnter",["pointerout","pointerover"]),Ts("onPointerLeave",["pointerout","pointerover"]),El("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),El("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),El("onBeforeInput",["compositionend","keypress","textInput","paste"]),El("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),El("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),El("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),VD=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Yo));function L1(n,i){i=(i&4)!==0;for(var a=0;a<n.length;a++){var c=n[a],p=c.event;c=c.listeners;e:{var m=void 0;if(i)for(var T=c.length-1;0<=T;T--){var k=c[T],F=k.instance,Q=k.currentTarget;if(k=k.listener,F!==m&&p.isPropagationStopped())break e;m=k,p.currentTarget=Q;try{m(p)}catch(se){bf(se)}p.currentTarget=null,m=F}else for(T=0;T<c.length;T++){if(k=c[T],F=k.instance,Q=k.currentTarget,k=k.listener,F!==m&&p.isPropagationStopped())break e;m=k,p.currentTarget=Q;try{m(p)}catch(se){bf(se)}p.currentTarget=null,m=F}}}}function Ie(n,i){var a=i[Wh];a===void 0&&(a=i[Wh]=new Set);var c=n+"__bubble";a.has(c)||(z1(i,n,2,!1),a.add(c))}function Um(n,i,a){var c=0;i&&(c|=4),z1(a,n,c,i)}var Mf="_reactListening"+Math.random().toString(36).slice(2);function jm(n){if(!n[Mf]){n[Mf]=!0,AS.forEach(function(a){a!=="selectionchange"&&(VD.has(a)||Um(a,!1,n),Um(a,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[Mf]||(i[Mf]=!0,Um("selectionchange",!1,i))}}function z1(n,i,a,c){switch(lE(i)){case 2:var p=_2;break;case 8:p=S2;break;default:p=ey}a=p.bind(null,i,a,n),p=void 0,!op||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(p=!0),c?p!==void 0?n.addEventListener(i,a,{capture:!0,passive:p}):n.addEventListener(i,a,!0):p!==void 0?n.addEventListener(i,a,{passive:p}):n.addEventListener(i,a,!1)}function Hm(n,i,a,c,p){var m=c;if((i&1)===0&&(i&2)===0&&c!==null)e:for(;;){if(c===null)return;var T=c.tag;if(T===3||T===4){var k=c.stateNode.containerInfo;if(k===p)break;if(T===4)for(T=c.return;T!==null;){var F=T.tag;if((F===3||F===4)&&T.stateNode.containerInfo===p)return;T=T.return}for(;k!==null;){if(T=Cs(k),T===null)return;if(F=T.tag,F===5||F===6||F===26||F===27){c=m=T;continue e}k=k.parentNode}}c=c.return}KS(function(){var Q=m,se=sp(a),ce=[];e:{var ee=mx.get(n);if(ee!==void 0){var te=qc,Re=n;switch(n){case"keypress":if(Pc(a)===0)break e;case"keydown":case"keyup":te=HM;break;case"focusin":Re="focus",te=dp;break;case"focusout":Re="blur",te=dp;break;case"beforeblur":case"afterblur":te=dp;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=qS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=OM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=IM;break;case dx:case gx:case hx:te=MM;break;case px:te=YM;break;case"scroll":case"scrollend":te=NM;break;case"wheel":te=GM;break;case"copy":case"cut":case"paste":te=LM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=VS;break;case"toggle":case"beforetoggle":te=ZM}var Ne=(i&4)!==0,ot=!Ne&&(n==="scroll"||n==="scrollend"),P=Ne?ee!==null?ee+"Capture":null:ee;Ne=[];for(var j=Q,V;j!==null;){var ae=j;if(V=ae.stateNode,ae=ae.tag,ae!==5&&ae!==26&&ae!==27||V===null||P===null||(ae=co(j,P),ae!=null&&Ne.push(Vo(j,ae,V))),ot)break;j=j.return}0<Ne.length&&(ee=new te(ee,Re,null,a,se),ce.push({event:ee,listeners:Ne}))}}if((i&7)===0){e:{if(ee=n==="mouseover"||n==="pointerover",te=n==="mouseout"||n==="pointerout",ee&&a!==lp&&(Re=a.relatedTarget||a.fromElement)&&(Cs(Re)||Re[xs]))break e;if((te||ee)&&(ee=se.window===se?se:(ee=se.ownerDocument)?ee.defaultView||ee.parentWindow:window,te?(Re=a.relatedTarget||a.toElement,te=Q,Re=Re?Cs(Re):null,Re!==null&&(ot=o(Re),Ne=Re.tag,Re!==ot||Ne!==5&&Ne!==27&&Ne!==6)&&(Re=null)):(te=null,Re=Q),te!==Re)){if(Ne=qS,ae="onMouseLeave",P="onMouseEnter",j="mouse",(n==="pointerout"||n==="pointerover")&&(Ne=VS,ae="onPointerLeave",P="onPointerEnter",j="pointer"),ot=te==null?ee:uo(te),V=Re==null?ee:uo(Re),ee=new Ne(ae,j+"leave",te,a,se),ee.target=ot,ee.relatedTarget=V,ae=null,Cs(se)===Q&&(Ne=new Ne(P,j+"enter",Re,a,se),Ne.target=V,Ne.relatedTarget=ot,ae=Ne),ot=ae,te&&Re)t:{for(Ne=te,P=Re,j=0,V=Ne;V;V=ra(V))j++;for(V=0,ae=P;ae;ae=ra(ae))V++;for(;0<j-V;)Ne=ra(Ne),j--;for(;0<V-j;)P=ra(P),V--;for(;j--;){if(Ne===P||P!==null&&Ne===P.alternate)break t;Ne=ra(Ne),P=ra(P)}Ne=null}else Ne=null;te!==null&&$1(ce,ee,te,Ne,!1),Re!==null&&ot!==null&&$1(ce,ot,Re,Ne,!0)}}e:{if(ee=Q?uo(Q):window,te=ee.nodeName&&ee.nodeName.toLowerCase(),te==="select"||te==="input"&&ee.type==="file")var ve=tx;else if(JS(ee))if(nx)ve=sD;else{ve=iD;var He=rD}else te=ee.nodeName,!te||te.toLowerCase()!=="input"||ee.type!=="checkbox"&&ee.type!=="radio"?Q&&ip(Q.elementType)&&(ve=tx):ve=lD;if(ve&&(ve=ve(n,Q))){ex(ce,ve,a,se);break e}He&&He(n,ee,Q),n==="focusout"&&Q&&ee.type==="number"&&Q.memoizedProps.value!=null&&rp(ee,"number",ee.value)}switch(He=Q?uo(Q):window,n){case"focusin":(JS(He)||He.contentEditable==="true")&&(Ds=He,bp=Q,vo=null);break;case"focusout":vo=bp=Ds=null;break;case"mousedown":vp=!0;break;case"contextmenu":case"mouseup":case"dragend":vp=!1,cx(ce,a,se);break;case"selectionchange":if(oD)break;case"keydown":case"keyup":cx(ce,a,se)}var we;if(hp)e:{switch(n){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else Ms?WS(n,a)&&(Ae="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Ae="onCompositionStart");Ae&&(GS&&a.locale!=="ko"&&(Ms||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&Ms&&(we=PS()):(Ni=se,up="value"in Ni?Ni.value:Ni.textContent,Ms=!0)),He=Df(Q,Ae),0<He.length&&(Ae=new YS(Ae,n,null,a,se),ce.push({event:Ae,listeners:He}),we?Ae.data=we:(we=QS(a),we!==null&&(Ae.data=we)))),(we=QM?JM(n,a):eD(n,a))&&(Ae=Df(Q,"onBeforeInput"),0<Ae.length&&(He=new YS("onBeforeInput","beforeinput",null,a,se),ce.push({event:He,listeners:Ae}),He.data=we)),ID(ce,n,Q,a,se)}L1(ce,i)})}function Vo(n,i,a){return{instance:n,listener:i,currentTarget:a}}function Df(n,i){for(var a=i+"Capture",c=[];n!==null;){var p=n,m=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||m===null||(p=co(n,a),p!=null&&c.unshift(Vo(n,p,m)),p=co(n,i),p!=null&&c.push(Vo(n,p,m))),n.tag===3)return c;n=n.return}return[]}function ra(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function $1(n,i,a,c,p){for(var m=i._reactName,T=[];a!==null&&a!==c;){var k=a,F=k.alternate,Q=k.stateNode;if(k=k.tag,F!==null&&F===c)break;k!==5&&k!==26&&k!==27||Q===null||(F=Q,p?(Q=co(a,m),Q!=null&&T.unshift(Vo(a,Q,F))):p||(Q=co(a,m),Q!=null&&T.push(Vo(a,Q,F)))),a=a.return}T.length!==0&&n.push({event:i,listeners:T})}var GD=/\r\n?/g,XD=/\u0000|\uFFFD/g;function F1(n){return(typeof n=="string"?n:""+n).replace(GD,`
`).replace(XD,"")}function B1(n,i){return i=F1(i),F1(n)===i}function Lf(){}function at(n,i,a,c,p,m){switch(a){case"children":typeof c=="string"?i==="body"||i==="textarea"&&c===""||Os(n,c):(typeof c=="number"||typeof c=="bigint")&&i!=="body"&&Os(n,""+c);break;case"className":Bc(n,"class",c);break;case"tabIndex":Bc(n,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Bc(n,a,c);break;case"style":jS(n,c,m);break;case"data":if(i!=="object"){Bc(n,"data",c);break}case"src":case"href":if(c===""&&(i!=="a"||a!=="href")){n.removeAttribute(a);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(a);break}c=Hc(""+c),n.setAttribute(a,c);break;case"action":case"formAction":if(typeof c=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(i!=="input"&&at(n,i,"name",p.name,p,null),at(n,i,"formEncType",p.formEncType,p,null),at(n,i,"formMethod",p.formMethod,p,null),at(n,i,"formTarget",p.formTarget,p,null)):(at(n,i,"encType",p.encType,p,null),at(n,i,"method",p.method,p,null),at(n,i,"target",p.target,p,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(a);break}c=Hc(""+c),n.setAttribute(a,c);break;case"onClick":c!=null&&(n.onclick=Lf);break;case"onScroll":c!=null&&Ie("scroll",n);break;case"onScrollEnd":c!=null&&Ie("scrollend",n);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(l(61));if(a=c.__html,a!=null){if(p.children!=null)throw Error(l(60));n.innerHTML=a}}break;case"multiple":n.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":n.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){n.removeAttribute("xlink:href");break}a=Hc(""+c),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(a,""+c):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":c===!0?n.setAttribute(a,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(a,c):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?n.setAttribute(a,c):n.removeAttribute(a);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?n.removeAttribute(a):n.setAttribute(a,c);break;case"popover":Ie("beforetoggle",n),Ie("toggle",n),Fc(n,"popover",c);break;case"xlinkActuate":Hr(n,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Hr(n,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Hr(n,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Hr(n,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Hr(n,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Hr(n,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Hr(n,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Hr(n,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Hr(n,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Fc(n,"is",c);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=wM.get(a)||a,Fc(n,a,c))}}function Km(n,i,a,c,p,m){switch(a){case"style":jS(n,c,m);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(l(61));if(a=c.__html,a!=null){if(p.children!=null)throw Error(l(60));n.innerHTML=a}}break;case"children":typeof c=="string"?Os(n,c):(typeof c=="number"||typeof c=="bigint")&&Os(n,""+c);break;case"onScroll":c!=null&&Ie("scroll",n);break;case"onScrollEnd":c!=null&&Ie("scrollend",n);break;case"onClick":c!=null&&(n.onclick=Lf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!OS.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(p=a.endsWith("Capture"),i=a.slice(2,p?a.length-7:void 0),m=n[bn]||null,m=m!=null?m[a]:null,typeof m=="function"&&n.removeEventListener(i,m,p),typeof c=="function")){typeof m!="function"&&m!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(i,c,p);break e}a in n?n[a]=c:c===!0?n.setAttribute(a,""):Fc(n,a,c)}}}function It(n,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ie("error",n),Ie("load",n);var c=!1,p=!1,m;for(m in a)if(a.hasOwnProperty(m)){var T=a[m];if(T!=null)switch(m){case"src":c=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,i));default:at(n,i,m,T,a,null)}}p&&at(n,i,"srcSet",a.srcSet,a,null),c&&at(n,i,"src",a.src,a,null);return;case"input":Ie("invalid",n);var k=m=T=p=null,F=null,Q=null;for(c in a)if(a.hasOwnProperty(c)){var se=a[c];if(se!=null)switch(c){case"name":p=se;break;case"type":T=se;break;case"checked":F=se;break;case"defaultChecked":Q=se;break;case"value":m=se;break;case"defaultValue":k=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(l(137,i));break;default:at(n,i,c,se,a,null)}}$S(n,m,k,F,Q,T,p,!1),Uc(n);return;case"select":Ie("invalid",n),c=T=m=null;for(p in a)if(a.hasOwnProperty(p)&&(k=a[p],k!=null))switch(p){case"value":m=k;break;case"defaultValue":T=k;break;case"multiple":c=k;default:at(n,i,p,k,a,null)}i=m,a=T,n.multiple=!!c,i!=null?As(n,!!c,i,!1):a!=null&&As(n,!!c,a,!0);return;case"textarea":Ie("invalid",n),m=p=c=null;for(T in a)if(a.hasOwnProperty(T)&&(k=a[T],k!=null))switch(T){case"value":c=k;break;case"defaultValue":p=k;break;case"children":m=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(l(91));break;default:at(n,i,T,k,a,null)}BS(n,c,p,m),Uc(n);return;case"option":for(F in a)if(a.hasOwnProperty(F)&&(c=a[F],c!=null))switch(F){case"selected":n.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:at(n,i,F,c,a,null)}return;case"dialog":Ie("beforetoggle",n),Ie("toggle",n),Ie("cancel",n),Ie("close",n);break;case"iframe":case"object":Ie("load",n);break;case"video":case"audio":for(c=0;c<Yo.length;c++)Ie(Yo[c],n);break;case"image":Ie("error",n),Ie("load",n);break;case"details":Ie("toggle",n);break;case"embed":case"source":case"link":Ie("error",n),Ie("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in a)if(a.hasOwnProperty(Q)&&(c=a[Q],c!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,i));default:at(n,i,Q,c,a,null)}return;default:if(ip(i)){for(se in a)a.hasOwnProperty(se)&&(c=a[se],c!==void 0&&Km(n,i,se,c,a,void 0));return}}for(k in a)a.hasOwnProperty(k)&&(c=a[k],c!=null&&at(n,i,k,c,a,null))}function ZD(n,i,a,c){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,m=null,T=null,k=null,F=null,Q=null,se=null;for(te in a){var ce=a[te];if(a.hasOwnProperty(te)&&ce!=null)switch(te){case"checked":break;case"value":break;case"defaultValue":F=ce;default:c.hasOwnProperty(te)||at(n,i,te,null,c,ce)}}for(var ee in c){var te=c[ee];if(ce=a[ee],c.hasOwnProperty(ee)&&(te!=null||ce!=null))switch(ee){case"type":m=te;break;case"name":p=te;break;case"checked":Q=te;break;case"defaultChecked":se=te;break;case"value":T=te;break;case"defaultValue":k=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(l(137,i));break;default:te!==ce&&at(n,i,ee,te,c,ce)}}np(n,T,k,F,Q,se,m,p);return;case"select":te=T=k=ee=null;for(m in a)if(F=a[m],a.hasOwnProperty(m)&&F!=null)switch(m){case"value":break;case"multiple":te=F;default:c.hasOwnProperty(m)||at(n,i,m,null,c,F)}for(p in c)if(m=c[p],F=a[p],c.hasOwnProperty(p)&&(m!=null||F!=null))switch(p){case"value":ee=m;break;case"defaultValue":k=m;break;case"multiple":T=m;default:m!==F&&at(n,i,p,m,c,F)}i=k,a=T,c=te,ee!=null?As(n,!!a,ee,!1):!!c!=!!a&&(i!=null?As(n,!!a,i,!0):As(n,!!a,a?[]:"",!1));return;case"textarea":te=ee=null;for(k in a)if(p=a[k],a.hasOwnProperty(k)&&p!=null&&!c.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:at(n,i,k,null,c,p)}for(T in c)if(p=c[T],m=a[T],c.hasOwnProperty(T)&&(p!=null||m!=null))switch(T){case"value":ee=p;break;case"defaultValue":te=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(l(91));break;default:p!==m&&at(n,i,T,p,c,m)}FS(n,ee,te);return;case"option":for(var Re in a)if(ee=a[Re],a.hasOwnProperty(Re)&&ee!=null&&!c.hasOwnProperty(Re))switch(Re){case"selected":n.selected=!1;break;default:at(n,i,Re,null,c,ee)}for(F in c)if(ee=c[F],te=a[F],c.hasOwnProperty(F)&&ee!==te&&(ee!=null||te!=null))switch(F){case"selected":n.selected=ee&&typeof ee!="function"&&typeof ee!="symbol";break;default:at(n,i,F,ee,c,te)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ne in a)ee=a[Ne],a.hasOwnProperty(Ne)&&ee!=null&&!c.hasOwnProperty(Ne)&&at(n,i,Ne,null,c,ee);for(Q in c)if(ee=c[Q],te=a[Q],c.hasOwnProperty(Q)&&ee!==te&&(ee!=null||te!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(l(137,i));break;default:at(n,i,Q,ee,c,te)}return;default:if(ip(i)){for(var ot in a)ee=a[ot],a.hasOwnProperty(ot)&&ee!==void 0&&!c.hasOwnProperty(ot)&&Km(n,i,ot,void 0,c,ee);for(se in c)ee=c[se],te=a[se],!c.hasOwnProperty(se)||ee===te||ee===void 0&&te===void 0||Km(n,i,se,ee,c,te);return}}for(var P in a)ee=a[P],a.hasOwnProperty(P)&&ee!=null&&!c.hasOwnProperty(P)&&at(n,i,P,null,c,ee);for(ce in c)ee=c[ce],te=a[ce],!c.hasOwnProperty(ce)||ee===te||ee==null&&te==null||at(n,i,ce,ee,c,te)}var Pm=null,Im=null;function zf(n){return n.nodeType===9?n:n.ownerDocument}function U1(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function j1(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function qm(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Ym=null;function WD(){var n=window.event;return n&&n.type==="popstate"?n===Ym?!1:(Ym=n,!0):(Ym=null,!1)}var H1=typeof setTimeout=="function"?setTimeout:void 0,QD=typeof clearTimeout=="function"?clearTimeout:void 0,K1=typeof Promise=="function"?Promise:void 0,JD=typeof queueMicrotask=="function"?queueMicrotask:typeof K1<"u"?function(n){return K1.resolve(null).then(n).catch(e2)}:H1;function e2(n){setTimeout(function(){throw n})}function Pi(n){return n==="head"}function P1(n,i){var a=i,c=0,p=0;do{var m=a.nextSibling;if(n.removeChild(a),m&&m.nodeType===8)if(a=m.data,a==="/$"){if(0<c&&8>c){a=c;var T=n.ownerDocument;if(a&1&&Go(T.documentElement),a&2&&Go(T.body),a&4)for(a=T.head,Go(a),T=a.firstChild;T;){var k=T.nextSibling,F=T.nodeName;T[oo]||F==="SCRIPT"||F==="STYLE"||F==="LINK"&&T.rel.toLowerCase()==="stylesheet"||a.removeChild(T),T=k}}if(p===0){n.removeChild(m),nu(i);return}p--}else a==="$"||a==="$?"||a==="$!"?p++:c=a.charCodeAt(0)-48;else c=0;a=m}while(a);nu(i)}function Vm(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Vm(a),Qh(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function t2(n,i,a,c){for(;n.nodeType===1;){var p=a;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!c&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(c){if(!n[oo])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(m=n.getAttribute("rel"),m==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(m!==p.rel||n.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||n.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||n.getAttribute("title")!==(p.title==null?null:p.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(m=n.getAttribute("src"),(m!==(p.src==null?null:p.src)||n.getAttribute("type")!==(p.type==null?null:p.type)||n.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&m&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var m=p.name==null?null:""+p.name;if(p.type==="hidden"&&n.getAttribute("name")===m)return n}else return n;if(n=dr(n.nextSibling),n===null)break}return null}function n2(n,i,a){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=dr(n.nextSibling),n===null))return null;return n}function Gm(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function r2(n,i){var a=n.ownerDocument;if(n.data!=="$?"||a.readyState==="complete")i();else{var c=function(){i(),a.removeEventListener("DOMContentLoaded",c)};a.addEventListener("DOMContentLoaded",c),n._reactRetry=c}}function dr(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return n}var Xm=null;function I1(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return n;i--}else a==="/$"&&i++}n=n.previousSibling}return null}function q1(n,i,a){switch(i=zf(a),n){case"html":if(n=i.documentElement,!n)throw Error(l(452));return n;case"head":if(n=i.head,!n)throw Error(l(453));return n;case"body":if(n=i.body,!n)throw Error(l(454));return n;default:throw Error(l(451))}}function Go(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);Qh(n)}var Zn=new Map,Y1=new Set;function $f(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var ti=G.d;G.d={f:i2,r:l2,D:s2,C:a2,L:o2,m:u2,X:f2,S:c2,M:d2};function i2(){var n=ti.f(),i=Nf();return n||i}function l2(n){var i=Es(n);i!==null&&i.tag===5&&i.type==="form"?dC(i):ti.r(n)}var ia=typeof document>"u"?null:document;function V1(n,i,a){var c=ia;if(c&&typeof i=="string"&&i){var p=Pn(i);p='link[rel="'+n+'"][href="'+p+'"]',typeof a=="string"&&(p+='[crossorigin="'+a+'"]'),Y1.has(p)||(Y1.add(p),n={rel:n,crossOrigin:a,href:i},c.querySelector(p)===null&&(i=c.createElement("link"),It(i,"link",n),Lt(i),c.head.appendChild(i)))}}function s2(n){ti.D(n),V1("dns-prefetch",n,null)}function a2(n,i){ti.C(n,i),V1("preconnect",n,i)}function o2(n,i,a){ti.L(n,i,a);var c=ia;if(c&&n&&i){var p='link[rel="preload"][as="'+Pn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(p+='[imagesrcset="'+Pn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(p+='[imagesizes="'+Pn(a.imageSizes)+'"]')):p+='[href="'+Pn(n)+'"]';var m=p;switch(i){case"style":m=la(n);break;case"script":m=sa(n)}Zn.has(m)||(n=h({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:n,as:i},a),Zn.set(m,n),c.querySelector(p)!==null||i==="style"&&c.querySelector(Xo(m))||i==="script"&&c.querySelector(Zo(m))||(i=c.createElement("link"),It(i,"link",n),Lt(i),c.head.appendChild(i)))}}function u2(n,i){ti.m(n,i);var a=ia;if(a&&n){var c=i&&typeof i.as=="string"?i.as:"script",p='link[rel="modulepreload"][as="'+Pn(c)+'"][href="'+Pn(n)+'"]',m=p;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=sa(n)}if(!Zn.has(m)&&(n=h({rel:"modulepreload",href:n},i),Zn.set(m,n),a.querySelector(p)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Zo(m)))return}c=a.createElement("link"),It(c,"link",n),Lt(c),a.head.appendChild(c)}}}function c2(n,i,a){ti.S(n,i,a);var c=ia;if(c&&n){var p=ws(c).hoistableStyles,m=la(n);i=i||"default";var T=p.get(m);if(!T){var k={loading:0,preload:null};if(T=c.querySelector(Xo(m)))k.loading=5;else{n=h({rel:"stylesheet",href:n,"data-precedence":i},a),(a=Zn.get(m))&&Zm(n,a);var F=T=c.createElement("link");Lt(F),It(F,"link",n),F._p=new Promise(function(Q,se){F.onload=Q,F.onerror=se}),F.addEventListener("load",function(){k.loading|=1}),F.addEventListener("error",function(){k.loading|=2}),k.loading|=4,Ff(T,i,c)}T={type:"stylesheet",instance:T,count:1,state:k},p.set(m,T)}}}function f2(n,i){ti.X(n,i);var a=ia;if(a&&n){var c=ws(a).hoistableScripts,p=sa(n),m=c.get(p);m||(m=a.querySelector(Zo(p)),m||(n=h({src:n,async:!0},i),(i=Zn.get(p))&&Wm(n,i),m=a.createElement("script"),Lt(m),It(m,"link",n),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},c.set(p,m))}}function d2(n,i){ti.M(n,i);var a=ia;if(a&&n){var c=ws(a).hoistableScripts,p=sa(n),m=c.get(p);m||(m=a.querySelector(Zo(p)),m||(n=h({src:n,async:!0,type:"module"},i),(i=Zn.get(p))&&Wm(n,i),m=a.createElement("script"),Lt(m),It(m,"link",n),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},c.set(p,m))}}function G1(n,i,a,c){var p=(p=me.current)?$f(p):null;if(!p)throw Error(l(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=la(a.href),a=ws(p).hoistableStyles,c=a.get(i),c||(c={type:"style",instance:null,count:0,state:null},a.set(i,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=la(a.href);var m=ws(p).hoistableStyles,T=m.get(n);if(T||(p=p.ownerDocument||p,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(n,T),(m=p.querySelector(Xo(n)))&&!m._p&&(T.instance=m,T.state.loading=5),Zn.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Zn.set(n,a),m||g2(p,n,a,T.state))),i&&c===null)throw Error(l(528,""));return T}if(i&&c!==null)throw Error(l(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=sa(a),a=ws(p).hoistableScripts,c=a.get(i),c||(c={type:"script",instance:null,count:0,state:null},a.set(i,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,n))}}function la(n){return'href="'+Pn(n)+'"'}function Xo(n){return'link[rel="stylesheet"]['+n+"]"}function X1(n){return h({},n,{"data-precedence":n.precedence,precedence:null})}function g2(n,i,a,c){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?c.loading=1:(i=n.createElement("link"),c.preload=i,i.addEventListener("load",function(){return c.loading|=1}),i.addEventListener("error",function(){return c.loading|=2}),It(i,"link",a),Lt(i),n.head.appendChild(i))}function sa(n){return'[src="'+Pn(n)+'"]'}function Zo(n){return"script[async]"+n}function Z1(n,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var c=n.querySelector('style[data-href~="'+Pn(a.href)+'"]');if(c)return i.instance=c,Lt(c),c;var p=h({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return c=(n.ownerDocument||n).createElement("style"),Lt(c),It(c,"style",p),Ff(c,a.precedence,n),i.instance=c;case"stylesheet":p=la(a.href);var m=n.querySelector(Xo(p));if(m)return i.state.loading|=4,i.instance=m,Lt(m),m;c=X1(a),(p=Zn.get(p))&&Zm(c,p),m=(n.ownerDocument||n).createElement("link"),Lt(m);var T=m;return T._p=new Promise(function(k,F){T.onload=k,T.onerror=F}),It(m,"link",c),i.state.loading|=4,Ff(m,a.precedence,n),i.instance=m;case"script":return m=sa(a.src),(p=n.querySelector(Zo(m)))?(i.instance=p,Lt(p),p):(c=a,(p=Zn.get(m))&&(c=h({},a),Wm(c,p)),n=n.ownerDocument||n,p=n.createElement("script"),Lt(p),It(p,"link",c),n.head.appendChild(p),i.instance=p);case"void":return null;default:throw Error(l(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(c=i.instance,i.state.loading|=4,Ff(c,a.precedence,n));return i.instance}function Ff(n,i,a){for(var c=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=c.length?c[c.length-1]:null,m=p,T=0;T<c.length;T++){var k=c[T];if(k.dataset.precedence===i)m=k;else if(m!==p)break}m?m.parentNode.insertBefore(n,m.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(n,i.firstChild))}function Zm(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function Wm(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var Bf=null;function W1(n,i,a){if(Bf===null){var c=new Map,p=Bf=new Map;p.set(a,c)}else p=Bf,c=p.get(a),c||(c=new Map,p.set(a,c));if(c.has(n))return c;for(c.set(n,null),a=a.getElementsByTagName(n),p=0;p<a.length;p++){var m=a[p];if(!(m[oo]||m[Qt]||n==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var T=m.getAttribute(i)||"";T=n+T;var k=c.get(T);k?k.push(m):c.set(T,[m])}}return c}function Q1(n,i,a){n=n.ownerDocument||n,n.head.insertBefore(a,i==="title"?n.querySelector("head > title"):null)}function h2(n,i,a){if(a===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function J1(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Wo=null;function p2(){}function m2(n,i,a){if(Wo===null)throw Error(l(475));var c=Wo;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var p=la(a.href),m=n.querySelector(Xo(p));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(c.count++,c=Uf.bind(c),n.then(c,c)),i.state.loading|=4,i.instance=m,Lt(m);return}m=n.ownerDocument||n,a=X1(a),(p=Zn.get(p))&&Zm(a,p),m=m.createElement("link"),Lt(m);var T=m;T._p=new Promise(function(k,F){T.onload=k,T.onerror=F}),It(m,"link",a),i.instance=m}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(c.count++,i=Uf.bind(c),n.addEventListener("load",i),n.addEventListener("error",i))}}function y2(){if(Wo===null)throw Error(l(475));var n=Wo;return n.stylesheets&&n.count===0&&Qm(n,n.stylesheets),0<n.count?function(i){var a=setTimeout(function(){if(n.stylesheets&&Qm(n,n.stylesheets),n.unsuspend){var c=n.unsuspend;n.unsuspend=null,c()}},6e4);return n.unsuspend=i,function(){n.unsuspend=null,clearTimeout(a)}}:null}function Uf(){if(this.count--,this.count===0){if(this.stylesheets)Qm(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var jf=null;function Qm(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,jf=new Map,i.forEach(b2,n),jf=null,Uf.call(n))}function b2(n,i){if(!(i.state.loading&4)){var a=jf.get(n);if(a)var c=a.get(null);else{a=new Map,jf.set(n,a);for(var p=n.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<p.length;m++){var T=p[m];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(a.set(T.dataset.precedence,T),c=T)}c&&a.set(null,c)}p=i.instance,T=p.getAttribute("data-precedence"),m=a.get(T)||c,m===c&&a.set(null,p),a.set(T,p),this.count++,c=Uf.bind(this),p.addEventListener("load",c),p.addEventListener("error",c),m?m.parentNode.insertBefore(p,m.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(p,n.firstChild)),i.state.loading|=4}}var Qo={$$typeof:E,Provider:null,Consumer:null,_currentValue:K,_currentValue2:K,_threadCount:0};function v2(n,i,a,c,p,m,T,k){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Gh(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gh(0),this.hiddenUpdates=Gh(null),this.identifierPrefix=c,this.onUncaughtError=p,this.onCaughtError=m,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function eE(n,i,a,c,p,m,T,k,F,Q,se,ce){return n=new v2(n,i,a,T,k,F,Q,ce),i=1,m===!0&&(i|=24),m=Rn(3,null,null,i),n.current=m,m.stateNode=n,i=Dp(),i.refCount++,n.pooledCache=i,i.refCount++,m.memoizedState={element:c,isDehydrated:a,cache:i},Fp(m),n}function tE(n){return n?(n=Fs,n):Fs}function nE(n,i,a,c,p,m){p=tE(p),c.context===null?c.context=p:c.pendingContext=p,c=Ri(i),c.payload={element:a},m=m===void 0?null:m,m!==null&&(c.callback=m),a=ki(n,c,i),a!==null&&(zn(a,n,i),Ao(a,n,i))}function rE(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<i?a:i}}function Jm(n,i){rE(n,i),(n=n.alternate)&&rE(n,i)}function iE(n){if(n.tag===13){var i=$s(n,67108864);i!==null&&zn(i,n,67108864),Jm(n,67108864)}}var Hf=!0;function _2(n,i,a,c){var p=U.T;U.T=null;var m=G.p;try{G.p=2,ey(n,i,a,c)}finally{G.p=m,U.T=p}}function S2(n,i,a,c){var p=U.T;U.T=null;var m=G.p;try{G.p=8,ey(n,i,a,c)}finally{G.p=m,U.T=p}}function ey(n,i,a,c){if(Hf){var p=ty(c);if(p===null)Hm(n,i,c,Kf,a),sE(n,c);else if(C2(p,n,i,a,c))c.stopPropagation();else if(sE(n,c),i&4&&-1<x2.indexOf(n)){for(;p!==null;){var m=Es(p);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var T=Cl(m.pendingLanes);if(T!==0){var k=m;for(k.pendingLanes|=2,k.entangledLanes|=2;T;){var F=1<<31-An(T);k.entanglements[1]|=F,T&=~F}Ar(m),(nt&6)===0&&(wf=Ve()+500,qo(0))}}break;case 13:k=$s(m,2),k!==null&&zn(k,m,2),Nf(),Jm(m,2)}if(m=ty(c),m===null&&Hm(n,i,c,Kf,a),m===p)break;p=m}p!==null&&c.stopPropagation()}else Hm(n,i,c,null,a)}}function ty(n){return n=sp(n),ny(n)}var Kf=null;function ny(n){if(Kf=null,n=Cs(n),n!==null){var i=o(n);if(i===null)n=null;else{var a=i.tag;if(a===13){if(n=u(i),n!==null)return n;n=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return Kf=n,null}function lE(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Wt()){case sn:return 2;case an:return 8;case on:case Sl:return 32;case Ss:return 268435456;default:return 32}default:return 32}}var ry=!1,Ii=null,qi=null,Yi=null,Jo=new Map,eu=new Map,Vi=[],x2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function sE(n,i){switch(n){case"focusin":case"focusout":Ii=null;break;case"dragenter":case"dragleave":qi=null;break;case"mouseover":case"mouseout":Yi=null;break;case"pointerover":case"pointerout":Jo.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":eu.delete(i.pointerId)}}function tu(n,i,a,c,p,m){return n===null||n.nativeEvent!==m?(n={blockedOn:i,domEventName:a,eventSystemFlags:c,nativeEvent:m,targetContainers:[p]},i!==null&&(i=Es(i),i!==null&&iE(i)),n):(n.eventSystemFlags|=c,i=n.targetContainers,p!==null&&i.indexOf(p)===-1&&i.push(p),n)}function C2(n,i,a,c,p){switch(i){case"focusin":return Ii=tu(Ii,n,i,a,c,p),!0;case"dragenter":return qi=tu(qi,n,i,a,c,p),!0;case"mouseover":return Yi=tu(Yi,n,i,a,c,p),!0;case"pointerover":var m=p.pointerId;return Jo.set(m,tu(Jo.get(m)||null,n,i,a,c,p)),!0;case"gotpointercapture":return m=p.pointerId,eu.set(m,tu(eu.get(m)||null,n,i,a,c,p)),!0}return!1}function aE(n){var i=Cs(n.target);if(i!==null){var a=o(i);if(a!==null){if(i=a.tag,i===13){if(i=u(a),i!==null){n.blockedOn=i,mM(n.priority,function(){if(a.tag===13){var c=Ln();c=Xh(c);var p=$s(a,c);p!==null&&zn(p,a,c),Jm(a,c)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Pf(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var a=ty(n.nativeEvent);if(a===null){a=n.nativeEvent;var c=new a.constructor(a.type,a);lp=c,a.target.dispatchEvent(c),lp=null}else return i=Es(a),i!==null&&iE(i),n.blockedOn=a,!1;i.shift()}return!0}function oE(n,i,a){Pf(n)&&a.delete(i)}function E2(){ry=!1,Ii!==null&&Pf(Ii)&&(Ii=null),qi!==null&&Pf(qi)&&(qi=null),Yi!==null&&Pf(Yi)&&(Yi=null),Jo.forEach(oE),eu.forEach(oE)}function If(n,i){n.blockedOn===i&&(n.blockedOn=null,ry||(ry=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,E2)))}var qf=null;function uE(n){qf!==n&&(qf=n,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){qf===n&&(qf=null);for(var i=0;i<n.length;i+=3){var a=n[i],c=n[i+1],p=n[i+2];if(typeof c!="function"){if(ny(c||a)===null)continue;break}var m=Es(a);m!==null&&(n.splice(i,3),i-=3,nm(m,{pending:!0,data:p,method:a.method,action:c},c,p))}}))}function nu(n){function i(F){return If(F,n)}Ii!==null&&If(Ii,n),qi!==null&&If(qi,n),Yi!==null&&If(Yi,n),Jo.forEach(i),eu.forEach(i);for(var a=0;a<Vi.length;a++){var c=Vi[a];c.blockedOn===n&&(c.blockedOn=null)}for(;0<Vi.length&&(a=Vi[0],a.blockedOn===null);)aE(a),a.blockedOn===null&&Vi.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(c=0;c<a.length;c+=3){var p=a[c],m=a[c+1],T=p[bn]||null;if(typeof m=="function")T||uE(a);else if(T){var k=null;if(m&&m.hasAttribute("formAction")){if(p=m,T=m[bn]||null)k=T.formAction;else if(ny(p)!==null)continue}else k=T.action;typeof k=="function"?a[c+1]=k:(a.splice(c,3),c-=3),uE(a)}}}function iy(n){this._internalRoot=n}Yf.prototype.render=iy.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(l(409));var a=i.current,c=Ln();nE(a,c,n,i,null,null)},Yf.prototype.unmount=iy.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;nE(n.current,2,null,n,null,null),Nf(),i[xs]=null}};function Yf(n){this._internalRoot=n}Yf.prototype.unstable_scheduleHydration=function(n){if(n){var i=TS();n={blockedOn:null,target:n,priority:i};for(var a=0;a<Vi.length&&i!==0&&i<Vi[a].priority;a++);Vi.splice(a,0,n),a===0&&aE(n)}};var cE=e.version;if(cE!=="19.1.0")throw Error(l(527,cE,"19.1.0"));G.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(l(188)):(n=Object.keys(n).join(","),Error(l(268,n)));return n=d(i),n=n!==null?g(n):null,n=n===null?null:n.stateNode,n};var w2={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vf.isDisabled&&Vf.supportsFiber)try{lo=Vf.inject(w2),Nn=Vf}catch{}}return oa.createRoot=function(n,i){if(!s(n))throw Error(l(299));var a=!1,c="",p=TC,m=NC,T=AC,k=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(p=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(T=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(k=i.unstable_transitionCallbacks)),i=eE(n,1,!1,null,null,a,c,p,m,T,k,null),n[xs]=i.current,jm(n),new iy(i)},oa.hydrateRoot=function(n,i,a){if(!s(n))throw Error(l(299));var c=!1,p="",m=TC,T=NC,k=AC,F=null,Q=null;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(T=a.onCaughtError),a.onRecoverableError!==void 0&&(k=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(F=a.unstable_transitionCallbacks),a.formState!==void 0&&(Q=a.formState)),i=eE(n,1,!0,i,a??null,c,p,m,T,k,F,Q),i.context=tE(null),a=i.current,c=Ln(),c=Xh(c),p=Ri(c),p.callback=null,ki(a,p,c),a=c,i.current.lanes=a,ao(i,a),Ar(i),n[xs]=i.current,jm(n),new Yf(i)},oa.version="19.1.0",oa}var py;function AE(){if(py)return Qf.exports;py=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Qf.exports=NE(),Qf.exports}var OE=AE();const RE=ni(OE),Me=r=>typeof r=="string",ua=()=>{let r,e;const t=new Promise((l,s)=>{r=l,e=s});return t.resolve=r,t.reject=e,t},my=r=>r==null?"":""+r,kE=(r,e,t)=>{r.forEach(l=>{e[l]&&(t[l]=e[l])})},ME=/###/g,yy=r=>r&&r.indexOf("###")>-1?r.replace(ME,"."):r,by=r=>!r||Me(r),ca=(r,e,t)=>{const l=Me(e)?e.split("."):e;let s=0;for(;s<l.length-1;){if(by(r))return{};const o=yy(l[s]);!r[o]&&t&&(r[o]=new t),Object.prototype.hasOwnProperty.call(r,o)?r=r[o]:r={},++s}return by(r)?{}:{obj:r,k:yy(l[s])}},vy=(r,e,t)=>{const{obj:l,k:s}=ca(r,e,Object);if(l!==void 0||e.length===1){l[s]=t;return}let o=e[e.length-1],u=e.slice(0,e.length-1),f=ca(r,u,Object);for(;f.obj===void 0&&u.length;)o=`${u[u.length-1]}.${o}`,u=u.slice(0,u.length-1),f=ca(r,u,Object),f!=null&&f.obj&&typeof f.obj[`${f.k}.${o}`]<"u"&&(f.obj=void 0);f.obj[`${f.k}.${o}`]=t},DE=(r,e,t,l)=>{const{obj:s,k:o}=ca(r,e,Object);s[o]=s[o]||[],s[o].push(t)},ru=(r,e)=>{const{obj:t,k:l}=ca(r,e);if(t&&Object.prototype.hasOwnProperty.call(t,l))return t[l]},LE=(r,e,t)=>{const l=ru(r,t);return l!==void 0?l:ru(e,t)},_y=(r,e,t)=>{for(const l in e)l!=="__proto__"&&l!=="constructor"&&(l in r?Me(r[l])||r[l]instanceof String||Me(e[l])||e[l]instanceof String?t&&(r[l]=e[l]):_y(r[l],e[l],t):r[l]=e[l]);return r},Hl=r=>r.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var zE={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const $E=r=>Me(r)?r.replace(/[&<>"'\/]/g,e=>zE[e]):r;class FE{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(t!==void 0)return t;const l=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,l),this.regExpQueue.push(e),l}}const BE=[" ",",","?","!",";"],UE=new FE(20),jE=(r,e,t)=>{e=e||"",t=t||"";const l=BE.filter(u=>e.indexOf(u)<0&&t.indexOf(u)<0);if(l.length===0)return!0;const s=UE.getRegExp(`(${l.map(u=>u==="?"?"\\?":u).join("|")})`);let o=!s.test(r);if(!o){const u=r.indexOf(t);u>0&&!s.test(r.substring(0,u))&&(o=!0)}return o},nd=function(r,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!r)return;if(r[e])return Object.prototype.hasOwnProperty.call(r,e)?r[e]:void 0;const l=e.split(t);let s=r;for(let o=0;o<l.length;){if(!s||typeof s!="object")return;let u,f="";for(let d=o;d<l.length;++d)if(d!==o&&(f+=t),f+=l[d],u=s[f],u!==void 0){if(["string","number","boolean"].indexOf(typeof u)>-1&&d<l.length-1)continue;o+=d-o+1;break}s=u}return s},iu=r=>r==null?void 0:r.replace("_","-"),HE={type:"logger",log(r){this.output("log",r)},warn(r){this.output("warn",r)},error(r){this.output("error",r)},output(r,e){var t,l;(l=(t=console==null?void 0:console[r])==null?void 0:t.apply)==null||l.call(t,console,e)}};class lu{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,t)}init(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||HE,this.options=t,this.debug=t.debug}log(){for(var e=arguments.length,t=new Array(e),l=0;l<e;l++)t[l]=arguments[l];return this.forward(t,"log","",!0)}warn(){for(var e=arguments.length,t=new Array(e),l=0;l<e;l++)t[l]=arguments[l];return this.forward(t,"warn","",!0)}error(){for(var e=arguments.length,t=new Array(e),l=0;l<e;l++)t[l]=arguments[l];return this.forward(t,"error","")}deprecate(){for(var e=arguments.length,t=new Array(e),l=0;l<e;l++)t[l]=arguments[l];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,l,s){return s&&!this.debug?null:(Me(e[0])&&(e[0]=`${l}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new lu(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new lu(this.logger,e)}}var gr=new lu;class su{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(l=>{this.observers[l]||(this.observers[l]=new Map);const s=this.observers[l].get(t)||0;this.observers[l].set(t,s+1)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e].delete(t)}}emit(e){for(var t=arguments.length,l=new Array(t>1?t-1:0),s=1;s<t;s++)l[s-1]=arguments[s];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(u=>{let[f,d]=u;for(let g=0;g<d;g++)f(...l)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(u=>{let[f,d]=u;for(let g=0;g<d;g++)f.apply(f,[e,...l])})}}class Sy extends su{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,l){var g,h;let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,u=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure;let f;e.indexOf(".")>-1?f=e.split("."):(f=[e,t],l&&(Array.isArray(l)?f.push(...l):Me(l)&&o?f.push(...l.split(o)):f.push(l)));const d=ru(this.data,f);return!d&&!t&&!l&&e.indexOf(".")>-1&&(e=f[0],t=f[1],l=f.slice(2).join(".")),d||!u||!Me(l)?d:nd((h=(g=this.data)==null?void 0:g[e])==null?void 0:h[t],l,o)}addResource(e,t,l,s){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const u=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator;let f=[e,t];l&&(f=f.concat(u?l.split(u):l)),e.indexOf(".")>-1&&(f=e.split("."),s=t,t=f[1]),this.addNamespaces(t),vy(this.data,f,s),o.silent||this.emit("added",e,t,l,s)}addResources(e,t,l){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const o in l)(Me(l[o])||Array.isArray(l[o]))&&this.addResource(e,t,o,l[o],{silent:!0});s.silent||this.emit("added",e,t,l)}addResourceBundle(e,t,l,s,o){let u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},f=[e,t];e.indexOf(".")>-1&&(f=e.split("."),s=l,l=t,t=f[1]),this.addNamespaces(t);let d=ru(this.data,f)||{};u.skipCopy||(l=JSON.parse(JSON.stringify(l))),s?_y(d,l,o):d={...d,...l},vy(this.data,f,d),u.silent||this.emit("added",e,t,l)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return this.getResource(e,t)!==void 0}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(s=>t[s]&&Object.keys(t[s]).length>0)}toJSON(){return this.data}}var xy={processors:{},addPostProcessor(r){this.processors[r.name]=r},handle(r,e,t,l,s){return r.forEach(o=>{var u;e=((u=this.processors[o])==null?void 0:u.process(e,t,l,s))??e}),e}};const Cy={},Ey=r=>!Me(r)&&typeof r!="boolean"&&typeof r!="number";class au extends su{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),kE(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=gr.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const l=this.resolve(e,t);return(l==null?void 0:l.res)!==void 0}extractFromKey(e,t){let l=t.nsSeparator!==void 0?t.nsSeparator:this.options.nsSeparator;l===void 0&&(l=":");const s=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator;let o=t.ns||this.options.defaultNS||[];const u=l&&e.indexOf(l)>-1,f=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!jE(e,l,s);if(u&&!f){const d=e.match(this.interpolator.nestingRegexp);if(d&&d.length>0)return{key:e,namespaces:Me(o)?[o]:o};const g=e.split(l);(l!==s||l===s&&this.options.ns.indexOf(g[0])>-1)&&(o=g.shift()),e=g.join(s)}return{key:e,namespaces:Me(o)?[o]:o}}translate(e,t,l){if(typeof t!="object"&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),typeof options=="object"&&(t={...t}),t||(t={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const s=t.returnDetails!==void 0?t.returnDetails:this.options.returnDetails,o=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator,{key:u,namespaces:f}=this.extractFromKey(e[e.length-1],t),d=f[f.length-1],g=t.lng||this.language,h=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((g==null?void 0:g.toLowerCase())==="cimode"){if(h){const H=t.nsSeparator||this.options.nsSeparator;return s?{res:`${d}${H}${u}`,usedKey:u,exactUsedKey:u,usedLng:g,usedNS:d,usedParams:this.getUsedParamsDetails(t)}:`${d}${H}${u}`}return s?{res:u,usedKey:u,exactUsedKey:u,usedLng:g,usedNS:d,usedParams:this.getUsedParamsDetails(t)}:u}const y=this.resolve(e,t);let b=y==null?void 0:y.res;const _=(y==null?void 0:y.usedKey)||u,v=(y==null?void 0:y.exactUsedKey)||u,S=["[object Number]","[object Function]","[object RegExp]"],C=t.joinArrays!==void 0?t.joinArrays:this.options.joinArrays,w=!this.i18nFormat||this.i18nFormat.handleAsObject,x=t.count!==void 0&&!Me(t.count),E=au.hasDefaultValue(t),N=x?this.pluralResolver.getSuffix(g,t.count,t):"",A=t.ordinal&&x?this.pluralResolver.getSuffix(g,t.count,{ordinal:!1}):"",O=x&&!t.ordinal&&t.count===0,R=O&&t[`defaultValue${this.options.pluralSeparator}zero`]||t[`defaultValue${N}`]||t[`defaultValue${A}`]||t.defaultValue;let D=b;w&&!b&&E&&(D=R);const M=Ey(D),B=Object.prototype.toString.apply(D);if(w&&D&&M&&S.indexOf(B)<0&&!(Me(C)&&Array.isArray(D))){if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const H=this.options.returnedObjectHandler?this.options.returnedObjectHandler(_,D,{...t,ns:f}):`key '${u} (${this.language})' returned an object instead of string.`;return s?(y.res=H,y.usedParams=this.getUsedParamsDetails(t),y):H}if(o){const H=Array.isArray(D),q=H?[]:{},Y=H?v:_;for(const Z in D)if(Object.prototype.hasOwnProperty.call(D,Z)){const ie=`${Y}${o}${Z}`;E&&!b?q[Z]=this.translate(ie,{...t,defaultValue:Ey(R)?R[Z]:void 0,joinArrays:!1,ns:f}):q[Z]=this.translate(ie,{...t,joinArrays:!1,ns:f}),q[Z]===ie&&(q[Z]=D[Z])}b=q}}else if(w&&Me(C)&&Array.isArray(b))b=b.join(C),b&&(b=this.extendTranslation(b,e,t,l));else{let H=!1,q=!1;!this.isValidLookup(b)&&E&&(H=!0,b=R),this.isValidLookup(b)||(q=!0,b=u);const Z=(t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&q?void 0:b,ie=E&&R!==b&&this.options.updateMissing;if(q||H||ie){if(this.logger.log(ie?"updateKey":"missingKey",g,d,u,ie?R:b),o){const ne=this.resolve(u,{...t,keySeparator:!1});ne&&ne.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let U=[];const G=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if(this.options.saveMissingTo==="fallback"&&G&&G[0])for(let ne=0;ne<G.length;ne++)U.push(G[ne]);else this.options.saveMissingTo==="all"?U=this.languageUtils.toResolveHierarchy(t.lng||this.language):U.push(t.lng||this.language);const K=(ne,L,J)=>{var ge;const le=E&&J!==b?J:Z;this.options.missingKeyHandler?this.options.missingKeyHandler(ne,d,L,le,ie,t):(ge=this.backendConnector)!=null&&ge.saveMissing&&this.backendConnector.saveMissing(ne,d,L,le,ie,t),this.emit("missingKey",ne,d,L,b)};this.options.saveMissing&&(this.options.saveMissingPlurals&&x?U.forEach(ne=>{const L=this.pluralResolver.getSuffixes(ne,t);O&&t[`defaultValue${this.options.pluralSeparator}zero`]&&L.indexOf(`${this.options.pluralSeparator}zero`)<0&&L.push(`${this.options.pluralSeparator}zero`),L.forEach(J=>{K([ne],u+J,t[`defaultValue${J}`]||R)})}):K(U,u,R))}b=this.extendTranslation(b,e,t,y,l),q&&b===u&&this.options.appendNamespaceToMissingKey&&(b=`${d}:${u}`),(q||H)&&this.options.parseMissingKeyHandler&&(b=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${d}:${u}`:u,H?b:void 0))}return s?(y.res=b,y.usedParams=this.getUsedParamsDetails(t),y):b}extendTranslation(e,t,l,s,o){var g,h;var u=this;if((g=this.i18nFormat)!=null&&g.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...l},l.lng||this.language||s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!l.skipInterpolation){l.interpolation&&this.interpolator.init({...l,interpolation:{...this.options.interpolation,...l.interpolation}});const y=Me(e)&&(((h=l==null?void 0:l.interpolation)==null?void 0:h.skipOnVariables)!==void 0?l.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let b;if(y){const v=e.match(this.interpolator.nestingRegexp);b=v&&v.length}let _=l.replace&&!Me(l.replace)?l.replace:l;if(this.options.interpolation.defaultVariables&&(_={...this.options.interpolation.defaultVariables,..._}),e=this.interpolator.interpolate(e,_,l.lng||this.language||s.usedLng,l),y){const v=e.match(this.interpolator.nestingRegexp),S=v&&v.length;b<S&&(l.nest=!1)}!l.lng&&s&&s.res&&(l.lng=this.language||s.usedLng),l.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var v=arguments.length,S=new Array(v),C=0;C<v;C++)S[C]=arguments[C];return(o==null?void 0:o[0])===S[0]&&!l.context?(u.logger.warn(`It seems you are nesting recursively key: ${S[0]} in key: ${t[0]}`),null):u.translate(...S,t)},l)),l.interpolation&&this.interpolator.reset()}const f=l.postProcess||this.options.postProcess,d=Me(f)?[f]:f;return e!=null&&(d!=null&&d.length)&&l.applyPostProcessor!==!1&&(e=xy.handle(d,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...s,usedParams:this.getUsedParamsDetails(l)},...l}:l,this)),e}resolve(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l,s,o,u,f;return Me(e)&&(e=[e]),e.forEach(d=>{if(this.isValidLookup(l))return;const g=this.extractFromKey(d,t),h=g.key;s=h;let y=g.namespaces;this.options.fallbackNS&&(y=y.concat(this.options.fallbackNS));const b=t.count!==void 0&&!Me(t.count),_=b&&!t.ordinal&&t.count===0,v=t.context!==void 0&&(Me(t.context)||typeof t.context=="number")&&t.context!=="",S=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);y.forEach(C=>{var w,x;this.isValidLookup(l)||(f=C,!Cy[`${S[0]}-${C}`]&&((w=this.utils)!=null&&w.hasLoadedNamespace)&&!((x=this.utils)!=null&&x.hasLoadedNamespace(f))&&(Cy[`${S[0]}-${C}`]=!0,this.logger.warn(`key "${s}" for languages "${S.join(", ")}" won't get resolved as namespace "${f}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),S.forEach(E=>{var O;if(this.isValidLookup(l))return;u=E;const N=[h];if((O=this.i18nFormat)!=null&&O.addLookupKeys)this.i18nFormat.addLookupKeys(N,h,E,C,t);else{let R;b&&(R=this.pluralResolver.getSuffix(E,t.count,t));const D=`${this.options.pluralSeparator}zero`,M=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(b&&(N.push(h+R),t.ordinal&&R.indexOf(M)===0&&N.push(h+R.replace(M,this.options.pluralSeparator)),_&&N.push(h+D)),v){const B=`${h}${this.options.contextSeparator}${t.context}`;N.push(B),b&&(N.push(B+R),t.ordinal&&R.indexOf(M)===0&&N.push(B+R.replace(M,this.options.pluralSeparator)),_&&N.push(B+D))}}let A;for(;A=N.pop();)this.isValidLookup(l)||(o=A,l=this.getResource(E,C,A,t))}))})}),{res:l,usedKey:s,exactUsedKey:o,usedLng:u,usedNS:f}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,t,l){var o;let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return(o=this.i18nFormat)!=null&&o.getResource?this.i18nFormat.getResource(e,t,l,s):this.resourceStore.getResource(e,t,l,s)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],l=e.replace&&!Me(e.replace);let s=l?e.replace:e;if(l&&typeof e.count<"u"&&(s.count=e.count),this.options.interpolation.defaultVariables&&(s={...this.options.interpolation.defaultVariables,...s}),!l){s={...s};for(const o of t)delete s[o]}return s}static hasDefaultValue(e){const t="defaultValue";for(const l in e)if(Object.prototype.hasOwnProperty.call(e,l)&&t===l.substring(0,t.length)&&e[l]!==void 0)return!0;return!1}}class wy{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=gr.create("languageUtils")}getScriptPartFromCode(e){if(e=iu(e),!e||e.indexOf("-")<0)return null;const t=e.split("-");return t.length===2||(t.pop(),t[t.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(e=iu(e),!e||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(Me(e)&&e.indexOf("-")>-1){let t;try{t=Intl.getCanonicalLocales(e)[0]}catch{}return t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(l=>{if(t)return;const s=this.formatLanguageCode(l);(!this.options.supportedLngs||this.isSupportedCode(s))&&(t=s)}),!t&&this.options.supportedLngs&&e.forEach(l=>{if(t)return;const s=this.getScriptPartFromCode(l);if(this.isSupportedCode(s))return t=s;const o=this.getLanguagePartFromCode(l);if(this.isSupportedCode(o))return t=o;t=this.options.supportedLngs.find(u=>{if(u===o)return u;if(!(u.indexOf("-")<0&&o.indexOf("-")<0)&&(u.indexOf("-")>0&&o.indexOf("-")<0&&u.substring(0,u.indexOf("-"))===o||u.indexOf(o)===0&&o.length>1))return u})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if(typeof e=="function"&&(e=e(t)),Me(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let l=e[t];return l||(l=e[this.getScriptPartFromCode(t)]),l||(l=e[this.formatLanguageCode(t)]),l||(l=e[this.getLanguagePartFromCode(t)]),l||(l=e.default),l||[]}toResolveHierarchy(e,t){const l=this.getFallbackCodes(t||this.options.fallbackLng||[],e),s=[],o=u=>{u&&(this.isSupportedCode(u)?s.push(u):this.logger.warn(`rejecting language code not found in supportedLngs: ${u}`))};return Me(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&o(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&o(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&o(this.getLanguagePartFromCode(e))):Me(e)&&o(this.formatLanguageCode(e)),l.forEach(u=>{s.indexOf(u)<0&&o(this.formatLanguageCode(u))}),s}}const Ty={zero:0,one:1,two:2,few:3,many:4,other:5},Ny={select:r=>r===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class KE{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=t,this.logger=gr.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const l=iu(e==="dev"?"en":e),s=t.ordinal?"ordinal":"cardinal",o=JSON.stringify({cleanedCode:l,type:s});if(o in this.pluralRulesCache)return this.pluralRulesCache[o];let u;try{u=new Intl.PluralRules(l,{type:s})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),Ny;if(!e.match(/-|_/))return Ny;const d=this.languageUtils.getLanguagePartFromCode(e);u=this.getRule(d,t)}return this.pluralRulesCache[o]=u,u}needsPlural(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=this.getRule(e,t);return l||(l=this.getRule("dev",t)),(l==null?void 0:l.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,t){let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,l).map(s=>`${t}${s}`)}getSuffixes(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=this.getRule(e,t);return l||(l=this.getRule("dev",t)),l?l.resolvedOptions().pluralCategories.sort((s,o)=>Ty[s]-Ty[o]).map(s=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${s}`):[]}getSuffix(e,t){let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const s=this.getRule(e,l);return s?`${this.options.prepend}${l.ordinal?`ordinal${this.options.prepend}`:""}${s.select(t)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",t,l))}}const Ay=function(r,e,t){let l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=LE(r,e,t);return!o&&s&&Me(t)&&(o=nd(r,t,l),o===void 0&&(o=nd(e,t,l))),o},rd=r=>r.replace(/\$/g,"$$$$");class PE{constructor(){var t;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=gr.create("interpolator"),this.options=e,this.format=((t=e==null?void 0:e.interpolation)==null?void 0:t.format)||(l=>l),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:l,useRawValueToEscape:s,prefix:o,prefixEscaped:u,suffix:f,suffixEscaped:d,formatSeparator:g,unescapeSuffix:h,unescapePrefix:y,nestingPrefix:b,nestingPrefixEscaped:_,nestingSuffix:v,nestingSuffixEscaped:S,nestingOptionsSeparator:C,maxReplaces:w,alwaysFormat:x}=e.interpolation;this.escape=t!==void 0?t:$E,this.escapeValue=l!==void 0?l:!0,this.useRawValueToEscape=s!==void 0?s:!1,this.prefix=o?Hl(o):u||"{{",this.suffix=f?Hl(f):d||"}}",this.formatSeparator=g||",",this.unescapePrefix=h?"":y||"-",this.unescapeSuffix=this.unescapePrefix?"":h||"",this.nestingPrefix=b?Hl(b):_||Hl("$t("),this.nestingSuffix=v?Hl(v):S||Hl(")"),this.nestingOptionsSeparator=C||",",this.maxReplaces=w||1e3,this.alwaysFormat=x!==void 0?x:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(t,l)=>(t==null?void 0:t.source)===l?(t.lastIndex=0,t):new RegExp(l,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,t,l,s){var _;let o,u,f;const d=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},g=v=>{if(v.indexOf(this.formatSeparator)<0){const x=Ay(t,d,v,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(x,void 0,l,{...s,...t,interpolationkey:v}):x}const S=v.split(this.formatSeparator),C=S.shift().trim(),w=S.join(this.formatSeparator).trim();return this.format(Ay(t,d,C,this.options.keySeparator,this.options.ignoreJSONStructure),w,l,{...s,...t,interpolationkey:C})};this.resetRegExp();const h=(s==null?void 0:s.missingInterpolationHandler)||this.options.missingInterpolationHandler,y=((_=s==null?void 0:s.interpolation)==null?void 0:_.skipOnVariables)!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:v=>rd(v)},{regex:this.regexp,safeValue:v=>this.escapeValue?rd(this.escape(v)):rd(v)}].forEach(v=>{for(f=0;o=v.regex.exec(e);){const S=o[1].trim();if(u=g(S),u===void 0)if(typeof h=="function"){const w=h(e,o,s);u=Me(w)?w:""}else if(s&&Object.prototype.hasOwnProperty.call(s,S))u="";else if(y){u=o[0];continue}else this.logger.warn(`missed to pass in variable ${S} for interpolating ${e}`),u="";else!Me(u)&&!this.useRawValueToEscape&&(u=my(u));const C=v.safeValue(u);if(e=e.replace(o[0],C),y?(v.regex.lastIndex+=u.length,v.regex.lastIndex-=o[0].length):v.regex.lastIndex=0,f++,f>=this.maxReplaces)break}}),e}nest(e,t){let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s,o,u;const f=(d,g)=>{const h=this.nestingOptionsSeparator;if(d.indexOf(h)<0)return d;const y=d.split(new RegExp(`${h}[ ]*{`));let b=`{${y[1]}`;d=y[0],b=this.interpolate(b,u);const _=b.match(/'/g),v=b.match(/"/g);(((_==null?void 0:_.length)??0)%2===0&&!v||v.length%2!==0)&&(b=b.replace(/'/g,'"'));try{u=JSON.parse(b),g&&(u={...g,...u})}catch(S){return this.logger.warn(`failed parsing options string in nesting for key ${d}`,S),`${d}${h}${b}`}return u.defaultValue&&u.defaultValue.indexOf(this.prefix)>-1&&delete u.defaultValue,d};for(;s=this.nestingRegexp.exec(e);){let d=[];u={...l},u=u.replace&&!Me(u.replace)?u.replace:u,u.applyPostProcessor=!1,delete u.defaultValue;let g=!1;if(s[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(s[1])){const h=s[1].split(this.formatSeparator).map(y=>y.trim());s[1]=h.shift(),d=h,g=!0}if(o=t(f.call(this,s[1].trim(),u),u),o&&s[0]===e&&!Me(o))return o;Me(o)||(o=my(o)),o||(this.logger.warn(`missed to resolve ${s[1]} for nesting ${e}`),o=""),g&&(o=d.reduce((h,y)=>this.format(h,y,l.lng,{...l,interpolationkey:s[1].trim()}),o.trim())),e=e.replace(s[0],o),this.regexp.lastIndex=0}return e}}const IE=r=>{let e=r.toLowerCase().trim();const t={};if(r.indexOf("(")>-1){const l=r.split("(");e=l[0].toLowerCase().trim();const s=l[1].substring(0,l[1].length-1);e==="currency"&&s.indexOf(":")<0?t.currency||(t.currency=s.trim()):e==="relativetime"&&s.indexOf(":")<0?t.range||(t.range=s.trim()):s.split(";").forEach(u=>{if(u){const[f,...d]=u.split(":"),g=d.join(":").trim().replace(/^'+|'+$/g,""),h=f.trim();t[h]||(t[h]=g),g==="false"&&(t[h]=!1),g==="true"&&(t[h]=!0),isNaN(g)||(t[h]=parseInt(g,10))}})}return{formatName:e,formatOptions:t}},Kl=r=>{const e={};return(t,l,s)=>{let o=s;s&&s.interpolationkey&&s.formatParams&&s.formatParams[s.interpolationkey]&&s[s.interpolationkey]&&(o={...o,[s.interpolationkey]:void 0});const u=l+JSON.stringify(o);let f=e[u];return f||(f=r(iu(l),s),e[u]=f),f(t)}};class qE{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=gr.create("formatter"),this.options=e,this.formats={number:Kl((t,l)=>{const s=new Intl.NumberFormat(t,{...l});return o=>s.format(o)}),currency:Kl((t,l)=>{const s=new Intl.NumberFormat(t,{...l,style:"currency"});return o=>s.format(o)}),datetime:Kl((t,l)=>{const s=new Intl.DateTimeFormat(t,{...l});return o=>s.format(o)}),relativetime:Kl((t,l)=>{const s=new Intl.RelativeTimeFormat(t,{...l});return o=>s.format(o,l.range||"day")}),list:Kl((t,l)=>{const s=new Intl.ListFormat(t,{...l});return o=>s.format(o)})},this.init(e)}init(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=t.interpolation.formatSeparator||","}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=Kl(t)}format(e,t,l){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o=t.split(this.formatSeparator);if(o.length>1&&o[0].indexOf("(")>1&&o[0].indexOf(")")<0&&o.find(f=>f.indexOf(")")>-1)){const f=o.findIndex(d=>d.indexOf(")")>-1);o[0]=[o[0],...o.splice(1,f)].join(this.formatSeparator)}return o.reduce((f,d)=>{var y;const{formatName:g,formatOptions:h}=IE(d);if(this.formats[g]){let b=f;try{const _=((y=s==null?void 0:s.formatParams)==null?void 0:y[s.interpolationkey])||{},v=_.locale||_.lng||s.locale||s.lng||l;b=this.formats[g](f,v,{...h,...s,..._})}catch(_){this.logger.warn(_)}return b}else this.logger.warn(`there was no format function for ${g}`);return f},e)}}const YE=(r,e)=>{r.pending[e]!==void 0&&(delete r.pending[e],r.pendingCount--)};class VE extends su{constructor(e,t,l){var o,u;let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=t,this.services=l,this.languageUtils=l.languageUtils,this.options=s,this.logger=gr.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=s.maxParallelReads||10,this.readingCalls=0,this.maxRetries=s.maxRetries>=0?s.maxRetries:5,this.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,this.state={},this.queue=[],(u=(o=this.backend)==null?void 0:o.init)==null||u.call(o,l,s.backend,s)}queueLoad(e,t,l,s){const o={},u={},f={},d={};return e.forEach(g=>{let h=!0;t.forEach(y=>{const b=`${g}|${y}`;!l.reload&&this.store.hasResourceBundle(g,y)?this.state[b]=2:this.state[b]<0||(this.state[b]===1?u[b]===void 0&&(u[b]=!0):(this.state[b]=1,h=!1,u[b]===void 0&&(u[b]=!0),o[b]===void 0&&(o[b]=!0),d[y]===void 0&&(d[y]=!0)))}),h||(f[g]=!0)}),(Object.keys(o).length||Object.keys(u).length)&&this.queue.push({pending:u,pendingCount:Object.keys(u).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(o),pending:Object.keys(u),toLoadLanguages:Object.keys(f),toLoadNamespaces:Object.keys(d)}}loaded(e,t,l){const s=e.split("|"),o=s[0],u=s[1];t&&this.emit("failedLoading",o,u,t),!t&&l&&this.store.addResourceBundle(o,u,l,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&l&&(this.state[e]=0);const f={};this.queue.forEach(d=>{DE(d.loaded,[o],u),YE(d,e),t&&d.errors.push(t),d.pendingCount===0&&!d.done&&(Object.keys(d.loaded).forEach(g=>{f[g]||(f[g]={});const h=d.loaded[g];h.length&&h.forEach(y=>{f[g][y]===void 0&&(f[g][y]=!0)})}),d.done=!0,d.errors.length?d.callback(d.errors):d.callback())}),this.emit("loaded",f),this.queue=this.queue.filter(d=>!d.done)}read(e,t,l){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,u=arguments.length>5?arguments[5]:void 0;if(!e.length)return u(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:l,tried:s,wait:o,callback:u});return}this.readingCalls++;const f=(g,h)=>{if(this.readingCalls--,this.waitingReads.length>0){const y=this.waitingReads.shift();this.read(y.lng,y.ns,y.fcName,y.tried,y.wait,y.callback)}if(g&&h&&s<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,l,s+1,o*2,u)},o);return}u(g,h)},d=this.backend[l].bind(this.backend);if(d.length===2){try{const g=d(e,t);g&&typeof g.then=="function"?g.then(h=>f(null,h)).catch(f):f(null,g)}catch(g){f(g)}return}return d(e,t,f)}prepareLoading(e,t){let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();Me(e)&&(e=this.languageUtils.toResolveHierarchy(e)),Me(t)&&(t=[t]);const o=this.queueLoad(e,t,l,s);if(!o.toLoad.length)return o.pending.length||s(),null;o.toLoad.forEach(u=>{this.loadOne(u)})}load(e,t,l){this.prepareLoading(e,t,{},l)}reload(e,t,l){this.prepareLoading(e,t,{reload:!0},l)}loadOne(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const l=e.split("|"),s=l[0],o=l[1];this.read(s,o,"read",void 0,void 0,(u,f)=>{u&&this.logger.warn(`${t}loading namespace ${o} for language ${s} failed`,u),!u&&f&&this.logger.log(`${t}loaded namespace ${o} for language ${s}`,f),this.loaded(e,u,f)})}saveMissing(e,t,l,s,o){var d,g,h,y,b;let u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},f=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if((g=(d=this.services)==null?void 0:d.utils)!=null&&g.hasLoadedNamespace&&!((y=(h=this.services)==null?void 0:h.utils)!=null&&y.hasLoadedNamespace(t))){this.logger.warn(`did not save key "${l}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(l==null||l==="")){if((b=this.backend)!=null&&b.create){const _={...u,isUpdate:o},v=this.backend.create.bind(this.backend);if(v.length<6)try{let S;v.length===5?S=v(e,t,l,s,_):S=v(e,t,l,s),S&&typeof S.then=="function"?S.then(C=>f(null,C)).catch(f):f(null,S)}catch(S){f(S)}else v(e,t,l,s,f,_)}!e||!e[0]||this.store.addResource(e[0],t,l,s)}}}const Oy=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:r=>{let e={};if(typeof r[1]=="object"&&(e=r[1]),Me(r[1])&&(e.defaultValue=r[1]),Me(r[2])&&(e.tDescription=r[2]),typeof r[2]=="object"||typeof r[3]=="object"){const t=r[3]||r[2];Object.keys(t).forEach(l=>{e[l]=t[l]})}return e},interpolation:{escapeValue:!0,format:r=>r,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),Ry=r=>{var e,t;return Me(r.ns)&&(r.ns=[r.ns]),Me(r.fallbackLng)&&(r.fallbackLng=[r.fallbackLng]),Me(r.fallbackNS)&&(r.fallbackNS=[r.fallbackNS]),((t=(e=r.supportedLngs)==null?void 0:e.indexOf)==null?void 0:t.call(e,"cimode"))<0&&(r.supportedLngs=r.supportedLngs.concat(["cimode"])),typeof r.initImmediate=="boolean"&&(r.initAsync=r.initImmediate),r},ou=()=>{},GE=r=>{Object.getOwnPropertyNames(Object.getPrototypeOf(r)).forEach(t=>{typeof r[t]=="function"&&(r[t]=r[t].bind(r))})};class fa extends su{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(super(),this.options=Ry(e),this.services={},this.logger=gr,this.modules={external:[]},GE(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(){var e=this;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof t=="function"&&(l=t,t={}),t.defaultNS==null&&t.ns&&(Me(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const s=Oy();this.options={...s,...this.options,...Ry(t)},this.options.interpolation={...s.interpolation,...this.options.interpolation},t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator);const o=h=>h?typeof h=="function"?new h:h:null;if(!this.options.isClone){this.modules.logger?gr.init(o(this.modules.logger),this.options):gr.init(null,this.options);let h;this.modules.formatter?h=this.modules.formatter:h=qE;const y=new wy(this.options);this.store=new Sy(this.options.resources,this.options);const b=this.services;b.logger=gr,b.resourceStore=this.store,b.languageUtils=y,b.pluralResolver=new KE(y,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),h&&(!this.options.interpolation.format||this.options.interpolation.format===s.interpolation.format)&&(b.formatter=o(h),b.formatter.init(b,this.options),this.options.interpolation.format=b.formatter.format.bind(b.formatter)),b.interpolator=new PE(this.options),b.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},b.backendConnector=new VE(o(this.modules.backend),b.resourceStore,b,this.options),b.backendConnector.on("*",function(_){for(var v=arguments.length,S=new Array(v>1?v-1:0),C=1;C<v;C++)S[C-1]=arguments[C];e.emit(_,...S)}),this.modules.languageDetector&&(b.languageDetector=o(this.modules.languageDetector),b.languageDetector.init&&b.languageDetector.init(b,this.options.detection,this.options)),this.modules.i18nFormat&&(b.i18nFormat=o(this.modules.i18nFormat),b.i18nFormat.init&&b.i18nFormat.init(this)),this.translator=new au(this.services,this.options),this.translator.on("*",function(_){for(var v=arguments.length,S=new Array(v>1?v-1:0),C=1;C<v;C++)S[C-1]=arguments[C];e.emit(_,...S)}),this.modules.external.forEach(_=>{_.init&&_.init(this)})}if(this.format=this.options.interpolation.format,l||(l=ou),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const h=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);h.length>0&&h[0]!=="dev"&&(this.options.lng=h[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(h=>{this[h]=function(){return e.store[h](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(h=>{this[h]=function(){return e.store[h](...arguments),e}});const d=ua(),g=()=>{const h=(y,b)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),d.resolve(b),l(y,b)};if(this.languages&&!this.isInitialized)return h(null,this.t.bind(this));this.changeLanguage(this.options.lng,h)};return this.options.resources||!this.options.initAsync?g():setTimeout(g,0),d}loadResources(e){var o,u;let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ou;const s=Me(e)?e:this.language;if(typeof e=="function"&&(l=e),!this.options.resources||this.options.partialBundledLanguages){if((s==null?void 0:s.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return l();const f=[],d=g=>{if(!g||g==="cimode")return;this.services.languageUtils.toResolveHierarchy(g).forEach(y=>{y!=="cimode"&&f.indexOf(y)<0&&f.push(y)})};s?d(s):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(h=>d(h)),(u=(o=this.options.preload)==null?void 0:o.forEach)==null||u.call(o,g=>d(g)),this.services.backendConnector.load(f,this.options.ns,g=>{!g&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),l(g)})}else l(null)}reloadResources(e,t,l){const s=ua();return typeof e=="function"&&(l=e,e=void 0),typeof t=="function"&&(l=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),l||(l=ou),this.services.backendConnector.reload(e,t,o=>{s.resolve(),l(o)}),s}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&xy.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let t=0;t<this.languages.length;t++){const l=this.languages[t];if(!(["cimode","dev"].indexOf(l)>-1)&&this.store.hasLanguageSomeTranslations(l)){this.resolvedLanguage=l;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,t){var l=this;this.isLanguageChangingTo=e;const s=ua();this.emit("languageChanging",e);const o=d=>{this.language=d,this.languages=this.services.languageUtils.toResolveHierarchy(d),this.resolvedLanguage=void 0,this.setResolvedLanguage(d)},u=(d,g)=>{g?this.isLanguageChangingTo===e&&(o(g),this.translator.changeLanguage(g),this.isLanguageChangingTo=void 0,this.emit("languageChanged",g),this.logger.log("languageChanged",g)):this.isLanguageChangingTo=void 0,s.resolve(function(){return l.t(...arguments)}),t&&t(d,function(){return l.t(...arguments)})},f=d=>{var y,b;!e&&!d&&this.services.languageDetector&&(d=[]);const g=Me(d)?d:d&&d[0],h=this.store.hasLanguageSomeTranslations(g)?g:this.services.languageUtils.getBestMatchFromCodes(Me(d)?[d]:d);h&&(this.language||o(h),this.translator.language||this.translator.changeLanguage(h),(b=(y=this.services.languageDetector)==null?void 0:y.cacheUserLanguage)==null||b.call(y,h)),this.loadResources(h,_=>{u(_,h)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?f(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(f):this.services.languageDetector.detect(f):f(e),s}getFixedT(e,t,l){var s=this;const o=function(u,f){let d;if(typeof f!="object"){for(var g=arguments.length,h=new Array(g>2?g-2:0),y=2;y<g;y++)h[y-2]=arguments[y];d=s.options.overloadTranslationOptionHandler([u,f].concat(h))}else d={...f};d.lng=d.lng||o.lng,d.lngs=d.lngs||o.lngs,d.ns=d.ns||o.ns,d.keyPrefix!==""&&(d.keyPrefix=d.keyPrefix||l||o.keyPrefix);const b=s.options.keySeparator||".";let _;return d.keyPrefix&&Array.isArray(u)?_=u.map(v=>`${d.keyPrefix}${b}${v}`):_=d.keyPrefix?`${d.keyPrefix}${b}${u}`:u,s.t(_,d)};return Me(e)?o.lng=e:o.lngs=e,o.ns=t,o.keyPrefix=l,o}t(){var s;for(var e=arguments.length,t=new Array(e),l=0;l<e;l++)t[l]=arguments[l];return(s=this.translator)==null?void 0:s.translate(...t)}exists(){var s;for(var e=arguments.length,t=new Array(e),l=0;l<e;l++)t[l]=arguments[l];return(s=this.translator)==null?void 0:s.exists(...t)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const l=t.lng||this.resolvedLanguage||this.languages[0],s=this.options?this.options.fallbackLng:!1,o=this.languages[this.languages.length-1];if(l.toLowerCase()==="cimode")return!0;const u=(f,d)=>{const g=this.services.backendConnector.state[`${f}|${d}`];return g===-1||g===0||g===2};if(t.precheck){const f=t.precheck(this,u);if(f!==void 0)return f}return!!(this.hasResourceBundle(l,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||u(l,e)&&(!s||u(o,e)))}loadNamespaces(e,t){const l=ua();return this.options.ns?(Me(e)&&(e=[e]),e.forEach(s=>{this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}),this.loadResources(s=>{l.resolve(),t&&t(s)}),l):(t&&t(),Promise.resolve())}loadLanguages(e,t){const l=ua();Me(e)&&(e=[e]);const s=this.options.preload||[],o=e.filter(u=>s.indexOf(u)<0&&this.services.languageUtils.isSupportedCode(u));return o.length?(this.options.preload=s.concat(o),this.loadResources(u=>{l.resolve(),t&&t(u)}),l):(t&&t(),Promise.resolve())}dir(e){var s,o;if(e||(e=this.resolvedLanguage||(((s=this.languages)==null?void 0:s.length)>0?this.languages[0]:this.language)),!e)return"rtl";const t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],l=((o=this.services)==null?void 0:o.languageUtils)||new wy(Oy());return t.indexOf(l.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return new fa(e,t)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ou;const l=e.forkResourceStore;l&&delete e.forkResourceStore;const s={...this.options,...e,isClone:!0},o=new fa(s);if((e.debug!==void 0||e.prefix!==void 0)&&(o.logger=o.logger.clone(e)),["store","services","language"].forEach(f=>{o[f]=this[f]}),o.services={...this.services},o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},l){const f=Object.keys(this.store.data).reduce((d,g)=>(d[g]={...this.store.data[g]},d[g]=Object.keys(d[g]).reduce((h,y)=>(h[y]={...d[g][y]},h),d[g]),d),{});o.store=new Sy(f,s),o.services.resourceStore=o.store}return o.translator=new au(o.services,s),o.translator.on("*",function(f){for(var d=arguments.length,g=new Array(d>1?d-1:0),h=1;h<d;h++)g[h-1]=arguments[h];o.emit(f,...g)}),o.init(s,t),o.translator.options=s,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Bt=fa.createInstance();Bt.createInstance=fa.createInstance,Bt.createInstance,Bt.dir,Bt.init,Bt.loadResources,Bt.reloadResources,Bt.use,Bt.changeLanguage,Bt.getFixedT;const ri=Bt.t;Bt.exists,Bt.setDefaultNamespace,Bt.hasLoadedNamespace,Bt.loadNamespaces,Bt.loadLanguages;const XE=(r,e,t,l)=>{var o,u,f,d;const s=[t,{code:e,...l||{}}];if((u=(o=r==null?void 0:r.services)==null?void 0:o.logger)!=null&&u.forward)return r.services.logger.forward(s,"warn","react-i18next::",!0);Xi(s[0])&&(s[0]=`react-i18next:: ${s[0]}`),(d=(f=r==null?void 0:r.services)==null?void 0:f.logger)!=null&&d.warn?r.services.logger.warn(...s):console!=null&&console.warn&&console.warn(...s)},ky={},id=(r,e,t,l)=>{Xi(t)&&ky[t]||(Xi(t)&&(ky[t]=new Date),XE(r,e,t,l))},My=(r,e)=>()=>{if(r.isInitialized)e();else{const t=()=>{setTimeout(()=>{r.off("initialized",t)},0),e()};r.on("initialized",t)}},ld=(r,e,t)=>{r.loadNamespaces(e,My(r,t))},Dy=(r,e,t,l)=>{if(Xi(t)&&(t=[t]),r.options.preload&&r.options.preload.indexOf(e)>-1)return ld(r,t,l);t.forEach(s=>{r.options.ns.indexOf(s)<0&&r.options.ns.push(s)}),r.loadLanguages(e,My(r,l))},ZE=(r,e,t={})=>!e.languages||!e.languages.length?(id(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(r,{lng:t.lng,precheck:(l,s)=>{var o;if(((o=t.bindI18n)==null?void 0:o.indexOf("languageChanging"))>-1&&l.services.backendConnector.backend&&l.isLanguageChangingTo&&!s(l.isLanguageChangingTo,r))return!1}}),Xi=r=>typeof r=="string",WE=r=>typeof r=="object"&&r!==null,QE=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,JE={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},ew=r=>JE[r];let sd={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:r=>r.replace(QE,ew)};const tw=(r={})=>{sd={...sd,...r}},nw=()=>sd;let Ly;const rw=r=>{Ly=r},iw=()=>Ly,lw={type:"3rdParty",init(r){tw(r.options.react),rw(r)}},sw=z.createContext();class aw{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(t=>{this.usedNamespaces[t]||(this.usedNamespaces[t]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const ow=(r,e)=>{const t=z.useRef();return z.useEffect(()=>{t.current=r},[r,e]),t.current},zy=(r,e,t,l)=>r.getFixedT(e,t,l),uw=(r,e,t,l)=>z.useCallback(zy(r,e,t,l),[r,e,t,l]),ii=(r,e={})=>{var N,A,O,R;const{i18n:t}=e,{i18n:l,defaultNS:s}=z.useContext(sw)||{},o=t||l||iw();if(o&&!o.reportNamespaces&&(o.reportNamespaces=new aw),!o){id(o,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const D=(B,H)=>Xi(H)?H:WE(H)&&Xi(H.defaultValue)?H.defaultValue:Array.isArray(B)?B[B.length-1]:B,M=[D,{},!1];return M.t=D,M.i18n={},M.ready=!1,M}(N=o.options.react)!=null&&N.wait&&id(o,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const u={...nw(),...o.options.react,...e},{useSuspense:f,keyPrefix:d}=u;let g=s||((A=o.options)==null?void 0:A.defaultNS);g=Xi(g)?[g]:g||["translation"],(R=(O=o.reportNamespaces).addUsedNamespaces)==null||R.call(O,g);const h=(o.isInitialized||o.initializedStoreOnce)&&g.every(D=>ZE(D,o,u)),y=uw(o,e.lng||null,u.nsMode==="fallback"?g:g[0],d),b=()=>y,_=()=>zy(o,e.lng||null,u.nsMode==="fallback"?g:g[0],d),[v,S]=z.useState(b);let C=g.join();e.lng&&(C=`${e.lng}${C}`);const w=ow(C),x=z.useRef(!0);z.useEffect(()=>{const{bindI18n:D,bindI18nStore:M}=u;x.current=!0,!h&&!f&&(e.lng?Dy(o,e.lng,g,()=>{x.current&&S(_)}):ld(o,g,()=>{x.current&&S(_)})),h&&w&&w!==C&&x.current&&S(_);const B=()=>{x.current&&S(_)};return D&&(o==null||o.on(D,B)),M&&(o==null||o.store.on(M,B)),()=>{x.current=!1,o&&(D==null||D.split(" ").forEach(H=>o.off(H,B))),M&&o&&M.split(" ").forEach(H=>o.store.off(H,B))}},[o,C]),z.useEffect(()=>{x.current&&h&&S(b)},[o,d,h]);const E=[v,o,h];if(E.t=v,E.i18n=o,E.ready=h,h||!h&&!f)return E;throw new Promise(D=>{e.lng?Dy(o,e.lng,g,()=>D()):ld(o,g,()=>D())})},cw={translation:{loading:"Loading...","Broken Image":"Broken Image",Normal:"Normal","H1 Heading":"H1 Heading","H2 Heading":"H2 Heading","H3 Heading":"H3 Heading","H4 Heading":"H4 Heading","H5 Heading":"H5 Heading",Quote:"Quote","Code Block":"Code Block","Insert Table":"Insert Table","Insert Image":"Insert Image","# of rows (1-500)":"# of rows (1-500)",Rows:"Rows","# of columns (1-50)":"# of columns (1-50)",Columns:"Columns",Confirm:"Confirm",Insert:"Insert",right:"right",left:"left",above:"above",below:"below","Delete column":"Delete column","Delete row":"Delete row","Delete table":"Delete table",Remove:"Remove",Add:"Add","row header":"row header","column header":"column header",rows_one:"row",rows_other:"{{count}} rows",cols_one:"column",cols_other:"{{count}} columns","Image URL":"Image URL","Image Upload":"Image Upload",File:"File",Bold:"Bold",Italic:"Italic",Underline:"Underline",Strikethrough:"Strikethrough",Code:"Code",Link:"Link","Bullet List":"Bullet List","Numbered List":"Numbered List",Table:"Table",Image:"Image","Horizontal Line":"Horizontal Line","Block Format":"Block Format"}},fw={translation:{loading:"...","Broken Image":"",Normal:" ","H1 Heading":"H1 ","H2 Heading":"H2 ","H3 Heading":"H3 ","H4 Heading":"H4 ","H5 Heading":"H5 ",Quote:"","Code Block":"  ","Insert Table":" ","Insert Image":" ","# of rows (1-500)":"#  (1-500)",Rows:"","# of columns (1-50)":"#  (1-50)",Columns:"",Confirm:"",Insert:"",right:"",left:"",above:"",below:"","Delete column":" ","Delete row":" ","Delete table":" ",Remove:"",Add:"","row header":" ","column header":" ",rows_one:"",rows_few:"{{count}} ",rows_many:"{{count}} ",cols_one:"",cols_few:"{{count}} ",cols_many:"{{count}} ","Image URL":"URL ","Image Upload":" ",File:"",Bold:"",Italic:"",Underline:"",Strikethrough:"",Code:"",Link:"","Bullet List":" ","Numbered List":" ",Table:"",Image:"","Horizontal Line":" ","Block Format":" "}};Bt.use(lw).init({resources:{en:cw,ru:fw},lng:"en",fallbackLng:"en",interpolation:{escapeValue:!1}});const $y=z.createContext(null);function dw(r,e){return{getTheme:function(){return e??null}}}function je(){const r=z.useContext($y);return r==null&&function(e,...t){const l=new URL("https://lexical.dev/docs/error"),s=new URLSearchParams;s.append("code",e);for(const o of t)s.append("v",o);throw l.search=s.toString(),Error(`Minified Lexical error #${e}; visit ${l.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}(8),r}function de(r,...e){const t=new URL("https://lexical.dev/docs/error"),l=new URLSearchParams;l.append("code",r);for(const s of e)l.append("v",s);throw t.search=l.toString(),Error(`Minified Lexical error #${r}; visit ${t.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}const Qn=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,gw=Qn&&"documentMode"in document?document.documentMode:null,Jn=Qn&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),li=Qn&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),uu=!(!Qn||!("InputEvent"in window)||gw)&&"getTargetRanges"in new window.InputEvent("input"),da=Qn&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),Pl=Qn&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,hw=Qn&&/Android/.test(navigator.userAgent),Fy=Qn&&/^(?=.*Chrome).*/i.test(navigator.userAgent),By=Qn&&hw&&Fy,cu=Qn&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!Fy;function fu(...r){const e=[];for(const t of r)if(t&&typeof t=="string")for(const[l]of t.matchAll(/\S+/g))e.push(l);return e}const pw=1,mw=3,yw=9,bw=11,Zi=0,Uy=1,Il=2,vw=0,_w=1,Sw=2,du=4,gu=8,ad=128,xw=1792|(112|(3|du|gu)|ad),od=1,ud=2,cd=3,fd=4,dd=5,gd=6,hu=da||Pl||cu?"":"",Or=`

`,Cw=li?"":hu,jy="---",Hy="A-Za-z--------",Ew=new RegExp("^[^"+Hy+"]*["+jy+"]"),ww=new RegExp("^[^"+jy+"]*["+Hy+"]"),si={bold:1,capitalize:1024,code:16,highlight:ad,italic:2,lowercase:256,strikethrough:du,subscript:32,superscript:64,underline:gu,uppercase:512},Tw={directionless:1,unmergeable:2},Ky={center:ud,end:gd,justify:fd,left:od,right:cd,start:dd},Nw={[ud]:"center",[gd]:"end",[fd]:"justify",[od]:"left",[cd]:"right",[dd]:"start"},Aw={normal:0,segmented:2,token:1},Ow={[vw]:"normal",[Sw]:"segmented",[_w]:"token"},Rw="$";function Py(r,e,t,l,s,o){let u=r.getFirstChild();for(;u!==null;){const f=u.__key;u.__parent===e&&(W(u)&&Py(u,f,t,l,s,o),t.has(f)||o.delete(f),s.push(f)),u=u.getNextSibling()}}const kw=100;let hd=!1,pd=0;function Mw(r){pd=r.timeStamp}function md(r,e,t){const l=r.nodeName==="BR",s=e.__lexicalLineBreak;return s&&(r===s||l&&r.previousSibling===s)||l&&Iu(r,t)!==void 0}function Dw(r,e,t){const l=Xt(Un(t));let s=null,o=null;l!==null&&l.anchorNode===r&&(s=l.anchorOffset,o=l.focusOffset);const u=r.nodeValue;u!==null&&ng(e,u,s,o,!1)}function Lw(r,e,t){if(I(r)){const l=r.anchor.getNode();if(l.is(t)&&r.format!==l.getFormat())return!1}return $r(e)&&t.isAttached()}function zw(r,e,t,l){for(let s=r;s&&!ST(s);s=Ua(s)){const o=Iu(s,e);if(o!==void 0){const u=Ze(o,t);if(u)return Be(u)||!ht(s)?void 0:[s,u]}else if(s===l)return[l,nv(t)]}}function Iy(r,e,t){hd=!0;const l=performance.now()-pd>kw;try{En(r,()=>{const s=X()||function(b){return b.getEditorState().read(()=>{const _=X();return _!==null?_.clone():null})}(r),o=new Map,u=r.getRootElement(),f=r._editorState,d=r._blockCursorElement;let g=!1,h="";for(let b=0;b<e.length;b++){const _=e[b],v=_.type,S=_.target,C=zw(S,r,f,u);if(!C)continue;const[w,x]=C;if(v==="characterData")l&&oe(x)&&$r(S)&&Lw(s,S,x)&&Dw(S,x,r);else if(v==="childList"){g=!0;const E=_.addedNodes;for(let O=0;O<E.length;O++){const R=E[O],D=Jb(R),M=R.parentNode;if(M!=null&&R!==d&&D===null&&!md(R,M,r)){if(li){const B=(ht(R)?R.innerText:null)||R.nodeValue;B&&(h+=B)}M.removeChild(R)}}const N=_.removedNodes,A=N.length;if(A>0){let O=0;for(let R=0;R<A;R++){const D=N[R];(md(D,S,r)||d===D)&&(S.appendChild(D),O++)}A!==O&&o.set(w,x)}}}if(o.size>0)for(const[b,_]of o)_.reconcileObservedMutation(b,r);const y=t.takeRecords();if(y.length>0){for(let b=0;b<y.length;b++){const _=y[b],v=_.addedNodes,S=_.target;for(let C=0;C<v.length;C++){const w=v[C],x=w.parentNode;x==null||w.nodeName!=="BR"||md(w,S,r)||x.removeChild(w)}}t.takeRecords()}s!==null&&(g&&qe(s),li&&gv(r)&&s.insertRawText(h))})}finally{hd=!1}}function qy(r){const e=r._observer;e!==null&&Iy(r,e.takeRecords(),e)}function Yy(r){(function(e){pd===0&&Un(e).addEventListener("textInput",Mw,!0)})(r),r._observer=new MutationObserver((e,t)=>{Iy(r,e,t)})}let $w=class fE{constructor(e,t=new Map,l=void 0,s=new Map,o=void 0){this.node=e,this.sharedConfigMap=t,this.unknownState=l,this.knownState=s;const u=o!==void 0?o:function(f,d,g){let h=g.size;if(d)for(const y in d){const b=f.get(y);b&&g.has(b)||h++}return h}(t,l,s);this.size=u}getValue(e){const t=this.knownState.get(e);if(t!==void 0)return t;this.sharedConfigMap.set(e.key,e);let l=e.defaultValue;if(this.unknownState&&e.key in this.unknownState){const s=this.unknownState[e.key];s!==void 0&&(l=e.parse(s)),this.updateFromKnown(e,l)}return l}getInternalState(){return[this.unknownState,this.knownState]}toJSON(){const e={...this.unknownState};for(const[t,l]of this.knownState)t.isEqual(l,t.defaultValue)?delete e[t.key]:e[t.key]=t.unparse(l);return pu(e)?{[Rw]:e}:{}}getWritable(e){if(this.node===e)return this;const t=new Map(this.knownState),l=pu(s=this.unknownState)&&{...s};var s;if(l)for(const o of t.keys())delete l[o.key];return new fE(e,this.sharedConfigMap,pu(l),t,this.size)}updateFromKnown(e,t){const l=e.key;this.sharedConfigMap.set(l,e);const{knownState:s,unknownState:o}=this;s.has(e)||o&&l in o||this.size++,s.set(e,t)}updateFromUnknown(e,t){const l=this.sharedConfigMap.get(e);l?this.updateFromKnown(l,l.parse(t)):(this.unknownState=this.unknownState||{},e in this.unknownState||this.size++,this.unknownState[e]=t)}updateFromJSON(e){const{knownState:t}=this;for(const l of t.keys())t.set(l,l.defaultValue);if(this.size=t.size,this.unknownState={},e)for(const[l,s]of Object.entries(e))this.updateFromUnknown(l,s);this.unknownState=pu(this.unknownState)}};function pu(r){if(r)for(const e in r)return r}function Fw(r){const e=r.getWritable(),t=e.__state?e.__state.getWritable(e):new $w(e);return e.__state=t,t}function Vy(r,e){const t=r.__mode,l=r.__format,s=r.__style,o=e.__mode,u=e.__format,f=e.__style,d=r.__state,g=e.__state;return(t===null||t===o)&&(l===null||l===u)&&(s===null||s===f)&&(r.__state===null||d===g||function(h,y){if(h===y)return!0;if(h&&y&&h.size!==y.size)return!1;const b=new Set,_=(S,C)=>{for(const[w,x]of S.knownState){if(b.has(w.key))continue;b.add(w.key);const E=C?C.getValue(w):w.defaultValue;if(E!==x&&!w.isEqual(E,x))return!0}return!1},v=(S,C)=>{const{unknownState:w}=S,x=C?C.unknownState:void 0;if(w){for(const[E,N]of Object.entries(w))if(!b.has(E)&&(b.add(E),N!==(x?x[E]:void 0)))return!0}return!1};return!(h&&_(h,y)||y&&_(y,h)||h&&v(h,y)||y&&v(y,h))}(d,g))}function Gy(r,e){const t=r.mergeWithSibling(e),l=mt()._normalizedNodes;return l.add(r.__key),l.add(e.__key),t}function Xy(r){let e,t,l=r;if(l.__text!==""||!l.isSimpleText()||l.isUnmergeable()){for(;(e=l.getPreviousSibling())!==null&&oe(e)&&e.isSimpleText()&&!e.isUnmergeable();){if(e.__text!==""){if(Vy(e,l)){l=Gy(e,l);break}break}e.remove()}for(;(t=l.getNextSibling())!==null&&oe(t)&&t.isSimpleText()&&!t.isUnmergeable();){if(t.__text!==""){if(Vy(l,t)){l=Gy(l,t);break}break}t.remove()}}else l.remove()}function Wi(r){return Zy(r.anchor),Zy(r.focus),r}function Zy(r){for(;r.type==="element";){const e=r.getNode(),t=r.offset;let l,s;if(t===e.getChildrenSize()?(l=e.getChildAtIndex(t-1),s=!0):(l=e.getChildAtIndex(t),s=!1),oe(l)){r.set(l.__key,s?l.getTextContentSize():0,"text",!0);break}if(!W(l))break;r.set(l.__key,s?l.getChildrenSize():0,"element",!0)}}let ai,en,ga,mu,yd,bd,Qi,er,vd,ha,Ot="",tn="",hr=null,pr="",Rr="",Wy=!1,pa=!1,yu=null;function bu(r,e){const t=Qi.get(r);if(e!==null){const l=Cd(r);l.parentNode===e&&e.removeChild(l)}if(er.has(r)||en._keyToDOMMap.delete(r),W(t)){const l=_u(t,Qi);_d(l,0,l.length-1,null)}t!==void 0&&rg(ha,ga,mu,t,"destroyed")}function _d(r,e,t,l){let s=e;for(;s<=t;++s){const o=r[s];o!==void 0&&bu(o,l)}}function Ji(r,e){r.setProperty("text-align",e)}const Bw="40px";function Qy(r,e){const t=ai.theme.indent;if(typeof t=="string"){const s=r.classList.contains(t);e>0&&!s?r.classList.add(t):e<1&&s&&r.classList.remove(t)}const l=getComputedStyle(r).getPropertyValue("--lexical-indent-base-value")||Bw;r.style.setProperty("padding-inline-start",e===0?"":`calc(${e} * ${l})`)}function Jy(r,e){const t=r.style;e===0?Ji(t,""):e===od?Ji(t,"left"):e===ud?Ji(t,"center"):e===cd?Ji(t,"right"):e===fd?Ji(t,"justify"):e===dd?Ji(t,"start"):e===gd&&Ji(t,"end")}function vu(r,e){const t=er.get(r);t===void 0&&de(60);const l=t.createDOM(ai,en);if(function(s,o,u){const f=u._keyToDOMMap;(function(d,g,h){const y=`__lexicalKey_${g._key}`;d[y]=h})(o,u,s),f.set(s,o)}(r,l,en),oe(t)?l.setAttribute("data-lexical-text","true"):Be(t)&&l.setAttribute("data-lexical-decorator","true"),W(t)){const s=t.__indent,o=t.__size;if(s!==0&&Qy(l,s),o!==0){const f=o-1;(function(d,g,h,y){const b=tn;tn="",Sd(d,h,0,g,h.getDOMSlot(y)),nb(h,y),tn=b})(_u(t,er),f,t,l)}const u=t.__format;u!==0&&Jy(l,u),t.isInline()||tb(null,t,l),qu(t)&&(Ot+=Or,Rr+=Or)}else{const s=t.getTextContent();if(Be(t)){const o=t.decorate(en,ai);o!==null&&rb(r,o),l.contentEditable="false"}else oe(t)&&(t.isDirectionless()||(tn+=s));Ot+=s,Rr+=s}return e!==null&&e.insertChild(l),rg(ha,ga,mu,t,"created"),l}function Sd(r,e,t,l,s){const o=Ot;Ot="";let u=t;for(;u<=l;++u){vu(r[u],s);const f=er.get(r[u]);f!==null&&oe(f)&&(hr===null&&(hr=f.getFormat()),pr===""&&(pr=f.getStyle()))}qu(e)&&(Ot+=Or),s.element.__lexicalTextContent=Ot,Ot=o+Ot}function eb(r,e){if(r){const t=r.__last;if(t){const l=e.get(t);if(l)return Cn(l)?"line-break":Be(l)&&l.isInline()?"decorator":null}return"empty"}return null}function tb(r,e,t){const l=eb(r,Qi),s=eb(e,er);l!==s&&e.getDOMSlot(t).setManagedLineBreak(s)}function nb(r,e){const t=e.__lexicalDirTextContent||"",l=e.__lexicalDir||"";if(t!==tn||l!==yu){const s=tn==="",o=s?yu:function(u){return Ew.test(u)?"rtl":ww.test(u)?"ltr":null}(tn);if(o!==l){const u=e.classList,f=ai.theme;let d=l!==null?f[l]:void 0,g=o!==null?f[o]:void 0;if(d!==void 0){if(typeof d=="string"){const h=fu(d);d=f[l]=h}u.remove(...d)}if(o===null||s&&o==="ltr")e.removeAttribute("dir");else{if(g!==void 0){if(typeof g=="string"){const h=fu(g);g=f[o]=h}g!==void 0&&u.add(...g)}e.dir=o}pa||(r.getWritable().__dir=o)}yu=o,e.__lexicalDirTextContent=tn,e.__lexicalDir=o}}function Uw(r,e,t){const l=tn;var s;tn="",hr=null,pr="",function(o,u,f){const d=Ot,g=o.__size,h=u.__size;Ot="";const y=f.element;if(g===1&&h===1){const b=o.__first,_=u.__first;if(b===_)ma(b,y);else{const S=Cd(b),C=vu(_,null);try{y.replaceChild(C,S)}catch(w){if(typeof w=="object"&&w!=null){const x=`${w.toString()} Parent: ${y.tagName}, new child: {tag: ${C.tagName} key: ${_}}, old child: {tag: ${S.tagName}, key: ${b}}.`;throw new Error(x)}throw w}bu(b,null)}const v=er.get(_);oe(v)&&(hr===null&&(hr=v.getFormat()),pr===""&&(pr=v.getStyle()))}else{const b=_u(o,Qi),_=_u(u,er);if(b.length!==g&&de(227),_.length!==h&&de(228),g===0)h!==0&&Sd(_,u,0,h-1,f);else if(h===0){if(g!==0){const v=f.after==null&&f.before==null&&f.element.__lexicalLineBreak==null;_d(b,0,g-1,v?null:y),v&&(y.textContent="")}}else(function(v,S,C,w,x,E){const N=w-1,A=x-1;let O,R,D=E.getFirstChild(),M=0,B=0;for(;M<=N&&B<=A;){const Y=S[M],Z=C[B];if(Y===Z)D=xd(ma(Z,E.element)),M++,B++;else{O===void 0&&(O=new Set(S)),R===void 0&&(R=new Set(C));const U=R.has(Y),G=O.has(Z);if(U)if(G){const K=ls(en,Z);K===D?D=xd(ma(Z,E.element)):(E.withBefore(D).insertChild(K),ma(Z,E.element)),M++,B++}else vu(Z,E.withBefore(D)),B++;else D=xd(Cd(Y)),bu(Y,E.element),M++}const ie=er.get(Z);ie!==null&&oe(ie)&&(hr===null&&(hr=ie.getFormat()),pr===""&&(pr=ie.getStyle()))}const H=M>N,q=B>A;if(H&&!q){const Y=C[A+1],Z=Y===void 0?null:en.getElementByKey(Y);Sd(C,v,B,A,E.withBefore(Z))}else q&&!H&&_d(S,M,N,E.element)})(u,b,_,g,h,f)}qu(u)&&(Ot+=Or),y.__lexicalTextContent=Ot,Ot=d+Ot}(r,e,e.getDOMSlot(t)),nb(e,t),s=e,hr==null||hr===s.__textFormat||pa||s.setTextFormat(hr),function(o){pr===""||pr===o.__textStyle||pa||o.setTextStyle(pr)}(e),tn=l}function _u(r,e){const t=[];let l=r.__first;for(;l!==null;){const s=e.get(l);s===void 0&&de(101),t.push(l),l=s.__next}return t}function ma(r,e){const t=Qi.get(r);let l=er.get(r);t!==void 0&&l!==void 0||de(61);const s=Wy||bd.has(r)||yd.has(r),o=ls(en,r);if(t===l&&!s){if(W(t)){const u=o.__lexicalTextContent;u!==void 0&&(Ot+=u,Rr+=u);const f=o.__lexicalDirTextContent;f!==void 0&&(tn+=f)}else{const u=t.getTextContent();oe(t)&&!t.isDirectionless()&&(tn+=u),Rr+=u,Ot+=u}return o}if(t!==l&&s&&rg(ha,ga,mu,l,"updated"),l.updateDOM(t,o,ai)){const u=vu(r,null);return e===null&&de(62),e.replaceChild(u,o),bu(r,null),u}if(W(t)&&W(l)){const u=l.__indent;u!==t.__indent&&Qy(o,u);const f=l.__format;f!==t.__format&&Jy(o,f),s&&(Uw(t,l,o),Ut(l)||l.isInline()||tb(t,l,o)),qu(l)&&(Ot+=Or,Rr+=Or)}else{const u=l.getTextContent();if(Be(l)){const f=l.decorate(en,ai);f!==null&&rb(r,f)}else oe(l)&&!l.isDirectionless()&&(tn+=u);Ot+=u,Rr+=u}if(!pa&&Ut(l)&&l.__cachedText!==Rr){const u=l.getWritable();u.__cachedText=Rr,l=u}return o}function rb(r,e){let t=en._pendingDecorators;const l=en._decorators;if(t===null){if(l[r]===e)return;t=ev(en)}t[r]=e}function xd(r){let e=r.nextSibling;return e!==null&&e===en._blockCursorElement&&(e=e.nextSibling),e}function jw(r,e,t,l,s,o){Ot="",Rr="",tn="",Wy=l===Il,yu=null,en=t,ai=t._config,ga=t._nodes,mu=en._listeners.mutation,yd=s,bd=o,Qi=r._nodeMap,er=e._nodeMap,pa=e._readOnly,vd=new Map(t._keyToDOMMap);const u=new Map;return ha=u,ma("root",null),en=void 0,ga=void 0,yd=void 0,bd=void 0,Qi=void 0,er=void 0,ai=void 0,vd=void 0,ha=void 0,u}function Cd(r){const e=vd.get(r);return e===void 0&&de(75,r),e}function cn(r){return{}}const nn={},Ed={},oi={},tr={},ui={},ci={},fi={},ql={},Su={},el={},di={},fn={},wd={},Td={},xu={},ya={},Hw={},ba={},Kw={},va={},_a={},gi={},Nd={},hi={},tl={},Yl={},Sa={},Pw={},Iw={},ib={},xa={},lb={},Ca={},Cu={},qw={},Ea={},wa={},Eu={},Yw={},Vw={},Ta={},Na={},wu={},Tu={},sb={},kr=Object.freeze({}),Ad=30,Od=[["keydown",function(r,e){if(Aa=r.timeStamp,Rd=r.key,e.isComposing())return;const{key:t,shiftKey:l,ctrlKey:s,metaKey:o,altKey:u}=r;if(!ye(e,xu,r)&&t!=null){if(Dd&&rs(Rd))return En(e,()=>{Ou(e,Ld)}),Dd=!1,void(Ld="");if(function(f,d,g,h){return ov(f)&&!d&&!h&&!g}(t,s,u,o))ye(e,ya,r);else if(function(f,d,g,h,y){return ov(f)&&!h&&!g&&(d||y)}(t,s,l,u,o))ye(e,Hw,r);else if(function(f,d,g,h){return av(f)&&!d&&!h&&!g}(t,s,u,o))ye(e,ba,r);else if(function(f,d,g,h,y){return av(f)&&!h&&!g&&(d||y)}(t,s,l,u,o))ye(e,Kw,r);else if(function(f,d,g){return function(h){return h==="ArrowUp"}(f)&&!d&&!g}(t,s,o))ye(e,va,r);else if(function(f,d,g){return function(h){return h==="ArrowDown"}(f)&&!d&&!g}(t,s,o))ye(e,_a,r);else if(function(f,d){return uv(f)&&d}(t,l))Oa=!0,ye(e,gi,r);else if(function(f){return f===" "}(t))ye(e,Nd,r);else if(function(f,d){return Jn&&d&&f.toLowerCase()==="o"}(t,s))r.preventDefault(),Oa=!0,ye(e,ui,!0);else if(function(f,d){return uv(f)&&!d}(t,l))Oa=!1,ye(e,gi,r);else if(function(f,d,g,h){return Jn?!d&&!g&&(rs(f)||f.toLowerCase()==="h"&&h):h||d||g?!1:rs(f)}(t,u,o,s))rs(t)?ye(e,hi,r):(r.preventDefault(),ye(e,tr,!0));else if(function(f){return f==="Escape"}(t))ye(e,tl,r);else if(function(f,d,g,h,y){return Jn?!(g||h||y)&&(Ba(f)||f.toLowerCase()==="d"&&d):d||h||y?!1:Ba(f)}(t,s,l,u,o))Ba(t)?ye(e,Yl,r):(r.preventDefault(),ye(e,tr,!1));else if(function(f,d,g){return rs(f)&&(Jn?d:g)}(t,u,s))r.preventDefault(),ye(e,el,!0);else if(function(f,d,g){return Ba(f)&&(Jn?d:g)}(t,u,s))r.preventDefault(),ye(e,el,!1);else if(function(f,d){return Jn&&d&&rs(f)}(t,o))r.preventDefault(),ye(e,di,!0);else if(function(f,d,g){return Jn&&(d&&Ba(f)||g&&f.toLowerCase()==="k")}(t,o,s))r.preventDefault(),ye(e,di,!1);else if(function(f,d,g,h){return f.toLowerCase()==="b"&&!d&&Fa(g,h)}(t,u,o,s))r.preventDefault(),ye(e,fn,"bold");else if(function(f,d,g,h){return f.toLowerCase()==="u"&&!d&&Fa(g,h)}(t,u,o,s))r.preventDefault(),ye(e,fn,"underline");else if(function(f,d,g,h){return f.toLowerCase()==="i"&&!d&&Fa(g,h)}(t,u,o,s))r.preventDefault(),ye(e,fn,"italic");else if(function(f,d,g,h){return f==="Tab"&&!d&&!g&&!h}(t,u,s,o))ye(e,Sa,r);else if(function(f,d,g,h){return f.toLowerCase()==="z"&&!d&&Fa(g,h)}(t,l,o,s))r.preventDefault(),ye(e,wd,void 0);else if(function(f,d,g,h){return Jn?f.toLowerCase()==="z"&&g&&d:f.toLowerCase()==="y"&&h||f.toLowerCase()==="z"&&h&&d}(t,l,o,s))r.preventDefault(),ye(e,Td,void 0);else{const f=e._editorState._selection;f===null||I(f)?!li&&cv(t,o,s)&&(r.preventDefault(),ye(e,Eu,r)):function(d,g,h,y){return g?!1:d.toLowerCase()==="c"?Jn?h:y:!1}(t,l,o,s)?(r.preventDefault(),ye(e,Ea,r)):function(d,g,h,y){return g?!1:d.toLowerCase()==="x"?Jn?h:y:!1}(t,l,o,s)?(r.preventDefault(),ye(e,wa,r)):cv(t,o,s)&&(r.preventDefault(),ye(e,Eu,r))}(function(f,d,g,h){return f||d||g||h})(s,l,u,o)&&ye(e,sb,r)}}],["pointerdown",function(r,e){const t=r.target,l=r.pointerType;ir(t)&&l!=="touch"&&r.button===0&&En(e,()=>{Zb(t)||(Md=!0)})}],["compositionstart",function(r,e){En(e,()=>{const t=X();if(I(t)&&!e.isComposing()){const l=t.anchor,s=t.anchor.getNode();jt(l.key),(r.timeStamp<Aa+Ad||l.type==="element"||!t.isCollapsed()||s.getFormat()!==t.format||oe(s)&&s.getStyle()!==t.style)&&ye(e,fi,Cw)}})}],["compositionend",function(r,e){li?Ra=!0:Pl||!da&&!cu?En(e,()=>{Ou(e,r.data)}):(Dd=!0,Ld=r.data)}],["input",function(r,e){r.stopPropagation(),En(e,()=>{if(ht(r.target)&&Zb(r.target))return;const t=X(),l=r.data,s=gb(r);if(l!=null&&I(t)&&ub(t,s,l,r.timeStamp,!1)){Ra&&(Ou(e,l),Ra=!1);const o=t.anchor.getNode(),u=Xt(Un(e));if(u===null)return;const f=t.isBackward(),d=f?t.anchor.offset:t.focus.offset,g=f?t.focus.offset:t.anchor.offset;uu&&!t.isCollapsed()&&oe(o)&&u.anchorNode!==null&&o.getTextContent().slice(0,d)+l+o.getTextContent().slice(d+g)===sv(u.anchorNode)||ye(e,fi,l);const h=l.length;li&&h>1&&r.inputType==="insertCompositionText"&&!e.isComposing()&&(t.anchor.offset-=h),da||Pl||cu||!e.isComposing()||(Aa=0,jt(null))}else tg(!1,e,l!==null?l:void 0),Ra&&(Ou(e,l||void 0),Ra=!1);(function(){Vt();const o=mt();qy(o)})()},{event:r}),Vl=null}],["click",function(r,e){En(e,()=>{const t=X(),l=Xt(Un(e)),s=rr();if(l){if(I(t)){const o=t.anchor,u=o.getNode();if(o.type==="element"&&o.offset===0&&t.isCollapsed()&&!Ut(u)&&tt().getChildrenSize()===1&&u.getTopLevelElementOrThrow().isEmpty()&&s!==null&&t.is(s))l.removeAllRanges(),t.dirty=!0;else if(r.detail===3&&!t.isCollapsed()&&u!==t.focus.getNode()){const f=function(d,g){let h=d;for(;h!==tt()&&h!=null;){if(g(h))return h;h=h.getParent()}return null}(u,d=>W(d)&&!d.isInline());W(f)&&f.select(0)}}else if(r.pointerType==="touch"){const o=l.anchorNode;(ht(o)||$r(o))&&qe(Lu(s,l,e,r))}}ye(e,oi,r)})}],["cut",kr],["copy",kr],["dragstart",kr],["dragover",kr],["dragend",kr],["paste",kr],["focus",kr],["blur",kr],["drop",kr]];uu&&Od.push(["beforeinput",(r,e)=>function(t,l){const s=t.inputType,o=gb(t);s==="deleteCompositionText"||li&&gv(l)||s!=="insertCompositionText"&&En(l,()=>{const u=X();if(s==="deleteContentBackward"){if(u===null){const _=rr();if(!I(_))return;qe(_.clone())}if(I(u)){const _=u.anchor.key===u.focus.key;if(f=t.timeStamp,Rd==="MediaLast"&&f<Aa+Ad&&l.isComposing()&&_){if(jt(null),Aa=0,setTimeout(()=>{En(l,()=>{jt(null)})},Ad),I(u)){const v=u.anchor.getNode();v.markDirty(),oe(v)||de(142),db(u,v)}}else{jt(null),t.preventDefault();const v=u.anchor.getNode(),S=v.getTextContent(),C=v.canInsertTextAfter(),w=u.anchor.offset===0&&u.focus.offset===S.length;let x=By&&_&&!w&&C;if(x&&u.isCollapsed()&&(x=!Be(lg(u.anchor,!0))),!x){ye(l,tr,!0);const E=X();By&&I(E)&&E.isCollapsed()&&(nl=E,setTimeout(()=>nl=null))}}return}}var f;if(!I(u))return;const d=t.data;Vl!==null&&tg(!1,l,Vl),u.dirty&&Vl===null||!u.isCollapsed()||Ut(u.anchor.getNode())||o===null||u.applyDOMRange(o),Vl=null;const g=u.anchor,h=u.focus,y=g.getNode(),b=h.getNode();if(s!=="insertText"&&s!=="insertTranspose")switch(t.preventDefault(),s){case"insertFromYank":case"insertFromDrop":case"insertReplacementText":ye(l,fi,t);break;case"insertFromComposition":jt(null),ye(l,fi,t);break;case"insertLineBreak":jt(null),ye(l,ui,!1);break;case"insertParagraph":jt(null),Oa&&!Pl?(Oa=!1,ye(l,ui,!1)):ye(l,ci,void 0);break;case"insertFromPaste":case"insertFromPasteAsQuotation":ye(l,ql,t);break;case"deleteByComposition":(function(_,v){return _!==v||W(_)||W(v)||!_.isToken()||!v.isToken()})(y,b)&&ye(l,Su,t);break;case"deleteByDrag":case"deleteByCut":ye(l,Su,t);break;case"deleteContent":ye(l,tr,!1);break;case"deleteWordBackward":ye(l,el,!0);break;case"deleteWordForward":ye(l,el,!1);break;case"deleteHardLineBackward":case"deleteSoftLineBackward":ye(l,di,!0);break;case"deleteContentForward":case"deleteHardLineForward":case"deleteSoftLineForward":ye(l,di,!1);break;case"formatStrikeThrough":ye(l,fn,"strikethrough");break;case"formatBold":ye(l,fn,"bold");break;case"formatItalic":ye(l,fn,"italic");break;case"formatUnderline":ye(l,fn,"underline");break;case"historyUndo":ye(l,wd,void 0);break;case"historyRedo":ye(l,Td,void 0)}else{if(d===`
`)t.preventDefault(),ye(l,ui,!1);else if(d===Or)t.preventDefault(),ye(l,ci,void 0);else if(d==null&&t.dataTransfer){const _=t.dataTransfer.getData("text/plain");t.preventDefault(),u.insertRawText(_)}else d!=null&&ub(u,o,d,t.timeStamp,!0)?(t.preventDefault(),ye(l,fi,d)):Vl=d;ab=t.timeStamp}})}(r,e)]);let Aa=0,Rd=null,ab=0,Vl=null;const Nu=new WeakMap;let kd=!1,Md=!1,Oa=!1,Ra=!1,Dd=!1,Ld="",nl=null,ob=[0,"",0,"root",0];function ub(r,e,t,l,s){const o=r.anchor,u=r.focus,f=o.getNode(),d=mt(),g=Xt(Un(d)),h=g!==null?g.anchorNode:null,y=o.key,b=d.getElementByKey(y),_=t.length;return y!==u.key||!oe(f)||(!s&&(!uu||ab<l+50)||f.isDirty()&&_<2||iv(t))&&o.offset!==u.offset&&!f.isComposing()||es(f)||f.isDirty()&&_>1||(s||!uu)&&b!==null&&!f.isComposing()&&h!==ts(b)||g!==null&&e!==null&&(!e.collapsed||e.startContainer!==g.anchorNode||e.startOffset!==g.anchorOffset)||f.getFormat()!==r.format||f.getStyle()!==r.style||function(v,S){if(S.isSegmented())return!0;if(!v.isCollapsed())return!1;const C=v.anchor.offset,w=S.getParentOrThrow(),x=S.isToken();return C===0?!S.canInsertTextBefore()||!w.canInsertTextBefore()&&!S.isComposing()||x||function(E){const N=E.getPreviousSibling();return(oe(N)||W(N)&&N.isInline())&&!N.canInsertTextAfter()}(S):C===S.getTextContentSize()&&(!S.canInsertTextAfter()||!w.canInsertTextAfter()&&!S.isComposing()||x)}(r,f)}function cb(r,e){return $r(r)&&r.nodeValue!==null&&e!==0&&e!==r.nodeValue.length}function fb(r,e,t){const{anchorNode:l,anchorOffset:s,focusNode:o,focusOffset:u}=r;kd&&(kd=!1,cb(l,s)&&cb(o,u)&&!nl)||En(e,()=>{if(!t)return void qe(null);if(!$a(e,l,o))return;let f=X();if(nl&&I(f)&&f.isCollapsed()){const d=f.anchor,g=nl.anchor;(d.key===g.key&&d.offset===g.offset+1||d.offset===1&&g.getNode().is(d.getNode().getPreviousSibling()))&&(f=nl.clone(),qe(f))}if(nl=null,I(f)){const d=f.anchor,g=d.getNode();if(f.isCollapsed()){r.type==="Range"&&r.anchorNode===r.focusNode&&(f.dirty=!0);const h=Un(e).event,y=h?h.timeStamp:performance.now(),[b,_,v,S,C]=ob,w=tt(),x=e.isComposing()===!1&&w.getTextContent()==="";if(y<C+200&&d.offset===v&&d.key===S)Au(f,b,_);else if(d.type==="text")oe(g)||de(141),db(f,g);else if(d.type==="element"&&!x){W(g)||de(259);const E=d.getNode();E.isEmpty()?function(N,A){const O=A.getTextFormat(),R=A.getTextStyle();Au(N,O,R)}(f,E):Au(f,0,"")}}else{const h=d.key,y=f.focus.key,b=f.getNodes(),_=b.length,v=f.isBackward(),S=v?u:s,C=v?s:u,w=v?y:h,x=v?h:y;let E=xw,N=!1;for(let A=0;A<_;A++){const O=b[A],R=O.getTextContentSize();if(oe(O)&&R!==0&&!(A===0&&O.__key===w&&S===R||A===_-1&&O.__key===x&&C===0)&&(N=!0,E&=O.getFormat(),E===0))break}f.format=N?E:0}}ye(e,nn,void 0)})}function Au(r,e,t){r.format===e&&r.style===t||(r.format=e,r.style=t,r.dirty=!0)}function db(r,e){Au(r,e.getFormat(),e.getStyle())}function gb(r){if(!r.getTargetRanges)return null;const e=r.getTargetRanges();return e.length===0?null:e[0]}function Ou(r,e){const t=r._compositionKey;if(jt(null),t!==null&&e!=null){if(e===""){const l=Ze(t),s=ts(r.getElementByKey(t));return void(s!==null&&s.nodeValue!==null&&oe(l)&&ng(l,s.nodeValue,null,null,!0))}if(e[e.length-1]===`
`){const l=X();if(I(l)){const s=l.focus;return l.anchor.set(s.key,s.offset,s.type),void ye(r,gi,null)}}}tg(!0,r,e)}function hb(r){let e=r.__lexicalEventHandles;return e===void 0&&(e=[],r.__lexicalEventHandles=e),e}const Gl=new Map;function pb(r){const e=bT(r.target);if(e===null)return;const t=Wb(e.anchorNode);if(t===null)return;Md&&(Md=!1,En(t,()=>{const d=rr(),g=e.anchorNode;(ht(g)||$r(g))&&qe(Lu(d,e,t,r))}));const l=eg(t),s=l[l.length-1],o=s._key,u=Gl.get(o),f=u||s;f!==t&&fb(e,f,!1),fb(e,t,!0),t!==s?Gl.set(o,t):u&&Gl.delete(o)}function mb(r){r._lexicalHandled=!0}function yb(r){return r._lexicalHandled===!0}function Gw(r){const e=r.ownerDocument,t=Nu.get(e);if(t===void 0)return;const l=t-1;l>=0||de(164),Nu.set(e,l),l===0&&e.removeEventListener("selectionchange",pb);const s=Hu(r);Qd(s)?(function(u){if(u._parentEditor!==null){const f=eg(u),d=f[f.length-1]._key;Gl.get(d)===u&&Gl.delete(d)}else Gl.delete(u._key)}(s),r.__lexicalEditor=null):s&&de(198);const o=hb(r);for(let u=0;u<o.length;u++)o[u]();r.__lexicalEventHandles=[]}function zd(r,e,t){Vt();const l=r.__key,s=r.getParent();if(s===null)return;const o=function(f){const d=X();if(!I(d)||!W(f))return d;const{anchor:g,focus:h}=d,y=g.getNode(),b=h.getNode();return Yu(y,f)&&g.set(f.__key,0,"element"),Yu(b,f)&&h.set(f.__key,0,"element"),d}(r);let u=!1;if(I(o)&&e){const f=o.anchor,d=o.focus;f.key===l&&($u(f,r,s,r.getPreviousSibling(),r.getNextSibling()),u=!0),d.key===l&&($u(d,r,s,r.getPreviousSibling(),r.getNextSibling()),u=!0)}else et(o)&&e&&r.isSelected()&&r.selectPrevious();if(I(o)&&e&&!u){const f=r.getIndexWithinParent();il(r),zu(o,s,f,-1)}else il(r);t||St(s)||s.canBeEmpty()||!s.isEmpty()||zd(s,e),e&&o&&Ut(s)&&s.isEmpty()&&s.selectEnd()}class Ru{static getType(){de(64,this.name)}static clone(e){de(65,this.name)}afterCloneFrom(e){this.__parent=e.__parent,this.__next=e.__next,this.__prev=e.__prev,this.__state=e.__state}constructor(e){this.__type=this.constructor.getType(),this.__parent=null,this.__prev=null,this.__next=null,Object.defineProperty(this,"__state",{configurable:!0,enumerable:!1,value:void 0,writable:!0}),Qb(this,e)}getType(){return this.__type}isInline(){de(137,this.constructor.name)}isAttached(){let e=this.__key;for(;e!==null;){if(e==="root")return!0;const t=Ze(e);if(t===null)break;e=t.__parent}return!1}isSelected(e){const t=e||X();if(t==null)return!1;const l=t.getNodes().some(s=>s.__key===this.__key);if(oe(this))return l;if(I(t)&&t.anchor.type==="element"&&t.focus.type==="element"){if(t.isCollapsed())return!1;const s=this.getParent();if(Be(this)&&this.isInline()&&s){const o=t.isBackward()?t.focus:t.anchor;if(s.is(o.getNode())&&o.offset===s.getChildrenSize()&&this.is(s.getLastChild()))return!1}}return l}getKey(){return this.__key}getIndexWithinParent(){const e=this.getParent();if(e===null)return-1;let t=e.getFirstChild(),l=0;for(;t!==null;){if(this.is(t))return l;l++,t=t.getNextSibling()}return-1}getParent(){const e=this.getLatest().__parent;return e===null?null:Ze(e)}getParentOrThrow(){const e=this.getParent();return e===null&&de(66,this.__key),e}getTopLevelElement(){let e=this;for(;e!==null;){const t=e.getParent();if(St(t))return W(e)||e===this&&Be(e)||de(194),e;e=t}return null}getTopLevelElementOrThrow(){const e=this.getTopLevelElement();return e===null&&de(67,this.__key),e}getParents(){const e=[];let t=this.getParent();for(;t!==null;)e.push(t),t=t.getParent();return e}getParentKeys(){const e=[];let t=this.getParent();for(;t!==null;)e.push(t.__key),t=t.getParent();return e}getPreviousSibling(){const e=this.getLatest().__prev;return e===null?null:Ze(e)}getPreviousSiblings(){const e=[],t=this.getParent();if(t===null)return e;let l=t.getFirstChild();for(;l!==null&&!l.is(this);)e.push(l),l=l.getNextSibling();return e}getNextSibling(){const e=this.getLatest().__next;return e===null?null:Ze(e)}getNextSiblings(){const e=[];let t=this.getNextSibling();for(;t!==null;)e.push(t),t=t.getNextSibling();return e}getCommonAncestor(e){const t=W(this)?this:this.getParent(),l=W(e)?e:e.getParent(),s=t&&l?Zu(t,l):null;return s?s.commonAncestor:null}is(e){return e!=null&&this.__key===e.__key}isBefore(e){const t=Zu(this,e);return t!==null&&(t.type==="descendant"||(t.type==="branch"?_v(t)===-1:(t.type!=="same"&&t.type!=="ancestor"&&de(279),!1)))}isParentOf(e){const t=Zu(this,e);return t!==null&&t.type==="ancestor"}getNodesBetween(e){const t=this.isBefore(e),l=[],s=new Set;let o=this;for(;o!==null;){const u=o.__key;if(s.has(u)||(s.add(u),l.push(o)),o===e)break;const f=W(o)?t?o.getFirstChild():o.getLastChild():null;if(f!==null){o=f;continue}const d=t?o.getNextSibling():o.getPreviousSibling();if(d!==null){o=d;continue}const g=o.getParentOrThrow();if(s.has(g.__key)||l.push(g),g===e)break;let h=null,y=g;do{if(y===null&&de(68),h=t?y.getNextSibling():y.getPreviousSibling(),y=y.getParent(),y===null)break;h!==null||s.has(y.__key)||l.push(y)}while(h===null);o=h}return t||l.reverse(),l}isDirty(){const e=mt()._dirtyLeaves;return e!==null&&e.has(this.__key)}getLatest(){const e=Ze(this.__key);return e===null&&de(113),e}getWritable(){Vt();const e=Dr(),t=mt(),l=e._nodeMap,s=this.__key,o=this.getLatest(),u=t._cloneNotNeeded,f=X();if(f!==null&&f.setCachedNodes(null),u.has(s))return Pu(o),o;const d=hg(o);return u.add(s),Pu(d),l.set(s,d),d}getTextContent(){return""}getTextContentSize(){return this.getTextContent().length}createDOM(e,t){de(70)}updateDOM(e,t,l){de(71)}exportDOM(e){return{element:this.createDOM(e._config,e)}}exportJSON(){const e=this.__state?this.__state.toJSON():void 0;return{type:this.__type,version:1,...e}}static importJSON(e){de(18,this.name)}updateFromJSON(e){return function(t,l){const s=t.getWritable();return(l||s.__state)&&Fw(t).updateFromJSON(l),s}(this,e.$)}static transform(){return null}remove(e){zd(this,!0,e)}replace(e,t){Vt();let l=X();l!==null&&(l=l.clone()),ag(this,e);const s=this.getLatest(),o=this.__key,u=e.__key,f=e.getWritable(),d=this.getParentOrThrow().getWritable(),g=d.__size;il(f);const h=s.getPreviousSibling(),y=s.getNextSibling(),b=s.__prev,_=s.__next,v=s.__parent;if(zd(s,!1,!0),h===null?d.__first=u:h.getWritable().__next=u,f.__prev=b,y===null?d.__last=u:y.getWritable().__prev=u,f.__next=_,f.__parent=v,d.__size=g,t&&(W(this)&&W(f)||de(139),this.getChildren().forEach(S=>{f.append(S)})),I(l)){qe(l);const S=l.anchor,C=l.focus;S.key===o&&Cb(S,f),C.key===o&&Cb(C,f)}return pi()===o&&jt(u),f}insertAfter(e,t=!0){Vt(),ag(this,e);const l=this.getWritable(),s=e.getWritable(),o=s.getParent(),u=X();let f=!1,d=!1;if(o!==null){const _=e.getIndexWithinParent();if(il(s),I(u)){const v=o.__key,S=u.anchor,C=u.focus;f=S.type==="element"&&S.key===v&&S.offset===_+1,d=C.type==="element"&&C.key===v&&C.offset===_+1}}const g=this.getNextSibling(),h=this.getParentOrThrow().getWritable(),y=s.__key,b=l.__next;if(g===null?h.__last=y:g.getWritable().__prev=y,h.__size++,l.__next=y,s.__next=b,s.__prev=l.__key,s.__parent=l.__parent,t&&I(u)){const _=this.getIndexWithinParent();zu(u,h,_+1);const v=h.__key;f&&u.anchor.set(v,_+2,"element"),d&&u.focus.set(v,_+2,"element")}return e}insertBefore(e,t=!0){Vt(),ag(this,e);const l=this.getWritable(),s=e.getWritable(),o=s.__key;il(s);const u=this.getPreviousSibling(),f=this.getParentOrThrow().getWritable(),d=l.__prev,g=this.getIndexWithinParent();u===null?f.__first=o:u.getWritable().__next=o,f.__size++,l.__prev=o,s.__prev=d,s.__next=l.__key,s.__parent=l.__parent;const h=X();return t&&I(h)&&zu(h,this.getParentOrThrow(),g),e}isParentRequired(){return!1}createParentElementNode(){return De()}selectStart(){return this.selectPrevious()}selectEnd(){return this.selectNext(0,0)}selectPrevious(e,t){Vt();const l=this.getPreviousSibling(),s=this.getParentOrThrow();if(l===null)return s.select(0,0);if(W(l))return l.select();if(!oe(l)){const o=l.getIndexWithinParent()+1;return s.select(o,o)}return l.select(e,t)}selectNext(e,t){Vt();const l=this.getNextSibling(),s=this.getParentOrThrow();if(l===null)return s.select();if(W(l))return l.select(0,0);if(!oe(l)){const o=l.getIndexWithinParent();return s.select(o,o)}return l.select(e,t)}markDirty(){this.getWritable()}reconcileObservedMutation(e,t){this.markDirty()}}class Xl extends Ru{static getType(){return"linebreak"}static clone(e){return new Xl(e.__key)}constructor(e){super(e)}getTextContent(){return`
`}createDOM(){return document.createElement("br")}updateDOM(){return!1}isInline(){return!0}static importDOM(){return{br:e=>function(t){const l=t.parentElement;if(l!==null&&Vu(l)){const s=l.firstChild;if(s===t||s.nextSibling===t&&ku(s)){const o=l.lastChild;if(o===t||o.previousSibling===t&&ku(o))return!0}}return!1}(e)||function(t){const l=t.parentElement;if(l!==null&&Vu(l)){const s=l.firstChild;if(s===t||s.nextSibling===t&&ku(s))return!1;const o=l.lastChild;if(o===t||o.previousSibling===t&&ku(o))return!0}return!1}(e)?null:{conversion:Xw,priority:0}}}static importJSON(e){return Fn().updateFromJSON(e)}}function Xw(r){return{node:Fn()}}function Fn(){return Tt(new Xl)}function Cn(r){return r instanceof Xl}function ku(r){return $r(r)&&/^( |\t|\r?\n)+$/.test(r.textContent||"")}function $d(r,e){return 16&e?"code":e&ad?"mark":32&e?"sub":64&e?"sup":null}function Fd(r,e){return 1&e?"strong":2&e?"em":"span"}function bb(r,e,t,l,s){const o=l.classList;let u=is(s,"base");u!==void 0&&o.add(...u),u=is(s,"underlineStrikethrough");let f=!1;const d=e&gu&&e&du;u!==void 0&&(t&gu&&t&du?(f=!0,d||o.add(...u)):d&&o.remove(...u));for(const g in si){const h=si[g];if(u=is(s,g),u!==void 0)if(t&h){if(f&&(g==="underline"||g==="strikethrough")){e&h&&o.remove(...u);continue}e&h&&(!d||g!=="underline")&&g!=="strikethrough"||o.add(...u)}else e&h&&o.remove(...u)}}function vb(r,e,t){const l=e.firstChild,s=t.isComposing(),o=r+(s?hu:"");if(l==null)e.textContent=o;else{const u=l.nodeValue;if(u!==o)if(s||li){const[f,d,g]=function(h,y){const b=h.length,_=y.length;let v=0,S=0;for(;v<b&&v<_&&h[v]===y[v];)v++;for(;S+v<b&&S+v<_&&h[b-S-1]===y[_-S-1];)S++;return[v,b-v-S,y.slice(v,_-S)]}(u,o);d!==0&&l.deleteData(f,d),l.insertData(f,g)}else l.nodeValue=o}}function _b(r,e,t,l,s,o){vb(s,r,e);const u=o.theme.text;u!==void 0&&bb(0,0,l,r,u)}function Mu(r,e){const t=document.createElement(e);return t.appendChild(r),t}class nr extends Ru{static getType(){return"text"}static clone(e){return new nr(e.__text,e.__key)}afterCloneFrom(e){super.afterCloneFrom(e),this.__text=e.__text,this.__format=e.__format,this.__style=e.__style,this.__mode=e.__mode,this.__detail=e.__detail}constructor(e="",t){super(t),this.__text=e,this.__format=0,this.__style="",this.__mode=0,this.__detail=0}getFormat(){return this.getLatest().__format}getDetail(){return this.getLatest().__detail}getMode(){const e=this.getLatest();return Ow[e.__mode]}getStyle(){return this.getLatest().__style}isToken(){return this.getLatest().__mode===1}isComposing(){return this.__key===pi()}isSegmented(){return this.getLatest().__mode===2}isDirectionless(){return!!(1&this.getLatest().__detail)}isUnmergeable(){return!!(2&this.getLatest().__detail)}hasFormat(e){const t=si[e];return!!(this.getFormat()&t)}isSimpleText(){return this.__type==="text"&&this.__mode===0}getTextContent(){return this.getLatest().__text}getFormatFlags(e,t){return Ku(this.getLatest().__format,e,t)}canHaveFormat(){return!0}isInline(){return!0}createDOM(e,t){const l=this.__format,s=$d(0,l),o=Fd(0,l),u=s===null?o:s,f=document.createElement(u);let d=f;this.hasFormat("code")&&f.setAttribute("spellcheck","false"),s!==null&&(d=document.createElement(o),f.appendChild(d)),_b(d,this,0,l,this.__text,e);const g=this.__style;return g!==""&&(f.style.cssText=g),f}updateDOM(e,t,l){const s=this.__text,o=e.__format,u=this.__format,f=$d(0,o),d=$d(0,u),g=Fd(0,o),h=Fd(0,u);if((f===null?g:f)!==(d===null?h:d))return!0;if(f===d&&g!==h){const S=t.firstChild;S==null&&de(48);const C=document.createElement(h);return _b(C,this,0,u,s,l),t.replaceChild(C,S),!1}let y=t;d!==null&&f!==null&&(y=t.firstChild,y==null&&de(49)),vb(s,y,this);const b=l.theme.text;b!==void 0&&o!==u&&bb(0,o,u,y,b);const _=e.__style,v=this.__style;return _!==v&&(t.style.cssText=v),!1}static importDOM(){return{"#text":()=>({conversion:Jw,priority:0}),b:()=>({conversion:Ww,priority:0}),code:()=>({conversion:Mr,priority:0}),em:()=>({conversion:Mr,priority:0}),i:()=>({conversion:Mr,priority:0}),mark:()=>({conversion:Mr,priority:0}),s:()=>({conversion:Mr,priority:0}),span:()=>({conversion:Zw,priority:0}),strong:()=>({conversion:Mr,priority:0}),sub:()=>({conversion:Mr,priority:0}),sup:()=>({conversion:Mr,priority:0}),u:()=>({conversion:Mr,priority:0})}}static importJSON(e){return Fe().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setTextContent(e.text).setFormat(e.format).setDetail(e.detail).setMode(e.mode).setStyle(e.style)}exportDOM(e){let{element:t}=super.exportDOM(e);return ht(t)||de(132),t.style.whiteSpace="pre-wrap",this.hasFormat("lowercase")?t.style.textTransform="lowercase":this.hasFormat("uppercase")?t.style.textTransform="uppercase":this.hasFormat("capitalize")&&(t.style.textTransform="capitalize"),this.hasFormat("bold")&&(t=Mu(t,"b")),this.hasFormat("italic")&&(t=Mu(t,"i")),this.hasFormat("strikethrough")&&(t=Mu(t,"s")),this.hasFormat("underline")&&(t=Mu(t,"u")),{element:t}}exportJSON(){return{detail:this.getDetail(),format:this.getFormat(),mode:this.getMode(),style:this.getStyle(),text:this.getTextContent(),...super.exportJSON()}}selectionTransform(e,t){}setFormat(e){const t=this.getWritable();return t.__format=typeof e=="string"?si[e]:e,t}setDetail(e){const t=this.getWritable();return t.__detail=typeof e=="string"?Tw[e]:e,t}setStyle(e){const t=this.getWritable();return t.__style=e,t}toggleFormat(e){const t=Ku(this.getFormat(),e,null);return this.setFormat(t)}toggleDirectionless(){const e=this.getWritable();return e.__detail^=1,e}toggleUnmergeable(){const e=this.getWritable();return e.__detail^=2,e}setMode(e){const t=Aw[e];if(this.__mode===t)return this;const l=this.getWritable();return l.__mode=t,l}setTextContent(e){if(this.__text===e)return this;const t=this.getWritable();return t.__text=e,t}select(e,t){Vt();let l=e,s=t;const o=X(),u=this.getTextContent(),f=this.__key;if(typeof u=="string"){const d=u.length;l===void 0&&(l=d),s===void 0&&(s=d)}else l=0,s=0;if(!I(o))return kb(f,l,f,s,"text","text");{const d=pi();d!==o.anchor.key&&d!==o.focus.key||jt(f),o.setTextNodeRange(this,l,this,s)}return o}selectStart(){return this.select(0,0)}selectEnd(){const e=this.getTextContentSize();return this.select(e,e)}spliceText(e,t,l,s){const o=this.getWritable(),u=o.__text,f=l.length;let d=e;d<0&&(d=f+d,d<0&&(d=0));const g=X();if(s&&I(g)){const y=e+f;g.setTextNodeRange(o,y,o,y)}const h=u.slice(0,d)+l+u.slice(d+t);return o.__text=h,o}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}splitText(...e){Vt();const t=this.getLatest(),l=t.getTextContent();if(l==="")return[];const s=t.__key,o=pi(),u=l.length;e.sort((D,M)=>D-M),e.push(u);const f=[],d=e.length;for(let D=0,M=0;D<u&&M<=d;M++){const B=e[M];B>D&&(f.push(l.slice(D,B)),D=B)}const g=f.length;if(g===1)return[t];const h=f[0],y=t.getParent();let b;const _=t.getFormat(),v=t.getStyle(),S=t.__detail;let C=!1,w=null,x=null;const E=X();if(I(E)){const[D,M]=E.isBackward()?[E.focus,E.anchor]:[E.anchor,E.focus];D.type==="text"&&D.key===s&&(w=D),M.type==="text"&&M.key===s&&(x=M)}t.isSegmented()?(b=Fe(h),b.__format=_,b.__style=v,b.__detail=S,C=!0):(b=t.getWritable(),b.__text=h);const N=[b];for(let D=1;D<g;D++){const M=Fe(f[D]);M.__format=_,M.__style=v,M.__detail=S;const B=M.__key;o===s&&jt(B),N.push(M)}const A=w?w.offset:null,O=x?x.offset:null;let R=0;for(const D of N){if(!w&&!x)break;const M=R+D.getTextContentSize();if(w!==null&&A!==null&&A<=M&&A>=R&&(w.set(D.getKey(),A-R,"text"),A<M&&(w=null)),x!==null&&O!==null&&O<=M&&O>=R){x.set(D.getKey(),O-R,"text");break}R=M}if(y!==null){(function(B){const H=B.getPreviousSibling(),q=B.getNextSibling();H!==null&&Pu(H),q!==null&&Pu(q)})(this);const D=y.getWritable(),M=this.getIndexWithinParent();C?(D.splice(M,0,N),this.remove()):D.splice(M,1,N),I(E)&&zu(E,y,M,g-1)}return N}mergeWithSibling(e){const t=e===this.getPreviousSibling();t||e===this.getNextSibling()||de(50);const l=this.__key,s=e.__key,o=this.__text,u=o.length;pi()===s&&jt(l);const f=X();if(I(f)){const y=f.anchor,b=f.focus;y!==null&&y.key===s&&Db(y,t,l,e,u),b!==null&&b.key===s&&Db(b,t,l,e,u)}const d=e.__text,g=t?d+o:o+d;this.setTextContent(g);const h=this.getWritable();return e.remove(),h}isTextEntity(){return!1}}function Zw(r){return{forChild:Bd(r.style),node:null}}function Ww(r){const e=r,t=e.style.fontWeight==="normal";return{forChild:Bd(e.style,t?void 0:"bold"),node:null}}const Sb=new WeakMap;function Qw(r){if(!ht(r))return!1;if(r.nodeName==="PRE")return!0;const e=r.style.whiteSpace;return typeof e=="string"&&e.startsWith("pre")}function Jw(r){const e=r;r.parentElement===null&&de(129);let t=e.textContent||"";if(function(l){let s,o=l.parentNode;const u=[l];for(;o!==null&&(s=Sb.get(o))===void 0&&!Qw(o);)u.push(o),o=o.parentNode;const f=s===void 0?o:s;for(let d=0;d<u.length;d++)Sb.set(u[d],f);return f}(e)!==null){const l=t.split(/(\r?\n|\t)/),s=[],o=l.length;for(let u=0;u<o;u++){const f=l[u];f===`
`||f===`\r
`?s.push(Fn()):f==="	"?s.push(Zl()):f!==""&&s.push(Fe(f))}return{node:s}}if(t=t.replace(/\r/g,"").replace(/[ \t\n]+/g," "),t==="")return{node:null};if(t[0]===" "){let l=e,s=!0;for(;l!==null&&(l=xb(l,!1))!==null;){const o=l.textContent||"";if(o.length>0){/[ \t\n]$/.test(o)&&(t=t.slice(1)),s=!1;break}}s&&(t=t.slice(1))}if(t[t.length-1]===" "){let l=e,s=!0;for(;l!==null&&(l=xb(l,!0))!==null;)if((l.textContent||"").replace(/^( |\t|\r?\n)+/,"").length>0){s=!1;break}s&&(t=t.slice(0,t.length-1))}return t===""?{node:null}:{node:Fe(t)}}function xb(r,e){let t=r;for(;;){let l;for(;(l=e?t.nextSibling:t.previousSibling)===null;){const o=t.parentElement;if(o===null)return null;t=o}if(t=l,ht(t)){const o=t.style.display;if(o===""&&!fg(t)||o!==""&&!o.startsWith("inline"))return null}let s=t;for(;(s=e?t.firstChild:t.lastChild)!==null;)t=s;if($r(t))return t;if(t.nodeName==="BR")return null}}const eT={code:"code",em:"italic",i:"italic",mark:"highlight",s:"strikethrough",strong:"bold",sub:"subscript",sup:"superscript",u:"underline"};function Mr(r){const e=eT[r.nodeName.toLowerCase()];return e===void 0?{node:null}:{forChild:Bd(r.style,e),node:null}}function Fe(r=""){return Tt(new nr(r))}function oe(r){return r instanceof nr}function Bd(r,e){const t=r.fontWeight,l=r.textDecoration.split(" "),s=t==="700"||t==="bold",o=l.includes("line-through"),u=r.fontStyle==="italic",f=l.includes("underline"),d=r.verticalAlign;return g=>(oe(g)&&(s&&!g.hasFormat("bold")&&g.toggleFormat("bold"),o&&!g.hasFormat("strikethrough")&&g.toggleFormat("strikethrough"),u&&!g.hasFormat("italic")&&g.toggleFormat("italic"),f&&!g.hasFormat("underline")&&g.toggleFormat("underline"),d!=="sub"||g.hasFormat("subscript")||g.toggleFormat("subscript"),d!=="super"||g.hasFormat("superscript")||g.toggleFormat("superscript"),e&&!g.hasFormat(e)&&g.toggleFormat(e)),g)}class ka extends nr{static getType(){return"tab"}static clone(e){return new ka(e.__key)}constructor(e){super("	",e),this.__detail=2}static importDOM(){return null}createDOM(e){const t=super.createDOM(e),l=is(e.theme,"tab");return l!==void 0&&t.classList.add(...l),t}static importJSON(e){return Zl().updateFromJSON(e)}setTextContent(e){return e!=="	"&&e!==""&&de(126),super.setTextContent(e)}setDetail(e){return e!==2&&de(127),this}setMode(e){return e!=="normal"&&de(128),this}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}}function Zl(){return Tt(new ka)}function Ud(r){return r instanceof ka}class tT{constructor(e,t,l){this._selection=null,this.key=e,this.offset=t,this.type=l}is(e){return this.key===e.key&&this.offset===e.offset&&this.type===e.type}isBefore(e){return this.key===e.key?this.offset<e.offset:vv(rn(mr(this,"next")),rn(mr(e,"next")))<0}getNode(){const e=Ze(this.key);return e===null&&de(20),e}set(e,t,l,s){const o=this._selection,u=this.key;s&&this.key===e&&this.offset===t&&this.type===l||(this.key=e,this.offset=t,this.type=l,Ql()||(pi()===u&&jt(e),o!==null&&(o.setCachedNodes(null),o.dirty=!0)))}}function dn(r,e,t){return new tT(r,e,t)}function jd(r,e){let t=e.__key,l=r.offset,s="element";if(oe(e)){s="text";const o=e.getTextContentSize();l>o&&(l=o)}else if(!W(e)){const o=e.getNextSibling();if(oe(o))t=o.__key,l=0,s="text";else{const u=e.getParent();u&&(t=u.__key,l=e.getIndexWithinParent()+1)}}r.set(t,l,s)}function Cb(r,e){if(W(e)){const t=e.getLastDescendant();W(t)||oe(t)?jd(r,t):jd(r,e)}else jd(r,e)}class Du{constructor(e){this._cachedNodes=null,this._nodes=e,this.dirty=!1}getCachedNodes(){return this._cachedNodes}setCachedNodes(e){this._cachedNodes=e}is(e){if(!et(e))return!1;const t=this._nodes,l=e._nodes;return t.size===l.size&&Array.from(t).every(s=>l.has(s))}isCollapsed(){return!1}isBackward(){return!1}getStartEndPoints(){return null}add(e){this.dirty=!0,this._nodes.add(e),this._cachedNodes=null}delete(e){this.dirty=!0,this._nodes.delete(e),this._cachedNodes=null}clear(){this.dirty=!0,this._nodes.clear(),this._cachedNodes=null}has(e){return this._nodes.has(e)}clone(){return new Du(new Set(this._nodes))}extract(){return this.getNodes()}insertRawText(e){}insertText(){}insertNodes(e){const t=this.getNodes(),l=t.length,s=t[l-1];let o;if(oe(s))o=s.select();else{const u=s.getIndexWithinParent()+1;o=s.getParentOrThrow().select(u,u)}o.insertNodes(e);for(let u=0;u<l;u++)t[u].remove()}getNodes(){const e=this._cachedNodes;if(e!==null)return e;const t=this._nodes,l=[];for(const s of t){const o=Ze(s);o!==null&&l.push(o)}return Ql()||(this._cachedNodes=l),l}getTextContent(){const e=this.getNodes();let t="";for(let l=0;l<e.length;l++)t+=e[l].getTextContent();return t}deleteNodes(){const e=this.getNodes();if((X()||rr())===this&&e[0]){const t=bt(e[0],"next");xv(ul(t,t))}for(const t of e)t.remove()}}function I(r){return r instanceof rl}class rl{constructor(e,t,l,s){this.anchor=e,this.focus=t,e._selection=this,t._selection=this,this._cachedNodes=null,this.format=l,this.style=s,this.dirty=!1}getCachedNodes(){return this._cachedNodes}setCachedNodes(e){this._cachedNodes=e}is(e){return!!I(e)&&this.anchor.is(e.anchor)&&this.focus.is(e.focus)&&this.format===e.format&&this.style===e.style}isCollapsed(){return this.anchor.is(this.focus)}getNodes(){const e=this._cachedNodes;if(e!==null)return e;const t=function(l){const s=[],[o,u]=l.getTextSlices();o&&s.push(o.caret.origin);const f=new Set,d=new Set;for(const g of l)if(pn(g)){const{origin:h}=g;s.length===0?f.add(h):(d.add(h),s.push(h))}else{const{origin:h}=g;W(h)&&d.has(h)||s.push(h)}if(u&&s.push(u.caret.origin),yi(l.focus)&&W(l.focus.origin)&&l.focus.getNodeAtCaret()===null)for(let g=mn(l.focus.origin,"previous");pn(g)&&f.has(g.origin)&&!g.origin.isEmpty()&&g.origin.is(s[s.length-1]);g=Ha(g))f.delete(g.origin),s.pop();for(;s.length>1;){const g=s[s.length-1];if(!W(g)||d.has(g)||g.isEmpty()||f.has(g))break;s.pop()}if(s.length===0&&l.isCollapsed()){const g=rn(l.anchor),h=rn(l.anchor.getFlipped()),y=_=>Fr(_)?_.origin:_.getNodeAtCaret(),b=y(g)||y(h)||(l.anchor.getNodeAtCaret()?g.origin:h.origin);s.push(b)}return s}(wv(Cv(this),"next"));return Ql()||(this._cachedNodes=t),t}setTextNodeRange(e,t,l,s){this.anchor.set(e.__key,t,"text"),this.focus.set(l.__key,s,"text")}getTextContent(){const e=this.getNodes();if(e.length===0)return"";const t=e[0],l=e[e.length-1],s=this.anchor,o=this.focus,u=s.isBefore(o),[f,d]=Hd(this);let g="",h=!0;for(let y=0;y<e.length;y++){const b=e[y];if(W(b)&&!b.isInline())h||(g+=`
`),h=!b.isEmpty();else if(h=!1,oe(b)){let _=b.getTextContent();b===t?b===l?s.type==="element"&&o.type==="element"&&o.offset!==s.offset||(_=f<d?_.slice(f,d):_.slice(d,f)):_=u?_.slice(f):_.slice(d):b===l&&(_=u?_.slice(0,d):_.slice(0,f)),g+=_}else!Be(b)&&!Cn(b)||b===l&&this.isCollapsed()||(g+=b.getTextContent())}return g}applyDOMRange(e){const t=mt(),l=t.getEditorState()._selection,s=Rb(e.startContainer,e.startOffset,e.endContainer,e.endOffset,t,l);if(s===null)return;const[o,u]=s;this.anchor.set(o.key,o.offset,o.type,!0),this.focus.set(u.key,u.offset,u.type,!0),Wi(this)}clone(){const e=this.anchor,t=this.focus;return new rl(dn(e.key,e.offset,e.type),dn(t.key,t.offset,t.type),this.format,this.style)}toggleFormat(e){this.format=Ku(this.format,e,null),this.dirty=!0}setStyle(e){this.style=e,this.dirty=!0}hasFormat(e){const t=si[e];return!!(this.format&t)}insertRawText(e){const t=e.split(/(\r?\n|\t)/),l=[],s=t.length;for(let o=0;o<s;o++){const u=t[o];u===`
`||u===`\r
`?l.push(Fn()):u==="	"?l.push(Zl()):l.push(Fe(u))}this.insertNodes(l)}insertText(e){const t=this.anchor,l=this.focus,s=this.format,o=this.style;let u=t,f=l;!this.isCollapsed()&&l.isBefore(t)&&(u=l,f=t),u.type==="element"&&function(C,w,x,E){const N=C.getNode(),A=N.getChildAtIndex(C.offset),O=Fe(),R=Ut(N)?De().append(O):O;O.setFormat(x),O.setStyle(E),A===null?N.append(R):A.insertBefore(R),C.is(w)&&w.set(O.__key,0,"text"),C.set(O.__key,0,"text")}(u,f,s,o),f.type==="element"&&lr(f,rn(mr(f,"next")));const d=u.offset;let g=f.offset;const h=this.getNodes(),y=h.length;let b=h[0];oe(b)||de(26);const _=b.getTextContent().length,v=b.getParentOrThrow();let S=h[y-1];if(y===1&&f.type==="element"&&(g=_,f.set(u.key,g,"text")),this.isCollapsed()&&d===_&&(b.isSegmented()||b.isToken()||!b.canInsertTextAfter()||!v.canInsertTextAfter()&&b.getNextSibling()===null)){let C=b.getNextSibling();if(oe(C)&&C.canInsertTextBefore()&&!es(C)||(C=Fe(),C.setFormat(s),C.setStyle(o),v.canInsertTextAfter()?b.insertAfter(C):v.insertAfter(C)),C.select(0,0),b=C,e!=="")return void this.insertText(e)}else if(this.isCollapsed()&&d===0&&(b.isSegmented()||b.isToken()||!b.canInsertTextBefore()||!v.canInsertTextBefore()&&b.getPreviousSibling()===null)){let C=b.getPreviousSibling();if(oe(C)&&!es(C)||(C=Fe(),C.setFormat(s),v.canInsertTextBefore()?b.insertBefore(C):v.insertBefore(C)),C.select(),b=C,e!=="")return void this.insertText(e)}else if(b.isSegmented()&&d!==_){const C=Fe(b.getTextContent());C.setFormat(s),b.replace(C),b=C}else if(!this.isCollapsed()&&e!==""){const C=S.getParent();if(!v.canInsertTextBefore()||!v.canInsertTextAfter()||W(C)&&(!C.canInsertTextBefore()||!C.canInsertTextAfter()))return this.insertText(""),Ob(this.anchor,this.focus,null),void this.insertText(e)}if(y===1){if(b.isToken()){const E=Fe(e);return E.select(),void b.replace(E)}const C=b.getFormat(),w=b.getStyle();if(d!==g||C===s&&w===o){if(Ud(b)){const E=Fe(e);return E.setFormat(s),E.setStyle(o),E.select(),void b.replace(E)}}else{if(b.getTextContent()!==""){const E=Fe(e);if(E.setFormat(s),E.setStyle(o),E.select(),d===0)b.insertBefore(E,!1);else{const[N]=b.splitText(d);N.insertAfter(E,!1)}return void(E.isComposing()&&this.anchor.type==="text"&&(this.anchor.offset-=e.length))}b.setFormat(s),b.setStyle(o)}const x=g-d;b=b.spliceText(d,x,e,!0),b.getTextContent()===""?b.remove():this.anchor.type==="text"&&(b.isComposing()?this.anchor.offset-=e.length:(this.format=C,this.style=w))}else{const C=new Set([...b.getParentKeys(),...S.getParentKeys()]),w=W(b)?b:b.getParentOrThrow();let x=W(S)?S:S.getParentOrThrow(),E=S;if(!w.is(x)&&x.isInline())do E=x,x=x.getParentOrThrow();while(x.isInline());if(f.type==="text"&&(g!==0||S.getTextContent()==="")||f.type==="element"&&S.getIndexWithinParent()<g)if(oe(S)&&!S.isToken()&&g!==S.getTextContentSize()){if(S.isSegmented()){const D=Fe(S.getTextContent());S.replace(D),S=D}Ut(f.getNode())||f.type!=="text"||(S=S.spliceText(0,g,"")),C.add(S.__key)}else{const D=S.getParentOrThrow();D.canBeEmpty()||D.getChildrenSize()!==1?S.remove():D.remove()}else C.add(S.__key);const N=x.getChildren(),A=new Set(h),O=w.is(x),R=w.isInline()&&b.getNextSibling()===null?w:b;for(let D=N.length-1;D>=0;D--){const M=N[D];if(M.is(b)||W(M)&&M.isParentOf(b))break;M.isAttached()&&(!A.has(M)||M.is(E)?O||R.insertAfter(M,!1):M.remove())}if(!O){let D=x,M=null;for(;D!==null;){const B=D.getChildren(),H=B.length;(H===0||B[H-1].is(M))&&(C.delete(D.__key),M=D),D=D.getParent()}}if(b.isToken())if(d===_)b.select();else{const D=Fe(e);D.select(),b.replace(D)}else b=b.spliceText(d,_-d,e,!0),b.getTextContent()===""?b.remove():b.isComposing()&&this.anchor.type==="text"&&(this.anchor.offset-=e.length);for(let D=1;D<y;D++){const M=h[D],B=M.__key;C.has(B)||M.remove()}}}removeText(){const e=X()===this;Wu(this,OT(Cv(this))),e&&X()!==this&&qe(this)}formatText(e,t=null){if(this.isCollapsed())return this.toggleFormat(e),void jt(null);const l=this.getNodes(),s=[];for(const N of l)oe(N)&&s.push(N);const o=N=>{l.forEach(A=>{if(W(A)){const O=A.getFormatFlags(e,N);A.setTextFormat(O)}})},u=s.length;if(u===0)return this.toggleFormat(e),jt(null),void o(t);const f=this.anchor,d=this.focus,g=this.isBackward(),h=g?d:f,y=g?f:d;let b=0,_=s[0],v=h.type==="element"?0:h.offset;if(h.type==="text"&&v===_.getTextContentSize()&&(b=1,_=s[1],v=0),_==null)return;const S=_.getFormatFlags(e,t);o(S);const C=u-1;let w=s[C];const x=y.type==="text"?y.offset:w.getTextContentSize();if(_.is(w)){if(v===x)return;if(es(_)||v===0&&x===_.getTextContentSize())_.setFormat(S);else{const N=_.splitText(v,x),A=v===0?N[0]:N[1];A.setFormat(S),h.type==="text"&&h.set(A.__key,0,"text"),y.type==="text"&&y.set(A.__key,x-v,"text")}return void(this.format=S)}v===0||es(_)||([,_]=_.splitText(v),v=0),_.setFormat(S);const E=w.getFormatFlags(e,S);x>0&&(x===w.getTextContentSize()||es(w)||([w]=w.splitText(x)),w.setFormat(E));for(let N=b+1;N<C;N++){const A=s[N],O=A.getFormatFlags(e,E);A.setFormat(O)}h.type==="text"&&h.set(_.__key,v,"text"),y.type==="text"&&y.set(w.__key,x,"text"),this.format=S|E}insertNodes(e){if(e.length===0)return;if(this.isCollapsed()||this.removeText(),this.anchor.key==="root"){this.insertParagraph();const v=X();return I(v)||de(134),v.insertNodes(e)}const t=(this.isBackward()?this.focus:this.anchor).getNode(),l=dg(t,mi),s=e[e.length-1];if(W(l)&&"__language"in l){if("__language"in e[0])this.insertText(e[0].getTextContent());else{const v=qd(this);l.splice(v,0,e),s.selectEnd()}return}if(!e.some(v=>(W(v)||Be(v))&&!v.isInline())){W(l)||de(211,t.constructor.name,t.getType());const v=qd(this);return l.splice(v,0,e),void s.selectEnd()}const o=function(v){const S=De();let C=null;for(let w=0;w<v.length;w++){const x=v[w],E=Cn(x);if(E||Be(x)&&x.isInline()||W(x)&&x.isInline()||oe(x)||x.isParentRequired()){if(C===null&&(C=x.createParentElementNode(),S.append(C),E))continue;C!==null&&C.append(x)}else S.append(x),C=null}return S}(e),u=o.getLastDescendant(),f=o.getChildren(),d=!W(l)||!l.isEmpty()?this.insertParagraph():null,g=f[f.length-1];let h=f[0];var y;W(y=h)&&mi(y)&&!y.isEmpty()&&W(l)&&(!l.isEmpty()||l.canMergeWhenEmpty())&&(W(l)||de(211,t.constructor.name,t.getType()),l.append(...h.getChildren()),h=f[1]),h&&(l===null&&de(212,t.constructor.name,t.getType()),function(v,S,C){const w=S.getParentOrThrow().getLastChild();let x=S;const E=[S];for(;x!==w;)x.getNextSibling()||de(140),x=x.getNextSibling(),E.push(x);let N=v;for(const A of E)N=N.insertAfter(A)}(l,h));const b=dg(u,mi);d&&W(b)&&(d.canMergeWhenEmpty()||mi(g))&&(b.append(...d.getChildren()),d.remove()),W(l)&&l.isEmpty()&&l.remove(),u.selectEnd();const _=W(l)?l.getLastChild():null;Cn(_)&&b!==l&&_.remove()}insertParagraph(){if(this.anchor.key==="root"){const u=De();return tt().splice(this.anchor.offset,0,[u]),u.select(),u}const e=qd(this),t=dg(this.anchor.getNode(),mi);W(t)||de(213);const l=t.getChildAtIndex(e),s=l?[l,...l.getNextSiblings()]:[],o=t.insertNewAfter(this,!1);return o?(o.append(...s),o.selectStart(),o):null}insertLineBreak(e){const t=Fn();if(this.insertNodes([t]),e){const l=t.getParentOrThrow(),s=t.getIndexWithinParent();l.select(s,s)}}extract(){const e=this.getNodes(),t=e.length,l=t-1,s=this.anchor,o=this.focus;let u=e[0],f=e[l];const[d,g]=Hd(this);if(t===0)return[];if(t===1){if(oe(u)&&!this.isCollapsed()){const y=d>g?g:d,b=d>g?d:g,_=u.splitText(y,b),v=y===0?_[0]:_[1];return v!=null?[v]:[]}return[u]}const h=s.isBefore(o);if(oe(u)){const y=h?d:g;y===u.getTextContentSize()?e.shift():y!==0&&([,u]=u.splitText(y),e[0]=u)}if(oe(f)){const y=f.getTextContent().length,b=h?g:d;b===0?e.pop():b!==y&&([f]=f.splitText(b),e[l]=f)}return e}modify(e,t,l){if(zb(this,e,t,l))return;const s=e==="move",o=mt(),u=Xt(Un(o));if(!u)return;const f=o._blockCursorElement,d=o._rootElement,g=this.focus.getNode();if(d===null||f===null||!W(g)||g.isInline()||g.canBeEmpty()||ug(f,o,d),this.dirty){let h=ls(o,this.anchor.key),y=ls(o,this.focus.key);this.anchor.type==="text"&&(h=ts(h)),this.focus.type==="text"&&(y=ts(y)),h&&y&&Lb(u,h,this.anchor.offset,y,this.focus.offset)}if(function(h,y,b,_){h.modify(y,b,_)}(u,e,t?"backward":"forward",l),u.rangeCount>0){const h=u.getRangeAt(0),y=this.anchor.getNode(),b=Ut(y)?y:pT(y);if(this.applyDOMRange(h),this.dirty=!0,!s){const _=this.getNodes(),v=[];let S=!1;for(let C=0;C<_.length;C++){const w=_[C];Yu(w,b)?v.push(w):S=!0}if(S&&v.length>0)if(t){const C=v[0];W(C)?C.selectStart():C.getParentOrThrow().selectStart()}else{const C=v[v.length-1];W(C)?C.selectEnd():C.getParentOrThrow().selectEnd()}u.anchorNode===h.startContainer&&u.anchorOffset===h.startOffset||function(C){const w=C.focus,x=C.anchor,E=x.key,N=x.offset,A=x.type;x.set(w.key,w.offset,w.type,!0),w.set(E,N,A,!0)}(this)}}l==="lineboundary"&&zb(this,e,t,l,"decorators")}forwardDeletion(e,t,l){if(!l&&(e.type==="element"&&W(t)&&e.offset===t.getChildrenSize()||e.type==="text"&&e.offset===t.getTextContentSize())){const s=t.getParent(),o=t.getNextSibling()||(s===null?null:s.getNextSibling());if(W(o)&&o.isShadowRoot())return!0}return!1}deleteCharacter(e){const t=this.isCollapsed();if(this.isCollapsed()){const l=this.anchor;let s=l.getNode();if(this.forwardDeletion(l,s,e))return;const o=Ka(mr(l,e?"previous":"next"));if(o.getTextSlices().every(f=>f===null||f.distance===0)){let f={type:"initial"};for(const d of o.iterNodeCarets("shadowRoot"))if(pn(d)){if(!d.origin.isInline()){if(d.origin.isShadowRoot()){if(f.type==="merge-block")break;if(W(o.anchor.origin)&&o.anchor.origin.isEmpty()){const g=rn(d);Wu(this,ul(g,g)),o.anchor.origin.remove()}return}f.type!=="merge-next-block"&&f.type!=="merge-block"||(f={block:f.block,caret:d,type:"merge-block"})}}else{if(f.type==="merge-block")break;if(yi(d)){if(W(d.origin)){if(d.origin.isInline()){if(!d.origin.isParentOf(o.anchor.origin))break}else f={block:d.origin,type:"merge-next-block"};continue}if(Be(d.origin)){if(!d.origin.isIsolated())if(f.type==="merge-next-block"&&(d.origin.isKeyboardSelectable()||!d.origin.isInline())&&W(o.anchor.origin)&&o.anchor.origin.isEmpty()){o.anchor.origin.remove();const g=Pd();g.add(d.origin.getKey()),qe(g)}else d.origin.remove();return}break}}if(f.type==="merge-block"){const{caret:d,block:g}=f;return Wu(this,ul(!d.origin.isEmpty()&&g.isEmpty()?Pa(bt(g,d.direction)):o.anchor,d)),this.removeText()}}const u=this.focus;if(this.modify("extend",e,"character"),this.isCollapsed()){if(e&&l.offset===0&&wb(this,l.getNode()))return}else{const f=u.type==="text"?u.getNode():null;if(s=l.type==="text"?l.getNode():null,f!==null&&f.isSegmented()){const d=u.offset,g=f.getTextContentSize();if(f.is(s)||e&&d!==g||!e&&d!==0)return void Tb(f,e,d)}else if(s!==null&&s.isSegmented()){const d=l.offset,g=s.getTextContentSize();if(s.is(f)||e&&d!==0||!e&&d!==g)return void Tb(s,e,d)}(function(d,g){const h=d.anchor,y=d.focus,b=h.getNode(),_=y.getNode();if(b===_&&h.type==="text"&&y.type==="text"){const v=h.offset,S=y.offset,C=v<S,w=C?v:S,x=C?S:v,E=x-1;w!==E&&function(N){return!(iv(N)||nT(N))}(b.getTextContent().slice(w,x))&&(g?y.set(y.key,E,y.type):h.set(h.key,E,h.type))}})(this,e)}}if(this.removeText(),e&&!t&&this.isCollapsed()&&this.anchor.type==="element"&&this.anchor.offset===0){const l=this.anchor.getNode();l.isEmpty()&&Ut(l.getParent())&&l.getPreviousSibling()===null&&wb(this,l)}}deleteLine(e){this.isCollapsed()&&this.modify("extend",e,"lineboundary"),this.isCollapsed()?this.deleteCharacter(e):this.removeText()}deleteWord(e){if(this.isCollapsed()){const t=this.anchor,l=t.getNode();if(this.forwardDeletion(t,l,e))return;this.modify("extend",e,"word")}this.removeText()}isBackward(){return this.focus.isBefore(this.anchor)}getStartEndPoints(){return[this.anchor,this.focus]}}function et(r){return r instanceof Du}function Eb(r){const e=r.offset;if(r.type==="text")return e;const t=r.getNode();return e===t.getChildrenSize()?t.getTextContent().length:0}function Hd(r){const e=r.getStartEndPoints();if(e===null)return[0,0];const[t,l]=e;return t.type==="element"&&l.type==="element"&&t.key===l.key&&t.offset===l.offset?[0,0]:[Eb(t),Eb(l)]}function wb(r,e){for(let t=e;t;t=t.getParent()){if(W(t)){if(t.collapseAtStart(r))return!0;if(St(t))break}if(t.getPreviousSibling())break}return!1}const nT=(()=>{try{const r=new RegExp("\\p{Emoji}","u"),e=r.test.bind(r);if(e("")&&e("#")&&e(""))return e}catch{}return()=>!1})();function Tb(r,e,t){const l=r,s=l.getTextContent().split(/(?=\s)/g),o=s.length;let u=0,f=0;for(let g=0;g<o;g++){const h=g===o-1;if(f=u,u+=s[g].length,e&&u===t||u>t||h){s.splice(g,1),h&&(f=void 0);break}}const d=s.join("").trim();d===""?l.remove():(l.setTextContent(d),l.select(f,f))}function Nb(r,e,t,l){let s,o=e;if(ht(r)){let u=!1;const f=r.childNodes,d=f.length,g=l._blockCursorElement;o===d&&(u=!0,o=d-1);let h=f[o],y=!1;if(h===g)h=f[o+1],y=!0;else if(g!==null){const b=g.parentNode;r===b&&e>Array.prototype.indexOf.call(b.children,g)&&o--}if(s=ns(h),oe(s))o=rv(s,u);else{let b=ns(r);if(b===null)return null;if(W(b)){const _=l.getElementByKey(b.getKey());_===null&&de(214),[b,o]=b.getDOMSlot(_).resolveChildIndex(b,_,r,e),W(b)||de(215),u&&o>=b.getChildrenSize()&&(o=Math.max(0,b.getChildrenSize()-1));let S=b.getChildAtIndex(o);if(W(S)&&function(C,w,x){const E=C.getParent();return x===null||E===null||!E.canBeEmpty()||E!==x.getNode()}(S,0,t)){const C=u?S.getLastDescendant():S.getFirstDescendant();C===null?b=S:(S=C,b=W(S)?S:S.getParentOrThrow()),o=0}oe(S)?(s=S,b=null,o=rv(S,u)):S!==b&&u&&!y&&(W(b)||de(216),o=Math.min(b.getChildrenSize(),o+1))}else{const _=b.getIndexWithinParent();o=e===0&&Be(b)&&ns(r)===b?_:_+1,b=b.getParentOrThrow()}if(W(b))return dn(b.__key,o,"element")}}else s=ns(r);return oe(s)?dn(s.__key,o,"text"):null}function Ab(r,e,t){const l=r.offset,s=r.getNode();if(l===0){const o=s.getPreviousSibling(),u=s.getParent();if(e){if((t||!e)&&o===null&&W(u)&&u.isInline()){const f=u.getPreviousSibling();oe(f)&&r.set(f.__key,f.getTextContent().length,"text")}}else W(o)&&!t&&o.isInline()?r.set(o.__key,o.getChildrenSize(),"element"):oe(o)&&r.set(o.__key,o.getTextContent().length,"text")}else if(l===s.getTextContent().length){const o=s.getNextSibling(),u=s.getParent();if(e&&W(o)&&o.isInline())r.set(o.__key,0,"element");else if((t||e)&&o===null&&W(u)&&u.isInline()&&!u.canInsertTextAfter()){const f=u.getNextSibling();oe(f)&&r.set(f.__key,0,"text")}}}function Ob(r,e,t){if(r.type==="text"&&e.type==="text"){const l=r.isBefore(e),s=r.is(e);Ab(r,l,s),Ab(e,!l,s),s&&e.set(r.key,r.offset,r.type);const o=mt();if(o.isComposing()&&o._compositionKey!==r.key&&I(t)){const u=t.anchor,f=t.focus;r.set(u.key,u.offset,u.type,!0),e.set(f.key,f.offset,f.type,!0)}}}function Rb(r,e,t,l,s,o){if(r===null||t===null||!$a(s,r,t))return null;const u=Nb(r,e,I(o)?o.anchor:null,s);if(u===null)return null;const f=Nb(t,l,I(o)?o.focus:null,s);if(f===null)return null;if(u.type==="element"&&f.type==="element"){const d=ns(r),g=ns(t);if(Be(d)&&Be(g))return null}return Ob(u,f,o),[u,f]}function Kd(r){return W(r)&&!r.isInline()}function kb(r,e,t,l,s,o){const u=Dr(),f=new rl(dn(r,e,s),dn(t,l,o),0,"");return f.dirty=!0,u._selection=f,f}function Wl(){const r=dn("root",0,"element"),e=dn("root",0,"element");return new rl(r,e,0,"")}function Pd(){return new Du(new Set)}function rT(r,e){return Lu(null,r,e,null)}function Lu(r,e,t,l){const s=t._window;if(s===null)return null;const o=l||s.event,u=o?o.type:void 0,f=u==="selectionchange",d=!hd&&(f||u==="beforeinput"||u==="compositionstart"||u==="compositionend"||u==="click"&&o&&o.detail===3||u==="drop"||u===void 0);let g,h,y,b;if(I(r)&&!d)return r.clone();if(e===null)return null;if(g=e.anchorNode,h=e.focusNode,y=e.anchorOffset,b=e.focusOffset,f&&I(r)&&!$a(t,g,h))return r.clone();const _=Rb(g,y,h,b,t,r);if(_===null)return null;const[v,S]=_;return new rl(v,S,I(r)?r.format:0,I(r)?r.style:"")}function X(){return Dr()._selection}function rr(){return mt()._editorState._selection}function zu(r,e,t,l=1){const s=r.anchor,o=r.focus,u=s.getNode(),f=o.getNode();if(!e.is(u)&&!e.is(f))return;const d=e.__key;if(r.isCollapsed()){const g=s.offset;if(t<=g&&l>0||t<g&&l<0){const h=Math.max(0,g+l);s.set(d,h,"element"),o.set(d,h,"element"),Mb(r)}}else{const g=r.isBackward(),h=g?o:s,y=h.getNode(),b=g?s:o,_=b.getNode();if(e.is(y)){const v=h.offset;(t<=v&&l>0||t<v&&l<0)&&h.set(d,Math.max(0,v+l),"element")}if(e.is(_)){const v=b.offset;(t<=v&&l>0||t<v&&l<0)&&b.set(d,Math.max(0,v+l),"element")}}Mb(r)}function Mb(r){const e=r.anchor,t=e.offset,l=r.focus,s=l.offset,o=e.getNode(),u=l.getNode();if(r.isCollapsed()){if(!W(o))return;const f=o.getChildrenSize(),d=t>=f,g=d?o.getChildAtIndex(f-1):o.getChildAtIndex(t);if(oe(g)){let h=0;d&&(h=g.getTextContentSize()),e.set(g.__key,h,"text"),l.set(g.__key,h,"text")}}else{if(W(o)){const f=o.getChildrenSize(),d=t>=f,g=d?o.getChildAtIndex(f-1):o.getChildAtIndex(t);if(oe(g)){let h=0;d&&(h=g.getTextContentSize()),e.set(g.__key,h,"text")}}if(W(u)){const f=u.getChildrenSize(),d=s>=f,g=d?u.getChildAtIndex(f-1):u.getChildAtIndex(s);if(oe(g)){let h=0;d&&(h=g.getTextContentSize()),l.set(g.__key,h,"text")}}}}function $u(r,e,t,l,s){let o=null,u=0,f=null;l!==null?(o=l.__key,oe(l)?(u=l.getTextContentSize(),f="text"):W(l)&&(u=l.getChildrenSize(),f="element")):s!==null&&(o=s.__key,oe(s)?f="text":W(s)&&(f="element")),o!==null&&f!==null?r.set(o,u,f):(u=e.getIndexWithinParent(),u===-1&&(u=t.getChildrenSize()),r.set(t.__key,u,"element"))}function Db(r,e,t,l,s){r.type==="text"?r.set(t,r.offset+(e?0:s),"text"):r.offset>l.getIndexWithinParent()&&r.set(r.key,r.offset-1,"element")}function Lb(r,e,t,l,s){try{r.setBaseAndExtent(e,t,l,s)}catch{}}function iT(r,e,t,l,s,o,u){const f=l.anchorNode,d=l.focusNode,g=l.anchorOffset,h=l.focusOffset,y=document.activeElement;if(s.has("collaboration")&&y!==o||y!==null&&Wd(y))return;if(!I(e))return void(r!==null&&$a(t,f,d)&&l.removeAllRanges());const b=e.anchor,_=e.focus,v=b.key,S=_.key,C=ls(t,v),w=ls(t,S),x=b.offset,E=_.offset,N=e.format,A=e.style,O=e.isCollapsed();let R=C,D=w,M=!1;if(b.type==="text"){R=ts(C);const ie=b.getNode();M=ie.getFormat()!==N||ie.getStyle()!==A}else I(r)&&r.anchor.type==="text"&&(M=!0);var B,H,q,Y,Z;if(_.type==="text"&&(D=ts(w)),R!==null&&D!==null&&(O&&(r===null||M||I(r)&&(r.format!==N||r.style!==A))&&(B=N,H=A,q=x,Y=v,Z=performance.now(),ob=[B,H,q,Y,Z]),g!==x||h!==E||f!==R||d!==D||l.type==="Range"&&O||(y!==null&&o.contains(y)||o.focus({preventScroll:!0}),b.type==="element"))){if(Lb(l,R,x,D,E),!s.has("skip-scroll-into-view")&&e.isCollapsed()&&o!==null&&o===document.activeElement){const ie=I(e)&&e.anchor.type==="element"?R.childNodes[x]||null:l.rangeCount>0?l.getRangeAt(0):null;if(ie!==null){let U;if(ie instanceof Text){const G=document.createRange();G.selectNode(ie),U=G.getBoundingClientRect()}else U=ie.getBoundingClientRect();(function(G,K,ne){const L=hv(ne),J=sg(L);if(L===null||J===null)return;let{top:le,bottom:ge}=K,he=0,Ce=0,me=ne;for(;me!==null;){const pe=me===L.body;if(pe)he=0,Ce=Un(G).innerHeight;else{const ze=me.getBoundingClientRect();he=ze.top,Ce=ze.bottom}let be=0;if(le<he?be=-(he-le):ge>Ce&&(be=ge-Ce),be!==0)if(pe)J.scrollBy(0,be);else{const ze=me.scrollTop;me.scrollTop+=be;const Ye=me.scrollTop-ze;le-=Ye,ge-=Ye}if(pe)break;me=Ua(me)}})(t,U,o)}}kd=!0}}function Id(r){let e=X()||rr();e===null&&(e=tt().selectEnd()),e.insertNodes(r)}function qd(r){let e=r;r.isCollapsed()||e.removeText();const t=X();I(t)&&(e=t),I(e)||de(161);const l=e.anchor;let s=l.getNode(),o=l.offset;for(;!mi(s);){const u=s;if([s,o]=lT(s,o),u.is(s))break}return o}function lT(r,e){const t=r.getParent();if(!t){const s=De();return tt().append(s),s.select(),[tt(),0]}if(oe(r)){const s=r.splitText(e);if(s.length===0)return[t,r.getIndexWithinParent()];const o=e===0?0:1;return[t,s[0].getIndexWithinParent()+o]}if(!W(r)||e===0)return[t,r.getIndexWithinParent()];const l=r.getChildAtIndex(e);if(l){const s=new rl(dn(r.__key,e,"element"),dn(r.__key,e,"element"),0,""),o=r.insertNewAfter(s);o&&o.append(l,...l.getNextSiblings())}return[t,r.getIndexWithinParent()+1]}function zb(r,e,t,l,s="decorators-and-blocks"){if(e==="move"&&l==="character"&&!r.isCollapsed()){const[h,y]=t===r.isBackward()?[r.focus,r.anchor]:[r.anchor,r.focus];return y.set(h.key,h.offset,h.type),!0}const o=mr(r.focus,t?"previous":"next"),u=l==="lineboundary",f=e==="move";let d=o,g=s==="decorators-and-blocks";if(!Sg(d)){for(const h of d){g=!1;const{origin:y}=h;if(!Be(y)||y.isIsolated()||(d=h,!u||!y.isInline()))break}if(g)for(const h of Ka(o).iterNodeCarets(e==="extend"?"shadowRoot":"root")){if(pn(h))h.origin.isInline()||(d=h);else{if(W(h.origin))continue;Be(h.origin)&&!h.origin.isInline()&&(d=h)}break}}if(d===o)return!1;if(f&&!u&&Be(d.origin)&&d.origin.isKeyboardSelectable()){const h=Pd();return h.add(d.origin.getKey()),qe(h),!0}return d=rn(d),f&&lr(r.anchor,d),lr(r.focus,d),g||!u}let Mt=null,Dt=null,gn=!1,Yd=!1,Fu=0;const $b={characterData:!0,childList:!0,subtree:!0};function Ql(){return gn||Mt!==null&&Mt._readOnly}function Vt(){gn&&de(13)}function Fb(){Fu>99&&de(14)}function Dr(){return Mt===null&&de(195,Bb()),Mt}function mt(){return Dt===null&&de(196,Bb()),Dt}function Bb(){let r=0;const e=new Set,t=ju.version;if(typeof window<"u")for(const s of document.querySelectorAll("[contenteditable]")){const o=Hu(s);if(Qd(o))r++;else if(o){let u=String(o.constructor.version||"<0.17.1");u===t&&(u+=" (separately built, likely a bundler configuration issue)"),e.add(u)}}let l=` Detected on the page: ${r} compatible editor(s) with version ${t}`;return e.size&&(l+=` and incompatible editors with versions ${Array.from(e).join(", ")}`),l}function sT(){return Dt}function Ub(r,e,t){const l=e.__type,s=function(f,d){const g=f._nodes.get(d);return g===void 0&&de(30,d),g}(r,l);let o=t.get(l);o===void 0&&(o=Array.from(s.transforms),t.set(l,o));const u=o.length;for(let f=0;f<u&&(o[f](e),e.isAttached());f++);}function jb(r,e){return r!==void 0&&r.__key!==e&&r.isAttached()}function Hb(r,e){if(!e)return;const t=r._updateTags;let l=e;Array.isArray(e)||(l=[e]);for(const s of l)t.add(s)}function aT(r){return Vd(r,mt()._nodes)}function Vd(r,e){const t=r.type,l=e.get(t);l===void 0&&de(17,t);const s=l.klass;r.type!==s.getType()&&de(18,s.name);const o=s.importJSON(r),u=r.children;if(W(o)&&Array.isArray(u))for(let f=0;f<u.length;f++){const d=Vd(u[f],e);o.append(d)}return o}function Kb(r,e,t){const l=Mt,s=gn,o=Dt;Mt=e,gn=!0,Dt=r;try{return t()}finally{Mt=l,gn=s,Dt=o}}function Lr(r,e){const t=r._pendingEditorState,l=r._rootElement,s=r._headless||l===null;if(t===null)return;const o=r._editorState,u=o._selection,f=t._selection,d=r._dirtyType!==Zi,g=Mt,h=gn,y=Dt,b=r._updating,_=r._observer;let v=null;if(r._pendingEditorState=null,r._editorState=t,!s&&d&&_!==null){Dt=r,Mt=t,gn=!1,r._updating=!0;try{const O=r._dirtyType,R=r._dirtyElements,D=r._dirtyLeaves;_.disconnect(),v=jw(o,t,r,O,R,D)}catch(O){if(O instanceof Error&&r._onError(O),Yd)throw O;return Gb(r,null,l,t),Yy(r),r._dirtyType=Il,Yd=!0,Lr(r,o),void(Yd=!1)}finally{_.observe(l,$b),r._updating=b,Mt=g,gn=h,Dt=y}}t._readOnly||(t._readOnly=!0);const S=r._dirtyLeaves,C=r._dirtyElements,w=r._normalizedNodes,x=r._updateTags,E=r._deferred;d&&(r._dirtyType=Zi,r._cloneNotNeeded.clear(),r._dirtyLeaves=new Set,r._dirtyElements=new Map,r._normalizedNodes=new Set,r._updateTags=new Set),function(O,R){const D=O._decorators;let M=O._pendingDecorators||D;const B=R._nodeMap;let H;for(H in M)B.has(H)||(M===D&&(M=ev(O)),delete M[H])}(r,t);const N=s?null:Xt(Un(r));if(r._editable&&N!==null&&(d||f===null||f.dirty)&&l!==null&&!x.has("skip-dom-selection")){Dt=r,Mt=t;try{if(_!==null&&_.disconnect(),d||f===null||f.dirty){const O=r._blockCursorElement;O!==null&&ug(O,r,l),iT(u,f,r,N,x,l)}(function(O,R,D){let M=O._blockCursorElement;if(I(D)&&D.isCollapsed()&&D.anchor.type==="element"&&R.contains(document.activeElement)){const B=D.anchor,H=B.getNode(),q=B.offset;let Y=!1,Z=null;if(q===H.getChildrenSize())og(H.getChildAtIndex(q-1))&&(Y=!0);else{const ie=H.getChildAtIndex(q);if(ie!==null&&og(ie)){const U=ie.getPreviousSibling();(U===null||og(U))&&(Y=!0,Z=O.getElementByKey(ie.__key))}}if(Y){const ie=O.getElementByKey(H.__key);return M===null&&(O._blockCursorElement=M=function(U){const G=U.theme,K=document.createElement("div");K.contentEditable="false",K.setAttribute("data-lexical-cursor","true");let ne=G.blockCursor;if(ne!==void 0){if(typeof ne=="string"){const L=fu(ne);ne=G.blockCursor=L}ne!==void 0&&K.classList.add(...ne)}return K}(O._config)),R.style.caretColor="transparent",void(Z===null?ie.appendChild(M):ie.insertBefore(M,Z))}}M!==null&&ug(M,O,R)})(r,l,f)}finally{_!==null&&_.observe(l,$b),Dt=y,Mt=g}}v!==null&&function(O,R,D,M,B){const H=Array.from(O._listeners.mutation),q=H.length;for(let Y=0;Y<q;Y++){const[Z,ie]=H[Y],U=R.get(ie);U!==void 0&&Z(U,{dirtyLeaves:M,prevEditorState:B,updateTags:D})}}(r,v,x,S,o),I(f)||f===null||u!==null&&u.is(f)||r.dispatchCommand(nn,void 0);const A=r._pendingDecorators;A!==null&&(r._decorators=A,r._pendingDecorators=null,Ma("decorator",r,!0,A)),function(O,R,D){const M=tv(R),B=tv(D);M!==B&&Ma("textcontent",O,!0,B)}(r,e||o,t),Ma("update",r,!0,{dirtyElements:C,dirtyLeaves:S,editorState:t,mutatedNodes:v,normalizedNodes:w,prevEditorState:e||o,tags:x}),function(O,R){if(O._deferred=[],R.length!==0){const D=O._updating;O._updating=!0;try{for(let M=0;M<R.length;M++)R[M]()}finally{O._updating=D}}}(r,E),function(O){const R=O._updates;if(R.length!==0){const D=R.shift();if(D){const[M,B]=D;Gd(O,M,B)}}}(r)}function Ma(r,e,t,...l){const s=e._updating;e._updating=t;try{const o=Array.from(e._listeners[r]);for(let u=0;u<o.length;u++)o[u].apply(null,l)}finally{e._updating=s}}function Pb(r,e){const t=r._updates;let l=e||!1;for(;t.length!==0;){const s=t.shift();if(s){const[o,u]=s;let f;if(u!==void 0){if(f=u.onUpdate,u.skipTransforms&&(l=!0),u.discrete){const d=r._pendingEditorState;d===null&&de(191),d._flushSync=!0}f&&r._deferred.push(f),Hb(r,u.tag)}o()}}return l}function Gd(r,e,t){const l=r._updateTags;let s,o=!1,u=!1;t!==void 0&&(s=t.onUpdate,Hb(r,t.tag),o=t.skipTransforms||!1,u=t.discrete||!1),s&&r._deferred.push(s);const f=r._editorState;let d=r._pendingEditorState,g=!1;(d===null||d._readOnly)&&(d=r._pendingEditorState=Yb(d||f),g=!0),d._flushSync=u;const h=Mt,y=gn,b=Dt,_=r._updating;Mt=d,gn=!1,r._updating=!0,Dt=r;const v=r._headless||r.getRootElement()===null;try{g&&(v?f._selection!==null&&(d._selection=f._selection.clone()):d._selection=function(x,E){const N=x.getEditorState()._selection,A=Xt(Un(x));return I(N)||N==null?Lu(N,A,x,E):N.clone()}(r,t&&t.event||null));const C=r._compositionKey;e(),o=Pb(r,o),function(x,E){const N=E.getEditorState()._selection,A=x._selection;if(I(A)){const O=A.anchor,R=A.focus;let D;if(O.type==="text"&&(D=O.getNode(),D.selectionTransform(N,A)),R.type==="text"){const M=R.getNode();D!==M&&M.selectionTransform(N,A)}}}(d,r),r._dirtyType!==Zi&&(o?function(x,E){const N=E._dirtyLeaves,A=x._nodeMap;for(const O of N){const R=A.get(O);oe(R)&&R.isAttached()&&R.isSimpleText()&&!R.isUnmergeable()&&Xy(R)}}(d,r):function(x,E){const N=E._dirtyLeaves,A=E._dirtyElements,O=x._nodeMap,R=pi(),D=new Map;let M=N,B=M.size,H=A,q=H.size;for(;B>0||q>0;){if(B>0){E._dirtyLeaves=new Set;for(const Y of M){const Z=O.get(Y);oe(Z)&&Z.isAttached()&&Z.isSimpleText()&&!Z.isUnmergeable()&&Xy(Z),Z!==void 0&&jb(Z,R)&&Ub(E,Z,D),N.add(Y)}if(M=E._dirtyLeaves,B=M.size,B>0){Fu++;continue}}E._dirtyLeaves=new Set,E._dirtyElements=new Map,H.delete("root")&&H.set("root",!0);for(const Y of H){const Z=Y[0],ie=Y[1];if(A.set(Z,ie),!ie)continue;const U=O.get(Z);U!==void 0&&jb(U,R)&&Ub(E,U,D)}M=E._dirtyLeaves,B=M.size,H=E._dirtyElements,q=H.size,Fu++}E._dirtyLeaves=N,E._dirtyElements=A}(d,r),Pb(r),function(x,E,N,A){const O=x._nodeMap,R=E._nodeMap,D=[];for(const[M]of A){const B=R.get(M);B!==void 0&&(B.isAttached()||(W(B)&&Py(B,M,O,R,D,A),O.has(M)||A.delete(M),D.push(M)))}for(const M of D)R.delete(M);for(const M of N){const B=R.get(M);B===void 0||B.isAttached()||(O.has(M)||N.delete(M),R.delete(M))}}(f,d,r._dirtyLeaves,r._dirtyElements)),C!==r._compositionKey&&(d._flushSync=!0);const w=d._selection;if(I(w)){const x=d._nodeMap,E=w.anchor.key,N=w.focus.key;x.get(E)!==void 0&&x.get(N)!==void 0||de(19)}else et(w)&&w._nodes.size===0&&(d._selection=null)}catch(C){return C instanceof Error&&r._onError(C),r._pendingEditorState=f,r._dirtyType=Il,r._cloneNotNeeded.clear(),r._dirtyLeaves=new Set,r._dirtyElements.clear(),void Lr(r)}finally{Mt=h,gn=y,Dt=b,r._updating=_,Fu=0}r._dirtyType!==Zi||r._deferred.length>0||function(C,w){const x=w.getEditorState()._selection,E=C._selection;if(E!==null){if(E.dirty||!E.is(x))return!0}else if(x!==null)return!0;return!1}(d,r)?d._flushSync?(d._flushSync=!1,Lr(r)):g&&cT(()=>{Lr(r)}):(d._flushSync=!1,g&&(l.clear(),r._deferred=[],r._pendingEditorState=null))}function En(r,e,t){Dt===r&&t===void 0?e():Gd(r,e,t)}class Da{constructor(e,t,l){this.element=e,this.before=t||null,this.after=l||null}withBefore(e){return new Da(this.element,e,this.after)}withAfter(e){return new Da(this.element,this.before,e)}withElement(e){return this.element===e?this:new Da(e,this.before,this.after)}insertChild(e){const t=this.before||this.getManagedLineBreak();return t!==null&&t.parentElement!==this.element&&de(222),this.element.insertBefore(e,t),this}removeChild(e){return e.parentElement!==this.element&&de(223),this.element.removeChild(e),this}replaceChild(e,t){return t.parentElement!==this.element&&de(224),this.element.replaceChild(e,t),this}getFirstChild(){const e=this.after?this.after.nextSibling:this.element.firstChild;return e===this.before||e===this.getManagedLineBreak()?null:e}getManagedLineBreak(){return this.element.__lexicalLineBreak||null}setManagedLineBreak(e){if(e===null)this.removeManagedLineBreak();else{const t=e==="decorator"&&(Pl||da);this.insertManagedLineBreak(t)}}removeManagedLineBreak(){const e=this.getManagedLineBreak();if(e){const t=this.element,l=e.nodeName==="IMG"?e.nextSibling:null;l&&t.removeChild(l),t.removeChild(e),t.__lexicalLineBreak=void 0}}insertManagedLineBreak(e){const t=this.getManagedLineBreak();if(t){if(e===(t.nodeName==="IMG"))return;this.removeManagedLineBreak()}const l=this.element,s=this.before,o=document.createElement("br");if(l.insertBefore(o,s),e){const u=document.createElement("img");u.setAttribute("data-lexical-linebreak","true"),u.style.cssText="display: inline !important; border: 0px !important; margin: 0px !important;",u.alt="",l.insertBefore(u,o),l.__lexicalLineBreak=u}else l.__lexicalLineBreak=o}getFirstChildOffset(){let e=0;for(let t=this.after;t!==null;t=t.previousSibling)e++;return e}resolveChildIndex(e,t,l,s){if(l===this.element){const d=this.getFirstChildOffset();return[e,Math.min(d+e.getChildrenSize(),Math.max(d,s))]}const o=Ib(t,l);o.push(s);const u=Ib(t,this.element);let f=e.getIndexWithinParent();for(let d=0;d<u.length;d++){const g=o[d],h=u[d];if(g===void 0||g<h)break;if(g>h){f+=1;break}}return[e.getParentOrThrow(),f]}}function Ib(r,e){const t=[];let l=e;for(;l!==r&&l!==null;l=e.parentNode){let s=0;for(let o=l.previousSibling;o!==null;o=o.previousSibling)s++;t.push(s)}return l!==r&&de(225),t.reverse()}class hn extends Ru{constructor(e){super(e),this.__first=null,this.__last=null,this.__size=0,this.__format=0,this.__style="",this.__indent=0,this.__dir=null,this.__textFormat=0,this.__textStyle=""}afterCloneFrom(e){super.afterCloneFrom(e),this.__first=e.__first,this.__last=e.__last,this.__size=e.__size,this.__indent=e.__indent,this.__format=e.__format,this.__style=e.__style,this.__dir=e.__dir,this.__textFormat=e.__textFormat,this.__textStyle=e.__textStyle}getFormat(){return this.getLatest().__format}getFormatType(){const e=this.getFormat();return Nw[e]||""}getStyle(){return this.getLatest().__style}getIndent(){return this.getLatest().__indent}getChildren(){const e=[];let t=this.getFirstChild();for(;t!==null;)e.push(t),t=t.getNextSibling();return e}getChildrenKeys(){const e=[];let t=this.getFirstChild();for(;t!==null;)e.push(t.__key),t=t.getNextSibling();return e}getChildrenSize(){return this.getLatest().__size}isEmpty(){return this.getChildrenSize()===0}isDirty(){const e=mt()._dirtyElements;return e!==null&&e.has(this.__key)}isLastChild(){const e=this.getLatest(),t=this.getParentOrThrow().getLastChild();return t!==null&&t.is(e)}getAllTextNodes(){const e=[];let t=this.getFirstChild();for(;t!==null;){if(oe(t)&&e.push(t),W(t)){const l=t.getAllTextNodes();e.push(...l)}t=t.getNextSibling()}return e}getFirstDescendant(){let e=this.getFirstChild();for(;W(e);){const t=e.getFirstChild();if(t===null)break;e=t}return e}getLastDescendant(){let e=this.getLastChild();for(;W(e);){const t=e.getLastChild();if(t===null)break;e=t}return e}getDescendantByIndex(e){const t=this.getChildren(),l=t.length;if(e>=l){const o=t[l-1];return W(o)&&o.getLastDescendant()||o||null}const s=t[e];return W(s)&&s.getFirstDescendant()||s||null}getFirstChild(){const e=this.getLatest().__first;return e===null?null:Ze(e)}getFirstChildOrThrow(){const e=this.getFirstChild();return e===null&&de(45,this.__key),e}getLastChild(){const e=this.getLatest().__last;return e===null?null:Ze(e)}getLastChildOrThrow(){const e=this.getLastChild();return e===null&&de(96,this.__key),e}getChildAtIndex(e){const t=this.getChildrenSize();let l,s;if(e<t/2){for(l=this.getFirstChild(),s=0;l!==null&&s<=e;){if(s===e)return l;l=l.getNextSibling(),s++}return null}for(l=this.getLastChild(),s=t-1;l!==null&&s>=e;){if(s===e)return l;l=l.getPreviousSibling(),s--}return null}getTextContent(){let e="";const t=this.getChildren(),l=t.length;for(let s=0;s<l;s++){const o=t[s];e+=o.getTextContent(),W(o)&&s!==l-1&&!o.isInline()&&(e+=Or)}return e}getTextContentSize(){let e=0;const t=this.getChildren(),l=t.length;for(let s=0;s<l;s++){const o=t[s];e+=o.getTextContentSize(),W(o)&&s!==l-1&&!o.isInline()&&(e+=Or.length)}return e}getDirection(){return this.getLatest().__dir}getTextFormat(){return this.getLatest().__textFormat}hasFormat(e){if(e!==""){const t=Ky[e];return!!(this.getFormat()&t)}return!1}hasTextFormat(e){const t=si[e];return!!(this.getTextFormat()&t)}getFormatFlags(e,t){return Ku(this.getLatest().__textFormat,e,t)}getTextStyle(){return this.getLatest().__textStyle}select(e,t){Vt();const l=X();let s=e,o=t;const u=this.getChildrenSize();if(!this.canBeEmpty()){if(e===0&&t===0){const d=this.getFirstChild();if(oe(d)||W(d))return d.select(0,0)}else if(!(e!==void 0&&e!==u||t!==void 0&&t!==u)){const d=this.getLastChild();if(oe(d)||W(d))return d.select()}}s===void 0&&(s=u),o===void 0&&(o=u);const f=this.__key;return I(l)?(l.anchor.set(f,s,"element"),l.focus.set(f,o,"element"),l.dirty=!0,l):kb(f,s,f,o,"element","element")}selectStart(){const e=this.getFirstDescendant();return e?e.selectStart():this.select()}selectEnd(){const e=this.getLastDescendant();return e?e.selectEnd():this.select()}clear(){const e=this.getWritable();return this.getChildren().forEach(t=>t.remove()),e}append(...e){return this.splice(this.getChildrenSize(),0,e)}setDirection(e){const t=this.getWritable();return t.__dir=e,t}setFormat(e){return this.getWritable().__format=e!==""?Ky[e]:0,this}setStyle(e){return this.getWritable().__style=e||"",this}setTextFormat(e){const t=this.getWritable();return t.__textFormat=e,t}setTextStyle(e){const t=this.getWritable();return t.__textStyle=e,t}setIndent(e){return this.getWritable().__indent=e,this}splice(e,t,l){const s=l.length,o=this.getChildrenSize(),u=this.getWritable();e+t<=o||de(226,String(e),String(t),String(o));const f=u.__key,d=[],g=[],h=this.getChildAtIndex(e+t);let y=null,b=o-t+s;if(e!==0)if(e===o)y=this.getLastChild();else{const v=this.getChildAtIndex(e);v!==null&&(y=v.getPreviousSibling())}if(t>0){let v=y===null?this.getFirstChild():y.getNextSibling();for(let S=0;S<t;S++){v===null&&de(100);const C=v.getNextSibling(),w=v.__key;il(v.getWritable()),g.push(w),v=C}}let _=y;for(let v=0;v<s;v++){const S=l[v];_!==null&&S.is(_)&&(y=_=_.getPreviousSibling());const C=S.getWritable();C.__parent===f&&b--,il(C);const w=S.__key;if(_===null)u.__first=w,C.__prev=null;else{const x=_.getWritable();x.__next=w,C.__prev=x.__key}S.__key===f&&de(76),C.__parent=f,d.push(w),_=S}if(e+t===o)_!==null&&(_.getWritable().__next=null,u.__last=_.__key);else if(h!==null){const v=h.getWritable();if(_!==null){const S=_.getWritable();v.__prev=_.__key,S.__next=h.__key}else v.__prev=null}if(u.__size=b,g.length){const v=X();if(I(v)){const S=new Set(g),C=new Set(d),{anchor:w,focus:x}=v;qb(w,S,C)&&$u(w,w.getNode(),this,y,h),qb(x,S,C)&&$u(x,x.getNode(),this,y,h),b!==0||this.canBeEmpty()||St(this)||this.remove()}}return u}getDOMSlot(e){return new Da(e)}exportDOM(e){const{element:t}=super.exportDOM(e);if(ht(t)){const l=this.getIndent();l>0&&(t.style.paddingInlineStart=40*l+"px");const s=this.getDirection();s&&(t.dir=s)}return{element:t}}exportJSON(){const e={children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent(),...super.exportJSON()},t=this.getTextFormat(),l=this.getTextStyle();return t!==0&&(e.textFormat=t),l!==""&&(e.textStyle=l),e}updateFromJSON(e){return super.updateFromJSON(e).setFormat(e.format).setIndent(e.indent).setDirection(e.direction).setTextFormat(e.textFormat||0).setTextStyle(e.textStyle||"")}insertNewAfter(e,t){return null}canIndent(){return!0}collapseAtStart(e){return!1}excludeFromCopy(e){return!1}canReplaceWith(e){return!0}canInsertAfter(e){return!0}canBeEmpty(){return!0}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}isInline(){return!1}isShadowRoot(){return!1}canMergeWith(e){return!1}extractWithChild(e,t,l){return!1}canMergeWhenEmpty(){return!1}reconcileObservedMutation(e,t){const l=this.getDOMSlot(e);let s=l.getFirstChild();for(let o=this.getFirstChild();o;o=o.getNextSibling()){const u=t.getElementByKey(o.getKey());u!==null&&(s==null?(l.insertChild(u),s=u):s!==u&&l.replaceChild(u,s),s=s.nextSibling)}}}function W(r){return r instanceof hn}function qb(r,e,t){let l=r.getNode();for(;l;){const s=l.__key;if(e.has(s)&&!t.has(s))return!0;l=l.getParent()}return!1}class Bu extends Ru{decorate(e,t){de(47)}isIsolated(){return!1}isInline(){return!0}isKeyboardSelectable(){return!0}}function Be(r){return r instanceof Bu}class La extends hn{static getType(){return"root"}static clone(){return new La}constructor(){super("root"),this.__cachedText=null}getTopLevelElementOrThrow(){de(51)}getTextContent(){const e=this.__cachedText;return!Ql()&&mt()._dirtyType!==Zi||e===null?super.getTextContent():e}remove(){de(52)}replace(e){de(53)}insertBefore(e){de(54)}insertAfter(e){de(55)}updateDOM(e,t){return!1}splice(e,t,l){for(const s of l)W(s)||Be(s)||de(282);return super.splice(e,t,l)}static importJSON(e){return tt().updateFromJSON(e)}collapseAtStart(){return!0}}function Ut(r){return r instanceof La}function Yb(r){return new Uu(new Map(r._nodeMap))}function Xd(){return new Uu(new Map([["root",new La]]))}function Vb(r){const e=r.exportJSON(),t=r.constructor;if(e.type!==t.getType()&&de(130,t.name),W(r)){const l=e.children;Array.isArray(l)||de(59,t.name);const s=r.getChildren();for(let o=0;o<s.length;o++){const u=Vb(s[o]);l.push(u)}}return e}class Uu{constructor(e,t){this._nodeMap=e,this._selection=t||null,this._flushSync=!1,this._readOnly=!1}isEmpty(){return this._nodeMap.size===1&&this._selection===null}read(e,t){return Kb(t&&t.editor||null,this,e)}clone(e){const t=new Uu(this._nodeMap,e===void 0?this._selection:e);return t._readOnly=!0,t}toJSON(){return Kb(null,this,()=>({root:Vb(tt())}))}}class Zd extends hn{static getType(){return"artificial"}createDOM(e){return document.createElement("div")}}class za extends hn{static getType(){return"paragraph"}static clone(e){return new za(e.__key)}createDOM(e){const t=document.createElement("p"),l=is(e.theme,"paragraph");return l!==void 0&&t.classList.add(...l),t}updateDOM(e,t,l){return!1}static importDOM(){return{p:e=>({conversion:oT,priority:0})}}exportDOM(e){const{element:t}=super.exportDOM(e);if(ht(t)){this.isEmpty()&&t.append(document.createElement("br"));const l=this.getFormatType();t.style.textAlign=l}return{element:t}}static importJSON(e){return De().updateFromJSON(e)}exportJSON(){return{...super.exportJSON(),textFormat:this.getTextFormat(),textStyle:this.getTextStyle()}}insertNewAfter(e,t){const l=De();l.setTextFormat(e.format),l.setTextStyle(e.style);const s=this.getDirection();return l.setDirection(s),l.setFormat(this.getFormatType()),l.setStyle(this.getStyle()),this.insertAfter(l,t),l}collapseAtStart(){const e=this.getChildren();if(e.length===0||oe(e[0])&&e[0].getTextContent().trim()===""){if(this.getNextSibling()!==null)return this.selectNext(),this.remove(),!0;if(this.getPreviousSibling()!==null)return this.selectPrevious(),this.remove(),!0}return!1}}function oT(r){const e=De();return r.style&&(e.setFormat(r.style.textAlign),pg(r,e)),{node:e}}function De(){return Tt(new za)}function wn(r){return r instanceof za}const Te=0,ke=1,Jl=2,zr=3,Bn=4;function Gb(r,e,t,l){const s=r._keyToDOMMap;s.clear(),r._editorState=Xd(),r._pendingEditorState=l,r._compositionKey=null,r._dirtyType=Zi,r._cloneNotNeeded.clear(),r._dirtyLeaves=new Set,r._dirtyElements.clear(),r._normalizedNodes=new Set,r._updateTags=new Set,r._updates=[],r._blockCursorElement=null;const o=r._observer;o!==null&&(o.disconnect(),r._observer=null),e!==null&&(e.textContent=""),t!==null&&(t.textContent="",s.set("root",t))}function Xb(r){const e=r||{},t=sT(),l=e.theme||{},s=r===void 0?t:e.parentEditor||null,o=e.disableEvents||!1,u=Xd(),f=e.namespace||(s!==null?s._config.namespace:lv()),d=e.editorState,g=[La,nr,Xl,ka,za,Zd,...e.nodes||[]],{onError:h,html:y}=e,b=e.editable===void 0||e.editable;let _;if(r===void 0&&t!==null)_=t._nodes;else{_=new Map;for(let S=0;S<g.length;S++){let C=g[S],w=null,x=null;if(typeof C!="function"){const O=C;C=O.replace,w=O.with,x=O.withKlass||null}const E=C.getType(),N=C.transform(),A=new Set;N!==null&&A.add(N),_.set(E,{exportDOM:y&&y.export?y.export.get(C):void 0,klass:C,replace:w,replaceWithKlass:x,transforms:A})}}const v=new ju(u,s,_,{disableEvents:o,namespace:f,theme:l},h||console.error,function(S,C){const w=new Map,x=new Set,E=N=>{Object.keys(N).forEach(A=>{let O=w.get(A);O===void 0&&(O=[],w.set(A,O)),O.push(N[A])})};return S.forEach(N=>{const A=N.klass.importDOM;if(A==null||x.has(A))return;x.add(A);const O=A.call(N.klass);O!==null&&E(O)}),C&&E(C),w}(_,y?y.import:void 0),b,r);return d!==void 0&&(v._pendingEditorState=d,v._dirtyType=Il),v}class ju{constructor(e,t,l,s,o,u,f,d){this._createEditorArgs=d,this._parentEditor=t,this._rootElement=null,this._editorState=e,this._pendingEditorState=null,this._compositionKey=null,this._deferred=[],this._keyToDOMMap=new Map,this._updates=[],this._updating=!1,this._listeners={decorator:new Set,editable:new Set,mutation:new Map,root:new Set,textcontent:new Set,update:new Set},this._commands=new Map,this._config=s,this._nodes=l,this._decorators={},this._pendingDecorators=null,this._dirtyType=Zi,this._cloneNotNeeded=new Set,this._dirtyLeaves=new Set,this._dirtyElements=new Map,this._normalizedNodes=new Set,this._updateTags=new Set,this._observer=null,this._key=lv(),this._onError=o,this._htmlConversions=u,this._editable=f,this._headless=t!==null&&t._headless,this._window=null,this._blockCursorElement=null}isComposing(){return this._compositionKey!=null}registerUpdateListener(e){const t=this._listeners.update;return t.add(e),()=>{t.delete(e)}}registerEditableListener(e){const t=this._listeners.editable;return t.add(e),()=>{t.delete(e)}}registerDecoratorListener(e){const t=this._listeners.decorator;return t.add(e),()=>{t.delete(e)}}registerTextContentListener(e){const t=this._listeners.textcontent;return t.add(e),()=>{t.delete(e)}}registerRootListener(e){const t=this._listeners.root;return e(this._rootElement,null),t.add(e),()=>{e(null,this._rootElement),t.delete(e)}}registerCommand(e,t,l){l===void 0&&de(35);const s=this._commands;s.has(e)||s.set(e,[new Set,new Set,new Set,new Set,new Set]);const o=s.get(e);o===void 0&&de(36,String(e));const u=o[l];return u.add(t),()=>{u.delete(t),o.every(f=>f.size===0)&&s.delete(e)}}registerMutationListener(e,t,l){const s=this.resolveRegisteredNodeAfterReplacements(this.getRegisteredNode(e)).klass,o=this._listeners.mutation;o.set(t,s);const u=l&&l.skipInitialization;return u!==void 0&&u||this.initializeMutationListener(t,s),()=>{o.delete(t)}}getRegisteredNode(e){const t=this._nodes.get(e.getType());return t===void 0&&de(37,e.name),t}resolveRegisteredNodeAfterReplacements(e){for(;e.replaceWithKlass;)e=this.getRegisteredNode(e.replaceWithKlass);return e}initializeMutationListener(e,t){const l=this._editorState,s=gg(l).get(t.getType());if(!s)return;const o=new Map;for(const u of s.keys())o.set(u,"created");o.size>0&&e(o,{dirtyLeaves:new Set,prevEditorState:l,updateTags:new Set(["registerMutationListener"])})}registerNodeTransformToKlass(e,t){const l=this.getRegisteredNode(e);return l.transforms.add(t),l}registerNodeTransform(e,t){const l=this.registerNodeTransformToKlass(e,t),s=[l],o=l.replaceWithKlass;if(o!=null){const u=this.registerNodeTransformToKlass(o,t);s.push(u)}return function(u,f){const d=gg(u.getEditorState()),g=[];for(const h of f){const y=d.get(h);y&&g.push(y)}g.length!==0&&u.update(()=>{for(const h of g)for(const y of h.keys()){const b=Ze(y);b&&b.markDirty()}},u._pendingEditorState===null?{tag:"history-merge"}:void 0)}(this,s.map(u=>u.klass.getType())),()=>{s.forEach(u=>u.transforms.delete(t))}}hasNode(e){return this._nodes.has(e.getType())}hasNodes(e){return e.every(this.hasNode.bind(this))}dispatchCommand(e,t){return ye(this,e,t)}getDecorators(){return this._decorators}getRootElement(){return this._rootElement}getKey(){return this._key}setRootElement(e){const t=this._rootElement;if(e!==t){const l=is(this._config.theme,"root"),s=this._pendingEditorState||this._editorState;if(this._rootElement=e,Gb(this,t,e,s),t!==null&&(this._config.disableEvents||Gw(t),l!=null&&t.classList.remove(...l)),e!==null){const o=sg(e),u=e.style;u.userSelect="text",u.whiteSpace="pre-wrap",u.wordBreak="break-word",e.setAttribute("data-lexical-editor","true"),this._window=o,this._dirtyType=Il,Yy(this),this._updateTags.add("history-merge"),Lr(this),this._config.disableEvents||function(f,d){const g=f.ownerDocument,h=Nu.get(g);(h===void 0||h<1)&&g.addEventListener("selectionchange",pb),Nu.set(g,(h||0)+1),f.__lexicalEditor=d;const y=hb(f);for(let b=0;b<Od.length;b++){const[_,v]=Od[b],S=typeof v=="function"?C=>{yb(C)||(mb(C),(d.isEditable()||_==="click")&&v(C,d))}:C=>{if(yb(C))return;mb(C);const w=d.isEditable();switch(_){case"cut":return w&&ye(d,wa,C);case"copy":return ye(d,Ea,C);case"paste":return w&&ye(d,ql,C);case"dragstart":return w&&ye(d,Ca,C);case"dragover":return w&&ye(d,Cu,C);case"dragend":return w&&ye(d,qw,C);case"focus":return w&&ye(d,wu,C);case"blur":return w&&ye(d,Tu,C);case"drop":return w&&ye(d,xa,C)}};f.addEventListener(_,S),y.push(()=>{f.removeEventListener(_,S)})}}(e,this),l!=null&&e.classList.add(...l)}else this._window=null,this._updateTags.add("history-merge"),Lr(this);Ma("root",this,!1,e,t)}}getElementByKey(e){return this._keyToDOMMap.get(e)||null}getEditorState(){return this._editorState}setEditorState(e,t){e.isEmpty()&&de(38);let l=e;l._readOnly&&(l=Yb(e),l._selection=e._selection?e._selection.clone():null),qy(this);const s=this._pendingEditorState,o=this._updateTags,u=t!==void 0?t.tag:null;s===null||s.isEmpty()||(u!=null&&o.add(u),Lr(this)),this._pendingEditorState=l,this._dirtyType=Il,this._dirtyElements.set("root",!1),this._compositionKey=null,u!=null&&o.add(u),this._updating||Lr(this)}parseEditorState(e,t){return function(l,s,o){const u=Xd(),f=Mt,d=gn,g=Dt,h=s._dirtyElements,y=s._dirtyLeaves,b=s._cloneNotNeeded,_=s._dirtyType;s._dirtyElements=new Map,s._dirtyLeaves=new Set,s._cloneNotNeeded=new Set,s._dirtyType=0,Mt=u,gn=!1,Dt=s;try{const v=s._nodes;Vd(l.root,v),o&&o(),u._readOnly=!0}catch(v){v instanceof Error&&s._onError(v)}finally{s._dirtyElements=h,s._dirtyLeaves=y,s._cloneNotNeeded=b,s._dirtyType=_,Mt=f,gn=d,Dt=g}return u}(typeof e=="string"?JSON.parse(e):e,this,t)}read(e){return Lr(this),this.getEditorState().read(e,{editor:this})}update(e,t){(function(l,s,o){l._updating?l._updates.push([s,o]):Gd(l,s,o)})(this,e,t)}focus(e,t={}){const l=this._rootElement;l!==null&&(l.setAttribute("autocapitalize","off"),En(this,()=>{const s=X(),o=tt();s!==null?s.dirty||qe(s.clone()):o.getChildrenSize()!==0&&(t.defaultSelection==="rootStart"?o.selectStart():o.selectEnd()),dT("focus"),gT(()=>{l.removeAttribute("autocapitalize"),e&&e()})}),this._pendingEditorState===null&&l.removeAttribute("autocapitalize"))}blur(){const e=this._rootElement;e!==null&&e.blur();const t=Xt(this._window);t!==null&&t.removeAllRanges()}isEditable(){return this._editable}setEditable(e){this._editable!==e&&(this._editable=e,Ma("editable",this,!0,e))}toJSON(){return{editorState:this._editorState.toJSON()}}}ju.version="0.30.0+prod.esm";let uT=1;const cT=typeof queueMicrotask=="function"?queueMicrotask:r=>{Promise.resolve().then(r)};function Zb(r){return Be(Gt(r))}function Wd(r){const e=document.activeElement;if(!ht(e))return!1;const t=e.nodeName;return Be(Gt(r))&&(t==="INPUT"||t==="TEXTAREA"||e.contentEditable==="true"&&Hu(e)==null)}function $a(r,e,t){const l=r.getRootElement();try{return l!==null&&l.contains(e)&&l.contains(t)&&e!==null&&!Wd(e)&&Wb(e)===r}catch{return!1}}function Qd(r){return r instanceof ju}function Wb(r){let e=r;for(;e!=null;){const t=Hu(e);if(Qd(t))return t;e=Ua(e)}return null}function Hu(r){return r?r.__lexicalEditor:null}function es(r){return r.isToken()||r.isSegmented()}function $r(r){return ir(r)&&r.nodeType===mw}function fT(r){return ir(r)&&r.nodeType===yw}function ts(r){let e=r;for(;e!=null;){if($r(e))return e;e=e.firstChild}return null}function Ku(r,e,t){const l=si[e];if(t!==null&&(r&l)==(t&l))return r;let s=r^l;return e==="subscript"?s&=-65:e==="superscript"?s&=-33:e==="lowercase"?(s&=-513,s&=-1025):e==="uppercase"?(s&=-257,s&=-1025):e==="capitalize"&&(s&=-257,s&=-513),s}function Jd(r){return oe(r)||Cn(r)||Be(r)}function Qb(r,e){if(e!=null)return void(r.__key=e);Vt(),Fb();const t=mt(),l=Dr(),s=""+uT++;l._nodeMap.set(s,r),W(r)?t._dirtyElements.set(s,!0):t._dirtyLeaves.add(s),t._cloneNotNeeded.add(s),t._dirtyType=Uy,r.__key=s}function il(r){const e=r.getParent();if(e!==null){const t=r.getWritable(),l=e.getWritable(),s=r.getPreviousSibling(),o=r.getNextSibling();if(s===null)if(o!==null){const u=o.getWritable();l.__first=o.__key,u.__prev=null}else l.__first=null;else{const u=s.getWritable();if(o!==null){const f=o.getWritable();f.__prev=u.__key,u.__next=f.__key}else u.__next=null;t.__prev=null}if(o===null)if(s!==null){const u=s.getWritable();l.__last=s.__key,u.__next=null}else l.__last=null;else{const u=o.getWritable();if(s!==null){const f=s.getWritable();f.__next=u.__key,u.__prev=f.__key}else u.__prev=null;t.__next=null}l.__size--,t.__parent=null}}function Pu(r){Fb();const e=r.getLatest(),t=e.__parent,l=Dr(),s=mt(),o=l._nodeMap,u=s._dirtyElements;t!==null&&function(d,g,h){let y=d;for(;y!==null;){if(h.has(y))return;const b=g.get(y);if(b===void 0)break;h.set(y,!1),y=b.__parent}}(t,o,u);const f=e.__key;s._dirtyType=Uy,W(r)?u.set(f,!0):s._dirtyLeaves.add(f)}function jt(r){Vt();const e=mt(),t=e._compositionKey;if(r!==t){if(e._compositionKey=r,t!==null){const l=Ze(t);l!==null&&l.getWritable()}if(r!==null){const l=Ze(r);l!==null&&l.getWritable()}}}function pi(){return Ql()?null:mt()._compositionKey}function Ze(r,e){const t=(e||Dr())._nodeMap.get(r);return t===void 0?null:t}function Jb(r,e){const t=Iu(r,mt());return t!==void 0?Ze(t,e):null}function Iu(r,e){return r[`__lexicalKey_${e._key}`]}function Gt(r,e){let t=r;for(;t!=null;){const l=Jb(t,e);if(l!==null)return l;t=Ua(t)}return null}function ev(r){const e=r._decorators,t=Object.assign({},e);return r._pendingDecorators=t,t}function tv(r){return r.read(()=>tt().getTextContent())}function tt(){return nv(Dr())}function nv(r){return r._nodeMap.get("root")}function qe(r){Vt();const e=Dr();r!==null&&(r.dirty=!0,r.setCachedNodes(null)),e._selection=r}function ns(r){const e=mt(),t=function(l,s){let o=l;for(;o!=null;){const u=Iu(o,s);if(u!==void 0)return u;o=Ua(o)}return null}(r,e);return t===null?r===e.getRootElement()?Ze("root"):null:Ze(t)}function rv(r,e){return e?r.getTextContentSize():0}function iv(r){return/[\uD800-\uDBFF][\uDC00-\uDFFF]/g.test(r)}function eg(r){const e=[];let t=r;for(;t!==null;)e.push(t),t=t._parentEditor;return e}function lv(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substring(0,5)}function sv(r){return $r(r)?r.nodeValue:null}function tg(r,e,t){const l=Xt(Un(e));if(l===null)return;const s=l.anchorNode;let{anchorOffset:o,focusOffset:u}=l;if(s!==null){let f=sv(s);const d=Gt(s);if(f!==null&&oe(d)){if(f===hu&&t){const g=t.length;f=t,o=g,u=g}f!==null&&ng(d,f,o,u,r)}}}function ng(r,e,t,l,s){let o=r;if(o.isAttached()&&(s||!o.isDirty())){const u=o.isComposing();let f=e;(u||s)&&e[e.length-1]===hu&&(f=e.slice(0,-1));const d=o.getTextContent();if(s||f!==d){if(f===""){if(jt(null),da||Pl||cu)o.remove();else{const S=mt();setTimeout(()=>{S.update(()=>{o.isAttached()&&o.remove()})},20)}return}const g=o.getParent(),h=rr(),y=o.getTextContentSize(),b=pi(),_=o.getKey();if(o.isToken()||b!==null&&_===b&&!u||I(h)&&(g!==null&&!g.canInsertTextBefore()&&h.anchor.offset===0||h.anchor.key===r.__key&&h.anchor.offset===0&&!o.canInsertTextBefore()&&!u||h.focus.key===r.__key&&h.focus.offset===y&&!o.canInsertTextAfter()&&!u))return void o.markDirty();const v=X();if(!I(v)||t===null||l===null)return void o.setTextContent(f);if(v.setTextNodeRange(o,t,o,l),o.isSegmented()){const S=Fe(o.getTextContent());o.replace(S),o=S}o.setTextContent(f)}}}function av(r){return r==="ArrowLeft"}function ov(r){return r==="ArrowRight"}function Fa(r,e){return Jn?r:e}function uv(r){return r==="Enter"}function rs(r){return r==="Backspace"}function Ba(r){return r==="Delete"}function cv(r,e,t){return r.toLowerCase()==="a"&&Fa(e,t)}function fv(r){const e=tt();if(I(r)){const t=r.anchor,l=r.focus,s=t.getNode().getTopLevelElementOrThrow().getParentOrThrow();return t.set(s.getKey(),0,"element"),l.set(s.getKey(),s.getChildrenSize(),"element"),Wi(r),r}{const t=e.select(0,e.getChildrenSize());return qe(Wi(t)),t}}function is(r,e){r.__lexicalClassNameCache===void 0&&(r.__lexicalClassNameCache={});const t=r.__lexicalClassNameCache,l=t[e];if(l!==void 0)return l;const s=r[e];if(typeof s=="string"){const o=fu(s);return t[e]=o,o}return s}function rg(r,e,t,l,s){if(t.size===0)return;const o=l.__type,u=l.__key,f=e.get(o);f===void 0&&de(33,o);const d=f.klass;let g=r.get(d);g===void 0&&(g=new Map,r.set(d,g));const h=g.get(u),y=h==="destroyed"&&s==="created";(h===void 0||y)&&g.set(u,y?"updated":s)}function ig(r){const e=r.getType(),t=Dr();if(t._readOnly){const o=gg(t).get(e);return o?Array.from(o.values()):[]}const l=t._nodeMap,s=[];for(const[,o]of l)o instanceof r&&o.__type===e&&o.isAttached()&&s.push(o);return s}function dv(r,e,t){const l=r.getParent();let s=t,o=r;return l!==null&&(e&&t===0?(s=o.getIndexWithinParent(),o=l):e||t!==o.getChildrenSize()||(s=o.getIndexWithinParent()+1,o=l)),o.getChildAtIndex(e?s-1:s)}function lg(r,e){const t=r.offset;if(r.type==="element")return dv(r.getNode(),e,t);{const l=r.getNode();if(e&&t===0||!e&&t===l.getTextContentSize()){const s=e?l.getPreviousSibling():l.getNextSibling();return s===null?dv(l.getParentOrThrow(),e,l.getIndexWithinParent()+(e?0:1)):s}}return null}function gv(r){const e=Un(r).event,t=e&&e.inputType;return t==="insertFromPaste"||t==="insertFromPasteAsQuotation"}function ye(r,e,t){return function(l,s,o){const u=eg(l);for(let f=4;f>=0;f--)for(let d=0;d<u.length;d++){const g=u[d],h=g._commands.get(s);if(h!==void 0){const y=h[f];if(y!==void 0){const b=Array.from(y),_=b.length;let v=!1;if(En(g,()=>{for(let S=0;S<_;S++)if(b[S](o,l))return void(v=!0)}),v)return v}}}return!1}(r,e,t)}function qu(r){return!Ut(r)&&!r.isLastChild()&&!r.isInline()}function ls(r,e){const t=r._keyToDOMMap.get(e);return t===void 0&&de(75,e),t}function Ua(r){const e=r.assignedSlot||r.parentElement;return cg(e)?e.host:e}function hv(r){return fT(r)?r:ht(r)?r.ownerDocument:null}function dT(r){Vt(),mt()._updateTags.add(r)}function gT(r){Vt(),mt()._deferred.push(r)}function Yu(r,e){let t=r.getParent();for(;t!==null;){if(t.is(e))return!0;t=t.getParent()}return!1}function sg(r){const e=hv(r);return e?e.defaultView:null}function Un(r){const e=r._window;return e===null&&de(78),e}function hT(r){return W(r)&&r.isInline()||Be(r)&&r.isInline()}function pT(r){let e=r.getParentOrThrow();for(;e!==null;){if(St(e))return e;e=e.getParentOrThrow()}return e}function St(r){return Ut(r)||W(r)&&r.isShadowRoot()}function mT(r){const e=r.constructor.clone(r);return Qb(e,null),e}function Tt(r){const e=mt(),t=r.constructor.getType(),l=e._nodes.get(t);l===void 0&&de(200,r.constructor.name,t);const{replace:s,replaceWithKlass:o}=l;if(s!==null){const u=s(r),f=u.constructor;return o!==null?u instanceof o||de(201,o.name,o.getType(),f.name,f.getType(),r.constructor.name,t):u instanceof r.constructor&&f!==r.constructor||de(202,f.name,f.getType(),r.constructor.name,t),u.__key===r.__key&&de(203,r.constructor.name,t,f.name,f.getType()),u}return r}function ag(r,e){!Ut(r.getParent())||W(e)||Be(e)||de(99)}function yT(r){const e=Ze(r);return e===null&&de(63,r),e}function og(r){return(Be(r)||W(r)&&!r.canBeEmpty())&&!r.isInline()}function ug(r,e,t){t.style.removeProperty("caret-color"),e._blockCursorElement=null;const l=r.parentElement;l!==null&&l.removeChild(r)}function Xt(r){return Qn?(r||window).getSelection():null}function bT(r){const e=sg(r);return e?e.getSelection():null}function pv(r){return ht(r)&&r.tagName==="A"}function ht(r){return ir(r)&&r.nodeType===pw}function ir(r){return typeof r=="object"&&r!==null&&"nodeType"in r&&typeof r.nodeType=="number"}function cg(r){return ir(r)&&r.nodeType===bw}function fg(r){const e=new RegExp(/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|mark|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var|#text)$/,"i");return r.nodeName.match(e)!==null}function Vu(r){const e=new RegExp(/^(address|article|aside|blockquote|canvas|dd|div|dl|dt|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|header|hr|li|main|nav|noscript|ol|p|pre|section|table|td|tfoot|ul|video)$/,"i");return r.nodeName.match(e)!==null}function mi(r){if(Be(r)&&!r.isInline())return!0;if(!W(r)||St(r))return!1;const e=r.getFirstChild(),t=e===null||Cn(e)||oe(e)||e.isInline();return!r.isInline()&&r.canBeEmpty()!==!1&&t}function dg(r,e){let t=r;for(;t!==null&&t.getParent()!==null&&!e(t);)t=t.getParentOrThrow();return e(t)?t:null}function Gu(){return mt()}const mv=new WeakMap,vT=new Map;function gg(r){if(!r._readOnly&&r.isEmpty())return vT;r._readOnly||de(192);let e=mv.get(r);return e||(e=function(t){const l=new Map;for(const[s,o]of t._nodeMap){const u=o.__type;let f=l.get(u);f||(f=new Map,l.set(u,f)),f.set(s,o)}return l}(r),mv.set(r,e)),e}function hg(r){const e=r.constructor.clone(r);return e.afterCloneFrom(r),e}function pg(r,e){const t=parseInt(r.style.paddingInlineStart,10)||0,l=Math.round(t/40);e.setIndent(l)}function _T(r){r.__lexicalUnmanaged=!0}function ST(r){return r.__lexicalUnmanaged===!0}const xT={next:"previous",previous:"next"};class mg{constructor(e){this.origin=e}[Symbol.iterator](){return vg({hasNext:yi,initial:this.getAdjacentCaret(),map:e=>e,step:e=>e.getAdjacentCaret()})}getAdjacentCaret(){return bt(this.getNodeAtCaret(),this.direction)}getSiblingCaret(){return bt(this.origin,this.direction)}remove(){const e=this.getNodeAtCaret();return e&&e.remove(),this}replaceOrInsert(e,t){const l=this.getNodeAtCaret();return e.is(this.origin)||e.is(l)||(l===null?this.insert(e):l.replace(e,t)),this}splice(e,t,l="next"){const s=l===this.direction?t:Array.from(t).reverse();let o=this;const u=this.getParentAtCaret(),f=new Map;for(let d=o.getAdjacentCaret();d!==null&&f.size<e;d=d.getAdjacentCaret()){const g=d.origin.getWritable();f.set(g.getKey(),g)}for(const d of s){if(f.size>0){const g=o.getNodeAtCaret();if(g){if(f.delete(g.getKey()),f.delete(d.getKey()),!(g.is(d)||o.origin.is(d))){const h=d.getParent();h&&h.is(u)&&d.remove(),g.replace(d)}}else g===null&&de(263,Array.from(f).join(" "))}else o.insert(d);o=bt(d,this.direction)}for(const d of f.values())d.remove();return this}}class ja extends mg{constructor(){super(...arguments);Wn(this,"type","child")}getLatest(){const t=this.origin.getLatest();return t===this.origin?this:mn(t,this.direction)}getParentCaret(t="root"){return bt(yg(this.getParentAtCaret(),t),this.direction)}getFlipped(){const t=ll(this.direction);return bt(this.getNodeAtCaret(),t)||mn(this.origin,t)}getParentAtCaret(){return this.origin}getChildCaret(){return this}isSameNodeCaret(t){return t instanceof ja&&this.direction===t.direction&&this.origin.is(t.origin)}isSamePointCaret(t){return this.isSameNodeCaret(t)}}const CT={root:Ut,shadowRoot:St};function ll(r){return xT[r]}function yg(r,e="root"){return CT[e](r)?null:r}class sl extends mg{constructor(){super(...arguments);Wn(this,"type","sibling")}getLatest(){const t=this.origin.getLatest();return t===this.origin?this:bt(t,this.direction)}getSiblingCaret(){return this}getParentAtCaret(){return this.origin.getParent()}getChildCaret(){return W(this.origin)?mn(this.origin,this.direction):null}getParentCaret(t="root"){return bt(yg(this.getParentAtCaret(),t),this.direction)}getFlipped(){const t=ll(this.direction);return bt(this.getNodeAtCaret(),t)||mn(this.origin.getParentOrThrow(),t)}isSamePointCaret(t){return t instanceof sl&&this.direction===t.direction&&this.origin.is(t.origin)}isSameNodeCaret(t){return(t instanceof sl||t instanceof al)&&this.direction===t.direction&&this.origin.is(t.origin)}}class al extends mg{constructor(t,l){super(t);Wn(this,"type","text");this.offset=l}getLatest(){const t=this.origin.getLatest();return t===this.origin?this:ol(t,this.direction,this.offset)}getParentAtCaret(){return this.origin.getParent()}getChildCaret(){return null}getParentCaret(t="root"){return bt(yg(this.getParentAtCaret(),t),this.direction)}getFlipped(){return ol(this.origin,ll(this.direction),this.offset)}isSamePointCaret(t){return t instanceof al&&this.direction===t.direction&&this.origin.is(t.origin)&&this.offset===t.offset}isSameNodeCaret(t){return(t instanceof sl||t instanceof al)&&this.direction===t.direction&&this.origin.is(t.origin)}getSiblingCaret(){return bt(this.origin,this.direction)}}function Fr(r){return r instanceof al}function yi(r){return r instanceof sl}function pn(r){return r instanceof ja}const ET={next:class extends al{constructor(){super(...arguments);Wn(this,"direction","next")}getNodeAtCaret(){return this.origin.getNextSibling()}insert(e){return this.origin.insertAfter(e),this}},previous:class extends al{constructor(){super(...arguments);Wn(this,"direction","previous")}getNodeAtCaret(){return this.origin.getPreviousSibling()}insert(e){return this.origin.insertBefore(e),this}}},wT={next:class extends sl{constructor(){super(...arguments);Wn(this,"direction","next")}getNodeAtCaret(){return this.origin.getNextSibling()}insert(e){return this.origin.insertAfter(e),this}},previous:class extends sl{constructor(){super(...arguments);Wn(this,"direction","previous")}getNodeAtCaret(){return this.origin.getPreviousSibling()}insert(e){return this.origin.insertBefore(e),this}}},TT={next:class extends ja{constructor(){super(...arguments);Wn(this,"direction","next")}getNodeAtCaret(){return this.origin.getFirstChild()}insert(e){return this.origin.splice(0,0,[e]),this}},previous:class extends ja{constructor(){super(...arguments);Wn(this,"direction","previous")}getNodeAtCaret(){return this.origin.getLastChild()}insert(e){return this.origin.splice(this.origin.getChildrenSize(),0,[e]),this}}};function bt(r,e){return r?new wT[e](r):null}function ol(r,e,t){return r?new ET[e](r,ss(r,t)):null}function ss(r,e){const t=r.getTextContentSize();let l=e==="next"?t:e==="previous"?0:e;return(l<0||l>t)&&(function(s,...o){const u=new URL("https://lexical.dev/docs/error"),f=new URLSearchParams;f.append("code",s);for(const d of o)f.append("v",d);u.search=f.toString(),console.warn(`Minified Lexical warning #${s}; visit ${u.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}(284,String(e),String(t),r.getKey()),l=l<0?0:t),l}function yv(r,e){return new AT(r,e)}function mn(r,e){return W(r)?new TT[e](r):null}function NT(r){return r&&r.getChildCaret()||r}function Ha(r){return r&&NT(r.getAdjacentCaret())}class bg{constructor(e,t,l){Wn(this,"type","node-caret-range");this.anchor=e,this.focus=t,this.direction=l}getLatest(){const e=this.anchor.getLatest(),t=this.focus.getLatest();return e===this.anchor&&t===this.focus?this:new bg(e,t,this.direction)}isCollapsed(){return this.anchor.isSamePointCaret(this.focus)}getTextSlices(){const e=s=>{const o=this[s].getLatest();return Fr(o)?function(u,f){const{direction:d,origin:g}=u,h=ss(g,f==="focus"?ll(d):d);return yv(u,h-u.offset)}(o,s):null},t=e("anchor"),l=e("focus");if(t&&l){const{caret:s}=t,{caret:o}=l;if(s.isSameNodeCaret(o))return[yv(s,o.offset-s.offset),null]}return[t,l]}iterNodeCarets(e="root"){const t=Fr(this.anchor)?this.anchor.getSiblingCaret():this.anchor.getLatest(),l=this.focus.getLatest(),s=Fr(l),o=u=>u.isSameNodeCaret(l)?null:Ha(u)||u.getParentCaret(e);return vg({hasNext:u=>u!==null&&!(s&&l.isSameNodeCaret(u)),initial:t.isSameNodeCaret(l)?null:o(t),map:u=>u,step:o})}[Symbol.iterator](){return this.iterNodeCarets("root")}}class AT{constructor(e,t){Wn(this,"type","slice");this.caret=e,this.distance=t}getSliceIndices(){const{distance:e,caret:{offset:t}}=this,l=t+e;return l<t?[l,t]:[t,l]}getTextContent(){const[e,t]=this.getSliceIndices();return this.caret.origin.getTextContent().slice(e,t)}getTextContentSize(){return Math.abs(this.distance)}removeTextSlice(){const{caret:{origin:e,direction:t}}=this,[l,s]=this.getSliceIndices(),o=e.getTextContent();return ol(e.setTextContent(o.slice(0,l)+o.slice(s)),t,l)}}function Ka(r){return ul(r,bt(tt(),r.direction))}function bv(r){return ul(r,r)}function ul(r,e){return r.direction!==e.direction&&de(265),new bg(r,e,r.direction)}function vg(r){const{initial:e,hasNext:t,step:l,map:s}=r;let o=e;return{[Symbol.iterator](){return this},next(){if(!t(o))return{done:!0,value:void 0};const u={done:!1,value:s(o)};return o=l(o),u}}}function vv(r,e){const t=Zu(r.origin,e.origin);switch(t===null&&de(275,r.origin.getKey(),e.origin.getKey()),t.type){case"same":{const l=r.type==="text",s=e.type==="text";return l&&s?function(o,u){return Math.sign(o-u)}(r.offset,e.offset):r.type===e.type?0:l?-1:s?1:r.type==="child"?-1:1}case"ancestor":return r.type==="child"?-1:1;case"descendant":return e.type==="child"?1:-1;case"branch":return _v(t)}}function _v(r){const{a:e,b:t}=r,l=e.__key,s=t.__key;let o=e,u=t;for(;o&&u;o=o.getNextSibling(),u=u.getNextSibling()){if(o.__key===s)return-1;if(u.__key===l)return 1}return o===null?1:-1}function Xu(r,e){return e.is(r)}function Sv(r){return W(r)?[r.getLatest(),null]:[r.getParent(),r.getLatest()]}function Zu(r,e){if(r.is(e))return{commonAncestor:r,type:"same"};const t=new Map;for(let[l,s]=Sv(r);l;s=l,l=l.getParent())t.set(l,s);for(let[l,s]=Sv(e);l;s=l,l=l.getParent()){const o=t.get(l);if(o!==void 0)return o===null?(Xu(r,l)||de(276),{commonAncestor:l,type:"ancestor"}):s===null?(Xu(e,l)||de(277),{commonAncestor:l,type:"descendant"}):((W(o)||Xu(r,o))&&(W(s)||Xu(e,s))&&l.is(o.getParent())&&l.is(s.getParent())||de(278),{a:o,b:s,commonAncestor:l,type:"branch"})}return null}function mr(r,e){const{type:t,key:l,offset:s}=r,o=yT(r.key);return t==="text"?(oe(o)||de(266,o.getType(),l),ol(o,e,s)):(W(o)||de(267,o.getType(),l),RT(o,r.offset,e))}function lr(r,e){const{origin:t,direction:l}=e,s=l==="next";Fr(e)?r.set(t.getKey(),e.offset,"text"):yi(e)?oe(t)?r.set(t.getKey(),ss(t,l),"text"):r.set(t.getParentOrThrow().getKey(),t.getIndexWithinParent()+(s?1:0),"element"):(pn(e)&&W(t)||de(268),r.set(t.getKey(),s?0:t.getChildrenSize(),"element"))}function xv(r){const e=X(),t=I(e)?e:Wl();return Wu(t,r),qe(t),t}function Wu(r,e){lr(r.anchor,e.anchor),lr(r.focus,e.focus)}function Cv(r){const{anchor:e,focus:t}=r,l=mr(e,"next"),s=mr(t,"next"),o=vv(l,s)<=0?"next":"previous";return ul(Br(l,o),Br(s,o))}function Pa(r){const{direction:e,origin:t}=r,l=bt(t,ll(e)).getNodeAtCaret();return l?bt(l,e):mn(t.getParentOrThrow(),e)}function Ev(r,e="root"){const t=[r];for(let l=pn(r)?r.getParentCaret(e):r.getSiblingCaret();l!==null;l=l.getParentCaret(e))t.push(Pa(l));return t}function _g(r){return!!r&&r.origin.isAttached()}function OT(r,e="removeEmptySlices"){if(r.isCollapsed())return r;const t="root",l="next";let s=e;const o=wv(r,l),u=Ev(o.anchor,t),f=Ev(o.focus.getFlipped(),t),d=new Set,g=[];for(const v of o.iterNodeCarets(t))if(pn(v))d.add(v.origin.getKey());else if(yi(v)){const{origin:S}=v;W(S)&&!d.has(S.getKey())||g.push(S)}for(const v of g)v.remove();for(const v of o.getTextSlices()){if(!v)continue;const{origin:S}=v.caret,C=S.getTextContentSize(),w=Pa(bt(S,l)),x=S.getMode();if(Math.abs(v.distance)===C&&s==="removeEmptySlices"||x==="token"&&v.distance!==0)w.remove();else if(v.distance!==0){s="removeEmptySlices";let E=v.removeTextSlice();const N=v.caret.origin;if(x==="segmented"){const A=E.origin,O=Fe(A.getTextContent()).setStyle(A.getStyle()).setFormat(A.getFormat());w.replaceOrInsert(O),E=ol(O,l,E.offset)}N.is(u[0].origin)&&(u[0]=E),N.is(f[0].origin)&&(f[0]=E.getFlipped())}}let h,y;for(const v of u)if(_g(v)){h=rn(v);break}for(const v of f)if(_g(v)){y=rn(v);break}const b=function(v,S,C){if(!v||!S)return null;const w=v.getParentAtCaret(),x=S.getParentAtCaret();if(!w||!x)return null;const E=w.getParents().reverse();E.push(w);const N=x.getParents().reverse();N.push(x);const A=Math.min(E.length,N.length);let O;for(O=0;O<A&&E[O]===N[O];O++);const R=(B,H)=>{let q;for(let Y=O;Y<B.length;Y++){const Z=B[Y];if(St(Z))return;!q&&H(Z)&&(q=Z)}return q},D=R(E,mi),M=D&&R(N,B=>C.has(B.getKey())&&mi(B));return D&&M?[D,M]:null}(h,y,d);if(b){const[v,S]=b;mn(v,"previous").splice(0,S.getChildren()),S.remove()}const _=[h,y,...u,...f].find(_g);if(_)return bv(Br(rn(_),r.direction));de(269,JSON.stringify(u.map(v=>v.origin.__key)))}function rn(r){const e=function(s){let o=s;for(;pn(o);){const u=Ha(o);if(!pn(u))break;o=u}return o}(r.getLatest()),{direction:t}=e;if(oe(e.origin))return Fr(e)?e:ol(e.origin,t,t);const l=e.getAdjacentCaret();return yi(l)&&oe(l.origin)?ol(l.origin,t,ll(t)):e}function Sg(r){return Fr(r)&&r.offset!==ss(r.origin,r.direction)}function Br(r,e){return r.direction===e?r:r.getFlipped()}function wv(r,e){return r.direction===e?r:ul(Br(r.focus,e),Br(r.anchor,e))}function RT(r,e,t){let l=mn(r,"next");for(let s=0;s<e;s++){const o=l.getAdjacentCaret();if(o===null)break;l=o}return Br(l,t)}function kT(r){const{origin:e,offset:t,direction:l}=r;if(t===ss(e,l))return r.getSiblingCaret();if(t===ss(e,ll(l)))return Pa(r.getSiblingCaret());const[s]=e.splitText(t);return oe(s)||de(281),Br(bt(s,"next"),l)}function MT(r,e){return!0}function DT(r,{$copyElementNode:e=mT,$splitTextPointCaretNext:t=kT,rootMode:l="shadowRoot",$shouldSplit:s=MT}={}){if(Fr(r))return t(r);const o=r.getParentCaret(l);if(o){const{origin:u}=o;if(pn(r)&&(!u.canBeEmpty()||!s(u,"first")))return Pa(o);const f=function(d){const g=[];for(let h=d.getAdjacentCaret();h;h=h.getAdjacentCaret())g.push(h.origin);return g}(r);(f.length>0||u.canBeEmpty()&&s(u,"last"))&&o.insert(e(u).splice(0,0,f))}return o}const Tv=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,LT=Tv?z.useLayoutEffect:z.useEffect,Qu={tag:"history-merge"};function zT({initialConfig:r,children:e}){const t=z.useMemo(()=>{const{theme:l,namespace:s,nodes:o,onError:u,editorState:f,html:d}=r,g=dw(null,l),h=Xb({editable:r.editable,html:d,namespace:s,nodes:o,onError:y=>u(y,h),theme:l});return function(y,b){if(b!==null){if(b===void 0)y.update(()=>{const _=tt();if(_.isEmpty()){const v=De();_.append(v);const S=Tv?document.activeElement:null;(X()!==null||S!==null&&S===y.getRootElement())&&v.select()}},Qu);else if(b!==null)switch(typeof b){case"string":{const _=y.parseEditorState(b);y.setEditorState(_,Qu);break}case"object":y.setEditorState(b,Qu);break;case"function":y.update(()=>{tt().isEmpty()&&b(y)},Qu)}}}(h,f),[h,g]},[]);return LT(()=>{const l=r.editable,[s]=t;s.setEditable(l===void 0||l)},[]),$.jsx($y.Provider,{value:t,children:e})}const $T=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?z.useLayoutEffect:z.useEffect;function FT(r){return{initialValueFn:()=>r.isEditable(),subscribe:e=>r.registerEditableListener(e)}}function xg(){return function(r){const[e]=je(),t=z.useMemo(()=>r(e),[e,r]),[l,s]=z.useState(()=>t.initialValueFn()),o=z.useRef(l);return $T(()=>{const{initialValueFn:u,subscribe:f}=t,d=u();return o.current!==d&&(o.current=d,s(d)),f(g=>{o.current=g,s(g)})},[t,r]),l}(FT)}function BT(){return tt().getTextContent()}function UT(r,e=!0){if(r)return!1;let t=BT();return e&&(t=t.trim()),t===""}function jT(r){if(!UT(r,!1))return!1;const e=tt().getChildren(),t=e.length;if(t>1)return!1;for(let l=0;l<t;l++){const s=e[l];if(Be(s))return!1;if(W(s)){if(!wn(s)||s.__indent!==0)return!1;const o=s.getChildren(),u=o.length;for(let f=0;f<u;f++){const d=o[l];if(!oe(d))return!1}}}return!0}function Cg(r){return()=>jT(r)}function Nv(r,...e){const t=new URL("https://lexical.dev/docs/error"),l=new URLSearchParams;l.append("code",r);for(const s of e)l.append("v",s);throw t.search=l.toString(),Error(`Minified Lexical error #${r}; visit ${t.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}const Eg=new Map;function Av(r){const e={};if(!r)return e;const t=r.split(";");for(const l of t)if(l!==""){const[s,o]=l.split(/:([^]+)/);s&&o&&(e[s.trim()]=o.trim())}return e}function Ov(r){let e=Eg.get(r);return e===void 0&&(e=Av(r),Eg.set(r,e)),e}function Rv(r,e){const t=r.getStartEndPoints();if(e.isSelected(r)&&!e.isSegmented()&&!e.isToken()&&t!==null){const[l,s]=t,o=r.isBackward(),u=l.getNode(),f=s.getNode(),d=e.is(u),g=e.is(f);if(d||g){const[h,y]=Hd(r),b=u.is(f),_=e.is(o?f:u),v=e.is(o?u:f);let S,C=0;return b?(C=h>y?y:h,S=h>y?h:y):_?(C=o?y:h,S=void 0):v&&(C=0,S=o?h:y),e.__text=e.__text.slice(C,S),e}}return e}function Ju(r){if(r.type==="text")return r.offset===r.getNode().getTextContentSize();const e=r.getNode();return W(e)||Nv(177),r.offset===e.getChildrenSize()}function HT(r){const e=r.getStyle(),t=Av(e);Eg.set(e,t)}function kv(r){return r.getNode().isAttached()}function KT(r){let e=r;for(;e!==null&&!St(e);){const t=e.getLatest(),l=e.getParent();t.getChildrenSize()===0&&e.remove(!0),e=l}}function bi(r,e,t=null){const l=r.getStartEndPoints(),s=l?l[0]:null,o=r.getNodes(),u=o.length;if(s!==null&&(u===0||u===1&&s.type==="element"&&s.getNode().getChildrenSize()===0)){const g=s.type==="text"?s.getNode().getParentOrThrow():s.getNode(),h=g.getChildren();let y=e();return y.setFormat(g.getFormatType()),y.setIndent(g.getIndent()),h.forEach(b=>y.append(b)),t&&(y=t.append(y)),void g.replace(y)}let f=null,d=[];for(let g=0;g<u;g++){const h=o[g];St(h)?(wg(r,d,d.length,e,t),d=[],f=h):f===null||f!==null&&Yu(h,f)?d.push(h):(wg(r,d,d.length,e,t),d=[h])}wg(r,d,d.length,e,t)}function wg(r,e,t,l,s=null){if(e.length===0)return;const o=e[0],u=new Map,f=[];let d=W(o)?o:o.getParentOrThrow();d.isInline()&&(d=d.getParentOrThrow());let g=!1;for(;d!==null;){const v=d.getPreviousSibling();if(v!==null){d=v,g=!0;break}if(d=d.getParentOrThrow(),St(d))break}const h=new Set;for(let v=0;v<t;v++){const S=e[v];W(S)&&S.getChildrenSize()===0&&h.add(S.getKey())}const y=new Set;for(let v=0;v<t;v++){const S=e[v];let C=S.getParent();if(C!==null&&C.isInline()&&(C=C.getParent()),C!==null&&Jd(S)&&!y.has(S.getKey())){const w=C.getKey();if(u.get(w)===void 0){const x=l();x.setFormat(C.getFormatType()),x.setIndent(C.getIndent()),f.push(x),u.set(w,x),C.getChildren().forEach(E=>{x.append(E),y.add(E.getKey()),W(E)&&E.getChildrenKeys().forEach(N=>y.add(N))}),KT(C)}}else if(h.has(S.getKey())){W(S)||Nv(179);const w=l();w.setFormat(S.getFormatType()),w.setIndent(S.getIndent()),f.push(w),S.remove(!0)}}if(s!==null)for(let v=0;v<f.length;v++){const S=f[v];s.append(S)}let b=null;if(St(d))if(g)if(s!==null)d.insertAfter(s);else for(let v=f.length-1;v>=0;v--){const S=f[v];d.insertAfter(S)}else{const v=d.getFirstChild();if(W(v)&&(d=v),v===null)if(s)d.append(s);else for(let S=0;S<f.length;S++){const C=f[S];d.append(C),b=C}else if(s!==null)v.insertBefore(s);else for(let S=0;S<f.length;S++){const C=f[S];v.insertBefore(C),b=C}}else if(s)d.insertAfter(s);else for(let v=f.length-1;v>=0;v--){const S=f[v];d.insertAfter(S),b=S}const _=rr();I(_)&&kv(_.anchor)&&kv(_.focus)?qe(_.clone()):b!==null?b.selectEnd():r.dirty=!0}function ec(r,e){const t=mr(r.focus,e?"previous":"next");if(Sg(t))return!1;for(const l of Ka(t)){if(pn(l))return!l.origin.isInline();if(!W(l.origin)){if(Be(l.origin))return!0;break}}return!1}function PT(r,e,t,l){r.modify(e?"extend":"move",t,l)}function IT(r){const e=r.anchor.getNode();return(Ut(e)?e:e.getParentOrThrow()).getDirection()==="rtl"}function tc(r,e,t){const l=IT(r);PT(r,e,t?!l:l,"character")}function Mv(r,...e){const t=new URL("https://lexical.dev/docs/error"),l=new URLSearchParams;l.append("code",r);for(const s of e)l.append("v",s);throw t.search=l.toString(),Error(`Minified Lexical error #${r}; visit ${t.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}const nc=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,qT=nc&&"documentMode"in document?document.documentMode:null,YT=nc&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent);!(!nc||!("InputEvent"in window)||qT)&&"getTargetRanges"in new window.InputEvent("input");function Dv(...r){const e=[];for(const t of r)if(t&&typeof t=="string")for(const[l]of t.matchAll(/\S+/g))e.push(l);return e}function ft(...r){return()=>{for(let e=r.length-1;e>=0;e--)r[e]();r.length=0}}const VT=nc,GT=YT;function xt(r,...e){const t=Dv(...e);t.length>0&&r.classList.add(...t)}function yr(r,...e){const t=Dv(...e);t.length>0&&r.classList.remove(...t)}function Lv(r,e){for(const t of e)if(r.type.startsWith(t))return!0;return!1}function XT(r,e){const t=r[Symbol.iterator]();return new Promise((l,s)=>{const o=[],u=()=>{const{done:f,value:d}=t.next();if(f)return l(o);const g=new FileReader;g.addEventListener("error",s),g.addEventListener("load",()=>{const h=g.result;typeof h=="string"&&o.push({file:d,result:h}),u()}),Lv(d,e)?g.readAsDataURL(d):u()};u()})}function ZT(r){return r?r.getAdjacentCaret():null}function zv(r,e){let t=r;for(;t!=null;){if(t instanceof e)return t;t=t.getParent()}return null}function WT(r){const e=Le(r,t=>W(t)&&!t.isInline());return W(e)||Mv(4,r.__key),e}const Le=(r,e)=>{let t=r;for(;t!==tt()&&t!=null;){if(e(t))return t;t=t.getParent()}return null};function $v(r){const e=X()||rr();let t;if(I(e))t=mr(e.focus,"next");else{if(e!=null){const u=e.getNodes(),f=u[u.length-1];f&&(t=bt(f,"next"))}t=t||mn(tt(),"previous").getFlipped().insert(De())}const l=QT(r,t),s=Ha(l),o=pn(s)?rn(s):l;return xv(bv(o)),r.getLatest()}function QT(r,e,t){let l=Br(e,"next");for(let s=l;s;s=DT(s,t))l=s;return Fr(l)&&Mv(283),l.insert(r.isInline()?De().append(r):r),Br(bt(r.getLatest(),"next"),e.direction)}function JT(r,e){const t=e();return r.replace(t),t.append(r),t}function sr(r,e){return r!==null&&Object.getPrototypeOf(r).constructor.name===e.name}function eN(r,e){mn(r,"next").insert(e)}let Tg=!(GT||!VT)&&void 0;function cl(r){let e=1;if(function(){if(Tg===void 0){const t=document.createElement("div");t.style.cssText="position: absolute; opacity: 0; width: 100px; left: -1000px;",document.body.appendChild(t);const l=t.getBoundingClientRect();t.style.setProperty("zoom","2"),Tg=t.getBoundingClientRect().width===l.width,document.body.removeChild(t)}return Tg}())for(;r;)e*=Number(window.getComputedStyle(r).getPropertyValue("zoom")),r=r.parentElement;return e}function Fv(r,e){return Bv(r,e,null)}function Bv(r,e,t){let l=!1;for(const s of jv(r))e(s)?t!==null&&t(s):(l=!0,W(s)&&Bv(s,e,t||(o=>s.insertAfter(o))),s.remove());return l}function Uv(r,e){const t=[],l=Array.from(r).reverse();for(let s=l.pop();s!==void 0;s=l.pop())if(e(s))t.push(s);else if(W(s))for(const o of jv(s))l.push(o);return t}function jv(r){return tN(mn(r,"previous"))}function tN(r){return vg({hasNext:yi,initial:r.getAdjacentCaret(),map:e=>e.origin.getLatest(),step:e=>e.getAdjacentCaret()})}var Tn=gy();function Hv(r){const e=window.location.origin,t=l=>{if(l.origin!==e)return;const s=r.getRootElement();if(document.activeElement!==s)return;const o=l.data;if(typeof o=="string"){let u;try{u=JSON.parse(o)}catch{return}if(u&&u.protocol==="nuanria_messaging"&&u.type==="request"){const f=u.payload;if(f&&f.functionId==="makeChanges"){const d=f.args;if(d){const[g,h,y,b,_,v]=d;r.update(()=>{const S=X();if(I(S)){const C=S.anchor;let w=C.getNode(),x=0,E=0;if(oe(w)&&g>=0&&h>=0&&(x=g,E=g+h,S.setTextNodeRange(w,x,w,E)),x===E&&y===""||(S.insertRawText(y),w=C.getNode()),oe(w)){x=b,E=b+_;const N=w.getTextContentSize();x=x>N?N:x,E=E>N?N:E,S.setTextNodeRange(w,x,w,E)}l.stopImmediatePropagation()}})}}}}};return window.addEventListener("message",t,!0),()=>{window.removeEventListener("message",t,!0)}}function nN(r,e){const t=e.body?e.body.childNodes:[];let l=[];const s=[];for(let o=0;o<t.length;o++){const u=t[o];if(!Pv.has(u.nodeName)){const f=Iv(u,r,s,!1);f!==null&&(l=l.concat(f))}}return function(o){for(const u of o)u.getNextSibling()instanceof Zd&&u.insertAfter(Fn());for(const u of o){const f=u.getChildren();for(const d of f)u.insertBefore(d);u.remove()}}(s),l}function rN(r,e){if(typeof document>"u"||typeof window>"u"&&global.window===void 0)throw new Error("To use $generateHtmlFromNodes in headless mode please initialize a headless browser implementation such as JSDom before calling this function.");const t=document.createElement("div"),l=tt().getChildren();for(let s=0;s<l.length;s++)Kv(r,l[s],t,e);return t.innerHTML}function Kv(r,e,t,l=null){let s=l===null||e.isSelected(l);const o=W(e)&&e.excludeFromCopy("html");let u=e;if(l!==null){let _=hg(e);_=oe(_)&&l!==null?Rv(l,_):_,u=_}const f=W(u)?u.getChildren():[],d=r._nodes.get(u.getType());let g;g=d&&d.exportDOM!==void 0?d.exportDOM(r,u):u.exportDOM(r);const{element:h,after:y}=g;if(!h)return!1;const b=document.createDocumentFragment();for(let _=0;_<f.length;_++){const v=f[_],S=Kv(r,v,b,l);!s&&W(e)&&S&&e.extractWithChild(v,l,"html")&&(s=!0)}if(s&&!o){if((ht(h)||cg(h))&&h.append(b),t.append(h),y){const _=y.call(u,h);_&&(cg(h)?h.replaceChildren(_):h.replaceWith(_))}}else t.append(b);return s}const Pv=new Set(["STYLE","SCRIPT"]);function Iv(r,e,t,l,s=new Map,o){let u=[];if(Pv.has(r.nodeName))return u;let f=null;const d=function(v,S){const{nodeName:C}=v,w=S._htmlConversions.get(C.toLowerCase());let x=null;if(w!==void 0)for(const E of w){const N=E(v);N!==null&&(x===null||(x.priority||0)<=(N.priority||0))&&(x=N)}return x!==null?x.conversion:null}(r,e),g=d?d(r):null;let h=null;if(g!==null){h=g.after;const v=g.node;if(f=Array.isArray(v)?v[v.length-1]:v,f!==null){for(const[,S]of s)if(f=S(f,o),!f)break;f&&u.push(...Array.isArray(v)?v:[f])}g.forChild!=null&&s.set(r.nodeName,g.forChild)}const y=r.childNodes;let b=[];const _=(f==null||!St(f))&&(f!=null&&Kd(f)||l);for(let v=0;v<y.length;v++)b.push(...Iv(y[v],e,t,_,new Map(s),f));return h!=null&&(b=h(b)),Vu(r)&&(b=iN(r,b,_?()=>{const v=new Zd;return t.push(v),v}:De)),f==null?b.length>0?u=u.concat(b):Vu(r)&&function(v){return v.nextSibling==null||v.previousSibling==null?!1:fg(v.nextSibling)&&fg(v.previousSibling)}(r)&&(u=u.concat(Fn())):W(f)&&f.append(...b),u}function iN(r,e,t){const l=r.style.textAlign,s=[];let o=[];for(let u=0;u<e.length;u++){const f=e[u];if(Kd(f))l&&!f.getFormat()&&f.setFormat(l),s.push(f);else if(o.push(f),u===e.length-1||u<e.length-1&&Kd(e[u+1])){const d=t();d.setFormat(l),d.append(...o),s.push(d),o=[]}}return s}function rc(r,...e){const t=new URL("https://lexical.dev/docs/error"),l=new URLSearchParams;l.append("code",r);for(const s of e)l.append("v",s);throw t.search=l.toString(),Error(`Minified Lexical error #${r}; visit ${t.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function qv(r,e=X()){return e==null&&rc(166),I(e)&&e.isCollapsed()||e.getNodes().length===0?"":rN(r,e)}function lN(r,e=X()){return e==null&&rc(166),I(e)&&e.isCollapsed()||e.getNodes().length===0?null:JSON.stringify(sN(r,e))}function Yv(r,e){const t=r.getData("text/plain")||r.getData("text/uri-list");t!=null&&e.insertRawText(t)}function Vv(r,e,t){const l=r.getData("application/x-lexical-editor");if(l)try{const f=JSON.parse(l);if(f.namespace===t._config.namespace&&Array.isArray(f.nodes))return Gv(t,aN(f.nodes),e)}catch{}const s=r.getData("text/html"),o=r.getData("text/plain");if(s&&o!==s)try{const f=new DOMParser().parseFromString(function(d){return window.trustedTypes&&window.trustedTypes.createPolicy?window.trustedTypes.createPolicy("lexical",{createHTML:g=>g}).createHTML(d):d}(s),"text/html");return Gv(t,nN(t,f),e)}catch{}const u=o||r.getData("text/uri-list");if(u!=null)if(I(e)){const f=u.split(/(\r?\n|\t)/);f[f.length-1]===""&&f.pop();for(let d=0;d<f.length;d++){const g=X();if(I(g)){const h=f[d];h===`
`||h===`\r
`?g.insertParagraph():h==="	"?g.insertNodes([Zl()]):g.insertText(h)}}}else e.insertRawText(u)}function Gv(r,e,t){r.dispatchCommand(Ed,{nodes:e,selection:t})||t.insertNodes(e)}function Xv(r,e,t,l=[]){let s=e===null||t.isSelected(e);const o=W(t)&&t.excludeFromCopy("html");let u=t;if(e!==null){let g=hg(t);g=oe(g)&&e!==null?Rv(e,g):g,u=g}const f=W(u)?u.getChildren():[],d=function(g){const h=g.exportJSON(),y=g.constructor;if(h.type!==y.getType()&&rc(58,y.name),W(g)){const b=h.children;Array.isArray(b)||rc(59,y.name)}return h}(u);if(oe(u)){const g=u.__text;g.length>0?d.text=g:s=!1}for(let g=0;g<f.length;g++){const h=f[g],y=Xv(r,e,h,d.children);!s&&W(t)&&y&&t.extractWithChild(h,e,"clone")&&(s=!0)}if(s&&!o)l.push(d);else if(Array.isArray(d.children))for(let g=0;g<d.children.length;g++){const h=d.children[g];l.push(h)}return s}function sN(r,e){const t=[],l=tt().getChildren();for(let s=0;s<l.length;s++)Xv(r,e,l[s],t);return{namespace:r._config.namespace,nodes:t}}function aN(r){const e=[];for(let t=0;t<r.length;t++){const l=r[t],s=aT(l);oe(s)&&HT(s),e.push(s)}return e}let as=null;async function Ng(r,e,t){if(as!==null)return!1;if(e!==null)return new Promise((g,h)=>{r.update(()=>{g(Zv(r,e,t))})});const l=r.getRootElement(),s=r._window||window,o=window.document,u=Xt(s);if(l===null||u===null)return!1;const f=o.createElement("span");f.style.cssText="position: fixed; top: -1000px;",f.append(o.createTextNode("#")),l.append(f);const d=new Range;return d.setStart(f,0),d.setEnd(f,1),u.removeAllRanges(),u.addRange(d),new Promise((g,h)=>{const y=r.registerCommand(Ea,b=>(sr(b,ClipboardEvent)&&(y(),as!==null&&(window.clearTimeout(as),as=null),g(Zv(r,b,t))),!0),Bn);as=window.setTimeout(()=>{y(),as=null,g(!1)},50),o.execCommand("copy"),f.remove()})}function Zv(r,e,t){if(t===void 0){const s=Xt(r._window);if(!s)return!1;const o=s.anchorNode,u=s.focusNode;if(o!==null&&u!==null&&!$a(r,o,u))return!1;const f=X();if(f===null)return!1;t=Wv(f)}e.preventDefault();const l=e.clipboardData;return l!==null&&(uN(l,t),!0)}const oN=[["text/html",qv],["application/x-lexical-editor",lN]];function Wv(r=X()){const e={"text/plain":r?r.getTextContent():""};if(r){const t=Gu();for(const[l,s]of oN){const o=s(t,r);o!==null&&(e[l]=o)}}return e}function uN(r,e){for(const t in e){const l=e[t];l!==void 0&&r.setData(t,l)}}function Qv(r,e){if(document.caretRangeFromPoint!==void 0){const t=document.caretRangeFromPoint(r,e);return t===null?null:{node:t.startContainer,offset:t.startOffset}}if(document.caretPositionFromPoint!=="undefined"){const t=document.caretPositionFromPoint(r,e);return t===null?null:{node:t.offsetNode,offset:t.offset}}return null}const os=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,cN=os&&"documentMode"in document?document.documentMode:null,fN=!(!os||!("InputEvent"in window)||cN)&&"getTargetRanges"in new window.InputEvent("input"),dN=os&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),Jv=os&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,gN=os&&/^(?=.*Chrome).*/i.test(navigator.userAgent),hN=os&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!gN,Ag=cn();let ic=class dE extends hn{static getType(){return"quote"}static clone(e){return new dE(e.__key)}createDOM(e){const t=document.createElement("blockquote");return xt(t,e.theme.quote),t}updateDOM(e,t){return!1}static importDOM(){return{blockquote:e=>({conversion:pN,priority:0})}}exportDOM(e){const{element:t}=super.exportDOM(e);if(ht(t)){this.isEmpty()&&t.append(document.createElement("br"));const l=this.getFormatType();t.style.textAlign=l;const s=this.getDirection();s&&(t.dir=s)}return{element:t}}static importJSON(e){return lc().updateFromJSON(e)}insertNewAfter(e,t){const l=De(),s=this.getDirection();return l.setDirection(s),this.insertAfter(l,t),l}collapseAtStart(){const e=De();return this.getChildren().forEach(t=>e.append(t)),this.replace(e),!0}canMergeWhenEmpty(){return!0}};function lc(){return Tt(new ic)}function Og(r){return r instanceof ic}let sc=class gE extends hn{static getType(){return"heading"}static clone(e){return new gE(e.__tag,e.__key)}constructor(e,t){super(t),this.__tag=e}getTag(){return this.__tag}setTag(e){const t=this.getWritable();return this.__tag=e,t}createDOM(e){const t=this.__tag,l=document.createElement(t),s=e.theme.heading;if(s!==void 0){const o=s[t];xt(l,o)}return l}updateDOM(e,t,l){return e.__tag!==this.__tag}static importDOM(){return{h1:e=>({conversion:us,priority:0}),h2:e=>({conversion:us,priority:0}),h3:e=>({conversion:us,priority:0}),h4:e=>({conversion:us,priority:0}),h5:e=>({conversion:us,priority:0}),h6:e=>({conversion:us,priority:0}),p:e=>{const t=e.firstChild;return t!==null&&e_(t)?{conversion:()=>({node:null}),priority:3}:null},span:e=>e_(e)?{conversion:t=>({node:ar("h1")}),priority:3}:null}}exportDOM(e){const{element:t}=super.exportDOM(e);if(ht(t)){this.isEmpty()&&t.append(document.createElement("br"));const l=this.getFormatType();t.style.textAlign=l;const s=this.getDirection();s&&(t.dir=s)}return{element:t}}static importJSON(e){return ar(e.tag).updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setTag(e.tag)}exportJSON(){return{...super.exportJSON(),tag:this.getTag()}}insertNewAfter(e,t=!0){const l=e?e.anchor.offset:0,s=this.getLastDescendant(),o=!s||e&&e.anchor.key===s.getKey()&&l===s.getTextContentSize()||!e?De():ar(this.getTag()),u=this.getDirection();if(o.setDirection(u),this.insertAfter(o,t),l===0&&!this.isEmpty()&&e){const f=De();f.select(),this.replace(f,!0)}return o}collapseAtStart(){const e=this.isEmpty()?De():ar(this.getTag());return this.getChildren().forEach(t=>e.append(t)),this.replace(e),!0}extractWithChild(){return!0}};function e_(r){return r.nodeName.toLowerCase()==="span"&&r.style.fontSize==="26pt"}function us(r){const e=r.nodeName.toLowerCase();let t=null;return e!=="h1"&&e!=="h2"&&e!=="h3"&&e!=="h4"&&e!=="h5"&&e!=="h6"||(t=ar(e),r.style!==null&&(pg(r,t),t.setFormat(r.style.textAlign))),{node:t}}function pN(r){const e=lc();return r.style!==null&&(e.setFormat(r.style.textAlign),pg(r,e)),{node:e}}function ar(r="h1"){return Tt(new sc(r))}function t_(r){return r instanceof sc}function cs(r){let e=null;if(sr(r,DragEvent)?e=r.dataTransfer:sr(r,ClipboardEvent)&&(e=r.clipboardData),e===null)return[!1,[],!1];const t=e.types,l=t.includes("Files"),s=t.includes("text/html")||t.includes("text/plain");return[l,Array.from(e.files),s]}function n_(r){const e=X();if(!I(e))return!1;const t=new Set,l=e.getNodes();for(let s=0;s<l.length;s++){const o=l[s],u=o.getKey();if(t.has(u))continue;const f=Le(o,g=>W(g)&&!g.isInline());if(f===null)continue;const d=f.getKey();f.canIndent()&&!t.has(d)&&(t.add(d),r(f))}return t.size>0}function r_(r){const e=Gt(r);return Be(e)}function Rg(r){for(const e of["lowercase","uppercase","capitalize"])r.hasFormat(e)&&r.toggleFormat(e)}function mN(r){return ft(r.registerCommand(oi,e=>{const t=X();return!!et(t)&&(t.clear(),!0)},0),r.registerCommand(tr,e=>{const t=X();return I(t)?(t.deleteCharacter(e),!0):!!et(t)&&(t.deleteNodes(),!0)},Te),r.registerCommand(el,e=>{const t=X();return!!I(t)&&(t.deleteWord(e),!0)},Te),r.registerCommand(di,e=>{const t=X();return!!I(t)&&(t.deleteLine(e),!0)},Te),r.registerCommand(fi,e=>{const t=X();if(typeof e=="string")t!==null&&t.insertText(e);else{if(t===null)return!1;const l=e.dataTransfer;if(l!=null)Vv(l,t,r);else if(I(t)){const s=e.data;return s&&t.insertText(s),!0}}return!0},Te),r.registerCommand(Su,()=>{const e=X();return!!I(e)&&(e.removeText(),!0)},Te),r.registerCommand(fn,e=>{const t=X();return!!I(t)&&(t.formatText(e),!0)},Te),r.registerCommand(lb,e=>{const t=X();if(!I(t)&&!et(t))return!1;const l=t.getNodes();for(const s of l){const o=Le(s,u=>W(u)&&!u.isInline());o!==null&&o.setFormat(e)}return!0},Te),r.registerCommand(ui,e=>{const t=X();return!!I(t)&&(t.insertLineBreak(e),!0)},Te),r.registerCommand(ci,()=>{const e=X();return!!I(e)&&(e.insertParagraph(),!0)},Te),r.registerCommand(Pw,()=>(Id([Zl()]),!0),Te),r.registerCommand(Iw,()=>n_(e=>{const t=e.getIndent();e.setIndent(t+1)}),Te),r.registerCommand(ib,()=>n_(e=>{const t=e.getIndent();t>0&&e.setIndent(Math.max(0,t-1))}),Te),r.registerCommand(va,e=>{const t=X();if(et(t)){const l=t.getNodes();if(l.length>0)return l[0].selectPrevious(),!0}else if(I(t)){const l=lg(t.focus,!0);if(!e.shiftKey&&Be(l)&&!l.isIsolated()&&!l.isInline())return l.selectPrevious(),e.preventDefault(),!0}return!1},Te),r.registerCommand(_a,e=>{const t=X();if(et(t)){const l=t.getNodes();if(l.length>0)return l[0].selectNext(0,0),!0}else if(I(t)){if(function(s){const o=s.focus;return o.key==="root"&&o.offset===tt().getChildrenSize()}(t))return e.preventDefault(),!0;const l=lg(t.focus,!1);if(!e.shiftKey&&Be(l)&&!l.isIsolated()&&!l.isInline())return l.selectNext(),e.preventDefault(),!0}return!1},Te),r.registerCommand(ba,e=>{const t=X();if(et(t)){const l=t.getNodes();if(l.length>0)return e.preventDefault(),l[0].selectPrevious(),!0}if(!I(t))return!1;if(ec(t,!0)){const l=e.shiftKey;return e.preventDefault(),tc(t,l,!0),!0}return!1},Te),r.registerCommand(ya,e=>{const t=X();if(et(t)){const s=t.getNodes();if(s.length>0)return e.preventDefault(),s[0].selectNext(0,0),!0}if(!I(t))return!1;const l=e.shiftKey;return!!ec(t,!1)&&(e.preventDefault(),tc(t,l,!1),!0)},Te),r.registerCommand(hi,e=>{if(r_(e.target))return!1;const t=X();if(I(t)){const{anchor:l}=t,s=l.getNode();if(t.isCollapsed()&&l.offset===0&&!Ut(s)&&WT(s).getIndent()>0)return e.preventDefault(),r.dispatchCommand(ib,void 0);if(Jv&&navigator.language==="ko-KR")return!1}else if(!et(t))return!1;return e.preventDefault(),r.dispatchCommand(tr,!0)},Te),r.registerCommand(Yl,e=>{if(r_(e.target))return!1;const t=X();return!(!I(t)&&!et(t))&&(e.preventDefault(),r.dispatchCommand(tr,!1))},Te),r.registerCommand(gi,e=>{const t=X();if(!I(t))return!1;if(Rg(t),e!==null){if((Jv||dN||hN)&&fN)return!1;if(e.preventDefault(),e.shiftKey)return r.dispatchCommand(ui,!1)}return r.dispatchCommand(ci,void 0)},Te),r.registerCommand(tl,()=>{const e=X();return!!I(e)&&(r.blur(),!0)},Te),r.registerCommand(xa,e=>{const[,t]=cs(e);if(t.length>0){const s=Qv(e.clientX,e.clientY);if(s!==null){const{offset:o,node:u}=s,f=Gt(u);if(f!==null){const d=Wl();if(oe(f))d.anchor.set(f.getKey(),o,"text"),d.focus.set(f.getKey(),o,"text");else{const h=f.getParentOrThrow().getKey(),y=f.getIndexWithinParent()+1;d.anchor.set(h,y,"element"),d.focus.set(h,y,"element")}const g=Wi(d);qe(g)}r.dispatchCommand(Ag,t)}return e.preventDefault(),!0}const l=X();return!!I(l)},Te),r.registerCommand(Ca,e=>{const[t]=cs(e),l=X();return!(t&&!I(l))},Te),r.registerCommand(Cu,e=>{const[t]=cs(e),l=X();if(t&&!I(l))return!1;const s=Qv(e.clientX,e.clientY);if(s!==null){const o=Gt(s.node);Be(o)&&e.preventDefault()}return!0},Te),r.registerCommand(Eu,()=>(fv(),!0),Te),r.registerCommand(Ea,e=>(Ng(r,sr(e,ClipboardEvent)?e:null),!0),Te),r.registerCommand(wa,e=>(async function(t,l){await Ng(l,sr(t,ClipboardEvent)?t:null),l.update(()=>{const s=X();I(s)?s.removeText():et(s)&&s.getNodes().forEach(o=>o.remove())})}(e,r),!0),Te),r.registerCommand(ql,e=>{const[,t,l]=cs(e);return t.length>0&&!l?(r.dispatchCommand(Ag,t),!0):ir(e.target)&&Wd(e.target)?!1:X()!==null&&(function(s,o){s.preventDefault(),o.update(()=>{const u=X(),f=sr(s,InputEvent)||sr(s,KeyboardEvent)?null:s.clipboardData;f!=null&&u!==null&&Vv(f,u,o)},{tag:"paste"})}(e,r),!0)},Te),r.registerCommand(Nd,e=>{const t=X();return I(t)&&Rg(t),!1},Te),r.registerCommand(Sa,e=>{const t=X();return I(t)&&Rg(t),!1},Te))}const kg=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?z.useLayoutEffect:z.useEffect;function i_(r){return r.getEditorState().read(Cg(r.isComposing()))}function yN({contentEditable:r,placeholder:e=null,ErrorBoundary:t}){const[l]=je(),s=function(o,u){const[f,d]=z.useState(()=>o.getDecorators());return kg(()=>o.registerDecoratorListener(g=>{Tn.flushSync(()=>{d(g)})}),[o]),z.useEffect(()=>{d(o.getDecorators())},[o]),z.useMemo(()=>{const g=[],h=Object.keys(f);for(let y=0;y<h.length;y++){const b=h[y],_=$.jsx(u,{onError:S=>o._onError(S),children:$.jsx(z.Suspense,{fallback:null,children:f[b]})}),v=o.getElementByKey(b);v!==null&&g.push(Tn.createPortal(_,v,b))}return g},[u,f,o])}(l,t);return function(o){kg(()=>ft(mN(o),Hv(o)),[o])}(l),$.jsxs($.Fragment,{children:[r,$.jsx(bN,{content:e}),s]})}function bN({content:r}){const[e]=je(),t=function(s){const[o,u]=z.useState(()=>i_(s));return kg(()=>{function f(){const d=i_(s);u(d)}return f(),ft(s.registerUpdateListener(()=>{f()}),s.registerEditableListener(()=>{f()}))},[s]),o}(e),l=xg();return t?typeof r=="function"?r(l):r:null}const fs=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,vN=fs&&"documentMode"in document?document.documentMode:null,_N=!(!fs||!("InputEvent"in window)||vN)&&"getTargetRanges"in new window.InputEvent("input"),SN=fs&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),l_=fs&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,xN=fs&&/^(?=.*Chrome).*/i.test(navigator.userAgent),CN=fs&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!xN;function s_(r,e){e.update(()=>{if(r!==null){const t=sr(r,KeyboardEvent)?null:r.clipboardData,l=X();if(l!==null&&t!=null){r.preventDefault();const s=qv(e);s!==null&&t.setData("text/html",s),t.setData("text/plain",l.getTextContent())}}})}function EN(r){return ft(r.registerCommand(tr,e=>{const t=X();return!!I(t)&&(t.deleteCharacter(e),!0)},Te),r.registerCommand(el,e=>{const t=X();return!!I(t)&&(t.deleteWord(e),!0)},Te),r.registerCommand(di,e=>{const t=X();return!!I(t)&&(t.deleteLine(e),!0)},Te),r.registerCommand(fi,e=>{const t=X();if(!I(t))return!1;if(typeof e=="string")t.insertText(e);else{const l=e.dataTransfer;if(l!=null)Yv(l,t);else{const s=e.data;s&&t.insertText(s)}}return!0},Te),r.registerCommand(Su,()=>{const e=X();return!!I(e)&&(e.removeText(),!0)},Te),r.registerCommand(ui,e=>{const t=X();return!!I(t)&&(t.insertLineBreak(e),!0)},Te),r.registerCommand(ci,()=>{const e=X();return!!I(e)&&(e.insertLineBreak(),!0)},Te),r.registerCommand(ba,e=>{const t=X();if(!I(t))return!1;const l=e,s=l.shiftKey;return!!ec(t,!0)&&(l.preventDefault(),tc(t,s,!0),!0)},Te),r.registerCommand(ya,e=>{const t=X();if(!I(t))return!1;const l=e,s=l.shiftKey;return!!ec(t,!1)&&(l.preventDefault(),tc(t,s,!1),!0)},Te),r.registerCommand(hi,e=>{const t=X();return!!I(t)&&(!l_||navigator.language!=="ko-KR")&&(e.preventDefault(),r.dispatchCommand(tr,!0))},Te),r.registerCommand(Yl,e=>{const t=X();return!!I(t)&&(e.preventDefault(),r.dispatchCommand(tr,!1))},Te),r.registerCommand(gi,e=>{const t=X();if(!I(t))return!1;if(e!==null){if((l_||SN||CN)&&_N)return!1;e.preventDefault()}return r.dispatchCommand(ui,!1)},Te),r.registerCommand(Eu,()=>(fv(),!0),Te),r.registerCommand(Ea,e=>{const t=X();return!!I(t)&&(s_(e,r),!0)},Te),r.registerCommand(wa,e=>{const t=X();return!!I(t)&&(function(l,s){s_(l,s),s.update(()=>{const o=X();I(o)&&o.removeText()})}(e,r),!0)},Te),r.registerCommand(ql,e=>{const t=X();return!!I(t)&&(function(l,s){l.preventDefault(),s.update(()=>{const o=X(),u=sr(l,ClipboardEvent)?l.clipboardData:null;u!=null&&I(o)&&Yv(u,o)},{tag:"paste"})}(e,r),!0)},Te),r.registerCommand(xa,e=>{const t=X();return!!I(t)&&(e.preventDefault(),!0)},Te),r.registerCommand(Ca,e=>{const t=X();return!!I(t)&&(e.preventDefault(),!0)},Te))}const Mg=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?z.useLayoutEffect:z.useEffect;function a_(r){return r.getEditorState().read(Cg(r.isComposing()))}function wN({contentEditable:r,placeholder:e=null,ErrorBoundary:t}){const[l]=je(),s=function(o,u){const[f,d]=z.useState(()=>o.getDecorators());return Mg(()=>o.registerDecoratorListener(g=>{Tn.flushSync(()=>{d(g)})}),[o]),z.useEffect(()=>{d(o.getDecorators())},[o]),z.useMemo(()=>{const g=[],h=Object.keys(f);for(let y=0;y<h.length;y++){const b=h[y],_=$.jsx(u,{onError:S=>o._onError(S),children:$.jsx(z.Suspense,{fallback:null,children:f[b]})}),v=o.getElementByKey(b);v!==null&&g.push(Tn.createPortal(_,v,b))}return g},[u,f,o])}(l,t);return function(o){Mg(()=>ft(EN(o),Hv(o)),[o])}(l),$.jsxs($.Fragment,{children:[r,$.jsx(TN,{content:e}),s]})}function TN({content:r}){const[e]=je(),t=function(s){const[o,u]=z.useState(()=>a_(s));return Mg(()=>{function f(){const d=a_(s);u(d)}return f(),ft(s.registerUpdateListener(()=>{f()}),s.registerEditableListener(()=>{f()}))},[s]),o}(e),l=xg();return t?typeof r=="function"?r(l):r:null}function Dg(r,e){return Dg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,l){return t.__proto__=l,t},Dg(r,e)}var o_={error:null},NN=function(r){var e,t;function l(){for(var o,u=arguments.length,f=new Array(u),d=0;d<u;d++)f[d]=arguments[d];return(o=r.call.apply(r,[this].concat(f))||this).state=o_,o.resetErrorBoundary=function(){for(var g,h=arguments.length,y=new Array(h),b=0;b<h;b++)y[b]=arguments[b];o.props.onReset==null||(g=o.props).onReset.apply(g,y),o.reset()},o}t=r,(e=l).prototype=Object.create(t.prototype),e.prototype.constructor=e,Dg(e,t),l.getDerivedStateFromError=function(o){return{error:o}};var s=l.prototype;return s.reset=function(){this.setState(o_)},s.componentDidCatch=function(o,u){var f,d;(f=(d=this.props).onError)==null||f.call(d,o,u)},s.componentDidUpdate=function(o,u){var f,d,g,h,y=this.state.error,b=this.props.resetKeys;y!==null&&u.error!==null&&((g=o.resetKeys)===void 0&&(g=[]),(h=b)===void 0&&(h=[]),g.length!==h.length||g.some(function(_,v){return!Object.is(_,h[v])}))&&((f=(d=this.props).onResetKeysChange)==null||f.call(d,o.resetKeys,b),this.reset())},s.render=function(){var o=this.state.error,u=this.props,f=u.fallbackRender,d=u.FallbackComponent,g=u.fallback;if(o!==null){var h={error:o,resetErrorBoundary:this.resetErrorBoundary};if(z.isValidElement(g))return g;if(typeof f=="function")return f(h);if(d)return z.createElement(d,h);throw new Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return this.props.children},l}(z.Component);function AN({children:r,onError:e}){return $.jsx(NN,{fallback:$.jsx("div",{style:{border:"1px solid #f00",color:"#f00",padding:"8px"},children:"An error was thrown."}),onError:e,children:r})}const u_=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?z.useLayoutEffect:z.useEffect;function ON({editor:r,ariaActiveDescendant:e,ariaAutoComplete:t,ariaControls:l,ariaDescribedBy:s,ariaErrorMessage:o,ariaExpanded:u,ariaInvalid:f,ariaLabel:d,ariaLabelledBy:g,ariaMultiline:h,ariaOwns:y,ariaRequired:b,autoCapitalize:_,className:v,id:S,role:C="textbox",spellCheck:w=!0,style:x,tabIndex:E,"data-testid":N,...A},O){const[R,D]=z.useState(r.isEditable()),M=z.useCallback(H=>{H&&H.ownerDocument&&H.ownerDocument.defaultView?r.setRootElement(H):r.setRootElement(null)},[r]),B=z.useMemo(()=>function(...H){return q=>{H.forEach(Y=>{typeof Y=="function"?Y(q):Y!=null&&(Y.current=q)})}}(O,M),[M,O]);return u_(()=>(D(r.isEditable()),r.registerEditableListener(H=>{D(H)})),[r]),$.jsx("div",{"aria-activedescendant":R?e:void 0,"aria-autocomplete":R?t:"none","aria-controls":R?l:void 0,"aria-describedby":s,...o!=null?{"aria-errormessage":o}:{},"aria-expanded":R&&C==="combobox"?!!u:void 0,...f!=null?{"aria-invalid":f}:{},"aria-label":d,"aria-labelledby":g,"aria-multiline":h,"aria-owns":R?y:void 0,"aria-readonly":!R||void 0,"aria-required":b,autoCapitalize:_,className:v,contentEditable:R,"data-testid":N,id:S,ref:B,role:R?C:void 0,spellCheck:w,style:x,tabIndex:E,...A})}const RN=z.forwardRef(ON);function c_(r){return r.getEditorState().read(Cg(r.isComposing()))}const kN=z.forwardRef(MN);function MN(r,e){const{placeholder:t,...l}=r,[s]=je();return $.jsxs($.Fragment,{children:[$.jsx(RN,{editor:s,...l,ref:e}),t!=null&&$.jsx(DN,{editor:s,content:t})]})}function DN({content:r,editor:e}){const t=function(u){const[f,d]=z.useState(()=>c_(u));return u_(()=>{function g(){const h=c_(u);d(h)}return g(),ft(u.registerUpdateListener(()=>{g()}),u.registerEditableListener(()=>{g()}))},[u]),f}(e),[l,s]=z.useState(e.isEditable());if(z.useLayoutEffect(()=>(s(e.isEditable()),e.registerEditableListener(u=>{s(u)})),[e]),!t)return null;let o=null;return typeof r=="function"?o=r(l):r!==null&&(o=r),o===null?null:$.jsx("div",{"aria-hidden":!0,children:o})}function LN({defaultSelection:r}){const[e]=je();return z.useEffect(()=>{e.focus(()=>{const t=document.activeElement,l=e.getRootElement();l===null||t!==null&&l.contains(t)||l.focus({preventScroll:!0})},{defaultSelection:r})},[r,e]),null}const ac=0,Lg=1,zg=2,or=0,zN=1,f_=2,$N=3,FN=4;function BN(r,e,t,l,s){if(r===null||t.size===0&&l.size===0&&!s)return or;const o=e._selection,u=r._selection;if(s)return zN;if(!(I(o)&&I(u)&&u.isCollapsed()&&o.isCollapsed()))return or;const f=function(w,x,E){const N=w._nodeMap,A=[];for(const O of x){const R=N.get(O);R!==void 0&&A.push(R)}for(const[O,R]of E){if(!R)continue;const D=N.get(O);D===void 0||Ut(D)||A.push(D)}return A}(e,t,l);if(f.length===0)return or;if(f.length>1){const w=e._nodeMap,x=w.get(o.anchor.key),E=w.get(u.anchor.key);return x&&E&&!r._nodeMap.has(x.__key)&&oe(x)&&x.__text.length===1&&o.anchor.offset===1?f_:or}const d=f[0],g=r._nodeMap.get(d.__key);if(!oe(g)||!oe(d)||g.__mode!==d.__mode)return or;const h=g.__text,y=d.__text;if(h===y)return or;const b=o.anchor,_=u.anchor;if(b.key!==_.key||b.type!=="text")return or;const v=b.offset,S=_.offset,C=y.length-h.length;return C===1&&S===v-1?f_:C===-1&&S===v+1?$N:C===-1&&S===v?FN:or}function UN(r,e){let t=Date.now(),l=or;return(s,o,u,f,d,g)=>{const h=Date.now();if(g.has("historic"))return l=or,t=h,zg;const y=BN(s,o,f,d,r.isComposing()),b=(()=>{const _=u===null||u.editor===r,v=g.has("history-push");if(!v&&_&&g.has("history-merge"))return ac;if(s===null)return Lg;const S=o._selection;return f.size>0||d.size>0?v===!1&&y!==or&&y===l&&h<t+e&&_||f.size===1&&function(C,w,x){const E=w._nodeMap.get(C),N=x._nodeMap.get(C),A=w._selection,O=x._selection;return!(I(A)&&I(O)&&A.anchor.type==="element"&&A.focus.type==="element"&&O.anchor.type==="text"&&O.focus.type==="text"||!oe(E)||!oe(N)||E.__parent!==N.__parent)&&JSON.stringify(w.read(()=>E.exportJSON()))===JSON.stringify(x.read(()=>N.exportJSON()))}(Array.from(f)[0],s,o)?ac:Lg:S!==null?ac:zg})();return t=h,l=y,b}}function d_(r){r.undoStack=[],r.redoStack=[],r.current=null}function jN(r,e,t){const l=UN(r,t);return ft(r.registerCommand(wd,()=>(function(o,u){const f=u.redoStack,d=u.undoStack;if(d.length!==0){const g=u.current,h=d.pop();g!==null&&(f.push(g),o.dispatchCommand(Ta,!0)),d.length===0&&o.dispatchCommand(Na,!1),u.current=h||null,h&&h.editor.setEditorState(h.editorState,{tag:"historic"})}}(r,e),!0),Te),r.registerCommand(Td,()=>(function(o,u){const f=u.redoStack,d=u.undoStack;if(f.length!==0){const g=u.current;g!==null&&(d.push(g),o.dispatchCommand(Na,!0));const h=f.pop();f.length===0&&o.dispatchCommand(Ta,!1),u.current=h||null,h&&h.editor.setEditorState(h.editorState,{tag:"historic"})}}(r,e),!0),Te),r.registerCommand(Yw,()=>(d_(e),!1),Te),r.registerCommand(Vw,()=>(d_(e),r.dispatchCommand(Ta,!1),r.dispatchCommand(Na,!1),!0),Te),r.registerUpdateListener(({editorState:o,prevEditorState:u,dirtyLeaves:f,dirtyElements:d,tags:g})=>{const h=e.current,y=e.redoStack,b=e.undoStack,_=h===null?null:h.editorState;if(h!==null&&o===_)return;const v=l(u,o,h,f,d,g);if(v===Lg)y.length!==0&&(e.redoStack=[],r.dispatchCommand(Ta,!1)),h!==null&&(b.push({...h}),r.dispatchCommand(Na,!0));else if(v===zg)return;e.current={editor:r,editorState:o}}))}function HN(){return{current:null,redoStack:[],undoStack:[]}}function KN({delay:r,externalHistoryState:e}){const[t]=je();return function(l,s,o=1e3){const u=z.useMemo(()=>s||HN(),[s]);z.useEffect(()=>jN(l,u,o),[o,l,u])}(t,e,r),null}const $g=/^(\d+(?:\.\d+)?)px$/,it={BOTH:3,COLUMN:2,NO_STATUS:0,ROW:1};class ur extends hn{static getType(){return"tablecell"}static clone(e){return new ur(e.__headerState,e.__colSpan,e.__width,e.__key)}afterCloneFrom(e){super.afterCloneFrom(e),this.__rowSpan=e.__rowSpan,this.__backgroundColor=e.__backgroundColor,this.__verticalAlign=e.__verticalAlign}static importDOM(){return{td:e=>({conversion:g_,priority:0}),th:e=>({conversion:g_,priority:0})}}static importJSON(e){return jn().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setHeaderStyles(e.headerState).setColSpan(e.colSpan||1).setRowSpan(e.rowSpan||1).setWidth(e.width||void 0).setBackgroundColor(e.backgroundColor||null).setVerticalAlign(e.verticalAlign||void 0)}constructor(e=it.NO_STATUS,t=1,l,s){super(s),this.__colSpan=t,this.__rowSpan=1,this.__headerState=e,this.__width=l,this.__backgroundColor=null,this.__verticalAlign=void 0}createDOM(e){const t=document.createElement(this.getTag());return this.__width&&(t.style.width=`${this.__width}px`),this.__colSpan>1&&(t.colSpan=this.__colSpan),this.__rowSpan>1&&(t.rowSpan=this.__rowSpan),this.__backgroundColor!==null&&(t.style.backgroundColor=this.__backgroundColor),Fg(this.__verticalAlign)&&(t.style.verticalAlign=this.__verticalAlign),xt(t,e.theme.tableCell,this.hasHeader()&&e.theme.tableCellHeader),t}exportDOM(e){const t=super.exportDOM(e);if(ht(t.element)){const l=t.element;l.setAttribute("data-temporary-table-cell-lexical-key",this.getKey()),l.style.border="1px solid black",this.__colSpan>1&&(l.colSpan=this.__colSpan),this.__rowSpan>1&&(l.rowSpan=this.__rowSpan),l.style.width=`${this.getWidth()||75}px`,l.style.verticalAlign=this.getVerticalAlign()||"top",l.style.textAlign="start",this.__backgroundColor===null&&this.hasHeader()&&(l.style.backgroundColor="#f2f3f5")}return t}exportJSON(){return{...super.exportJSON(),...Fg(this.__verticalAlign)&&{verticalAlign:this.__verticalAlign},backgroundColor:this.getBackgroundColor(),colSpan:this.__colSpan,headerState:this.__headerState,rowSpan:this.__rowSpan,width:this.getWidth()}}getColSpan(){return this.getLatest().__colSpan}setColSpan(e){const t=this.getWritable();return t.__colSpan=e,t}getRowSpan(){return this.getLatest().__rowSpan}setRowSpan(e){const t=this.getWritable();return t.__rowSpan=e,t}getTag(){return this.hasHeader()?"th":"td"}setHeaderStyles(e,t=it.BOTH){const l=this.getWritable();return l.__headerState=e&t|l.__headerState&~t,l}getHeaderStyles(){return this.getLatest().__headerState}setWidth(e){const t=this.getWritable();return t.__width=e,t}getWidth(){return this.getLatest().__width}getBackgroundColor(){return this.getLatest().__backgroundColor}setBackgroundColor(e){const t=this.getWritable();return t.__backgroundColor=e,t}getVerticalAlign(){return this.getLatest().__verticalAlign}setVerticalAlign(e){const t=this.getWritable();return t.__verticalAlign=e||void 0,t}toggleHeaderStyle(e){const t=this.getWritable();return(t.__headerState&e)===e?t.__headerState-=e:t.__headerState+=e,t}hasHeaderState(e){return(this.getHeaderStyles()&e)===e}hasHeader(){return this.getLatest().__headerState!==it.NO_STATUS}updateDOM(e){return e.__headerState!==this.__headerState||e.__width!==this.__width||e.__colSpan!==this.__colSpan||e.__rowSpan!==this.__rowSpan||e.__backgroundColor!==this.__backgroundColor||e.__verticalAlign!==this.__verticalAlign}isShadowRoot(){return!0}collapseAtStart(){return!0}canBeEmpty(){return!1}canIndent(){return!1}}function Fg(r){return r==="middle"||r==="bottom"}function g_(r){const e=r,t=r.nodeName.toLowerCase();let l;$g.test(e.style.width)&&(l=parseFloat(e.style.width));const s=jn(t==="th"?it.ROW:it.NO_STATUS,e.colSpan,l);s.__rowSpan=e.rowSpan;const o=e.style.backgroundColor;o!==""&&(s.__backgroundColor=o);const u=e.style.verticalAlign;Fg(u)&&(s.__verticalAlign=u);const f=e.style,d=(f&&f.textDecoration||"").split(" "),g=f.fontWeight==="700"||f.fontWeight==="bold",h=d.includes("line-through"),y=f.fontStyle==="italic",b=d.includes("underline");return{after:_=>{const v=[];let S=null;const C=()=>{if(S){const w=S.getFirstChild();Cn(w)&&S.getChildrenSize()===1&&w.remove()}};for(const w of _)hT(w)||oe(w)||Cn(w)?(oe(w)&&(g&&w.toggleFormat("bold"),h&&w.toggleFormat("strikethrough"),y&&w.toggleFormat("italic"),b&&w.toggleFormat("underline")),S?S.append(w):(S=De().append(w),v.push(S))):(v.push(w),C(),S=null);return C(),v.length===0&&v.push(De()),v},node:s}}function jn(r=it.NO_STATUS,e=1,t){return Tt(new ur(r,e,t))}function _e(r){return r instanceof ur}const h_=cn();function Ee(r,...e){const t=new URL("https://lexical.dev/docs/error"),l=new URLSearchParams;l.append("code",r);for(const s of e)l.append("v",s);throw t.search=l.toString(),Error(`Minified Lexical error #${r}; visit ${t.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}class fl extends hn{static getType(){return"tablerow"}static clone(e){return new fl(e.__height,e.__key)}static importDOM(){return{tr:e=>({conversion:PN,priority:0})}}static importJSON(e){return ds().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setHeight(e.height)}constructor(e,t){super(t),this.__height=e}exportJSON(){const e=this.getHeight();return{...super.exportJSON(),...e===void 0?void 0:{height:e}}}createDOM(e){const t=document.createElement("tr");return this.__height&&(t.style.height=`${this.__height}px`),xt(t,e.theme.tableRow),t}extractWithChild(e,t,l){return l==="html"}isShadowRoot(){return!0}setHeight(e){const t=this.getWritable();return t.__height=e,t}getHeight(){return this.getLatest().__height}updateDOM(e){return e.__height!==this.__height}canBeEmpty(){return!1}canIndent(){return!1}}function PN(r){const e=r;let t;return $g.test(e.style.height)&&(t=parseFloat(e.style.height)),{after:l=>Uv(l,_e),node:ds(t)}}function ds(r){return Tt(new fl(r))}function lt(r){return r instanceof fl}const Bg=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,IN=Bg&&"documentMode"in document?document.documentMode:null,p_=Bg&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent);function qN(r,e,t=!0){const l=gc();for(let s=0;s<r;s++){const o=ds();for(let u=0;u<e;u++){let f=it.NO_STATUS;typeof t=="object"?(s===0&&t.rows&&(f|=it.ROW),u===0&&t.columns&&(f|=it.COLUMN)):t&&(s===0&&(f|=it.ROW),u===0&&(f|=it.COLUMN));const d=jn(f),g=De();g.append(Fe()),d.append(g),o.append(d)}l.append(o)}return l}function YN(r){const e=Le(r,t=>_e(t));return _e(e)?e:null}function m_(r){const e=Le(r,t=>lt(t));if(lt(e))return e;throw new Error("Expected table cell to be inside of table row.")}function gs(r){const e=Le(r,t=>dt(t));if(dt(e))return e;throw new Error("Expected table cell to be inside of table.")}function VN(r){const e=m_(r);return gs(e).getChildren().findIndex(t=>t.is(e))}function GN(r){return m_(r).getChildren().findIndex(e=>e.is(r))}Bg&&"InputEvent"in window&&!IN&&new window.InputEvent("input");const Ug=(r,e)=>r===it.BOTH||r===e?e:it.NO_STATUS;function XN(r=!0){const e=X();I(e)||Ke(e)||Ee(188);const t=e.anchor.getNode(),l=e.focus.getNode(),[s]=Ct(t),[o,,u]=Ct(l),[,f,d]=Zt(u,o,s),{startRow:g}=d,{startRow:h}=f;return r?jg(g+s.__rowSpan>h+o.__rowSpan?s:o,!0):jg(h<g?o:s,!1)}const ZN=XN;function jg(r,e=!0){const[,,t]=Ct(r),[l,s]=Zt(t,r,r),o=l[0].length,{startRow:u}=s;let f=null;if(e){const d=u+r.__rowSpan-1,g=l[d],h=ds();for(let b=0;b<o;b++){const{cell:_,startRow:v}=g[b];if(v+_.__rowSpan-1<=d){const S=g[b].cell.__headerState,C=Ug(S,it.COLUMN);h.append(jn(C).append(De()))}else _.setRowSpan(_.__rowSpan+1)}const y=t.getChildAtIndex(d);lt(y)||Ee(256),y.insertAfter(h),f=h}else{const d=u,g=l[d],h=ds();for(let b=0;b<o;b++){const{cell:_,startRow:v}=g[b];if(v===d){const S=g[b].cell.__headerState,C=Ug(S,it.COLUMN);h.append(jn(C).append(De()))}else _.setRowSpan(_.__rowSpan+1)}const y=t.getChildAtIndex(d);lt(y)||Ee(257),y.insertBefore(h),f=h}return f}function WN(r=!0){const e=X();I(e)||Ke(e)||Ee(188);const t=e.anchor.getNode(),l=e.focus.getNode(),[s]=Ct(t),[o,,u]=Ct(l),[,f,d]=Zt(u,o,s),{startColumn:g}=d,{startColumn:h}=f;return r?Hg(g+s.__colSpan>h+o.__colSpan?s:o,!0):Hg(h<g?o:s,!1)}const QN=WN;function Hg(r,e=!0,t=!0){const[,,l]=Ct(r),[s,o]=Zt(l,r,r),u=s.length,{startColumn:f}=o,d=e?f+r.__colSpan-1:f-1,g=l.getFirstChild();lt(g)||Ee(120);let h=null;function y(v=it.NO_STATUS){const S=jn(v).append(De());return h===null&&(h=S),S}let b=g;e:for(let v=0;v<u;v++){if(v!==0){const A=b.getNextSibling();lt(A)||Ee(121),b=A}const S=s[v],C=S[d<0?0:d].cell.__headerState,w=Ug(C,it.ROW);if(d<0){Kg(b,y(w));continue}const{cell:x,startColumn:E,startRow:N}=S[d];if(E+x.__colSpan-1<=d){let A=x,O=N,R=d;for(;O!==v&&A.__rowSpan>1;){if(R-=x.__colSpan,!(R>=0)){b.append(y(w));continue e}{const{cell:D,startRow:M}=S[R];A=D,O=M}}A.insertAfter(y(w))}else x.setColSpan(x.__colSpan+1)}h!==null&&t&&Ia(h);const _=l.getColWidths();if(_){const v=[..._],S=d<0?0:d,C=v[S];v.splice(S,0,C),l.setColWidths(v)}return h}function JN(){const r=X();I(r)||Ke(r)||Ee(188);const[e,t]=r.isBackward()?[r.focus.getNode(),r.anchor.getNode()]:[r.anchor.getNode(),r.focus.getNode()],[l,,s]=Ct(e),[o]=Ct(t),[u,f,d]=Zt(s,l,o),{startRow:g}=f,{startRow:h}=d,y=h+o.__rowSpan-1;if(u.length===y-g+1)return void s.remove();const b=u[0].length,_=l.__rowSpan,v=u[y+1],S=s.getChildAtIndex(y+1);for(let C=y;C>=g;C--){for(let x=b-1;x>=0;x--){const{cell:E,startRow:N,startColumn:A}=u[C][x];if(A===x){if(C===g&&N<g){const O=g-N;E.setRowSpan(E.__rowSpan-Math.min(_,E.__rowSpan-O))}if(N>=g&&N+E.__rowSpan-1>y){E.setRowSpan(E.__rowSpan-(y-N+1)),S===null&&Ee(122);let O=null;for(let R=0;R<x;R++){const D=v[R],M=D.cell;D.startRow===C+1&&(O=M),M.__colSpan>1&&(R+=M.__colSpan-1)}O===null?Kg(S,E):O.insertAfter(E)}}}const w=s.getChildAtIndex(C);lt(w)||Ee(206,String(C)),w.remove()}if(v!==void 0){const{cell:C}=v[0];Ia(C)}else{const C=u[g-1],{cell:w}=C[0];Ia(w)}}const eA=JN;function tA(){const r=X();I(r)||Ke(r)||Ee(188);const e=r.anchor.getNode(),t=r.focus.getNode(),[l,,s]=Ct(e),[o]=Ct(t),[u,f,d]=Zt(s,l,o),{startColumn:g}=f,{startRow:h,startColumn:y}=d,b=Math.min(g,y),_=Math.max(g+l.__colSpan-1,y+o.__colSpan-1),v=_-b+1;if(u[0].length===_-b+1)return s.selectPrevious(),void s.remove();const S=u.length;for(let E=0;E<S;E++)for(let N=b;N<=_;N++){const{cell:A,startColumn:O}=u[E][N];if(O<b){if(N===b){const R=b-O;A.setColSpan(A.__colSpan-Math.min(v,A.__colSpan-R))}}else if(O+A.__colSpan-1>_){if(N===_){const R=_-O+1;A.setColSpan(A.__colSpan-R)}}else A.remove()}const C=u[h],w=g>y?C[g+l.__colSpan]:C[y+o.__colSpan];if(w!==void 0){const{cell:E}=w;Ia(E)}else{const E=y<g?C[y-1]:C[g-1],{cell:N}=E;Ia(N)}const x=s.getColWidths();if(x){const E=[...x];E.splice(b,v),s.setColWidths(E)}}const nA=tA;function Ia(r){const e=r.getFirstDescendant();e==null?r.selectStart():e.getParentOrThrow().selectStart()}function Kg(r,e){const t=r.getFirstChild();t!==null?t.insertBefore(e):r.append(e)}function rA(r){if(r.length===0)return null;const e=gs(r[0]),[t]=vi(e,null,null);let l=1/0,s=-1/0,o=1/0,u=-1/0;const f=new Set;for(const _ of t)for(const v of _){if(!v||!v.cell)continue;const S=v.cell.getKey();if(!f.has(S)&&r.some(C=>C.is(v.cell))){f.add(S);const C=v.startRow,w=v.startColumn,x=v.cell.__rowSpan||1,E=v.cell.__colSpan||1;l=Math.min(l,C),s=Math.max(s,C+x-1),o=Math.min(o,w),u=Math.max(u,w+E-1)}}if(l===1/0||o===1/0)return null;const d=s-l+1,g=u-o+1,h=t[l][o];if(!h.cell)return null;const y=h.cell;y.setColSpan(g),y.setRowSpan(d);const b=new Set([y.getKey()]);for(let _=l;_<=s;_++)for(let v=o;v<=u;v++){const S=t[_][v];if(!S.cell)continue;const C=S.cell,w=C.getKey();b.has(w)||(b.add(w),iA(C)||y.append(...C.getChildren()),C.remove())}return y.getChildrenSize()===0&&y.append(De()),y}function iA(r){if(r.getChildrenSize()!==1)return!1;const e=r.getFirstChildOrThrow();return!(!wn(e)||!e.isEmpty())}function lA(){const r=X();I(r)||Ke(r)||Ee(188);const e=r.anchor.getNode(),t=Le(e,_e);return _e(t)||Ee(148),y_(t)}function y_(r){const[e,t,l]=Ct(r),s=e.__colSpan,o=e.__rowSpan;if(s===1&&o===1)return;const[u,f]=Zt(l,e,e),{startColumn:d,startRow:g}=f,h=e.__headerState&it.COLUMN,y=Array.from({length:s},(v,S)=>{let C=h;for(let w=0;C!==0&&w<u.length;w++)C&=u[w][S+d].cell.__headerState;return C}),b=e.__headerState&it.ROW,_=Array.from({length:o},(v,S)=>{let C=b;for(let w=0;C!==0&&w<u[0].length;w++)C&=u[S+g][w].cell.__headerState;return C});if(s>1){for(let v=1;v<s;v++)e.insertAfter(jn(y[v]|_[0]).append(De()));e.setColSpan(1)}if(o>1){let v;for(let S=1;S<o;S++){const C=g+S,w=u[C];v=(v||t).getNextSibling(),lt(v)||Ee(125);let x=null;for(let E=0;E<d;E++){const N=w[E],A=N.cell;N.startRow===C&&(x=A),A.__colSpan>1&&(E+=A.__colSpan-1)}if(x===null)for(let E=s-1;E>=0;E--)Kg(v,jn(y[E]|_[S]).append(De()));else for(let E=s-1;E>=0;E--)x.insertAfter(jn(y[E]|_[S]).append(De()))}e.setRowSpan(1)}}function Zt(r,e,t){const[l,s,o]=vi(r,e,t);return s===null&&Ee(207),o===null&&Ee(208),[l,s,o]}function vi(r,e,t){const l=[];let s=null,o=null;function u(d){let g=l[d];return g===void 0&&(l[d]=g=[]),g}const f=r.getChildren();for(let d=0;d<f.length;d++){const g=f[d];lt(g)||Ee(209);const h=u(d);for(let y=g.getFirstChild(),b=0;y!=null;y=y.getNextSibling()){for(_e(y)||Ee(147);h[b]!==void 0;)b++;const _={cell:y,startColumn:b,startRow:d},{__rowSpan:v,__colSpan:S}=y;for(let C=0;C<v&&!(d+C>=f.length);C++){const w=u(d+C);for(let x=0;x<S;x++)w[b+x]=_}e!==null&&s===null&&e.is(y)&&(s=_),t!==null&&o===null&&t.is(y)&&(o=_)}}return[l,s,o]}function Ct(r){let e;if(r instanceof ur)e=r;else if("__type"in r){const s=Le(r,_e);_e(s)||Ee(148),e=s}else{const s=Le(r.getNode(),_e);_e(s)||Ee(148),e=s}const t=e.getParent();lt(t)||Ee(149);const l=t.getParent();return dt(l)||Ee(210),[e,t,l]}function oc(r,e,t){let l,s=Math.min(e.startColumn,t.startColumn),o=Math.min(e.startRow,t.startRow),u=Math.max(e.startColumn+e.cell.__colSpan-1,t.startColumn+t.cell.__colSpan-1),f=Math.max(e.startRow+e.cell.__rowSpan-1,t.startRow+t.cell.__rowSpan-1);do{l=!1;for(let d=0;d<r.length;d++)for(let g=0;g<r[0].length;g++){const h=r[d][g];if(!h)continue;const y=h.startColumn+h.cell.__colSpan-1,b=h.startRow+h.cell.__rowSpan-1,_=h.startColumn<=u&&y>=s,v=h.startRow<=f&&b>=o;if(_&&v){const S=Math.min(s,h.startColumn),C=Math.max(u,y),w=Math.min(o,h.startRow),x=Math.max(f,b);S===s&&C===u&&w===o&&x===f||(s=S,u=C,o=w,f=x,l=!0)}}}while(l);return{maxColumn:u,maxRow:f,minColumn:s,minRow:o}}function b_(r){const[e,,t]=Ct(r),l=t.getChildren(),s=l.length,o=l[0].getChildren().length,u=new Array(s);for(let f=0;f<s;f++)u[f]=new Array(o);for(let f=0;f<s;f++){const d=l[f].getChildren();let g=0;for(let h=0;h<d.length;h++){for(;u[f][g];)g++;const y=d[h],b=y.__rowSpan||1,_=y.__colSpan||1;for(let v=0;v<b;v++)for(let S=0;S<_;S++)u[f+v][g+S]=y;if(e===y)return{colSpan:_,columnIndex:g,rowIndex:f,rowSpan:b};g+=_}}return null}function v_(r){const[[e,t,l,s],[o,u,f,d]]=["anchor","focus"].map(g=>{const h=r[g].getNode(),y=Le(h,_e);_e(y)||Ee(238,g,h.getKey(),h.getType());const b=y.getParent();lt(b)||Ee(239,g);const _=b.getParent();return dt(_)||Ee(240,g),[h,y,b,_]});return s.is(d)||Ee(241),{anchorCell:t,anchorNode:e,anchorRow:l,anchorTable:s,focusCell:u,focusNode:o,focusRow:f,focusTable:d}}let __=class hE{constructor(e,t,l){this.anchor=t,this.focus=l,t._selection=this,l._selection=this,this._cachedNodes=null,this.dirty=!1,this.tableKey=e}getStartEndPoints(){return[this.anchor,this.focus]}isValid(){return this.tableKey!=="root"&&this.anchor.key!=="root"&&this.anchor.type==="element"&&this.focus.key!=="root"&&this.focus.type==="element"}isBackward(){return this.focus.isBefore(this.anchor)}getCachedNodes(){return this._cachedNodes}setCachedNodes(e){this._cachedNodes=e}is(e){return Ke(e)&&this.tableKey===e.tableKey&&this.anchor.is(e.anchor)&&this.focus.is(e.focus)}set(e,t,l){this.dirty=this.dirty||e!==this.tableKey||t!==this.anchor.key||l!==this.focus.key,this.tableKey=e,this.anchor.key=t,this.focus.key=l,this._cachedNodes=null}clone(){return new hE(this.tableKey,dn(this.anchor.key,this.anchor.offset,this.anchor.type),dn(this.focus.key,this.focus.offset,this.focus.type))}isCollapsed(){return!1}extract(){return this.getNodes()}insertRawText(e){}insertText(){}hasFormat(e){let t=0;this.getNodes().filter(_e).forEach(s=>{const o=s.getFirstChild();wn(o)&&(t|=o.getTextFormat())});const l=si[e];return!!(t&l)}insertNodes(e){const t=this.focus.getNode();W(t)||Ee(151),Wi(t.select(0,t.getChildrenSize())).insertNodes(e)}getShape(){const{anchorCell:e,focusCell:t}=v_(this),l=b_(e);l===null&&Ee(153);const s=b_(t);s===null&&Ee(155);const o=Math.min(l.columnIndex,s.columnIndex),u=Math.max(l.columnIndex+l.colSpan-1,s.columnIndex+s.colSpan-1),f=Math.min(l.rowIndex,s.rowIndex),d=Math.max(l.rowIndex+l.rowSpan-1,s.rowIndex+s.rowSpan-1);return{fromX:Math.min(o,u),fromY:Math.min(f,d),toX:Math.max(o,u),toY:Math.max(f,d)}}getNodes(){if(!this.isValid())return[];const e=this._cachedNodes;if(e!==null)return e;const{anchorTable:t,anchorCell:l,focusCell:s}=v_(this),o=s.getParents()[1];if(o!==t){if(t.isParentOf(s)){const C=o.getParent();C==null&&Ee(159),this.set(this.tableKey,s.getKey(),C.getKey())}else{const C=t.getParent();C==null&&Ee(158),this.set(this.tableKey,C.getKey(),s.getKey())}return this.getNodes()}const[u,f,d]=Zt(t,l,s),{minColumn:g,maxColumn:h,minRow:y,maxRow:b}=oc(u,f,d),_=new Map([[t.getKey(),t]]);let v=null;for(let C=y;C<=b;C++)for(let w=g;w<=h;w++){const{cell:x}=u[C][w],E=x.getParent();lt(E)||Ee(160),E!==v&&(_.set(E.getKey(),E),v=E),_.has(x.getKey())||aA(x,N=>{_.set(N.getKey(),N)})}const S=Array.from(_.values());return Ql()||(this._cachedNodes=S),S}getTextContent(){const e=this.getNodes().filter(l=>_e(l));let t="";for(let l=0;l<e.length;l++){const s=e[l],o=s.__parent,u=(e[l+1]||{}).__parent;t+=s.getTextContent()+(u!==o?`
`:"	")}return t}};function Ke(r){return r instanceof __}function S_(){const r=dn("root",0,"element"),e=dn("root",0,"element");return new __("root",r,e)}function sA(r,e,t){r.getKey(),e.getKey(),t.getKey();const l=X(),s=Ke(l)?l.clone():S_();return s.set(r.getKey(),e.getKey(),t.getKey()),s}function aA(r,e){const t=[[r]];for(let l=t.at(-1);l!==void 0&&t.length>0;l=t.at(-1)){const s=l.pop();s===void 0?t.pop():e(s)!==!1&&W(s)&&t.push(s.getChildren())}}function x_(r,e=Gu()){const t=Ze(r);dt(t)||Ee(231,r);const l=dl(t,e.getElementByKey(r));return l===null&&Ee(232,r),{tableElement:l,tableNode:t}}let oA=class{constructor(e,t){this.isHighlightingCells=!1,this.anchorX=-1,this.anchorY=-1,this.focusX=-1,this.focusY=-1,this.listenersToRemove=new Set,this.tableNodeKey=t,this.editor=e,this.table={columns:0,domRows:[],rows:0},this.tableSelection=null,this.anchorCellNodeKey=null,this.focusCellNodeKey=null,this.anchorCell=null,this.focusCell=null,this.hasHijackedSelectionStyles=!1,this.isSelecting=!1,this.pointerType=null,this.shouldCheckSelection=!1,this.abortController=new AbortController,this.listenerOptions={signal:this.abortController.signal},this.nextFocus=null,this.trackTable()}getTable(){return this.table}removeListeners(){this.abortController.abort("removeListeners"),Array.from(this.listenersToRemove).forEach(e=>e()),this.listenersToRemove.clear()}$lookup(){return x_(this.tableNodeKey,this.editor)}trackTable(){const e=new MutationObserver(t=>{this.editor.getEditorState().read(()=>{let l=!1;for(let u=0;u<t.length;u++){const f=t[u].target.nodeName;if(f==="TABLE"||f==="TBODY"||f==="THEAD"||f==="TR"){l=!0;break}}if(!l)return;const{tableNode:s,tableElement:o}=this.$lookup();this.table=ps(s,o)},{editor:this.editor})});this.editor.getEditorState().read(()=>{const{tableNode:t,tableElement:l}=this.$lookup();this.table=ps(t,l),e.observe(l,{attributes:!0,childList:!0,subtree:!0})},{editor:this.editor})}$clearHighlight(){const e=this.editor;this.isHighlightingCells=!1,this.anchorX=-1,this.anchorY=-1,this.focusX=-1,this.focusY=-1,this.tableSelection=null,this.anchorCellNodeKey=null,this.focusCellNodeKey=null,this.anchorCell=null,this.focusCell=null,this.hasHijackedSelectionStyles=!1,this.$enableHighlightStyle();const{tableNode:t,tableElement:l}=this.$lookup();cc(e,ps(t,l),null),X()!==null&&(qe(null),e.dispatchCommand(nn,void 0))}$enableHighlightStyle(){const e=this.editor,{tableElement:t}=this.$lookup();yr(t,e._config.theme.tableSelection),t.classList.remove("disable-selection"),this.hasHijackedSelectionStyles=!1}$disableHighlightStyle(){const{tableElement:e}=this.$lookup();xt(e,this.editor._config.theme.tableSelection),this.hasHijackedSelectionStyles=!0}$updateTableTableSelection(e){if(e!==null){e.tableKey!==this.tableNodeKey&&Ee(233,e.tableKey,this.tableNodeKey);const t=this.editor;this.tableSelection=e,this.isHighlightingCells=!0,this.$disableHighlightStyle(),this.updateDOMSelection(),cc(t,this.table,this.tableSelection)}else this.$clearHighlight()}setShouldCheckSelection(){this.shouldCheckSelection=!0}getAndClearShouldCheckSelection(){return!!this.shouldCheckSelection&&(this.shouldCheckSelection=!1,!0)}setNextFocus(e){this.nextFocus=e}getAndClearNextFocus(){const{nextFocus:e}=this;return e!==null&&(this.nextFocus=null),e}updateDOMSelection(){if(this.anchorCell!==null&&this.focusCell!==null){const e=Xt(this.editor._window);e&&e.rangeCount>0&&e.removeAllRanges()}}$setFocusCellForSelection(e,t=!1){const l=this.editor,{tableNode:s}=this.$lookup(),o=e.x,u=e.y;if(this.focusCell=e,this.isHighlightingCells||this.anchorX===o&&this.anchorY===u&&!t){if(o===this.focusX&&u===this.focusY)return!1}else this.isHighlightingCells=!0,this.$disableHighlightStyle();if(this.focusX=o,this.focusY=u,this.isHighlightingCells){const f=Gg(s,e.elem);if(this.tableSelection!=null&&this.anchorCellNodeKey!=null&&f!==null)return this.focusCellNodeKey=f.getKey(),this.tableSelection=sA(s,this.$getAnchorTableCellOrThrow(),f),qe(this.tableSelection),l.dispatchCommand(nn,void 0),cc(l,this.table,this.tableSelection),!0}return!1}$getAnchorTableCell(){return this.anchorCellNodeKey?Ze(this.anchorCellNodeKey):null}$getAnchorTableCellOrThrow(){const e=this.$getAnchorTableCell();return e===null&&Ee(234),e}$getFocusTableCell(){return this.focusCellNodeKey?Ze(this.focusCellNodeKey):null}$getFocusTableCellOrThrow(){const e=this.$getFocusTableCell();return e===null&&Ee(235),e}$setAnchorCellForSelection(e){this.isHighlightingCells=!1,this.anchorCell=e,this.anchorX=e.x,this.anchorY=e.y;const{tableNode:t}=this.$lookup(),l=Gg(t,e.elem);if(l!==null){const s=l.getKey();this.tableSelection=this.tableSelection!=null?this.tableSelection.clone():S_(),this.anchorCellNodeKey=s}}$formatCells(e){const t=X();Ke(t)||Ee(236);const l=Wl(),s=l.anchor,o=l.focus,u=t.getNodes().filter(_e);u.length>0||Ee(237);const f=u[0].getFirstChild(),d=wn(f)?f.getFormatFlags(e,null):null;u.forEach(g=>{s.set(g.getKey(),0,"element"),o.set(g.getKey(),g.getChildrenSize(),"element"),l.formatText(e,d)}),qe(t),this.editor.dispatchCommand(nn,void 0)}$clearText(){const{editor:e}=this,t=Ze(this.tableNodeKey);if(!dt(t))throw new Error("Expected TableNode.");const l=X();Ke(l)||Ee(253);const s=l.getNodes().filter(_e);if(s.length===this.table.columns*this.table.rows){t.selectPrevious();const o=t.getParent();return t.remove(),void(Ut(o)&&o.isEmpty()&&e.dispatchCommand(ci,void 0))}s.forEach(o=>{if(W(o)){const u=De(),f=Fe();u.append(f),o.append(u),o.getChildren().forEach(d=>{d!==u&&d.remove()})}}),cc(e,this.table,null),qe(null),e.dispatchCommand(nn,void 0)}};const Pg="__lexicalTableSelection",uA=r=>!(1&~r.buttons);function hs(r){return ht(r)&&r.nodeName==="TABLE"}function dl(r,e){if(!e)return e;const t=hs(e)?e:r.getDOMSlot(e).element;return t.nodeName!=="TABLE"&&Ee(245,e.nodeName),t}function Ig(r){return r._window}function qa(r,e){for(let t=e,l=null;t!==null;t=t.getParent()){if(r.is(t))return l;_e(t)&&(l=t)}return null}const cA=[[_a,"down"],[va,"up"],[ba,"backward"],[ya,"forward"]],fA=[el,di,tr],dA=[hi,Yl];function gA(r,e,t,l){const s=t.getRootElement(),o=Ig(t);s!==null&&o!==null||Ee(246);const u=new oA(t,r.getKey()),f=dl(r,e);(function(_,v){qg(_)!==null&&Ee(205),_[Pg]=v})(f,u),u.listenersToRemove.add(()=>function(_,v){qg(_)===v&&delete _[Pg]}(f,u));const d=_=>{if(u.pointerType=_.pointerType,_.button!==0||!ir(_.target)||!o)return;const v=uc(_.target);v!==null&&t.update(()=>{const S=rr();if(p_&&_.shiftKey&&br(S,r)&&(I(S)||Ke(S))){const C=S.anchor.getNode(),w=qa(r,S.anchor.getNode());w?(u.$setAnchorCellForSelection(gl(u,w)),u.$setFocusCellForSelection(v),Ur(_)):(r.isBefore(C)?r.selectStart():r.selectEnd()).anchor.set(S.anchor.key,S.anchor.offset,S.anchor.type)}else u.$setAnchorCellForSelection(v)}),(()=>{if(u.isSelecting)return;const S=()=>{u.isSelecting=!1,o.removeEventListener("pointerup",S),o.removeEventListener("pointermove",C)},C=w=>{if(!uA(w)&&u.isSelecting)return u.isSelecting=!1,o.removeEventListener("pointerup",S),void o.removeEventListener("pointermove",C);if(!ir(w.target))return;let x=null;const E=!(p_||f.contains(w.target));if(E)x=C_(f,w.target);else for(const N of document.elementsFromPoint(w.clientX,w.clientY))if(x=C_(f,N),x)break;!x||u.focusCell!==null&&x.elem===u.focusCell.elem||(u.setNextFocus({focusCell:x,override:E}),t.dispatchCommand(nn,void 0))};u.isSelecting=!0,o.addEventListener("pointerup",S,u.listenerOptions),o.addEventListener("pointermove",C,u.listenerOptions)})()};f.addEventListener("pointerdown",d,u.listenerOptions),u.listenersToRemove.add(()=>{f.removeEventListener("pointerdown",d)});const g=_=>{_.detail>=3&&ir(_.target)&&uc(_.target)!==null&&_.preventDefault()};f.addEventListener("mousedown",g,u.listenerOptions),u.listenersToRemove.add(()=>{f.removeEventListener("mousedown",g)});const h=_=>{const v=_.target;_.button===0&&ir(v)&&t.update(()=>{const S=X();Ke(S)&&S.tableKey===u.tableNodeKey&&s.contains(v)&&u.$clearHighlight()})};o.addEventListener("pointerdown",h,u.listenerOptions),u.listenersToRemove.add(()=>{o.removeEventListener("pointerdown",h)});for(const[_,v]of cA)u.listenersToRemove.add(t.registerCommand(_,S=>N_(t,S,v,r,u),zr));u.listenersToRemove.add(t.registerCommand(tl,_=>{const v=X();if(Ke(v)){const S=qa(r,v.focus.getNode());if(S!==null)return Ur(_),S.selectEnd(),!0}return!1},zr));const y=_=>()=>{const v=X();if(!br(v,r))return!1;if(Ke(v))return u.$clearText(),!0;if(I(v)){if(!_e(qa(r,v.anchor.getNode())))return!1;const S=v.anchor.getNode(),C=v.focus.getNode(),w=r.isParentOf(S),x=r.isParentOf(C);if(w&&!x||x&&!w)return u.$clearText(),!0;const E=Le(v.anchor.getNode(),A=>W(A)),N=E&&Le(E,A=>W(A)&&_e(A.getParent()));if(!W(N)||!W(E))return!1;if(_===di&&N.getPreviousSibling()===null)return!0}return!1};for(const _ of fA)u.listenersToRemove.add(t.registerCommand(_,y(_),Bn));const b=_=>{const v=X();if(!Ke(v)&&!I(v))return!1;const S=r.isParentOf(v.anchor.getNode());if(S!==r.isParentOf(v.focus.getNode())){const C=S?"anchor":"focus",w=S?"focus":"anchor",{key:x,offset:E,type:N}=v[w];return r[v[C].isBefore(v[w])?"selectPrevious":"selectNext"]()[w].set(x,E,N),!1}return!!br(v,r)&&!!Ke(v)&&(_&&(_.preventDefault(),_.stopPropagation()),u.$clearText(),!0)};for(const _ of dA)u.listenersToRemove.add(t.registerCommand(_,b,Bn));return u.listenersToRemove.add(t.registerCommand(wa,_=>{const v=X();if(v){if(!Ke(v)&&!I(v))return!1;Ng(t,sr(_,ClipboardEvent)?_:null,Wv(v));const S=b(_);return I(v)?(v.removeText(),!0):S}return!1},Bn)),u.listenersToRemove.add(t.registerCommand(fn,_=>{const v=X();if(!br(v,r))return!1;if(Ke(v))return u.$formatCells(_),!0;if(I(v)){const S=Le(v.anchor.getNode(),C=>_e(C));if(!_e(S))return!1}return!1},Bn)),u.listenersToRemove.add(t.registerCommand(lb,_=>{const v=X();if(!Ke(v)||!br(v,r))return!1;const S=v.anchor.getNode(),C=v.focus.getNode();if(!_e(S)||!_e(C))return!1;if(function(M,B){if(Ke(M)){const H=M.anchor.getNode(),q=M.focus.getNode();if(B&&H&&q){const[Y]=Zt(B,H,q);return H.getKey()===Y[0][0].cell.getKey()&&q.getKey()===Y[Y.length-1].at(-1).cell.getKey()}}return!1}(v,r))return r.setFormat(_),!0;const[w,x,E]=Zt(r,S,C),N=Math.max(x.startRow+x.cell.__rowSpan-1,E.startRow+E.cell.__rowSpan-1),A=Math.max(x.startColumn+x.cell.__colSpan-1,E.startColumn+E.cell.__colSpan-1),O=Math.min(x.startRow,E.startRow),R=Math.min(x.startColumn,E.startColumn),D=new Set;for(let M=O;M<=N;M++)for(let B=R;B<=A;B++){const H=w[M][B].cell;if(D.has(H))continue;D.add(H),H.setFormat(_);const q=H.getChildren();for(let Y=0;Y<q.length;Y++){const Z=q[Y];W(Z)&&!Z.isInline()&&Z.setFormat(_)}}return!0},Bn)),u.listenersToRemove.add(t.registerCommand(fi,_=>{const v=X();if(!br(v,r))return!1;if(Ke(v))return u.$clearHighlight(),!1;if(I(v)){const S=Le(v.anchor.getNode(),C=>_e(C));if(!_e(S))return!1;if(typeof _=="string"){const C=O_(t,v,r);if(C)return A_(C,r,[Fe(_)]),!0}}return!1},Bn)),l&&u.listenersToRemove.add(t.registerCommand(Sa,_=>{const v=X();if(!I(v)||!v.isCollapsed()||!br(v,r))return!1;const S=Ya(v.anchor.getNode());return!(S===null||!r.is(ys(S)))&&(Ur(_),function(C,w){const x=w==="next"?"getNextSibling":"getPreviousSibling",E=w==="next"?"getFirstChild":"getLastChild",N=C[x]();if(W(N))return N.selectEnd();const A=Le(C,lt);A===null&&Ee(247);for(let R=A[x]();lt(R);R=R[x]()){const D=R[E]();if(W(D))return D.selectEnd()}const O=Le(A,dt);O===null&&Ee(248),w==="next"?O.selectNext():O.selectPrevious()}(S,_.shiftKey?"previous":"next"),!0)},Bn)),u.listenersToRemove.add(t.registerCommand(wu,_=>r.isSelected(),zr)),u.listenersToRemove.add(t.registerCommand(Ed,_=>{const{nodes:v,selection:S}=_,C=S.getStartEndPoints(),w=Ke(S),x=I(S)&&Le(S.anchor.getNode(),pe=>_e(pe))!==null&&Le(S.focus.getNode(),pe=>_e(pe))!==null||w;if(v.length!==1||!dt(v[0])||!x||C===null)return!1;const[E,N]=C,[A,O,R]=Ct(E),D=Le(N.getNode(),pe=>_e(pe));if(!(_e(A)&&_e(D)&&lt(O)&&dt(R)))return!1;const M=v[0],[B,H,q]=Zt(R,A,D),[Y]=vi(M,null,null),Z=B.length,ie=Z>0?B[0].length:0;let U=H.startRow,G=H.startColumn,K=Y.length,ne=K>0?Y[0].length:0;if(w){const pe=oc(B,H,q),be=pe.maxRow-pe.minRow+1,ze=pe.maxColumn-pe.minColumn+1;U=pe.minRow,G=pe.minColumn,K=Math.min(K,be),ne=Math.min(ne,ze)}let L=!1;const J=Math.min(Z,U+K)-1,le=Math.min(ie,G+ne)-1,ge=new Set;for(let pe=U;pe<=J;pe++)for(let be=G;be<=le;be++){const ze=B[pe][be];ge.has(ze.cell.getKey())||ze.cell.__rowSpan===1&&ze.cell.__colSpan===1||(y_(ze.cell),ge.add(ze.cell.getKey()),L=!0)}let[he]=vi(R.getWritable(),null,null);const Ce=K-Z+U;for(let pe=0;pe<Ce;pe++)jg(he[Z-1][0].cell);const me=ne-ie+G;for(let pe=0;pe<me;pe++)Hg(he[0][ie-1].cell,!0,!1);[he]=vi(R.getWritable(),null,null);for(let pe=U;pe<U+K;pe++)for(let be=G;be<G+ne;be++){const ze=pe-U,Ye=be-G,re=Y[ze][Ye];if(re.startRow!==ze||re.startColumn!==Ye)continue;const ue=re.cell;if(ue.__rowSpan!==1||ue.__colSpan!==1){const xe=[],Je=Math.min(pe+ue.__rowSpan,U+K)-1,Ve=Math.min(be+ue.__colSpan,G+ne)-1;for(let Wt=pe;Wt<=Je;Wt++)for(let sn=be;sn<=Ve;sn++){const an=he[Wt][sn];xe.push(an.cell)}rA(xe),L=!0}const{cell:fe}=he[pe][be],Se=fe.getChildren();ue.getChildren().forEach(xe=>{oe(xe)&&De().append(xe),fe.append(xe)}),Se.forEach(xe=>xe.remove())}if(w&&L){const[pe]=vi(R.getWritable(),null,null);pe[H.startRow][H.startColumn].cell.selectEnd()}return!0},Bn)),u.listenersToRemove.add(t.registerCommand(nn,()=>{const _=X(),v=rr(),S=u.getAndClearNextFocus();if(S!==null){const{focusCell:C}=S;if(Ke(_)&&_.tableKey===u.tableNodeKey)return(C.x!==u.focusX||C.y!==u.focusY)&&(u.$setFocusCellForSelection(C),!0);if(C!==u.anchorCell&&br(_,r))return u.$setFocusCellForSelection(C),!0}if(u.getAndClearShouldCheckSelection()&&I(v)&&I(_)&&_.isCollapsed()){const C=_.anchor.getNode(),w=r.getFirstChild(),x=Ya(C);if(x!==null&&lt(w)){const E=w.getFirstChild();if(_e(E)&&r.is(Le(x,N=>N.is(r)||N.is(E))))return E.selectStart(),!0}}if(I(_)){const{anchor:C,focus:w}=_,x=C.getNode(),E=w.getNode(),N=Ya(x),A=Ya(E),O=!(!N||!r.is(ys(N))),R=!(!A||!r.is(ys(A))),D=O!==R,M=O&&R,B=_.isBackward();if(D){const H=_.clone();if(R){const[q]=Zt(r,A,A),Y=q[0][0].cell,Z=q[q.length-1].at(-1).cell;H.focus.set(B?Y.getKey():Z.getKey(),B?Y.getChildrenSize():Z.getChildrenSize(),"element")}else if(O){const[q]=Zt(r,N,N),Y=q[0][0].cell,Z=q[q.length-1].at(-1).cell;H.anchor.set(B?Z.getKey():Y.getKey(),B?Z.getChildrenSize():0,"element")}qe(H),E_(t,u)}else if(M&&(N.is(A)||(u.$setAnchorCellForSelection(gl(u,N)),u.$setFocusCellForSelection(gl(u,A),!0)),u.pointerType==="touch"&&_.isCollapsed()&&I(v)&&v.isCollapsed())){const H=Ya(v.anchor.getNode());H&&!H.is(A)&&(u.$setAnchorCellForSelection(gl(u,H)),u.$setFocusCellForSelection(gl(u,A),!0),u.pointerType=null)}}else if(_&&Ke(_)&&_.is(v)&&_.tableKey===r.getKey()){const C=Xt(o);if(C&&C.anchorNode&&C.focusNode){const w=Gt(C.focusNode),x=w&&!r.isParentOf(w),E=Gt(C.anchorNode),N=E&&r.isParentOf(E);if(x&&N&&C.rangeCount>0){const A=rT(C,t);A&&(A.anchor.set(r.getKey(),_.isBackward()?r.getChildrenSize():0,"element"),C.removeAllRanges(),qe(A))}}}return _&&!_.is(v)&&(Ke(_)||Ke(v))&&u.tableSelection&&!u.tableSelection.is(v)?(Ke(_)&&_.tableKey===u.tableNodeKey?u.$updateTableTableSelection(_):!Ke(_)&&Ke(v)&&v.tableKey===u.tableNodeKey&&u.$updateTableTableSelection(null),!1):(u.hasHijackedSelectionStyles&&!r.isSelected()?function(C,w){w.$enableHighlightStyle(),Yg(w.table,x=>{const E=x.elem;x.highlighted=!1,T_(C,x),E.getAttribute("style")||E.removeAttribute("style")})}(t,u):!u.hasHijackedSelectionStyles&&r.isSelected()&&E_(t,u),!1)},Bn)),u.listenersToRemove.add(t.registerCommand(ci,()=>{const _=X();if(!I(_)||!_.isCollapsed()||!br(_,r))return!1;const v=O_(t,_,r);return!!v&&(A_(v,r),!0)},Bn)),u}function qg(r){return r[Pg]||null}function uc(r){let e=r;for(;e!=null;){const t=e.nodeName;if(t==="TD"||t==="TH"){const l=e._cell;return l===void 0?null:l}e=e.parentNode}return null}function C_(r,e){if(!r.contains(e))return null;let t=null;for(let l=e;l!=null;l=l.parentNode){if(l===r)return t;const s=l.nodeName;s!=="TD"&&s!=="TH"||(t=l._cell||null)}return null}function ps(r,e){const t=[],l={columns:0,domRows:t,rows:0};let s=dl(r,e).querySelector("tr"),o=0,u=0;for(t.length=0;s!=null;){const f=s.nodeName;if(f==="TD"||f==="TH"){const h={elem:s,hasBackgroundColor:s.style.backgroundColor!=="",highlighted:!1,x:o,y:u};s._cell=h;let y=t[u];y===void 0&&(y=t[u]=[]),y[o]=h}else{const h=s.firstChild;if(h!=null){s=h;continue}}const d=s.nextSibling;if(d!=null){o++,s=d;continue}const g=s.parentNode;if(g!=null){const h=g.nextSibling;if(h==null)break;u++,o=0,s=h}}return l.columns=o+1,l.rows=u+1,l}function cc(r,e,t){const l=new Set(t?t.getNodes():[]);Yg(e,(s,o)=>{const u=s.elem;l.has(o)?(s.highlighted=!0,w_(r,s)):(s.highlighted=!1,T_(r,s),u.getAttribute("style")||u.removeAttribute("style"))})}function Yg(r,e){const{domRows:t}=r;for(let l=0;l<t.length;l++){const s=t[l];if(s)for(let o=0;o<s.length;o++){const u=s[o];if(!u)continue;const f=Gt(u.elem);f!==null&&e(u,f,{x:o,y:l})}}}function E_(r,e){e.$disableHighlightStyle(),Yg(e.table,t=>{t.highlighted=!0,w_(r,t)})}const hA=(r,e,t,l,s)=>{const o=s==="forward";switch(s){case"backward":case"forward":return t!==(o?r.table.columns-1:0)?dc(e.getCellNodeFromCordsOrThrow(t+(o?1:-1),l,r.table),o):l!==(o?r.table.rows-1:0)?dc(e.getCellNodeFromCordsOrThrow(o?0:r.table.columns-1,l+(o?1:-1),r.table),o):o?e.selectNext():e.selectPrevious(),!0;case"up":return l!==0?dc(e.getCellNodeFromCordsOrThrow(t,l-1,r.table),!1):e.selectPrevious(),!0;case"down":return l!==r.table.rows-1?dc(e.getCellNodeFromCordsOrThrow(t,l+1,r.table),!0):e.selectNext(),!0;default:return!1}};function Vg(r,e){let t,l;if(e.startColumn===r.minColumn)t="minColumn";else{if(e.startColumn+e.cell.__colSpan-1!==r.maxColumn)return null;t="maxColumn"}if(e.startRow===r.minRow)l="minRow";else{if(e.startRow+e.cell.__rowSpan-1!==r.maxRow)return null;l="maxRow"}return[t,l]}function fc([r,e]){return[r==="minColumn"?"maxColumn":"minColumn",e==="minRow"?"maxRow":"minRow"]}function ms(r,e,[t,l]){const s=e[l],o=r[s];o===void 0&&Ee(250,l,String(s));const u=e[t],f=o[u];return f===void 0&&Ee(250,t,String(u)),f}function pA(r,e,t,l,s){const o=oc(e,t,l),u=function(O,R){const{minColumn:D,maxColumn:M,minRow:B,maxRow:H}=R;let q=1,Y=1,Z=1,ie=1;const U=O[B],G=O[H];for(let K=D;K<=M;K++)q=Math.max(q,U[K].cell.__rowSpan),ie=Math.max(ie,G[K].cell.__rowSpan);for(let K=B;K<=H;K++)Y=Math.max(Y,O[K][D].cell.__colSpan),Z=Math.max(Z,O[K][M].cell.__colSpan);return{bottomSpan:ie,leftSpan:Y,rightSpan:Z,topSpan:q}}(e,o),{topSpan:f,leftSpan:d,bottomSpan:g,rightSpan:h}=u,y=function(O,R){const D=Vg(O,R);return D===null&&Ee(249,R.cell.getKey()),D}(o,t),[b,_]=fc(y);let v=o[b],S=o[_];s==="forward"?v+=b==="maxColumn"?1:d:s==="backward"?v-=b==="minColumn"?1:h:s==="down"?S+=_==="maxRow"?1:f:s==="up"&&(S-=_==="minRow"?1:g);const C=e[S];if(C===void 0)return!1;const w=C[v];if(w===void 0)return!1;const[x,E]=function(O,R,D){const M=oc(O,R,D),B=Vg(M,R);if(B)return[ms(O,M,B),ms(O,M,fc(B))];const H=Vg(M,D);if(H)return[ms(O,M,fc(H)),ms(O,M,H)];const q=["minColumn","minRow"];return[ms(O,M,q),ms(O,M,fc(q))]}(e,t,w),N=gl(r,x.cell),A=gl(r,E.cell);return r.$setAnchorCellForSelection(N),r.$setFocusCellForSelection(A,!0),!0}function br(r,e){if(I(r)||Ke(r)){const t=e.isParentOf(r.anchor.getNode()),l=e.isParentOf(r.focus.getNode());return t&&l}return!1}function dc(r,e){e?r.selectStart():r.selectEnd()}function w_(r,e){const t=e.elem,l=r._config.theme;_e(Gt(t))||Ee(131),xt(t,l.tableCellSelected)}function T_(r,e){const t=e.elem;_e(Gt(t))||Ee(131);const l=r._config.theme;yr(t,l.tableCellSelected)}function Ya(r){const e=Le(r,_e);return _e(e)?e:null}function ys(r){const e=Le(r,dt);return dt(e)?e:null}function mA(r,e,t,l,s,o,u){const f=mr(t.focus,s?"previous":"next");if(Sg(f))return!1;let d=f;for(const C of Ka(f).iterNodeCarets("shadowRoot")){if(!yi(C)||!W(C.origin))return!1;d=C}const g=d.getParentAtCaret();if(!_e(g))return!1;const h=g,y=function(C){for(const w of Ka(C).iterNodeCarets("root")){const{origin:x}=w;if(_e(x)){if(pn(w))return mn(x,C.direction)}else if(!lt(x))break}return null}(bt(h,d.direction)),b=Le(h,dt);if(!b||!b.is(o))return!1;const _=r.getElementByKey(h.getKey()),v=uc(_);if(!_||!v)return!1;const S=bA(r,b);if(u.table=S,y)if(l==="extend"){const C=uc(r.getElementByKey(y.origin.getKey()));if(!C)return!1;u.$setAnchorCellForSelection(v),u.$setFocusCellForSelection(C,!0)}else{const C=rn(y);lr(t.anchor,C),lr(t.focus,C)}else if(l==="extend")u.$setAnchorCellForSelection(v),u.$setFocusCellForSelection(v,!0);else{const C=function(w){const x=Ha(w);return pn(x)?rn(x):w}(bt(b,f.direction));lr(t.anchor,C),lr(t.focus,C)}return Ur(e),!0}function N_(r,e,t,l,s){if((t==="up"||t==="down")&&function(u){const f=u.getRootElement();return f?f.hasAttribute("aria-controls")&&f.getAttribute("aria-controls")==="typeahead-menu":!1}(r))return!1;const o=X();if(!br(o,l)){if(I(o)){if(t==="backward"){if(o.focus.offset>0)return!1;const u=function(d){for(let g=d,h=d;h!==null;g=h,h=h.getParent())if(W(h)){if(h!==g&&h.getFirstChild()!==g)return null;if(!h.isInline())return h}return null}(o.focus.getNode());if(!u)return!1;const f=u.getPreviousSibling();return!!dt(f)&&(Ur(e),e.shiftKey?o.focus.set(f.getParentOrThrow().getKey(),f.getIndexWithinParent(),"element"):f.selectEnd(),!0)}if(e.shiftKey&&(t==="up"||t==="down")){const u=o.focus.getNode();if(!o.isCollapsed()&&(t==="up"&&!o.isBackward()||t==="down"&&o.isBackward())){let f=Le(u,b=>dt(b));if(_e(f)&&(f=Le(f,dt)),f!==l||!f)return!1;const d=t==="down"?f.getNextSibling():f.getPreviousSibling();if(!d)return!1;let g=0;t==="up"&&W(d)&&(g=d.getChildrenSize());let h=d;t==="up"&&W(d)&&(h=d.getLastChild()||d,g=oe(h)?h.getTextContentSize():0);const y=o.clone();return y.focus.set(h.getKey(),g,oe(h)?"text":"element"),qe(y),Ur(e),!0}if(St(u)){const f=t==="up"?o.getNodes()[o.getNodes().length-1]:o.getNodes()[0];if(f&&qa(l,f)!==null){const d=l.getFirstDescendant(),g=l.getLastDescendant();if(!d||!g)return!1;const[h]=Ct(d),[y]=Ct(g),b=l.getCordsFromCellNode(h,s.table),_=l.getCordsFromCellNode(y,s.table),v=l.getDOMCellFromCordsOrThrow(b.x,b.y,s.table),S=l.getDOMCellFromCordsOrThrow(_.x,_.y,s.table);return s.$setAnchorCellForSelection(v),s.$setFocusCellForSelection(S,!0),!0}return!1}{let f=Le(u,g=>W(g)&&!g.isInline());if(_e(f)&&(f=Le(f,dt)),!f)return!1;const d=t==="down"?f.getNextSibling():f.getPreviousSibling();if(dt(d)&&s.tableNodeKey===d.getKey()){const g=d.getFirstDescendant(),h=d.getLastDescendant();if(!g||!h)return!1;const[y]=Ct(g),[b]=Ct(h),_=o.clone();return _.focus.set((t==="up"?y:b).getKey(),t==="up"?0:b.getChildrenSize(),"element"),Ur(e),qe(_),!0}}}}return t==="down"&&k_(r)&&s.setShouldCheckSelection(),!1}if(I(o)){if(t==="backward"||t==="forward")return mA(r,e,o,e.shiftKey?"extend":"move",t==="backward",l,s);if(o.isCollapsed()){const{anchor:u,focus:f}=o,d=Le(u.getNode(),_e),g=Le(f.getNode(),_e);if(!_e(d)||!d.is(g))return!1;const h=ys(d);if(h!==l&&h!=null){const w=dl(h,r.getElementByKey(h.getKey()));if(w!=null)return s.table=ps(h,w),N_(r,e,t,h,s)}const y=r.getElementByKey(d.__key),b=r.getElementByKey(u.key);if(b==null||y==null)return!1;let _;if(u.type==="element")_=b.getBoundingClientRect();else{const w=Xt(Ig(r));if(w===null||w.rangeCount===0)return!1;_=w.getRangeAt(0).getBoundingClientRect()}const v=t==="up"?d.getFirstChild():d.getLastChild();if(v==null)return!1;const S=r.getElementByKey(v.__key);if(S==null)return!1;const C=S.getBoundingClientRect();if(t==="up"?C.top>_.top-_.height:_.bottom+_.height>C.bottom){Ur(e);const w=l.getCordsFromCellNode(d,s.table);if(!e.shiftKey)return hA(s,l,w.x,w.y,t);{const x=l.getDOMCellFromCordsOrThrow(w.x,w.y,s.table);s.$setAnchorCellForSelection(x),s.$setFocusCellForSelection(x,!0)}return!0}}}else if(Ke(o)){const{anchor:u,focus:f}=o,d=Le(u.getNode(),_e),g=Le(f.getNode(),_e),[h]=o.getNodes();dt(h)||Ee(251);const y=dl(h,r.getElementByKey(h.getKey()));if(!_e(d)||!_e(g)||!dt(h)||y==null)return!1;s.$updateTableTableSelection(o);const b=ps(h,y),_=l.getCordsFromCellNode(d,b),v=l.getDOMCellFromCordsOrThrow(_.x,_.y,b);if(s.$setAnchorCellForSelection(v),Ur(e),e.shiftKey){const[S,C,w]=Zt(l,d,g);return pA(s,S,C,w,t)}return g.selectEnd(),!0}return!1}function Ur(r){r.preventDefault(),r.stopImmediatePropagation(),r.stopPropagation()}function A_(r,e,t){const l=De();r==="first"?e.insertBefore(l):e.insertAfter(l),l.append(...t||[]),l.selectEnd()}function O_(r,e,t){const l=t.getParent();if(!l)return;const s=Xt(Ig(r));if(!s)return;const o=s.anchorNode,u=r.getElementByKey(l.getKey()),f=dl(t,r.getElementByKey(t.getKey()));if(!o||!u||!f||!u.contains(o)||f.contains(o))return;const d=Le(e.anchor.getNode(),x=>_e(x));if(!d)return;const g=Le(d,x=>dt(x));if(!dt(g)||!g.is(t))return;const[h,y]=Zt(t,d,d),b=h[0][0],_=h[h.length-1][h[0].length-1],{startRow:v,startColumn:S}=y,C=v===b.startRow&&S===b.startColumn,w=v===_.startRow&&S===_.startColumn;return C?"first":w?"last":void 0}function gl(r,e){const{tableNode:t}=r.$lookup(),l=t.getCordsFromCellNode(e,r.table);return t.getDOMCellFromCordsOrThrow(l.x,l.y,r.table)}function Gg(r,e,t){return qa(r,Gt(e,t))}function R_(r,e,t){if(!e.theme.tableAlignment)return;const l=[],s=[];for(const o of["center","right"]){const u=e.theme.tableAlignment[o];u&&(o===t?s:l).push(u)}yr(r,...l),xt(r,...s)}const Xg=new WeakSet;function k_(r=Gu()){return Xg.has(r)}function yA(r,e){e?Xg.add(r):Xg.delete(r)}class jr extends hn{static getType(){return"table"}getColWidths(){return this.getLatest().__colWidths}setColWidths(e){const t=this.getWritable();return t.__colWidths=e,t}static clone(e){return new jr(e.__key)}afterCloneFrom(e){super.afterCloneFrom(e),this.__colWidths=e.__colWidths,this.__rowStriping=e.__rowStriping,this.__frozenColumnCount=e.__frozenColumnCount,this.__frozenRowCount=e.__frozenRowCount}static importDOM(){return{table:e=>({conversion:vA,priority:1})}}static importJSON(e){return gc().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setRowStriping(e.rowStriping||!1).setFrozenColumns(e.frozenColumnCount||0).setFrozenRows(e.frozenRowCount||0).setColWidths(e.colWidths)}constructor(e){super(e),this.__rowStriping=!1,this.__frozenColumnCount=0,this.__frozenRowCount=0}exportJSON(){return{...super.exportJSON(),colWidths:this.getColWidths(),frozenColumnCount:this.__frozenColumnCount?this.__frozenColumnCount:void 0,frozenRowCount:this.__frozenRowCount?this.__frozenRowCount:void 0,rowStriping:this.__rowStriping?this.__rowStriping:void 0}}extractWithChild(e,t,l){return l==="html"}getDOMSlot(e){const t=hs(e)?e:e.querySelector("table");return hs(t)||Ee(229),super.getDOMSlot(e).withElement(t).withAfter(t.querySelector("colgroup"))}createDOM(e,t){const l=document.createElement("table");this.__style&&(l.style.cssText=this.__style);const s=document.createElement("colgroup");if(l.appendChild(s),_T(s),xt(l,e.theme.table),this.updateTableElement(null,l,e),k_(t)){const o=document.createElement("div"),u=e.theme.tableScrollableWrapper;return u?xt(o,u):o.style.cssText="overflow-x: auto;",o.appendChild(l),this.updateTableWrapper(null,o,l,e),o}return l}updateTableWrapper(e,t,l,s){this.__frozenColumnCount!==(e?e.__frozenColumnCount:0)&&function(o,u,f,d){d>0?(xt(o,f.theme.tableFrozenColumn),u.setAttribute("data-lexical-frozen-column","true")):(yr(o,f.theme.tableFrozenColumn),u.removeAttribute("data-lexical-frozen-column"))}(t,l,s,this.__frozenColumnCount),this.__frozenRowCount!==(e?e.__frozenRowCount:0)&&function(o,u,f,d){d>0?(xt(o,f.theme.tableFrozenRow),u.setAttribute("data-lexical-frozen-row","true")):(yr(o,f.theme.tableFrozenRow),u.removeAttribute("data-lexical-frozen-row"))}(t,l,s,this.__frozenRowCount)}updateTableElement(e,t,l){this.__style!==(e?e.__style:"")&&(t.style.cssText=this.__style),this.__rowStriping!==(!!e&&e.__rowStriping)&&function(s,o,u){u?(xt(s,o.theme.tableRowStriping),s.setAttribute("data-lexical-row-striping","true")):(yr(s,o.theme.tableRowStriping),s.removeAttribute("data-lexical-row-striping"))}(t,l,this.__rowStriping),function(s,o,u,f){const d=s.querySelector("colgroup");if(!d)return;const g=[];for(let h=0;h<u;h++){const y=document.createElement("col"),b=f&&f[h];b&&(y.style.width=`${b}px`),g.push(y)}d.replaceChildren(...g)}(t,0,this.getColumnCount(),this.getColWidths()),R_(t,l,this.getFormatType())}updateDOM(e,t,l){const s=this.getDOMSlot(t).element;var o;return ht(o=t)&&o.nodeName==="DIV"&&this.updateTableWrapper(e,t,s,l),this.updateTableElement(e,this.getDOMSlot(t).element,l),!1}exportDOM(e){const t=super.exportDOM(e),{element:l}=t;return{after:s=>{if(t.after&&(s=t.after(s)),!hs(s)&&ht(s)&&(s=s.querySelector("table")),!hs(s))return null;R_(s,e._config,this.getFormatType());const[o]=vi(this,null,null),u=new Map;for(const h of o)for(const y of h){const b=y.cell.getKey();u.has(b)||u.set(b,{colSpan:y.cell.getColSpan(),startColumn:y.startColumn})}const f=new Set;for(const h of s.querySelectorAll(":scope > tr > [data-temporary-table-cell-lexical-key]")){const y=h.getAttribute("data-temporary-table-cell-lexical-key");if(y){const b=u.get(y);if(h.removeAttribute("data-temporary-table-cell-lexical-key"),b){u.delete(y);for(let _=0;_<b.colSpan;_++)f.add(_+b.startColumn)}}}const d=s.querySelector(":scope > colgroup");if(d){const h=Array.from(s.querySelectorAll(":scope > colgroup > col")).filter((y,b)=>f.has(b));d.replaceChildren(...h)}const g=s.querySelectorAll(":scope > tr");if(g.length>0){const h=document.createElement("tbody");for(const y of g)h.appendChild(y);s.append(h)}return s},element:!hs(l)&&ht(l)?l.querySelector("table"):l}}canBeEmpty(){return!1}isShadowRoot(){return!0}getCordsFromCellNode(e,t){const{rows:l,domRows:s}=t;for(let o=0;o<l;o++){const u=s[o];if(u!=null)for(let f=0;f<u.length;f++){const d=u[f];if(d==null)continue;const{elem:g}=d,h=Gg(this,g);if(h!==null&&e.is(h))return{x:f,y:o}}}throw new Error("Cell not found in table.")}getDOMCellFromCords(e,t,l){const{domRows:s}=l,o=s[t];if(o==null)return null;const u=o[e<o.length?e:o.length-1];return u??null}getDOMCellFromCordsOrThrow(e,t,l){const s=this.getDOMCellFromCords(e,t,l);if(!s)throw new Error("Cell not found at cords.");return s}getCellNodeFromCords(e,t,l){const s=this.getDOMCellFromCords(e,t,l);if(s==null)return null;const o=Gt(s.elem);return _e(o)?o:null}getCellNodeFromCordsOrThrow(e,t,l){const s=this.getCellNodeFromCords(e,t,l);if(!s)throw new Error("Node at cords not TableCellNode.");return s}getRowStriping(){return!!this.getLatest().__rowStriping}setRowStriping(e){const t=this.getWritable();return t.__rowStriping=e,t}setFrozenColumns(e){const t=this.getWritable();return t.__frozenColumnCount=e,t}getFrozenColumns(){return this.getLatest().__frozenColumnCount}setFrozenRows(e){const t=this.getWritable();return t.__frozenRowCount=e,t}getFrozenRows(){return this.getLatest().__frozenRowCount}canSelectBefore(){return!0}canIndent(){return!1}getColumnCount(){const e=this.getFirstChild();if(!e)return 0;let t=0;return e.getChildren().forEach(l=>{_e(l)&&(t+=l.getColSpan())}),t}}function bA(r,e){const t=r.getElementByKey(e.getKey());return t===null&&Ee(230),ps(e,t)}function vA(r){const e=gc();r.hasAttribute("data-lexical-row-striping")&&e.setRowStriping(!0);const t=r.querySelector(":scope > colgroup");if(t){let l=[];for(const s of t.querySelectorAll(":scope > col")){let o=s.style.width||"";if(!$g.test(o)&&(o=s.getAttribute("width")||"",!/^\d+$/.test(o))){l=void 0;break}l.push(parseFloat(o))}l&&e.setColWidths(l)}return{after:l=>Uv(l,lt),node:e}}function gc(){return Tt(new jr)}function dt(r){return r instanceof jr}function _A({rows:r,columns:e,includeHeaders:t}){const l=X()||rr();if(!l||!I(l)||ys(l.anchor.getNode()))return!1;const s=qN(Number(r),Number(e),t);$v(s);const o=s.getFirstDescendant();return oe(o)&&o.select(),!0}function SA(r){lt(r.getParent())?r.isEmpty()&&r.append(De()):r.remove()}function xA(r){dt(r.getParent())?Fv(r,_e):r.remove()}function CA(r){Fv(r,lt);const[e]=vi(r,null,null),t=e.reduce((s,o)=>Math.max(s,o.length),0),l=r.getChildren();for(let s=0;s<e.length;++s){const o=l[s];if(!o)continue;lt(o)||Ee(254,o.constructor.name,o.getType());const u=e[s].reduce((f,d)=>d?1+f:f,0);if(u!==t)for(let f=u;f<t;++f){const d=jn();d.append(De()),o.append(d)}}}function EA(r){if(r.detail<3||!ir(r.target))return!1;const e=Gt(r.target);if(e===null)return!1;const t=Le(e,l=>W(l)&&!l.isInline());return t===null?!1:!!_e(t.getParent())&&(t.select(0),!0)}function wA(r){return r.registerNodeTransform(ur,e=>{if(e.getColSpan()>1||e.getRowSpan()>1){const[,,t]=Ct(e),[l]=Zt(t,e,e),s=l.length,o=l[0].length;let u=t.getFirstChild();lt(u)||Ee(175);const f=[];for(let d=0;d<s;d++){d!==0&&(u=u.getNextSibling(),lt(u)||Ee(175));let g=null;for(let h=0;h<o;h++){const y=l[d][h],b=y.cell;if(y.startRow===d&&y.startColumn===h)g=b,f.push(b);else if(b.getColSpan()>1||b.getRowSpan()>1){_e(b)||Ee(176);const _=jn(b.__headerState);g!==null?g.insertAfter(_):eN(u,_)}}}for(const d of f)d.setColSpan(1),d.setRowSpan(1)}})}function TA(r,e=!0){const t=new Map,l=(o,u,f)=>{const d=dl(o,f),g=gA(o,d,r,e);t.set(u,[g,d])},s=r.registerMutationListener(jr,o=>{r.getEditorState().read(()=>{for(const[u,f]of o){const d=t.get(u);if(f==="created"||f==="updated"){const{tableNode:g,tableElement:h}=x_(u);d===void 0?l(g,u,h):h!==d[1]&&(d[0].removeListeners(),t.delete(u),l(g,u,h))}else f==="destroyed"&&d!==void 0&&(d[0].removeListeners(),t.delete(u))}},{editor:r})},{skipInitialization:!1});return()=>{s();for(const[,[o]]of t)o.removeListeners()}}function NA(r){return r.hasNodes([jr])||Ee(255),ft(r.registerCommand(h_,_A,Te),r.registerCommand(Ed,({nodes:e,selection:t})=>I(t)?ys(t.anchor.getNode())!==null&&e.some(dt):!1,Te),r.registerCommand(oi,EA,Te),r.registerNodeTransform(jr,CA),r.registerNodeTransform(fl,xA),r.registerNodeTransform(ur,SA))}function AA({hasCellMerge:r=!0,hasCellBackgroundColor:e=!0,hasTabHandler:t=!0,hasHorizontalScroll:l=!1}){const[s]=je();return z.useEffect(()=>{yA(s,l)},[s,l]),z.useEffect(()=>NA(s),[s]),z.useEffect(()=>TA(s,t),[s,t]),z.useEffect(()=>{if(!r)return wA(s)},[s,r]),z.useEffect(()=>{if(!e)return s.registerNodeTransform(ur,o=>{o.getBackgroundColor()!==null&&o.setBackgroundColor(null)})},[s,e,r]),null}function Zg(r){const e=r.getShape();return{columns:e.toX-e.fromX+1,rows:e.toY-e.fromY+1}}function OA(r){const e=r.getNodes(),t=[];let l=null,s=null,o=0;for(let u=0;u<e.length;u++){const f=e[u];if(_e(f)){const d=f.getParentOrThrow();if(l!==d){if(s!==null&&o!==s)return!1;l!==null&&(s=o),l=d,o=0}const g=f.__colSpan;for(let h=0;h<g;h++)t[o+h]===void 0&&(t[o+h]=0),t[o+h]+=f.__rowSpan;o+=g}}return(s===null||o===s)&&t.every(u=>u===t[0])}function RA(){const r=X();if(I(r)&&!r.isCollapsed()||Ke(r)&&!r.anchor.is(r.focus)||!I(r)&&!Ke(r))return!1;const[e]=Ct(r.anchor);return e.__colSpan>1||e.__rowSpan>1}function M_(r){if(r.getChildrenSize()!==1)return!1;const e=r.getFirstChildOrThrow();return!(!wn(e)||!e.isEmpty())}function kA(r){const e=r.getLastDescendant();oe(e)?e.select():W(e)?e.selectEnd():e!==null&&e.selectNext()}function D_(r){return r.getEditorState().read(()=>{const e=X();if(I(e)||Ke(e)){const[t]=Ct(e.anchor);if(_e(t))return t.getBackgroundColor()}return null})}function MA({onClose:r,tableCellNode:e,setIsMenuOpen:t,contextRef:l,cellMerge:s}){const[o]=je(),u=z.useRef(null),[f,d]=z.useState(e),[g,h]=z.useState({columns:1,rows:1}),[y,b]=z.useState(!1),[_,v]=z.useState(!1),[S,C]=z.useState(()=>D_(o)||""),{t:w}=ii();z.useEffect(()=>o.registerMutationListener(ur,Y=>{Y.get(f.getKey())==="updated"&&(o.getEditorState().read(()=>{d(f.getLatest())}),C(D_(o)||""))}),[o,f]),z.useEffect(()=>{o.getEditorState().read(()=>{const Y=X();if(Ke(Y)){const Z=Zg(Y);h(Zg(Y)),b(OA(Y)&&(Z.columns>1||Z.rows>1))}v(RA())})},[o]),z.useEffect(()=>{const Y=l.current,Z=u.current,ie=o.getRootElement();if(Y!=null&&Z!=null&&ie!=null){const U=ie.getBoundingClientRect(),G=Y.getBoundingClientRect();Z.style.opacity="1";const K=Z.getBoundingClientRect(),ne=5;let L=G.right+ne;if(L+K.width>window.innerWidth||L+K.width>U.right){const le=G.left-K.width-ne;L=(le<0?ne:le)+window.pageXOffset}Z.style.left=`${L+window.pageXOffset}px`;let J=G.top;if(J+K.height>window.innerHeight){const le=G.bottom-K.height;J=le<0?ne:le}Z.style.top=`${J}px`}},[l,u,o]),z.useEffect(()=>{function Y(Z){u.current!=null&&l.current!=null&&!u.current.contains(Z.target)&&!l.current.contains(Z.target)&&t(!1)}return window.addEventListener("click",Y),()=>window.removeEventListener("click",Y)},[t,l]);const x=z.useCallback(()=>{o.update(()=>{if(f.isAttached()){const Z=gs(f),ie=o.getElementByKey(Z.getKey());if(!ie)throw new Error("Expected to find tableElement in DOM");const U=qg(ie);U!==null&&U.clearHighlight(),Z.markDirty(),d(f.getLatest())}tt().selectStart()})},[o,f]),E=()=>{o.update(()=>{const Y=X();if(Ke(Y)){const{columns:Z,rows:ie}=Zg(Y),U=Y.getNodes();let G=null;for(let K=0;K<U.length;K++){const ne=U[K];if(_e(ne))if(G===null){ne.setColSpan(Z).setRowSpan(ie),G=ne;const L=M_(ne);let J;L&&wn(J=ne.getFirstChild())&&J.remove()}else _e(G)&&(M_(ne)||G.append(...ne.getChildren()),ne.remove())}G!==null&&(G.getChildrenSize()===0&&G.append(De()),kA(G)),r()}})},N=()=>{o.update(()=>{lA()})},A=z.useCallback(Y=>{o.update(()=>{ZN(Y),r()})},[o,r]),O=z.useCallback(Y=>{o.update(()=>{for(let Z=0;Z<g.columns;Z++)QN(Y);r()})},[o,r,g.columns]),R=z.useCallback(()=>{o.update(()=>{eA(),r()})},[o,r]),D=z.useCallback(()=>{o.update(()=>{gs(f).remove(),x(),r()})},[o,f,x,r]),M=z.useCallback(()=>{o.update(()=>{nA(),r()})},[o,r]),B=z.useCallback(()=>{o.update(()=>{const Y=gs(f),Z=VN(f),ie=Y.getChildren();if(Z>=ie.length||Z<0)throw new Error("Expected table cell to be inside of table row.");const U=ie[Z];if(!lt(U))throw new Error("Expected table row");U.getChildren().forEach(G=>{if(!_e(G))throw new Error("Expected table cell");G.toggleHeaderStyle(it.ROW)}),x(),r()})},[o,f,x,r]),H=z.useCallback(()=>{o.update(()=>{const Y=gs(f),Z=GN(f),ie=Y.getChildren(),U=Math.max(...ie.map(G=>G.getChildren().length));if(Z>=U||Z<0)throw new Error("Expected table cell to be inside of table row.");for(let G=0;G<ie.length;G++){const K=ie[G];if(!lt(K))throw new Error("Expected table row");const ne=K.getChildren();if(Z>=ne.length)continue;const L=ne[Z];if(!_e(L))throw new Error("Expected table cell");L.toggleHeaderStyle(it.COLUMN)}x(),r()})},[o,f,x,r]);z.useCallback(Y=>{o.update(()=>{const Z=X();if(I(Z)||Ke(Z)){const[ie]=Ct(Z.anchor);if(_e(ie)&&ie.setBackgroundColor(Y),Ke(Z)){const U=Z.getNodes();for(let G=0;G<U.length;G++){const K=U[G];_e(K)&&K.setBackgroundColor(Y)}}}})},[o]);let q=null;return s&&(y?q=$.jsx("button",{type:"button",className:"item",onClick:()=>E(),"data-test-id":"table-merge-cells",children:"Merge cells"}):_&&(q=$.jsx("button",{type:"button",className:"item",onClick:()=>N(),"data-test-id":"table-unmerge-cells",children:"Unmerge cells"}))),Tn.createPortal($.jsxs("div",{className:"lexical-dropdown",ref:u,onClick:Y=>{Y.stopPropagation()},children:[q,$.jsx("button",{type:"button",className:"item",onClick:()=>A(!1),"data-test-id":"table-insert-row-above",children:$.jsxs("span",{className:"text",children:[w("Insert")," ",w("rows",{count:g.rows})," ",w("above")]})}),$.jsx("button",{type:"button",className:"item",onClick:()=>A(!0),"data-test-id":"table-insert-row-below",children:$.jsxs("span",{className:"text",children:[w("Insert")," ",w("rows",{count:g.rows})," ",w("below")]})}),$.jsx("hr",{}),$.jsx("button",{type:"button",className:"item",onClick:()=>O(!1),"data-test-id":"table-insert-column-before",children:$.jsxs("span",{className:"text",children:[w("Insert")," ",w("cols",{count:g.columns})," ",w("left")]})}),$.jsx("button",{type:"button",className:"item",onClick:()=>O(!0),"data-test-id":"table-insert-column-after",children:$.jsxs("span",{className:"text",children:[w("Insert")," ",w("cols",{count:g.columns})," ",w("right")]})}),$.jsx("hr",{}),$.jsx("button",{type:"button",className:"item",onClick:()=>M(),"data-test-id":"table-delete-columns",children:$.jsx("span",{className:"text",children:w("Delete column")})}),$.jsx("button",{type:"button",className:"item",onClick:()=>R(),"data-test-id":"table-delete-rows",children:$.jsx("span",{className:"text",children:w("Delete row")})}),$.jsx("button",{type:"button",className:"item",onClick:()=>D(),"data-test-id":"table-delete",children:$.jsx("span",{className:"text",children:w("Delete table")})}),$.jsx("hr",{}),$.jsx("button",{type:"button",className:"item",onClick:()=>B(),children:$.jsxs("span",{className:"text",children:[(f.__headerState&it.ROW)===it.ROW?w("Remove"):w("Add")," ",w("row header")]})}),$.jsx("button",{type:"button",className:"item",onClick:()=>H(),"data-test-id":"table-column-header",children:$.jsxs("span",{className:"text",children:[(f.__headerState&it.COLUMN)===it.COLUMN?w("Remove"):w("Add")," ",w("column header")]})})]}),document.body)}function DA({anchorElem:r,cellMerge:e}){const[t]=je(),l=z.useRef(null),s=z.useRef(null),[o,u]=z.useState(!1),[f,d]=z.useState(null),g=z.useCallback(()=>{const y=l.current,b=X(),_=window.getSelection(),v=document.activeElement;if(b==null||y==null){d(null);return}const S=t.getRootElement();if(I(b)&&S!==null&&_!==null&&S.contains(_.anchorNode)){const C=YN(b.anchor.getNode());if(C==null){d(null);return}if(t.getElementByKey(C.getKey())==null){d(null);return}d(C)}else v||d(null)},[t]);z.useEffect(()=>t.registerUpdateListener(()=>{t.getEditorState().read(()=>{g()})})),z.useEffect(()=>{const y=l.current;if(y!=null&&f!=null){const b=t.getElementByKey(f.getKey());if(b!=null){const _=b.getBoundingClientRect(),v=y.getBoundingClientRect(),S=r.getBoundingClientRect(),C=_.top-S.top+4,w=_.right-v.width-10-S.left;y.style.opacity="1",y.style.transform=`translate(${w}px, ${C}px)`}else y.style.opacity="0",y.style.transform="translate(-10000px, -10000px)"}},[l,f,t,r]);const h=z.useRef(f);return z.useEffect(()=>{h.current!==f&&u(!1),h.current=f},[h,f]),$.jsx("div",{className:"table-cell-action-button-container",ref:l,children:f!=null&&$.jsxs($.Fragment,{children:[$.jsx("button",{type:"button",className:"table-cell-action-button chevron-down",onClick:y=>{y.stopPropagation(),u(!o)},ref:s,children:$.jsx("i",{className:"chevron-down"})}),o&&$.jsx(MA,{contextRef:s,setIsMenuOpen:u,onClose:()=>u(!1),tableCellNode:f,cellMerge:e})]})})}function LA({anchorElem:r=document.body,cellMerge:e=!1}){const t=xg();return Tn.createPortal(t?$.jsx(DA,{anchorElem:r,cellMerge:e}):null,r)}function vr(r,...e){const t=new URL("https://lexical.dev/docs/error"),l=new URLSearchParams;l.append("code",r);for(const s of e)l.append("v",s);throw t.search=l.toString(),Error(`Minified Lexical error #${r}; visit ${t.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function Wg(r){let e=1,t=r.getParent();for(;t!=null;){if(Xe(t)){const l=t.getParent();if(Oe(l)){e++,t=l.getParent();continue}vr(40)}return e}return e}function Qg(r){let e=r.getParent();Oe(e)||vr(40);let t=e;for(;t!==null;)t=t.getParent(),Oe(t)&&(e=t);return e}function L_(r){let e=[];const t=r.getChildren().filter(Xe);for(let l=0;l<t.length;l++){const s=t[l],o=s.getFirstChild();Oe(o)?e=e.concat(L_(o)):e.push(s)}return e}function _r(r){return Xe(r)&&Oe(r.getFirstChild())}function z_(r){return yn().append(r)}function $_(r,e){return Xe(r)&&(e.length===0||e.length===1&&r.is(e[0])&&r.getChildrenSize()===0)}function F_(r){const e=X();if(e!==null){let t=e.getNodes();if(I(e)){const s=e.getStartEndPoints();s===null&&vr(143);const[o]=s,u=o.getNode(),f=u.getParent();if(St(u)){const d=u.getFirstChild();if(d)t=d.selectStart().getNodes();else{const g=De();u.append(g),t=g.select().getNodes()}}else if($_(u,t)){const d=ln(r);if(St(f)){u.replace(d);const g=yn();W(u)&&(g.setFormat(u.getFormatType()),g.setIndent(u.getIndent())),d.append(g)}else if(Xe(u)){const g=u.getParentOrThrow();hl(d,g.getChildren()),g.replace(d)}return}}const l=new Set;for(let s=0;s<t.length;s++){const o=t[s];if(W(o)&&o.isEmpty()&&!Xe(o)&&!l.has(o.getKey())){B_(o,r);continue}let u=Jd(o)?o.getParent():Xe(o)&&o.isEmpty()?o:null;for(;u!=null;){const f=u.getKey();if(Oe(u)){if(!l.has(f)){const d=ln(r);hl(d,u.getChildren()),u.replace(d),l.add(f)}break}{const d=u.getParent();if(St(d)&&!l.has(f)){l.add(f),B_(u,r);break}u=d}}}}}function hl(r,e){r.splice(r.getChildrenSize(),0,e)}function B_(r,e){if(Oe(r))return r;const t=r.getPreviousSibling(),l=r.getNextSibling(),s=yn();let o;if(hl(s,r.getChildren()),Oe(t)&&e===t.getListType())t.append(s),Oe(l)&&e===l.getListType()&&(hl(t,l.getChildren()),l.remove()),o=t;else if(Oe(l)&&e===l.getListType())l.getFirstChildOrThrow().insertBefore(s),o=l;else{const u=ln(e);u.append(s),r.replace(u),o=u}return s.setFormat(r.getFormatType()),s.setIndent(r.getIndent()),r.remove(),o}function Jg(r,e){const t=r.getLastChild(),l=e.getFirstChild();t&&l&&_r(t)&&_r(l)&&(Jg(t.getFirstChild(),l.getFirstChild()),l.remove());const s=e.getChildren();s.length>0&&r.append(...s),e.remove()}function zA(){const r=X();if(I(r)){const e=new Set,t=r.getNodes(),l=r.anchor.getNode();if($_(l,t))e.add(Qg(l));else for(let s=0;s<t.length;s++){const o=t[s];if(Jd(o)){const u=zv(o,_i);u!=null&&e.add(Qg(u))}}for(const s of e){let o=s;const u=L_(s);for(const f of u){const d=De().setTextStyle(r.style).setTextFormat(r.format);hl(d,f.getChildren()),o.insertAfter(d),o=d,f.__key===r.anchor.key&&lr(r.anchor,rn(mn(d,"next"))),f.__key===r.focus.key&&lr(r.focus,rn(mn(d,"next"))),f.remove()}s.remove()}}}function $A(r){const e=new Set;if(_r(r)||e.has(r.getKey()))return;const t=r.getParent(),l=r.getNextSibling(),s=r.getPreviousSibling();if(_r(l)&&_r(s)){const o=s.getFirstChild();if(Oe(o)){o.append(r);const u=l.getFirstChild();Oe(u)&&(hl(o,u.getChildren()),l.remove(),e.add(l.getKey()))}}else if(_r(l)){const o=l.getFirstChild();if(Oe(o)){const u=o.getFirstChild();u!==null&&u.insertBefore(r)}}else if(_r(s)){const o=s.getFirstChild();Oe(o)&&o.append(r)}else if(Oe(t)){const o=yn().setTextFormat(t.getTextFormat()).setTextStyle(t.getTextStyle()),u=ln(t.getListType()).setTextFormat(t.getTextFormat()).setTextStyle(t.getTextStyle());o.append(u),u.append(r),s?s.insertAfter(o):l?l.insertBefore(o):t.append(o)}}function FA(r){if(_r(r))return;const e=r.getParent(),t=e?e.getParent():void 0;if(Oe(t?t.getParent():void 0)&&Xe(t)&&Oe(e)){const l=e?e.getFirstChild():void 0,s=e?e.getLastChild():void 0;if(r.is(l))t.insertBefore(r),e.isEmpty()&&t.remove();else if(r.is(s))t.insertAfter(r),e.isEmpty()&&t.remove();else{const o=e.getListType(),u=yn(),f=ln(o);u.append(f),r.getPreviousSiblings().forEach(h=>f.append(h));const d=yn(),g=ln(o);d.append(g),hl(g,r.getNextSiblings()),t.insertBefore(u),t.insertAfter(d),t.replace(r)}}}function BA(){const r=X();if(!I(r)||!r.isCollapsed())return!1;const e=r.anchor.getNode();if(!Xe(e)||e.getChildrenSize()!==0)return!1;const t=Qg(e),l=e.getParent();Oe(l)||vr(40);const s=l.getParent();let o;if(St(s))o=De(),t.insertAfter(o);else{if(!Xe(s))return!1;o=yn(),s.insertAfter(o)}o.setTextStyle(r.style).setTextFormat(r.format).select();const u=e.getNextSiblings();if(u.length>0){const f=ln(l.getListType());if(Xe(o)){const d=yn();d.append(f),o.insertAfter(d)}else o.insertAfter(f);f.append(...u)}return function(f){let d=f;for(;d.getNextSibling()==null&&d.getPreviousSibling()==null;){const g=d.getParent();if(g==null||!Xe(g)&&!Oe(g))break;d=g}d.remove()}(e),!0}function hc(...r){const e=[];for(const t of r)if(t&&typeof t=="string")for(const[l]of t.matchAll(/\S+/g))e.push(l);return e}function U_(r,e,t){const l=Ov(e.__textStyle);for(const s in l)r.style.setProperty(`--listitem-marker-${s}`,l[s]);if(t)for(const s in Ov(t.__textStyle))s in l||r.style.removeProperty(`--listitem-marker-${s}`)}let _i=class pE extends hn{static getType(){return"listitem"}static clone(e){return new pE(e.__value,e.__checked,e.__key)}constructor(e,t,l){super(l),this.__value=e===void 0?1:e,this.__checked=t}createDOM(e){const t=document.createElement("li"),l=this.getParent();Oe(l)&&l.getListType()==="check"&&H_(t,this,null),t.value=this.__value,j_(t,e.theme,this);const s=this.__style;return s&&(t.style.cssText=s),U_(t,this,null),t}updateDOM(e,t,l){const s=this.getParent();Oe(s)&&s.getListType()==="check"&&H_(t,this,e),t.value=this.__value,j_(t,l.theme,this);const o=e.__style,u=this.__style;return o!==u&&(u===""?t.removeAttribute("style"):t.style.cssText=u),U_(t,this,e),!1}static transform(){return e=>{if(Xe(e)||vr(144),e.__checked==null)return;const t=e.getParent();Oe(t)&&t.getListType()!=="check"&&e.getChecked()!=null&&e.setChecked(void 0)}}static importDOM(){return{li:()=>({conversion:UA,priority:0})}}static importJSON(e){return yn().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setValue(e.value).setChecked(e.checked)}exportDOM(e){const t=this.createDOM(e._config);t.style.textAlign=this.getFormatType();const l=this.getDirection();return l&&(t.dir=l),{element:t}}exportJSON(){return{...super.exportJSON(),checked:this.getChecked(),value:this.getValue()}}append(...e){for(let t=0;t<e.length;t++){const l=e[t];if(W(l)&&this.canMergeWith(l)){const s=l.getChildren();this.append(...s),l.remove()}else super.append(l)}return this}replace(e,t){if(Xe(e))return super.replace(e);this.setIndent(0);const l=this.getParentOrThrow();if(!Oe(l))return e;if(l.__first===this.getKey())l.insertBefore(e);else if(l.__last===this.getKey())l.insertAfter(e);else{const s=ln(l.getListType());let o=this.getNextSibling();for(;o;){const u=o;o=o.getNextSibling(),s.append(u)}l.insertAfter(e),e.insertAfter(s)}return t&&(W(e)||vr(139),this.getChildren().forEach(s=>{e.append(s)})),this.remove(),l.getChildrenSize()===0&&l.remove(),e}insertAfter(e,t=!0){const l=this.getParentOrThrow();if(Oe(l)||vr(39),Xe(e))return super.insertAfter(e,t);const s=this.getNextSiblings();if(l.insertAfter(e,t),s.length!==0){const o=ln(l.getListType());s.forEach(u=>o.append(u)),e.insertAfter(o,t)}return e}remove(e){const t=this.getPreviousSibling(),l=this.getNextSibling();super.remove(e),t&&l&&_r(t)&&_r(l)&&(Jg(t.getFirstChild(),l.getFirstChild()),l.remove())}insertNewAfter(e,t=!0){const l=yn().updateFromJSON(this.exportJSON()).setChecked(!this.getChecked()&&void 0);return this.insertAfter(l,t),l}collapseAtStart(e){const t=De();this.getChildren().forEach(u=>t.append(u));const l=this.getParentOrThrow(),s=l.getParentOrThrow(),o=Xe(s);if(l.getChildrenSize()===1)if(o)l.remove(),s.select();else{l.insertBefore(t),l.remove();const u=e.anchor,f=e.focus,d=t.getKey();u.type==="element"&&u.getNode().is(this)&&u.set(d,u.offset,"element"),f.type==="element"&&f.getNode().is(this)&&f.set(d,f.offset,"element")}else l.insertBefore(t),this.remove();return!0}getValue(){return this.getLatest().__value}setValue(e){const t=this.getWritable();return t.__value=e,t}getChecked(){const e=this.getLatest();let t;const l=this.getParent();return Oe(l)&&(t=l.getListType()),t==="check"?!!e.__checked:void 0}setChecked(e){const t=this.getWritable();return t.__checked=e,t}toggleChecked(){const e=this.getWritable();return e.setChecked(!e.__checked)}getIndent(){const e=this.getParent();if(e===null||!this.isAttached())return this.getLatest().__indent;let t=e.getParentOrThrow(),l=0;for(;Xe(t);)t=t.getParentOrThrow().getParentOrThrow(),l++;return l}setIndent(e){typeof e!="number"&&vr(117),(e=Math.floor(e))>=0||vr(199);let t=this.getIndent();for(;t!==e;)t<e?($A(this),t++):(FA(this),t--);return this}canInsertAfter(e){return Xe(e)}canReplaceWith(e){return Xe(e)}canMergeWith(e){return Xe(e)||wn(e)}extractWithChild(e,t){if(!I(t))return!1;const l=t.anchor.getNode(),s=t.focus.getNode();return this.isParentOf(l)&&this.isParentOf(s)&&this.getTextContent().length===t.getTextContent().length}isParentRequired(){return!0}createParentElementNode(){return ln("bullet")}canMergeWhenEmpty(){return!0}};function j_(r,e,t){const l=[],s=[],o=e.list,u=o?o.listitem:void 0;let f;if(o&&o.nested&&(f=o.nested.listitem),u!==void 0&&l.push(...hc(u)),o){const d=t.getParent(),g=Oe(d)&&d.getListType()==="check",h=t.getChecked();g&&!h||s.push(o.listitemUnchecked),g&&h||s.push(o.listitemChecked),g&&l.push(h?o.listitemChecked:o.listitemUnchecked)}if(f!==void 0){const d=hc(f);t.getChildren().some(g=>Oe(g))?l.push(...d):s.push(...d)}s.length>0&&yr(r,...s),l.length>0&&xt(r,...l)}function H_(r,e,t,l){Oe(e.getFirstChild())?(r.removeAttribute("role"),r.removeAttribute("tabIndex"),r.removeAttribute("aria-checked")):(r.setAttribute("role","checkbox"),r.setAttribute("tabIndex","-1"),t&&e.__checked===t.__checked||r.setAttribute("aria-checked",e.getChecked()?"true":"false"))}function UA(r){if(r.classList.contains("task-list-item")){for(const t of r.children)if(t.tagName==="INPUT")return jA(t)}const e=r.getAttribute("aria-checked");return{node:yn(e==="true"||e!=="false"&&void 0)}}function jA(r){return r.getAttribute("type")!=="checkbox"?{node:null}:{node:yn(r.hasAttribute("checked"))}}function yn(r){return Tt(new _i(void 0,r))}function Xe(r){return r instanceof _i}let Si=class mE extends hn{static getType(){return"list"}static clone(e){const t=e.__listType||I_[e.__tag];return new mE(t,e.__start,e.__key)}constructor(e="number",t=1,l){super(l);const s=I_[e]||e;this.__listType=s,this.__tag=s==="number"?"ol":"ul",this.__start=t}getTag(){return this.__tag}setListType(e){const t=this.getWritable();return t.__listType=e,t.__tag=e==="number"?"ol":"ul",t}getListType(){return this.__listType}getStart(){return this.__start}setStart(e){const t=this.getWritable();return t.__start=e,t}createDOM(e,t){const l=this.__tag,s=document.createElement(l);return this.__start!==1&&s.setAttribute("start",String(this.__start)),s.__lexicalListType=this.__listType,K_(s,e.theme,this),s}updateDOM(e,t,l){return e.__tag!==this.__tag||(K_(t,l.theme,this),!1)}static transform(){return e=>{Oe(e)||vr(163),function(t){const l=t.getNextSibling();Oe(l)&&t.getListType()===l.getListType()&&Jg(t,l)}(e),function(t){const l=t.getListType()!=="check";let s=t.getStart();for(const o of t.getChildren())Xe(o)&&(o.getValue()!==s&&o.setValue(s),l&&o.getLatest().__checked!=null&&o.setChecked(void 0),Oe(o.getFirstChild())||s++)}(e)}}static importDOM(){return{ol:()=>({conversion:P_,priority:0}),ul:()=>({conversion:P_,priority:0})}}static importJSON(e){return ln().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setListType(e.listType).setStart(e.start)}exportDOM(e){const t=this.createDOM(e._config,e);return ht(t)&&(this.__start!==1&&t.setAttribute("start",String(this.__start)),this.__listType==="check"&&t.setAttribute("__lexicalListType","check")),{element:t}}exportJSON(){return{...super.exportJSON(),listType:this.getListType(),start:this.getStart(),tag:this.getTag()}}canBeEmpty(){return!1}canIndent(){return!1}splice(e,t,l){let s=l;for(let o=0;o<l.length;o++){const u=l[o];Xe(u)||(s===l&&(s=[...l]),s[o]=yn().append(!W(u)||Oe(u)||u.isInline()?u:Fe(u.getTextContent())))}return super.splice(e,t,s)}extractWithChild(e){return Xe(e)}};function K_(r,e,t){const l=[],s=[],o=e.list;if(o!==void 0){const u=o[`${t.__tag}Depth`]||[],f=Wg(t)-1,d=f%u.length,g=u[d],h=o[t.__tag];let y;const b=o.nested,_=o.checklist;if(b!==void 0&&b.list&&(y=b.list),h!==void 0&&l.push(h),_!==void 0&&t.__listType==="check"&&l.push(_),g!==void 0){l.push(...hc(g));for(let v=0;v<u.length;v++)v!==d&&s.push(t.__tag+v)}if(y!==void 0){const v=hc(y);f>1?l.push(...v):s.push(...v)}}s.length>0&&yr(r,...s),l.length>0&&xt(r,...l)}function HA(r){const e=[];for(let t=0;t<r.length;t++){const l=r[t];if(Xe(l)){e.push(l);const s=l.getChildren();s.length>1&&s.forEach(o=>{Oe(o)&&e.push(z_(o))})}else e.push(z_(l))}return e}function P_(r){const e=r.nodeName.toLowerCase();let t=null;return e==="ol"?t=ln("number",r.start):e==="ul"&&(t=function(l){if(l.getAttribute("__lexicallisttype")==="check"||l.classList.contains("contains-task-list"))return!0;for(const s of l.childNodes)if(ht(s)&&s.hasAttribute("aria-checked"))return!0;return!1}(r)?ln("check"):ln("bullet")),{after:HA,node:t}}const I_={ol:"number",ul:"bullet"};function ln(r="number",e=1){return Tt(new Si(r,e))}function Oe(r){return r instanceof Si}const q_=cn(),Y_=cn(),eh=cn();function KA(r){return ft(r.registerCommand(Y_,()=>(F_("number"),!0),ke),r.registerCommand(q_,()=>(F_("bullet"),!0),ke),r.registerCommand(eh,()=>(zA(),!0),ke),r.registerCommand(ci,()=>BA(),ke),r.registerNodeTransform(_i,e=>{const t=e.getFirstChild();if(t){if(oe(t)){const l=t.getStyle(),s=t.getFormat();e.getTextStyle()!==l&&e.setTextStyle(l),e.getTextFormat()!==s&&e.setTextFormat(s)}}else{const l=X();I(l)&&(l.style!==e.getTextStyle()||l.format!==e.getTextFormat())&&l.isCollapsed()&&e.is(l.anchor.getNode())&&e.setTextStyle(l.style).setTextFormat(l.format)}}),r.registerNodeTransform(nr,e=>{const t=e.getParent();if(Xe(t)&&e.is(t.getFirstChild())){const l=e.getStyle(),s=e.getFormat();l===t.getTextStyle()&&s===t.getTextFormat()||t.setTextStyle(l).setTextFormat(s)}}))}function PA(r){const e=t=>{const l=t.getParent();if(Oe(t.getFirstChild())||!Oe(l))return;const s=Le(t,o=>Xe(o)&&Oe(o.getParent())&&Xe(o.getPreviousSibling()));if(s===null&&t.getIndent()>0)t.setIndent(0);else if(Xe(s)){const o=s.getPreviousSibling();if(Xe(o)){const u=function(d){let g=d,h=g.getFirstChild();for(;Oe(h);){const y=h.getLastChild();if(!Xe(y))break;g=y,h=g.getFirstChild()}return g}(o),f=u.getParent();if(Oe(f)){const d=Wg(f);d+1<Wg(l)&&t.setIndent(d)}}}};return r.registerNodeTransform(Si,t=>{const l=[t];for(;l.length>0;){const s=l.shift();if(Oe(s)){for(const o of s.getChildren())if(Xe(o)){e(o);const u=o.getFirstChild();Oe(u)&&l.push(u)}}}})}function V_(r,e){return r.getEditorState().read(()=>{const t=Ze(e);return t!==null&&t.isSelected()})}function th(r){const[e]=je(),[t,l]=z.useState(()=>V_(e,r));return z.useEffect(()=>{let s=!0;const o=e.registerUpdateListener(()=>{s&&l(V_(e,r))});return()=>{s=!1,o()}},[e,r]),[t,z.useCallback(s=>{e.update(()=>{let o=X();et(o)||(o=Pd(),qe(o)),et(o)&&(s?o.add(r):o.delete(r))})},[e,r]),z.useCallback(()=>{e.update(()=>{const s=X();et(s)&&s.clear()})},[e])]}const G_=cn();function IA({nodeKey:r}){const[e]=je(),[t,l,s]=th(r);return z.useEffect(()=>ft(e.registerCommand(oi,o=>{const u=e.getElementByKey(r);return o.target===u&&(o.shiftKey||s(),l(!t),!0)},ke)),[s,e,t,r,l]),z.useEffect(()=>{const o=e.getElementByKey(r),u=e._config.theme.hrSelected??"selected";o!==null&&(t?xt(o,u):yr(o,u))},[e,t,r]),null}let Va=class yE extends Bu{static getType(){return"horizontalrule"}static clone(e){return new yE(e.__key)}static importJSON(e){return Ga().updateFromJSON(e)}static importDOM(){return{hr:()=>({conversion:qA,priority:0})}}exportDOM(){return{element:document.createElement("hr")}}createDOM(e){const t=document.createElement("hr");return xt(t,e.theme.hr),t}getTextContent(){return`
`}isInline(){return!1}updateDOM(){return!1}decorate(){return $.jsx(IA,{nodeKey:this.__key})}};function qA(){return{node:Ga()}}function Ga(){return Tt(new Va)}function X_(r){return r instanceof Va}var nh={exports:{}},Z_;function YA(){return Z_||(Z_=1,function(r){var e=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{};/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */var t=function(l){var s=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,o=0,u={},f={manual:l.Prism&&l.Prism.manual,disableWorkerMessageHandler:l.Prism&&l.Prism.disableWorkerMessageHandler,util:{encode:function x(E){return E instanceof d?new d(E.type,x(E.content),E.alias):Array.isArray(E)?E.map(x):E.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(x){return Object.prototype.toString.call(x).slice(8,-1)},objId:function(x){return x.__id||Object.defineProperty(x,"__id",{value:++o}),x.__id},clone:function x(E,N){N=N||{};var A,O;switch(f.util.type(E)){case"Object":if(O=f.util.objId(E),N[O])return N[O];A={},N[O]=A;for(var R in E)E.hasOwnProperty(R)&&(A[R]=x(E[R],N));return A;case"Array":return O=f.util.objId(E),N[O]?N[O]:(A=[],N[O]=A,E.forEach(function(D,M){A[M]=x(D,N)}),A);default:return E}},getLanguage:function(x){for(;x;){var E=s.exec(x.className);if(E)return E[1].toLowerCase();x=x.parentElement}return"none"},setLanguage:function(x,E){x.className=x.className.replace(RegExp(s,"gi"),""),x.classList.add("language-"+E)},currentScript:function(){if(typeof document>"u")return null;if(document.currentScript&&document.currentScript.tagName==="SCRIPT")return document.currentScript;try{throw new Error}catch(A){var x=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(A.stack)||[])[1];if(x){var E=document.getElementsByTagName("script");for(var N in E)if(E[N].src==x)return E[N]}return null}},isActive:function(x,E,N){for(var A="no-"+E;x;){var O=x.classList;if(O.contains(E))return!0;if(O.contains(A))return!1;x=x.parentElement}return!!N}},languages:{plain:u,plaintext:u,text:u,txt:u,extend:function(x,E){var N=f.util.clone(f.languages[x]);for(var A in E)N[A]=E[A];return N},insertBefore:function(x,E,N,A){A=A||f.languages;var O=A[x],R={};for(var D in O)if(O.hasOwnProperty(D)){if(D==E)for(var M in N)N.hasOwnProperty(M)&&(R[M]=N[M]);N.hasOwnProperty(D)||(R[D]=O[D])}var B=A[x];return A[x]=R,f.languages.DFS(f.languages,function(H,q){q===B&&H!=x&&(this[H]=R)}),R},DFS:function x(E,N,A,O){O=O||{};var R=f.util.objId;for(var D in E)if(E.hasOwnProperty(D)){N.call(E,D,E[D],A||D);var M=E[D],B=f.util.type(M);B==="Object"&&!O[R(M)]?(O[R(M)]=!0,x(M,N,null,O)):B==="Array"&&!O[R(M)]&&(O[R(M)]=!0,x(M,N,D,O))}}},plugins:{},highlightAll:function(x,E){f.highlightAllUnder(document,x,E)},highlightAllUnder:function(x,E,N){var A={callback:N,container:x,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};f.hooks.run("before-highlightall",A),A.elements=Array.prototype.slice.apply(A.container.querySelectorAll(A.selector)),f.hooks.run("before-all-elements-highlight",A);for(var O=0,R;R=A.elements[O++];)f.highlightElement(R,E===!0,A.callback)},highlightElement:function(x,E,N){var A=f.util.getLanguage(x),O=f.languages[A];f.util.setLanguage(x,A);var R=x.parentElement;R&&R.nodeName.toLowerCase()==="pre"&&f.util.setLanguage(R,A);var D=x.textContent,M={element:x,language:A,grammar:O,code:D};function B(q){M.highlightedCode=q,f.hooks.run("before-insert",M),M.element.innerHTML=M.highlightedCode,f.hooks.run("after-highlight",M),f.hooks.run("complete",M),N&&N.call(M.element)}if(f.hooks.run("before-sanity-check",M),R=M.element.parentElement,R&&R.nodeName.toLowerCase()==="pre"&&!R.hasAttribute("tabindex")&&R.setAttribute("tabindex","0"),!M.code){f.hooks.run("complete",M),N&&N.call(M.element);return}if(f.hooks.run("before-highlight",M),!M.grammar){B(f.util.encode(M.code));return}if(E&&l.Worker){var H=new Worker(f.filename);H.onmessage=function(q){B(q.data)},H.postMessage(JSON.stringify({language:M.language,code:M.code,immediateClose:!0}))}else B(f.highlight(M.code,M.grammar,M.language))},highlight:function(x,E,N){var A={code:x,grammar:E,language:N};if(f.hooks.run("before-tokenize",A),!A.grammar)throw new Error('The language "'+A.language+'" has no grammar.');return A.tokens=f.tokenize(A.code,A.grammar),f.hooks.run("after-tokenize",A),d.stringify(f.util.encode(A.tokens),A.language)},tokenize:function(x,E){var N=E.rest;if(N){for(var A in N)E[A]=N[A];delete E.rest}var O=new y;return b(O,O.head,x),h(x,O,E,O.head,0),v(O)},hooks:{all:{},add:function(x,E){var N=f.hooks.all;N[x]=N[x]||[],N[x].push(E)},run:function(x,E){var N=f.hooks.all[x];if(!(!N||!N.length))for(var A=0,O;O=N[A++];)O(E)}},Token:d};l.Prism=f;function d(x,E,N,A){this.type=x,this.content=E,this.alias=N,this.length=(A||"").length|0}d.stringify=function x(E,N){if(typeof E=="string")return E;if(Array.isArray(E)){var A="";return E.forEach(function(B){A+=x(B,N)}),A}var O={type:E.type,content:x(E.content,N),tag:"span",classes:["token",E.type],attributes:{},language:N},R=E.alias;R&&(Array.isArray(R)?Array.prototype.push.apply(O.classes,R):O.classes.push(R)),f.hooks.run("wrap",O);var D="";for(var M in O.attributes)D+=" "+M+'="'+(O.attributes[M]||"").replace(/"/g,"&quot;")+'"';return"<"+O.tag+' class="'+O.classes.join(" ")+'"'+D+">"+O.content+"</"+O.tag+">"};function g(x,E,N,A){x.lastIndex=E;var O=x.exec(N);if(O&&A&&O[1]){var R=O[1].length;O.index+=R,O[0]=O[0].slice(R)}return O}function h(x,E,N,A,O,R){for(var D in N)if(!(!N.hasOwnProperty(D)||!N[D])){var M=N[D];M=Array.isArray(M)?M:[M];for(var B=0;B<M.length;++B){if(R&&R.cause==D+","+B)return;var H=M[B],q=H.inside,Y=!!H.lookbehind,Z=!!H.greedy,ie=H.alias;if(Z&&!H.pattern.global){var U=H.pattern.toString().match(/[imsuy]*$/)[0];H.pattern=RegExp(H.pattern.source,U+"g")}for(var G=H.pattern||H,K=A.next,ne=O;K!==E.tail&&!(R&&ne>=R.reach);ne+=K.value.length,K=K.next){var L=K.value;if(E.length>x.length)return;if(!(L instanceof d)){var J=1,le;if(Z){if(le=g(G,ne,x,Y),!le||le.index>=x.length)break;var me=le.index,ge=le.index+le[0].length,he=ne;for(he+=K.value.length;me>=he;)K=K.next,he+=K.value.length;if(he-=K.value.length,ne=he,K.value instanceof d)continue;for(var Ce=K;Ce!==E.tail&&(he<ge||typeof Ce.value=="string");Ce=Ce.next)J++,he+=Ce.value.length;J--,L=x.slice(ne,he),le.index-=ne}else if(le=g(G,0,L,Y),!le)continue;var me=le.index,pe=le[0],be=L.slice(0,me),ze=L.slice(me+pe.length),Ye=ne+L.length;R&&Ye>R.reach&&(R.reach=Ye);var re=K.prev;be&&(re=b(E,re,be),ne+=be.length),_(E,re,J);var ue=new d(D,q?f.tokenize(pe,q):pe,ie,pe);if(K=b(E,re,ue),ze&&b(E,K,ze),J>1){var fe={cause:D+","+B,reach:Ye};h(x,E,N,K.prev,ne,fe),R&&fe.reach>R.reach&&(R.reach=fe.reach)}}}}}}function y(){var x={value:null,prev:null,next:null},E={value:null,prev:x,next:null};x.next=E,this.head=x,this.tail=E,this.length=0}function b(x,E,N){var A=E.next,O={value:N,prev:E,next:A};return E.next=O,A.prev=O,x.length++,O}function _(x,E,N){for(var A=E.next,O=0;O<N&&A!==x.tail;O++)A=A.next;E.next=A,A.prev=E,x.length-=O}function v(x){for(var E=[],N=x.head.next;N!==x.tail;)E.push(N.value),N=N.next;return E}if(!l.document)return l.addEventListener&&(f.disableWorkerMessageHandler||l.addEventListener("message",function(x){var E=JSON.parse(x.data),N=E.language,A=E.code,O=E.immediateClose;l.postMessage(f.highlight(A,f.languages[N],N)),O&&l.close()},!1)),f;var S=f.util.currentScript();S&&(f.filename=S.src,S.hasAttribute("data-manual")&&(f.manual=!0));function C(){f.manual||f.highlightAll()}if(!f.manual){var w=document.readyState;w==="loading"||w==="interactive"&&S&&S.defer?document.addEventListener("DOMContentLoaded",C):window.requestAnimationFrame?window.requestAnimationFrame(C):window.setTimeout(C,16)}return f}(e);r.exports&&(r.exports=t),typeof qt<"u"&&(qt.Prism=t),t.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},t.languages.markup.tag.inside["attr-value"].inside.entity=t.languages.markup.entity,t.languages.markup.doctype.inside["internal-subset"].inside=t.languages.markup,t.hooks.add("wrap",function(l){l.type==="entity"&&(l.attributes.title=l.content.replace(/&amp;/,"&"))}),Object.defineProperty(t.languages.markup.tag,"addInlined",{value:function(s,o){var u={};u["language-"+o]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:t.languages[o]},u.cdata=/^<!\[CDATA\[|\]\]>$/i;var f={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:u}};f["language-"+o]={pattern:/[\s\S]+/,inside:t.languages[o]};var d={};d[s]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return s}),"i"),lookbehind:!0,greedy:!0,inside:f},t.languages.insertBefore("markup","cdata",d)}}),Object.defineProperty(t.languages.markup.tag,"addAttribute",{value:function(l,s){t.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+l+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[s,"language-"+s],inside:t.languages[s]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),t.languages.html=t.languages.markup,t.languages.mathml=t.languages.markup,t.languages.svg=t.languages.markup,t.languages.xml=t.languages.extend("markup",{}),t.languages.ssml=t.languages.xml,t.languages.atom=t.languages.xml,t.languages.rss=t.languages.xml,function(l){var s=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;l.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+s.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+s.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+s.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+s.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:s,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},l.languages.css.atrule.inside.rest=l.languages.css;var o=l.languages.markup;o&&(o.tag.addInlined("style","css"),o.tag.addAttribute("style","css"))}(t),t.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},t.languages.javascript=t.languages.extend("clike",{"class-name":[t.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),t.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,t.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:t.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:t.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:t.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:t.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:t.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),t.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:t.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),t.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),t.languages.markup&&(t.languages.markup.tag.addInlined("script","javascript"),t.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),t.languages.js=t.languages.javascript,function(){if(typeof t>"u"||typeof document>"u")return;Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var l="Loading",s=function(S,C){return" Error "+S+" while fetching file: "+C},o=" Error: File does not exist or is empty",u={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},f="data-src-status",d="loading",g="loaded",h="failed",y="pre[data-src]:not(["+f+'="'+g+'"]):not(['+f+'="'+d+'"])';function b(S,C,w){var x=new XMLHttpRequest;x.open("GET",S,!0),x.onreadystatechange=function(){x.readyState==4&&(x.status<400&&x.responseText?C(x.responseText):x.status>=400?w(s(x.status,x.statusText)):w(o))},x.send(null)}function _(S){var C=/^\s*(\d+)\s*(?:(,)\s*(?:(\d+)\s*)?)?$/.exec(S||"");if(C){var w=Number(C[1]),x=C[2],E=C[3];return x?E?[w,Number(E)]:[w,void 0]:[w,w]}}t.hooks.add("before-highlightall",function(S){S.selector+=", "+y}),t.hooks.add("before-sanity-check",function(S){var C=S.element;if(C.matches(y)){S.code="",C.setAttribute(f,d);var w=C.appendChild(document.createElement("CODE"));w.textContent=l;var x=C.getAttribute("data-src"),E=S.language;if(E==="none"){var N=(/\.(\w+)$/.exec(x)||[,"none"])[1];E=u[N]||N}t.util.setLanguage(w,E),t.util.setLanguage(C,E);var A=t.plugins.autoloader;A&&A.loadLanguages(E),b(x,function(O){C.setAttribute(f,g);var R=_(C.getAttribute("data-range"));if(R){var D=O.split(/\r\n?|\n/g),M=R[0],B=R[1]==null?D.length:R[1];M<0&&(M+=D.length),M=Math.max(0,Math.min(M-1,D.length)),B<0&&(B+=D.length),B=Math.max(0,Math.min(B,D.length)),O=D.slice(M,B).join(`
`),C.hasAttribute("data-start")||C.setAttribute("data-start",String(M+1))}w.textContent=O,t.highlightElement(w)},function(O){C.setAttribute(f,h),w.textContent=O})}}),t.plugins.fileHighlight={highlight:function(C){for(var w=(C||document).querySelectorAll(y),x=0,E;E=w[x++];)t.highlightElement(E)}};var v=!1;t.fileHighlight=function(){v||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),v=!0),t.plugins.fileHighlight.highlight.apply(this,arguments)}}()}(nh)),nh.exports}YA(),Prism.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},Prism.languages.javascript=Prism.languages.extend("clike",{"class-name":[Prism.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),Prism.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:Prism.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:Prism.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),Prism.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:Prism.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),Prism.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),Prism.languages.markup&&(Prism.languages.markup.tag.addInlined("script","javascript"),Prism.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),Prism.languages.js=Prism.languages.javascript,Prism.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},Prism.languages.markup.tag.inside["attr-value"].inside.entity=Prism.languages.markup.entity,Prism.languages.markup.doctype.inside["internal-subset"].inside=Prism.languages.markup,Prism.hooks.add("wrap",function(r){r.type==="entity"&&(r.attributes.title=r.content.replace(/&amp;/,"&"))}),Object.defineProperty(Prism.languages.markup.tag,"addInlined",{value:function(e,t){var l={};l["language-"+t]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:Prism.languages[t]},l.cdata=/^<!\[CDATA\[|\]\]>$/i;var s={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:l}};s["language-"+t]={pattern:/[\s\S]+/,inside:Prism.languages[t]};var o={};o[e]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return e}),"i"),lookbehind:!0,greedy:!0,inside:s},Prism.languages.insertBefore("markup","cdata",o)}}),Object.defineProperty(Prism.languages.markup.tag,"addAttribute",{value:function(r,e){Prism.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+r+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[e,"language-"+e],inside:Prism.languages[e]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),Prism.languages.html=Prism.languages.markup,Prism.languages.mathml=Prism.languages.markup,Prism.languages.svg=Prism.languages.markup,Prism.languages.xml=Prism.languages.extend("markup",{}),Prism.languages.ssml=Prism.languages.xml,Prism.languages.atom=Prism.languages.xml,Prism.languages.rss=Prism.languages.xml,function(r){var e=/(?:\\.|[^\\\n\r]|(?:\n|\r\n?)(?![\r\n]))/.source;function t(h){return h=h.replace(/<inner>/g,function(){return e}),RegExp(/((?:^|[^\\])(?:\\{2})*)/.source+"(?:"+h+")")}var l=/(?:\\.|``(?:[^`\r\n]|`(?!`))+``|`[^`\r\n]+`|[^\\|\r\n`])+/.source,s=/\|?__(?:\|__)+\|?(?:(?:\n|\r\n?)|(?![\s\S]))/.source.replace(/__/g,function(){return l}),o=/\|?[ \t]*:?-{3,}:?[ \t]*(?:\|[ \t]*:?-{3,}:?[ \t]*)+\|?(?:\n|\r\n?)/.source;r.languages.markdown=r.languages.extend("markup",{}),r.languages.insertBefore("markdown","prolog",{"front-matter-block":{pattern:/(^(?:\s*[\r\n])?)---(?!.)[\s\S]*?[\r\n]---(?!.)/,lookbehind:!0,greedy:!0,inside:{punctuation:/^---|---$/,"front-matter":{pattern:/\S+(?:\s+\S+)*/,alias:["yaml","language-yaml"],inside:r.languages.yaml}}},blockquote:{pattern:/^>(?:[\t ]*>)*/m,alias:"punctuation"},table:{pattern:RegExp("^"+s+o+"(?:"+s+")*","m"),inside:{"table-data-rows":{pattern:RegExp("^("+s+o+")(?:"+s+")*$"),lookbehind:!0,inside:{"table-data":{pattern:RegExp(l),inside:r.languages.markdown},punctuation:/\|/}},"table-line":{pattern:RegExp("^("+s+")"+o+"$"),lookbehind:!0,inside:{punctuation:/\||:?-{3,}:?/}},"table-header-row":{pattern:RegExp("^"+s+"$"),inside:{"table-header":{pattern:RegExp(l),alias:"important",inside:r.languages.markdown},punctuation:/\|/}}}},code:[{pattern:/((?:^|\n)[ \t]*\n|(?:^|\r\n?)[ \t]*\r\n?)(?: {4}|\t).+(?:(?:\n|\r\n?)(?: {4}|\t).+)*/,lookbehind:!0,alias:"keyword"},{pattern:/^```[\s\S]*?^```$/m,greedy:!0,inside:{"code-block":{pattern:/^(```.*(?:\n|\r\n?))[\s\S]+?(?=(?:\n|\r\n?)^```$)/m,lookbehind:!0},"code-language":{pattern:/^(```).+/,lookbehind:!0},punctuation:/```/}}],title:[{pattern:/\S.*(?:\n|\r\n?)(?:==+|--+)(?=[ \t]*$)/m,alias:"important",inside:{punctuation:/==+$|--+$/}},{pattern:/(^\s*)#.+/m,lookbehind:!0,alias:"important",inside:{punctuation:/^#+|#+$/}}],hr:{pattern:/(^\s*)([*-])(?:[\t ]*\2){2,}(?=\s*$)/m,lookbehind:!0,alias:"punctuation"},list:{pattern:/(^\s*)(?:[*+-]|\d+\.)(?=[\t ].)/m,lookbehind:!0,alias:"punctuation"},"url-reference":{pattern:/!?\[[^\]]+\]:[\t ]+(?:\S+|<(?:\\.|[^>\\])+>)(?:[\t ]+(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\)))?/,inside:{variable:{pattern:/^(!?\[)[^\]]+/,lookbehind:!0},string:/(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\))$/,punctuation:/^[\[\]!:]|[<>]/},alias:"url"},bold:{pattern:t(/\b__(?:(?!_)<inner>|_(?:(?!_)<inner>)+_)+__\b|\*\*(?:(?!\*)<inner>|\*(?:(?!\*)<inner>)+\*)+\*\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^..)[\s\S]+(?=..$)/,lookbehind:!0,inside:{}},punctuation:/\*\*|__/}},italic:{pattern:t(/\b_(?:(?!_)<inner>|__(?:(?!_)<inner>)+__)+_\b|\*(?:(?!\*)<inner>|\*\*(?:(?!\*)<inner>)+\*\*)+\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^.)[\s\S]+(?=.$)/,lookbehind:!0,inside:{}},punctuation:/[*_]/}},strike:{pattern:t(/(~~?)(?:(?!~)<inner>)+\2/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^~~?)[\s\S]+(?=\1$)/,lookbehind:!0,inside:{}},punctuation:/~~?/}},"code-snippet":{pattern:/(^|[^\\`])(?:``[^`\r\n]+(?:`[^`\r\n]+)*``(?!`)|`[^`\r\n]+`(?!`))/,lookbehind:!0,greedy:!0,alias:["code","keyword"]},url:{pattern:t(/!?\[(?:(?!\])<inner>)+\](?:\([^\s)]+(?:[\t ]+"(?:\\.|[^"\\])*")?\)|[ \t]?\[(?:(?!\])<inner>)+\])/.source),lookbehind:!0,greedy:!0,inside:{operator:/^!/,content:{pattern:/(^\[)[^\]]+(?=\])/,lookbehind:!0,inside:{}},variable:{pattern:/(^\][ \t]?\[)[^\]]+(?=\]$)/,lookbehind:!0},url:{pattern:/(^\]\()[^\s)]+/,lookbehind:!0},string:{pattern:/(^[ \t]+)"(?:\\.|[^"\\])*"(?=\)$)/,lookbehind:!0}}}}),["url","bold","italic","strike"].forEach(function(h){["url","bold","italic","strike","code-snippet"].forEach(function(y){h!==y&&(r.languages.markdown[h].inside.content.inside[y]=r.languages.markdown[y])})}),r.hooks.add("after-tokenize",function(h){if(h.language!=="markdown"&&h.language!=="md")return;function y(b){if(!(!b||typeof b=="string"))for(var _=0,v=b.length;_<v;_++){var S=b[_];if(S.type!=="code"){y(S.content);continue}var C=S.content[1],w=S.content[3];if(C&&w&&C.type==="code-language"&&w.type==="code-block"&&typeof C.content=="string"){var x=C.content.replace(/\b#/g,"sharp").replace(/\b\+\+/g,"pp");x=(/[a-z][\w-]*/i.exec(x)||[""])[0].toLowerCase();var E="language-"+x;w.alias?typeof w.alias=="string"?w.alias=[w.alias,E]:w.alias.push(E):w.alias=[E]}}}y(h.tokens)}),r.hooks.add("wrap",function(h){if(h.type==="code-block"){for(var y="",b=0,_=h.classes.length;b<_;b++){var v=h.classes[b],S=/language-(.+)/.exec(v);if(S){y=S[1];break}}var C=r.languages[y];if(C)h.content=r.highlight(g(h.content),C,y);else if(y&&y!=="none"&&r.plugins.autoloader){var w="md-"+new Date().valueOf()+"-"+Math.floor(Math.random()*1e16);h.attributes.id=w,r.plugins.autoloader.loadLanguages(y,function(){var x=document.getElementById(w);x&&(x.innerHTML=r.highlight(x.textContent,r.languages[y],y))})}}});var u=RegExp(r.languages.markup.tag.pattern.source,"gi"),f={amp:"&",lt:"<",gt:">",quot:'"'},d=String.fromCodePoint||String.fromCharCode;function g(h){var y=h.replace(u,"");return y=y.replace(/&(\w{1,8}|#x?[\da-f]{1,8});/gi,function(b,_){if(_=_.toLowerCase(),_[0]==="#"){var v;return _[1]==="x"?v=parseInt(_.slice(2),16):v=Number(_.slice(1)),d(v)}else{var S=f[_];return S||b}}),y}r.languages.md=r.languages.markdown}(Prism),Prism.languages.c=Prism.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|__attribute__|asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|inline|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|typeof|union|unsigned|void|volatile|while)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/}),Prism.languages.insertBefore("c","string",{char:{pattern:/'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n]){0,32}'/,greedy:!0}}),Prism.languages.insertBefore("c","string",{macro:{pattern:/(^[\t ]*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},Prism.languages.c.string],char:Prism.languages.c.char,comment:Prism.languages.c.comment,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:Prism.languages.c}}}}),Prism.languages.insertBefore("c","function",{constant:/\b(?:EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|__DATE__|__FILE__|__LINE__|__TIMESTAMP__|__TIME__|__func__|stderr|stdin|stdout)\b/}),delete Prism.languages.c.boolean,function(r){var e=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;r.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+e.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+e.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+e.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+e.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:e,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},r.languages.css.atrule.inside.rest=r.languages.css;var t=r.languages.markup;t&&(t.tag.addInlined("style","css"),t.tag.addAttribute("style","css"))}(Prism),Prism.languages.objectivec=Prism.languages.extend("c",{string:{pattern:/@?"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},keyword:/\b(?:asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|in|inline|int|long|register|return|self|short|signed|sizeof|static|struct|super|switch|typedef|typeof|union|unsigned|void|volatile|while)\b|(?:@interface|@end|@implementation|@protocol|@class|@public|@protected|@private|@property|@try|@catch|@finally|@throw|@synthesize|@dynamic|@selector)\b/,operator:/-[->]?|\+\+?|!=?|<<?=?|>>?=?|==?|&&?|\|\|?|[~^%?*\/@]/}),delete Prism.languages.objectivec["class-name"],Prism.languages.objc=Prism.languages.objectivec,Prism.languages.sql={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:--|\/\/|#).*)/,lookbehind:!0},variable:[{pattern:/@(["'`])(?:\\[\s\S]|(?!\1)[^\\])+\1/,greedy:!0},/@[\w.$]+/],string:{pattern:/(^|[^@\\])("|')(?:\\[\s\S]|(?!\2)[^\\]|\2\2)*\2/,greedy:!0,lookbehind:!0},identifier:{pattern:/(^|[^@\\])`(?:\\[\s\S]|[^`\\]|``)*`/,greedy:!0,lookbehind:!0,inside:{punctuation:/^`|`$/}},function:/\b(?:AVG|COUNT|FIRST|FORMAT|LAST|LCASE|LEN|MAX|MID|MIN|MOD|NOW|ROUND|SUM|UCASE)(?=\s*\()/i,keyword:/\b(?:ACTION|ADD|AFTER|ALGORITHM|ALL|ALTER|ANALYZE|ANY|APPLY|AS|ASC|AUTHORIZATION|AUTO_INCREMENT|BACKUP|BDB|BEGIN|BERKELEYDB|BIGINT|BINARY|BIT|BLOB|BOOL|BOOLEAN|BREAK|BROWSE|BTREE|BULK|BY|CALL|CASCADED?|CASE|CHAIN|CHAR(?:ACTER|SET)?|CHECK(?:POINT)?|CLOSE|CLUSTERED|COALESCE|COLLATE|COLUMNS?|COMMENT|COMMIT(?:TED)?|COMPUTE|CONNECT|CONSISTENT|CONSTRAINT|CONTAINS(?:TABLE)?|CONTINUE|CONVERT|CREATE|CROSS|CURRENT(?:_DATE|_TIME|_TIMESTAMP|_USER)?|CURSOR|CYCLE|DATA(?:BASES?)?|DATE(?:TIME)?|DAY|DBCC|DEALLOCATE|DEC|DECIMAL|DECLARE|DEFAULT|DEFINER|DELAYED|DELETE|DELIMITERS?|DENY|DESC|DESCRIBE|DETERMINISTIC|DISABLE|DISCARD|DISK|DISTINCT|DISTINCTROW|DISTRIBUTED|DO|DOUBLE|DROP|DUMMY|DUMP(?:FILE)?|DUPLICATE|ELSE(?:IF)?|ENABLE|ENCLOSED|END|ENGINE|ENUM|ERRLVL|ERRORS|ESCAPED?|EXCEPT|EXEC(?:UTE)?|EXISTS|EXIT|EXPLAIN|EXTENDED|FETCH|FIELDS|FILE|FILLFACTOR|FIRST|FIXED|FLOAT|FOLLOWING|FOR(?: EACH ROW)?|FORCE|FOREIGN|FREETEXT(?:TABLE)?|FROM|FULL|FUNCTION|GEOMETRY(?:COLLECTION)?|GLOBAL|GOTO|GRANT|GROUP|HANDLER|HASH|HAVING|HOLDLOCK|HOUR|IDENTITY(?:COL|_INSERT)?|IF|IGNORE|IMPORT|INDEX|INFILE|INNER|INNODB|INOUT|INSERT|INT|INTEGER|INTERSECT|INTERVAL|INTO|INVOKER|ISOLATION|ITERATE|JOIN|KEYS?|KILL|LANGUAGE|LAST|LEAVE|LEFT|LEVEL|LIMIT|LINENO|LINES|LINESTRING|LOAD|LOCAL|LOCK|LONG(?:BLOB|TEXT)|LOOP|MATCH(?:ED)?|MEDIUM(?:BLOB|INT|TEXT)|MERGE|MIDDLEINT|MINUTE|MODE|MODIFIES|MODIFY|MONTH|MULTI(?:LINESTRING|POINT|POLYGON)|NATIONAL|NATURAL|NCHAR|NEXT|NO|NONCLUSTERED|NULLIF|NUMERIC|OFF?|OFFSETS?|ON|OPEN(?:DATASOURCE|QUERY|ROWSET)?|OPTIMIZE|OPTION(?:ALLY)?|ORDER|OUT(?:ER|FILE)?|OVER|PARTIAL|PARTITION|PERCENT|PIVOT|PLAN|POINT|POLYGON|PRECEDING|PRECISION|PREPARE|PREV|PRIMARY|PRINT|PRIVILEGES|PROC(?:EDURE)?|PUBLIC|PURGE|QUICK|RAISERROR|READS?|REAL|RECONFIGURE|REFERENCES|RELEASE|RENAME|REPEAT(?:ABLE)?|REPLACE|REPLICATION|REQUIRE|RESIGNAL|RESTORE|RESTRICT|RETURN(?:ING|S)?|REVOKE|RIGHT|ROLLBACK|ROUTINE|ROW(?:COUNT|GUIDCOL|S)?|RTREE|RULE|SAVE(?:POINT)?|SCHEMA|SECOND|SELECT|SERIAL(?:IZABLE)?|SESSION(?:_USER)?|SET(?:USER)?|SHARE|SHOW|SHUTDOWN|SIMPLE|SMALLINT|SNAPSHOT|SOME|SONAME|SQL|START(?:ING)?|STATISTICS|STATUS|STRIPED|SYSTEM_USER|TABLES?|TABLESPACE|TEMP(?:ORARY|TABLE)?|TERMINATED|TEXT(?:SIZE)?|THEN|TIME(?:STAMP)?|TINY(?:BLOB|INT|TEXT)|TOP?|TRAN(?:SACTIONS?)?|TRIGGER|TRUNCATE|TSEQUAL|TYPES?|UNBOUNDED|UNCOMMITTED|UNDEFINED|UNION|UNIQUE|UNLOCK|UNPIVOT|UNSIGNED|UPDATE(?:TEXT)?|USAGE|USE|USER|USING|VALUES?|VAR(?:BINARY|CHAR|CHARACTER|YING)|VIEW|WAITFOR|WARNINGS|WHEN|WHERE|WHILE|WITH(?: ROLLUP|IN)?|WORK|WRITE(?:TEXT)?|YEAR)\b/i,boolean:/\b(?:FALSE|NULL|TRUE)\b/i,number:/\b0x[\da-f]+\b|\b\d+(?:\.\d*)?|\B\.\d+\b/i,operator:/[-+*\/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?|\b(?:AND|BETWEEN|DIV|ILIKE|IN|IS|LIKE|NOT|OR|REGEXP|RLIKE|SOUNDS LIKE|XOR)\b/i,punctuation:/[;[\]()`,.]/},function(r){var e=r.languages.powershell={comment:[{pattern:/(^|[^`])<#[\s\S]*?#>/,lookbehind:!0},{pattern:/(^|[^`])#.*/,lookbehind:!0}],string:[{pattern:/"(?:`[\s\S]|[^`"])*"/,greedy:!0,inside:null},{pattern:/'(?:[^']|'')*'/,greedy:!0}],namespace:/\[[a-z](?:\[(?:\[[^\]]*\]|[^\[\]])*\]|[^\[\]])*\]/i,boolean:/\$(?:false|true)\b/i,variable:/\$\w+\b/,function:[/\b(?:Add|Approve|Assert|Backup|Block|Checkpoint|Clear|Close|Compare|Complete|Compress|Confirm|Connect|Convert|ConvertFrom|ConvertTo|Copy|Debug|Deny|Disable|Disconnect|Dismount|Edit|Enable|Enter|Exit|Expand|Export|Find|ForEach|Format|Get|Grant|Group|Hide|Import|Initialize|Install|Invoke|Join|Limit|Lock|Measure|Merge|Move|New|Open|Optimize|Out|Ping|Pop|Protect|Publish|Push|Read|Receive|Redo|Register|Remove|Rename|Repair|Request|Reset|Resize|Resolve|Restart|Restore|Resume|Revoke|Save|Search|Select|Send|Set|Show|Skip|Sort|Split|Start|Step|Stop|Submit|Suspend|Switch|Sync|Tee|Test|Trace|Unblock|Undo|Uninstall|Unlock|Unprotect|Unpublish|Unregister|Update|Use|Wait|Watch|Where|Write)-[a-z]+\b/i,/\b(?:ac|cat|chdir|clc|cli|clp|clv|compare|copy|cp|cpi|cpp|cvpa|dbp|del|diff|dir|ebp|echo|epal|epcsv|epsn|erase|fc|fl|ft|fw|gal|gbp|gc|gci|gcs|gdr|gi|gl|gm|gp|gps|group|gsv|gu|gv|gwmi|iex|ii|ipal|ipcsv|ipsn|irm|iwmi|iwr|kill|lp|ls|measure|mi|mount|move|mp|mv|nal|ndr|ni|nv|ogv|popd|ps|pushd|pwd|rbp|rd|rdr|ren|ri|rm|rmdir|rni|rnp|rp|rv|rvpa|rwmi|sal|saps|sasv|sbp|sc|select|set|shcm|si|sl|sleep|sls|sort|sp|spps|spsv|start|sv|swmi|tee|trcm|type|write)\b/i],keyword:/\b(?:Begin|Break|Catch|Class|Continue|Data|Define|Do|DynamicParam|Else|ElseIf|End|Exit|Filter|Finally|For|ForEach|From|Function|If|InlineScript|Parallel|Param|Process|Return|Sequence|Switch|Throw|Trap|Try|Until|Using|Var|While|Workflow)\b/i,operator:{pattern:/(^|\W)(?:!|-(?:b?(?:and|x?or)|as|(?:Not)?(?:Contains|In|Like|Match)|eq|ge|gt|is(?:Not)?|Join|le|lt|ne|not|Replace|sh[lr])\b|-[-=]?|\+[+=]?|[*\/%]=?)/i,lookbehind:!0},punctuation:/[|{}[\];(),.]/};e.string[0].inside={function:{pattern:/(^|[^`])\$\((?:\$\([^\r\n()]*\)|(?!\$\()[^\r\n)])*\)/,lookbehind:!0,inside:e},boolean:e.boolean,variable:e.variable}}(Prism);var W_={},Q_;function VA(){return Q_||(Q_=1,Prism.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0,greedy:!0},"string-interpolation":{pattern:/(?:f|fr|rf)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|br|rb)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|br|rb)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/m,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:_(?=\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:False|None|True)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?(?!\w)/i,operator:/[-+%=]=?|!=|:=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},Prism.languages.python["string-interpolation"].inside.interpolation.inside.rest=Prism.languages.python,Prism.languages.py=Prism.languages.python),W_}VA();var J_={},e0;function GA(){return e0||(e0=1,function(r){for(var e=/\/\*(?:[^*/]|\*(?!\/)|\/(?!\*)|<self>)*\*\//.source,t=0;t<2;t++)e=e.replace(/<self>/g,function(){return e});e=e.replace(/<self>/g,function(){return/[^\s\S]/.source}),r.languages.rust={comment:[{pattern:RegExp(/(^|[^\\])/.source+e),lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/b?"(?:\\[\s\S]|[^\\"])*"|b?r(#*)"(?:[^"]|"(?!\1))*"\1/,greedy:!0},char:{pattern:/b?'(?:\\(?:x[0-7][\da-fA-F]|u\{(?:[\da-fA-F]_*){1,6}\}|.)|[^\\\r\n\t'])'/,greedy:!0},attribute:{pattern:/#!?\[(?:[^\[\]"]|"(?:\\[\s\S]|[^\\"])*")*\]/,greedy:!0,alias:"attr-name",inside:{string:null}},"closure-params":{pattern:/([=(,:]\s*|\bmove\s*)\|[^|]*\||\|[^|]*\|(?=\s*(?:\{|->))/,lookbehind:!0,greedy:!0,inside:{"closure-punctuation":{pattern:/^\||\|$/,alias:"punctuation"},rest:null}},"lifetime-annotation":{pattern:/'\w+/,alias:"symbol"},"fragment-specifier":{pattern:/(\$\w+:)[a-z]+/,lookbehind:!0,alias:"punctuation"},variable:/\$\w+/,"function-definition":{pattern:/(\bfn\s+)\w+/,lookbehind:!0,alias:"function"},"type-definition":{pattern:/(\b(?:enum|struct|trait|type|union)\s+)\w+/,lookbehind:!0,alias:"class-name"},"module-declaration":[{pattern:/(\b(?:crate|mod)\s+)[a-z][a-z_\d]*/,lookbehind:!0,alias:"namespace"},{pattern:/(\b(?:crate|self|super)\s*)::\s*[a-z][a-z_\d]*\b(?:\s*::(?:\s*[a-z][a-z_\d]*\s*::)*)?/,lookbehind:!0,alias:"namespace",inside:{punctuation:/::/}}],keyword:[/\b(?:Self|abstract|as|async|await|become|box|break|const|continue|crate|do|dyn|else|enum|extern|final|fn|for|if|impl|in|let|loop|macro|match|mod|move|mut|override|priv|pub|ref|return|self|static|struct|super|trait|try|type|typeof|union|unsafe|unsized|use|virtual|where|while|yield)\b/,/\b(?:bool|char|f(?:32|64)|[ui](?:8|16|32|64|128|size)|str)\b/],function:/\b[a-z_]\w*(?=\s*(?:::\s*<|\())/,macro:{pattern:/\b\w+!/,alias:"property"},constant:/\b[A-Z_][A-Z_\d]+\b/,"class-name":/\b[A-Z]\w*\b/,namespace:{pattern:/(?:\b[a-z][a-z_\d]*\s*::\s*)*\b[a-z][a-z_\d]*\s*::(?!\s*<)/,inside:{punctuation:/::/}},number:/\b(?:0x[\dA-Fa-f](?:_?[\dA-Fa-f])*|0o[0-7](?:_?[0-7])*|0b[01](?:_?[01])*|(?:(?:\d(?:_?\d)*)?\.)?\d(?:_?\d)*(?:[Ee][+-]?\d+)?)(?:_?(?:f32|f64|[iu](?:8|16|32|64|size)?))?\b/,boolean:/\b(?:false|true)\b/,punctuation:/->|\.\.=|\.{1,3}|::|[{}[\];(),:]/,operator:/[-+*\/%!^]=?|=[=>]?|&[&=]?|\|[|=]?|<<?=?|>>?=?|[@?]/},r.languages.rust["closure-params"].inside.rest=r.languages.rust,r.languages.rust.attribute.inside.string=r.languages.rust.string}(Prism)),J_}GA(),Prism.languages.swift={comment:{pattern:/(^|[^\\:])(?:\/\/.*|\/\*(?:[^/*]|\/(?!\*)|\*(?!\/)|\/\*(?:[^*]|\*(?!\/))*\*\/)*\*\/)/,lookbehind:!0,greedy:!0},"string-literal":[{pattern:RegExp(/(^|[^"#])/.source+"(?:"+/"(?:\\(?:\((?:[^()]|\([^()]*\))*\)|\r\n|[^(])|[^\\\r\n"])*"/.source+"|"+/"""(?:\\(?:\((?:[^()]|\([^()]*\))*\)|[^(])|[^\\"]|"(?!""))*"""/.source+")"+/(?!["#])/.source),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\\($/,alias:"punctuation"},punctuation:/\\(?=[\r\n])/,string:/[\s\S]+/}},{pattern:RegExp(/(^|[^"#])(#+)/.source+"(?:"+/"(?:\\(?:#+\((?:[^()]|\([^()]*\))*\)|\r\n|[^#])|[^\\\r\n])*?"/.source+"|"+/"""(?:\\(?:#+\((?:[^()]|\([^()]*\))*\)|[^#])|[^\\])*?"""/.source+")\\2"),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\#+\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\#+\($/,alias:"punctuation"},string:/[\s\S]+/}}],directive:{pattern:RegExp(/#/.source+"(?:"+(/(?:elseif|if)\b/.source+"(?:[ 	]*"+/(?:![ \t]*)?(?:\b\w+\b(?:[ \t]*\((?:[^()]|\([^()]*\))*\))?|\((?:[^()]|\([^()]*\))*\))(?:[ \t]*(?:&&|\|\|))?/.source+")+")+"|"+/(?:else|endif)\b/.source+")"),alias:"property",inside:{"directive-name":/^#\w+/,boolean:/\b(?:false|true)\b/,number:/\b\d+(?:\.\d+)*\b/,operator:/!|&&|\|\||[<>]=?/,punctuation:/[(),]/}},literal:{pattern:/#(?:colorLiteral|column|dsohandle|file(?:ID|Literal|Path)?|function|imageLiteral|line)\b/,alias:"constant"},"other-directive":{pattern:/#\w+\b/,alias:"property"},attribute:{pattern:/@\w+/,alias:"atrule"},"function-definition":{pattern:/(\bfunc\s+)\w+/,lookbehind:!0,alias:"function"},label:{pattern:/\b(break|continue)\s+\w+|\b[a-zA-Z_]\w*(?=\s*:\s*(?:for|repeat|while)\b)/,lookbehind:!0,alias:"important"},keyword:/\b(?:Any|Protocol|Self|Type|actor|as|assignment|associatedtype|associativity|async|await|break|case|catch|class|continue|convenience|default|defer|deinit|didSet|do|dynamic|else|enum|extension|fallthrough|fileprivate|final|for|func|get|guard|higherThan|if|import|in|indirect|infix|init|inout|internal|is|isolated|lazy|left|let|lowerThan|mutating|none|nonisolated|nonmutating|open|operator|optional|override|postfix|precedencegroup|prefix|private|protocol|public|repeat|required|rethrows|return|right|safe|self|set|some|static|struct|subscript|super|switch|throw|throws|try|typealias|unowned|unsafe|var|weak|where|while|willSet)\b/,boolean:/\b(?:false|true)\b/,nil:{pattern:/\bnil\b/,alias:"constant"},"short-argument":/\$\d+\b/,omit:{pattern:/\b_\b/,alias:"keyword"},number:/\b(?:[\d_]+(?:\.[\de_]+)?|0x[a-f0-9_]+(?:\.[a-f0-9p_]+)?|0b[01_]+|0o[0-7_]+)\b/i,"class-name":/\b[A-Z](?:[A-Z_\d]*[a-z]\w*)?\b/,function:/\b[a-z_]\w*(?=\s*\()/i,constant:/\b(?:[A-Z_]{2,}|k[A-Z][A-Za-z_]+)\b/,operator:/[-+*/%=!<>&|^~?]+|\.[.\-+*/%=!<>&|^~?]+/,punctuation:/[{}[\]();,.:\\]/},Prism.languages.swift["string-literal"].forEach(function(r){r.inside.interpolation.inside=Prism.languages.swift});var t0={},n0;function XA(){return n0||(n0=1,function(r){r.languages.typescript=r.languages.extend("javascript",{"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|type)\s+)(?!keyof\b)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?:\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,lookbehind:!0,greedy:!0,inside:null},builtin:/\b(?:Array|Function|Promise|any|boolean|console|never|number|string|symbol|unknown)\b/}),r.languages.typescript.keyword.push(/\b(?:abstract|declare|is|keyof|readonly|require)\b/,/\b(?:asserts|infer|interface|module|namespace|type)\b(?=\s*(?:[{_$a-zA-Z\xA0-\uFFFF]|$))/,/\btype\b(?=\s*(?:[\{*]|$))/),delete r.languages.typescript.parameter,delete r.languages.typescript["literal-property"];var e=r.languages.extend("typescript",{});delete e["class-name"],r.languages.typescript["class-name"].inside=e,r.languages.insertBefore("typescript","function",{decorator:{pattern:/@[$\w\xA0-\uFFFF]+/,inside:{at:{pattern:/^@/,alias:"operator"},function:/^[\s\S]+/}},"generic-function":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\s*\()/,greedy:!0,inside:{function:/^#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:e}}}}),r.languages.ts=r.languages.typescript}(Prism)),t0}XA();var r0={},i0;function ZA(){return i0||(i0=1,function(r){var e=/\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|open|opens|package|permits|private|protected|provides|public|record(?!\s*[(){}[\]<>=%~.:,;?+\-*/&|^])|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\b/,t=/(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,l={pattern:RegExp(/(^|[^\w.])/.source+t+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}},punctuation:/\./}};r.languages.java=r.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"/,lookbehind:!0,greedy:!0},"class-name":[l,{pattern:RegExp(/(^|[^\w.])/.source+t+/[A-Z]\w*(?=\s+\w+\s*[;,=()]|\s*(?:\[[\s,]*\]\s*)?::\s*new\b)/.source),lookbehind:!0,inside:l.inside},{pattern:RegExp(/(\b(?:class|enum|extends|implements|instanceof|interface|new|record|throws)\s+)/.source+t+/[A-Z]\w*\b/.source),lookbehind:!0,inside:l.inside}],keyword:e,function:[r.languages.clike.function,{pattern:/(::\s*)[a-z_]\w*/,lookbehind:!0}],number:/\b0b[01][01_]*L?\b|\b0x(?:\.[\da-f_p+-]+|[\da-f_]+(?:\.[\da-f_p+-]+)?)\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|--|\+\+|&&|\|\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,lookbehind:!0},constant:/\b[A-Z][A-Z_\d]+\b/}),r.languages.insertBefore("java","string",{"triple-quoted-string":{pattern:/"""[ \t]*[\r\n](?:(?:"|"")?(?:\\.|[^"\\]))*"""/,greedy:!0,alias:"string"},char:{pattern:/'(?:\\.|[^'\\\r\n]){1,6}'/,greedy:!0}}),r.languages.insertBefore("java","class-name",{annotation:{pattern:/(^|[^.])@\w+(?:\s*\.\s*\w+)*/,lookbehind:!0,alias:"punctuation"},generics:{pattern:/<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&))*>)*>)*>)*>/,inside:{"class-name":l,keyword:e,punctuation:/[<>(),.:]/,operator:/[?&|]/}},import:[{pattern:RegExp(/(\bimport\s+)/.source+t+/(?:[A-Z]\w*|\*)(?=\s*;)/.source),lookbehind:!0,inside:{namespace:l.inside.namespace,punctuation:/\./,operator:/\*/,"class-name":/\w+/}},{pattern:RegExp(/(\bimport\s+static\s+)/.source+t+/(?:\w+|\*)(?=\s*;)/.source),lookbehind:!0,alias:"static",inside:{namespace:l.inside.namespace,static:/\b\w+$/,punctuation:/\./,operator:/\*/,"class-name":/\w+/}}],namespace:{pattern:RegExp(/(\b(?:exports|import(?:\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\s+)(?!<keyword>)[a-z]\w*(?:\.[a-z]\w*)*\.?/.source.replace(/<keyword>/g,function(){return e.source})),lookbehind:!0,inside:{punctuation:/\./}}})}(Prism)),r0}ZA();var l0={},s0;function WA(){return s0||(s0=1,function(r){var e=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|char8_t|class|co_await|co_return|co_yield|compl|concept|const|const_cast|consteval|constexpr|constinit|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|final|float|for|friend|goto|if|import|inline|int|int16_t|int32_t|int64_t|int8_t|long|module|mutable|namespace|new|noexcept|nullptr|operator|override|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|uint16_t|uint32_t|uint64_t|uint8_t|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,t=/\b(?!<keyword>)\w+(?:\s*\.\s*\w+)*\b/.source.replace(/<keyword>/g,function(){return e.source});r.languages.cpp=r.languages.extend("c",{"class-name":[{pattern:RegExp(/(\b(?:class|concept|enum|struct|typename)\s+)(?!<keyword>)\w+/.source.replace(/<keyword>/g,function(){return e.source})),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\b\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:e,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+(?:\.[\da-f']*)?|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/i,greedy:!0},operator:/>>=?|<<=?|->|--|\+\+|&&|\|\||[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:false|true)\b/}),r.languages.insertBefore("cpp","string",{module:{pattern:RegExp(/(\b(?:import|module)\s+)/.source+"(?:"+/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|<[^<>\r\n]*>/.source+"|"+/<mod-name>(?:\s*:\s*<mod-name>)?|:\s*<mod-name>/.source.replace(/<mod-name>/g,function(){return t})+")"),lookbehind:!0,greedy:!0,inside:{string:/^[<"][\s\S]+/,operator:/:/,punctuation:/\./}},"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),r.languages.insertBefore("cpp","keyword",{"generic-function":{pattern:/\b(?!operator\b)[a-z_]\w*\s*<(?:[^<>]|<[^<>]*>)*>(?=\s*\()/i,inside:{function:/^\w+/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:r.languages.cpp}}}}),r.languages.insertBefore("cpp","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}}),r.languages.insertBefore("cpp","class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:r.languages.extend("cpp",{})}}),r.languages.insertBefore("inside","double-colon",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i},r.languages.cpp["base-clause"])}(Prism)),l0}WA();const rh=globalThis.Prism||window.Prism,a0=r=>{try{return!!r&&rh.languages.hasOwnProperty(r)}catch{return!1}};function o0(r,e){for(const t of r.childNodes){if(ht(t)&&t.tagName===e)return!0;o0(t,e)}return!1}const Xa="data-language",pc="data-highlight-language";let mc=class bE extends hn{static getType(){return"code"}static clone(e){return new bE(e.__language,e.__key)}constructor(e,t){super(t),this.__language=e||void 0,this.__isSyntaxHighlightSupported=a0(e)}createDOM(e){const t=document.createElement("code");xt(t,e.theme.code),t.setAttribute("spellcheck","false");const l=this.getLanguage();return l&&(t.setAttribute(Xa,l),this.getIsSyntaxHighlightSupported()&&t.setAttribute(pc,l)),t}updateDOM(e,t,l){const s=this.__language,o=e.__language;return s?s!==o&&(t.setAttribute(Xa,s),this.__isSyntaxHighlightSupported&&t.setAttribute(pc,s)):o&&(t.removeAttribute(Xa),e.__isSyntaxHighlightSupported&&t.removeAttribute(pc)),!1}exportDOM(e){const t=document.createElement("pre");xt(t,e._config.theme.code),t.setAttribute("spellcheck","false");const l=this.getLanguage();return l&&(t.setAttribute(Xa,l),this.getIsSyntaxHighlightSupported()&&t.setAttribute(pc,l)),{element:t}}static importDOM(){return{code:e=>e.textContent!=null&&(/\r?\n/.test(e.textContent)||o0(e,"BR"))?{conversion:u0,priority:1}:null,div:()=>({conversion:QA,priority:1}),pre:()=>({conversion:u0,priority:0}),table:e=>ih(e)?{conversion:JA,priority:3}:null,td:e=>{const t=e,l=t.closest("table");return t.classList.contains("js-file-line")||l&&ih(l)?{conversion:c0,priority:3}:null},tr:e=>{const t=e.closest("table");return t&&ih(t)?{conversion:c0,priority:3}:null}}}static importJSON(e){return Sr().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setLanguage(e.language)}exportJSON(){return{...super.exportJSON(),language:this.getLanguage()}}insertNewAfter(e,t=!0){const l=this.getChildren(),s=l.length;if(s>=2&&l[s-1].getTextContent()===`
`&&l[s-2].getTextContent()===`
`&&e.isCollapsed()&&e.anchor.key===this.__key&&e.anchor.offset===s){l[s-1].remove(),l[s-2].remove();const d=De();return this.insertAfter(d,t),d}const{anchor:o,focus:u}=e,f=(o.isBefore(u)?o:u).getNode();if(oe(f)){let d=iO(f);const g=[];for(;;)if(Ud(d))g.push(Zl()),d=d.getNextSibling();else{if(!g0(d))break;{let C=0;const w=d.getTextContent(),x=d.getTextContentSize();for(;C<x&&w[C]===" ";)C++;if(C!==0&&g.push(d0(" ".repeat(C))),C!==x)break;d=d.getNextSibling()}}const h=f.splitText(o.offset)[0],y=o.offset===0?0:1,b=h.getIndexWithinParent()+y,_=f.getParentOrThrow(),v=[Fn(),...g];_.splice(b,0,v);const S=g[g.length-1];S?S.select():o.offset===0?h.selectPrevious():h.getNextSibling().selectNext(0,0)}if(Za(f)){const{offset:d}=e.anchor;f.splice(d,0,[Fn()]),f.select(d+1,d+1)}return null}canIndent(){return!1}collapseAtStart(){const e=De();return this.getChildren().forEach(t=>e.append(t)),this.replace(e),!0}setLanguage(e){const t=this.getWritable();return t.__language=e||void 0,t.__isSyntaxHighlightSupported=a0(e),t}getLanguage(){return this.getLatest().__language}getIsSyntaxHighlightSupported(){return this.getLatest().__isSyntaxHighlightSupported}};function Sr(r){return Tt(new mc(r))}function Za(r){return r instanceof mc}function u0(r){return{node:Sr(r.getAttribute(Xa))}}function QA(r){const e=r,t=f0(e);return t||function(l){let s=l.parentElement;for(;s!==null;){if(f0(s))return!0;s=s.parentElement}return!1}(e)?{node:t?Sr():null}:{node:null}}function JA(){return{node:Sr()}}function c0(){return{node:null}}function f0(r){return r.style.fontFamily.match("monospace")!==null}function ih(r){return r.classList.contains("js-file-line-container")}const eO="javascript",tO=()=>eO,nO=()=>Object.keys(rh.languages).filter(r=>typeof rh.languages[r]!="function").sort();let lh=class vE extends nr{constructor(e="",t,l){super(e,l),this.__highlightType=t}static getType(){return"code-highlight"}static clone(e){return new vE(e.__text,e.__highlightType||void 0,e.__key)}getHighlightType(){return this.getLatest().__highlightType}setHighlightType(e){const t=this.getWritable();return t.__highlightType=e||void 0,t}canHaveFormat(){return!1}createDOM(e){const t=super.createDOM(e),l=sh(e.theme,this.__highlightType);return xt(t,l),t}updateDOM(e,t,l){const s=super.updateDOM(e,t,l),o=sh(l.theme,e.__highlightType),u=sh(l.theme,this.__highlightType);return o!==u&&(o&&yr(t,o),u&&xt(t,u)),s}static importJSON(e){return d0().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setHighlightType(e.highlightType)}exportJSON(){return{...super.exportJSON(),highlightType:this.getHighlightType()}}setFormat(e){return this}isParentRequired(){return!0}createParentElementNode(){return Sr()}};function sh(r,e){return e&&r&&r.codeHighlight&&r.codeHighlight[e]}function d0(r="",e){return Tt(new lh(r,e))}function g0(r){return r instanceof lh}function rO(r,e){let t=r;for(let l=bt(r,e);l&&(g0(l.origin)||Ud(l.origin));l=ZT(l))t=l.origin;return t}function iO(r){return rO(r,"previous")}const lO=new Set(["http:","https:","mailto:","sms:","tel:"]);class xi extends hn{static getType(){return"link"}static clone(e){return new xi(e.__url,{rel:e.__rel,target:e.__target,title:e.__title},e.__key)}constructor(e="",t={},l){super(l);const{target:s=null,rel:o=null,title:u=null}=t;this.__url=e,this.__target=s,this.__rel=o,this.__title=u}createDOM(e){const t=document.createElement("a");return t.href=this.sanitizeUrl(this.__url),this.__target!==null&&(t.target=this.__target),this.__rel!==null&&(t.rel=this.__rel),this.__title!==null&&(t.title=this.__title),xt(t,e.theme.link),t}updateDOM(e,t,l){if(pv(t)){const s=this.__url,o=this.__target,u=this.__rel,f=this.__title;s!==e.__url&&(t.href=s),o!==e.__target&&(o?t.target=o:t.removeAttribute("target")),u!==e.__rel&&(u?t.rel=u:t.removeAttribute("rel")),f!==e.__title&&(f?t.title=f:t.removeAttribute("title"))}return!1}static importDOM(){return{a:e=>({conversion:sO,priority:1})}}static importJSON(e){return pl().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setURL(e.url).setRel(e.rel||null).setTarget(e.target||null).setTitle(e.title||null)}sanitizeUrl(e){try{const t=new URL(e);if(!lO.has(t.protocol))return"about:blank"}catch{return e}return e}exportJSON(){return{...super.exportJSON(),rel:this.getRel(),target:this.getTarget(),title:this.getTitle(),url:this.getURL()}}getURL(){return this.getLatest().__url}setURL(e){const t=this.getWritable();return t.__url=e,t}getTarget(){return this.getLatest().__target}setTarget(e){const t=this.getWritable();return t.__target=e,t}getRel(){return this.getLatest().__rel}setRel(e){const t=this.getWritable();return t.__rel=e,t}getTitle(){return this.getLatest().__title}setTitle(e){const t=this.getWritable();return t.__title=e,t}insertNewAfter(e,t=!0){const l=pl(this.__url,{rel:this.__rel,target:this.__target,title:this.__title});return this.insertAfter(l,t),l}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}canBeEmpty(){return!1}isInline(){return!0}extractWithChild(e,t,l){if(!I(t))return!1;const s=t.anchor.getNode(),o=t.focus.getNode();return this.isParentOf(s)&&this.isParentOf(o)&&t.getTextContent().length>0}isEmailURI(){return this.__url.startsWith("mailto:")}isWebSiteURI(){return this.__url.startsWith("https://")||this.__url.startsWith("http://")}}function sO(r){let e=null;if(pv(r)){const t=r.textContent;(t!==null&&t!==""||r.children.length>0)&&(e=pl(r.getAttribute("href")||"",{rel:r.getAttribute("rel"),target:r.getAttribute("target"),title:r.getAttribute("title")}))}return{node:e}}function pl(r="",e){return Tt(new xi(r,e))}function Ht(r){return r instanceof xi}let yc=class _E extends xi{constructor(e="",t={},l){super(e,t,l),this.__isUnlinked=t.isUnlinked!==void 0&&t.isUnlinked!==null&&t.isUnlinked}static getType(){return"autolink"}static clone(e){return new _E(e.__url,{isUnlinked:e.__isUnlinked,rel:e.__rel,target:e.__target,title:e.__title},e.__key)}getIsUnlinked(){return this.__isUnlinked}setIsUnlinked(e){const t=this.getWritable();return t.__isUnlinked=e,t}createDOM(e){return this.__isUnlinked?document.createElement("span"):super.createDOM(e)}updateDOM(e,t,l){return super.updateDOM(e,t,l)||e.__isUnlinked!==this.__isUnlinked}static importJSON(e){return ah().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setIsUnlinked(e.isUnlinked||!1)}static importDOM(){return null}exportJSON(){return{...super.exportJSON(),isUnlinked:this.__isUnlinked}}insertNewAfter(e,t=!0){const l=this.getParentOrThrow().insertNewAfter(e,t);if(W(l)){const s=ah(this.__url,{isUnlinked:this.__isUnlinked,rel:this.__rel,target:this.__target,title:this.__title});return l.append(s),s}return null}};function ah(r="",e){return Tt(new yc(r,e))}function Hn(r){return r instanceof yc}const Ci=cn();function h0(r,e){if(r.type==="element"){const t=r.getNode();return W(t)||function(l,...s){const o=new URL("https://lexical.dev/docs/error"),u=new URLSearchParams;u.append("code",l);for(const f of s)u.append("v",f);throw o.search=u.toString(),Error(`Minified Lexical error #${l}; visit ${o.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}(252),t.getChildren()[r.offset+e]||null}return null}function oh(r,e={}){const{target:t,title:l}=e,s=e.rel===void 0?"noreferrer":e.rel,o=X();if(o===null||!I(o)&&!et(o))return;if(et(o)){const g=o.getNodes();return g.length===0?void 0:void g.forEach(h=>{if(r===null){const y=Le(h,b=>!Hn(b)&&Ht(b));y&&(y.insertBefore(h),y.getChildren().length===0&&y.remove())}else{const y=Le(h,b=>!Hn(b)&&Ht(b));if(y)y.setURL(r),t!==void 0&&y.setTarget(t),s!==void 0&&y.setRel(s);else{const b=pl(r,{rel:s,target:t});h.insertBefore(b),b.append(h)}}})}const u=o.extract();if(r===null)return void u.forEach(g=>{const h=Le(g,y=>!Hn(y)&&Ht(y));if(h){const y=h.getChildren();for(let b=0;b<y.length;b++)h.insertBefore(y[b]);h.remove()}});const f=new Set,d=g=>{f.has(g.getKey())||(f.add(g.getKey()),g.setURL(r),t!==void 0&&g.setTarget(t),s!==void 0&&g.setRel(s),l!==void 0&&g.setTitle(l))};if(u.length===1){const g=p0(u[0],Ht);if(g!==null)return d(g)}(function(g){const h=X();if(!I(h))return g();const y=Wi(h),b=y.isBackward(),_=h0(y.anchor,b?-1:0),v=h0(y.focus,b?0:-1);if(g(),_||v){const S=X();if(I(S)){const C=S.clone();if(_){const w=_.getParent();w&&C.anchor.set(w.getKey(),_.getIndexWithinParent()+(b?1:0),"element")}if(v){const w=v.getParent();w&&C.focus.set(w.getKey(),v.getIndexWithinParent()+(b?0:1),"element")}qe(Wi(C))}}})(()=>{let g=null;for(const h of u){if(!h.isAttached())continue;const y=p0(h,Ht);if(y){d(y);continue}if(W(h)){if(!h.isInline())continue;if(Ht(h)){if(!(Hn(h)||g!==null&&g.getParentOrThrow().isParentOf(h))){d(h),g=h;continue}for(const _ of h.getChildren())h.insertBefore(_);h.remove();continue}}const b=h.getPreviousSibling();Ht(b)&&b.is(g)?b.append(h):(g=pl(r,{rel:s,target:t,title:l}),h.insertAfter(g),g.append(h))}})}function p0(r,e){let t=r;for(;t!==null&&t.getParent()!==null&&!e(t);)t=t.getParentOrThrow();return e(t)?t:null}function aO({hasStrictIndent:r=!1}){const[e]=je();return z.useEffect(()=>{if(!e.hasNodes([Si,_i]))throw new Error("ListPlugin: ListNode and/or ListItemNode not registered on editor")},[e]),z.useEffect(()=>{if(r)return PA(e)},[e,r]),function(t){z.useEffect(()=>KA(t),[t])}(e),null}function oO(){const[r]=je();return z.useEffect(()=>r.registerCommand(G_,e=>{const t=X();if(!I(t))return!1;if(t.focus.getNode()!==null){const l=Ga();$v(l)}return!0},Te),[r]),null}const uO=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?z.useLayoutEffect:z.useEffect;function cO({ignoreHistoryMergeTagChange:r=!0,ignoreSelectionChange:e=!1,onChange:t}){const[l]=je();return uO(()=>{if(t)return l.registerUpdateListener(({editorState:s,dirtyElements:o,dirtyLeaves:u,prevEditorState:f,tags:d})=>{e&&o.size===0&&u.size===0||r&&d.has("history-merge")||f.isEmpty()||t(s,l,d)})},[l,r,e,t]),null}function fO({onClose:r,children:e,title:t,closeOnClickOutside:l}){const s=z.useRef(null);return z.useEffect(()=>{s.current!==null&&s.current.focus()},[]),z.useEffect(()=>{let o=null;const u=g=>{g.key==="Escape"&&r()},f=g=>{const h=g.target;s.current!==null&&!s.current.contains(h)&&l&&r()},d=s.current;return d!==null&&(o=d.parentElement,o!==null&&o.addEventListener("click",f)),window.addEventListener("keydown",u),()=>{window.removeEventListener("keydown",u),o!==null&&(o==null||o.removeEventListener("click",f))}},[l,r]),$.jsx("div",{className:"Modal__overlay",role:"dialog",children:$.jsxs("div",{className:"Modal__modal",tabIndex:-1,ref:s,children:[$.jsx("h3",{className:"Modal__title",children:t}),$.jsx("button",{className:"Modal__closeButton circle","aria-label":"Close modal",type:"button",onClick:r,children:$.jsx("i",{className:"fas fa-times"})}),$.jsx("div",{className:"Modal__content",children:e})]})})}function dO({onClose:r,children:e,title:t,closeOnClickOutside:l=!1}){return Tn.createPortal($.jsx(fO,{onClose:r,title:t,closeOnClickOutside:l,children:e}),document.body)}function gO(){const[r,e]=z.useState(null),t=z.useCallback(()=>{e(null)},[]),l=z.useMemo(()=>{if(r===null)return null;const{title:o,content:u,closeOnClickOutside:f}=r;return $.jsx(dO,{onClose:t,title:o,closeOnClickOutside:f,children:u})},[r,t]),s=z.useCallback((o,u,f=!1)=>{e({closeOnClickOutside:f,content:u(t),title:o})},[t]);return[l,s]}const hO=z.lazy(()=>Promise.resolve().then(()=>uM));function pO(r){return r.parentElement!=null&&r.parentElement.tagName==="LI"&&r.previousSibling===null&&r.getAttribute("aria-roledescription")==="checkbox"}function mO(r){const e=r;if(e.src.startsWith("file:///")||pO(e))return null;const{alt:t,src:l,width:s,height:o}=e;return{node:bc({altText:t,height:o,src:l,width:s})}}class ml extends Bu{static getType(){return"image"}static clone(e){return new ml(e.__src,e.__altText,e.__maxWidth,e.__width,e.__height,e.__showCaption,e.__caption,e.__captionsEnabled,e.__key)}static importJSON(e){const{altText:t,height:l,width:s,maxWidth:o,caption:u,src:f,showCaption:d}=e,g=bc({altText:t,height:l,maxWidth:o,showCaption:d,src:f,width:s}),h=g.__caption,y=h.parseEditorState(u.editorState);return y.isEmpty()||h.setEditorState(y),g}exportDOM(){const e=document.createElement("img");return e.setAttribute("src",this.__src),e.setAttribute("alt",this.__altText),e.setAttribute("width",this.__width.toString()),e.setAttribute("height",this.__height.toString()),{element:e}}static importDOM(){return{img:e=>({conversion:mO,priority:0})}}constructor(e,t,l,s,o,u,f,d,g){super(g),this.__src=e,this.__altText=t,this.__maxWidth=l,this.__width=s||"inherit",this.__height=o||"inherit",this.__showCaption=u||!1,this.__caption=f||Xb({nodes:[]}),this.__captionsEnabled=d||d===void 0}exportJSON(){return{altText:this.getAltText(),caption:this.__caption.toJSON(),height:this.__height==="inherit"?0:this.__height,maxWidth:this.__maxWidth,showCaption:this.__showCaption,src:this.getSrc(),type:"image",version:1,width:this.__width==="inherit"?0:this.__width}}setWidthAndHeight(e,t){const l=this.getWritable();l.__width=e,l.__height=t}setShowCaption(e){const t=this.getWritable();t.__showCaption=e}createDOM(e){const t=document.createElement("span"),s=e.theme.image;return s!==void 0&&(t.className=s),t}updateDOM(){return!1}getSrc(){return this.__src}getAltText(){return this.__altText}decorate(){return $.jsx(z.Suspense,{fallback:null,children:$.jsx(hO,{src:this.__src,altText:this.__altText,width:this.__width,height:this.__height,maxWidth:this.__maxWidth,nodeKey:this.getKey(),showCaption:this.__showCaption,caption:this.__caption,captionsEnabled:this.__captionsEnabled,resizable:!0})})}}function bc({altText:r,height:e,maxWidth:t=900,captionsEnabled:l,src:s,width:o,showCaption:u,caption:f,key:d}){return Tt(new ml(s,r,t,o,e,u,f,l,d))}function Wa(r){return r instanceof ml}function Qa({children:r,onClick:e,disabled:t,title:l}){return $.jsx("button",{disabled:t,onClick:e,title:l,"aria-label":l,children:r})}function yO({children:r}){return $.jsx("div",{className:"DialogButtonsList",children:r})}function uh({children:r}){return $.jsx("div",{className:"DialogActions",children:r})}function bO({accept:r,label:e,onChange:t}){return $.jsxs("div",{className:"Input__wrapper",children:[$.jsx("label",{className:"Input__label",children:e}),$.jsx("input",{type:"file",accept:r,className:"Input__input",onChange:l=>t(l.target.files)})]})}function ch({label:r,value:e,onChange:t,placeholder:l="",type:s="text"}){return $.jsxs("div",{className:"Input__wrapper",children:[$.jsx("label",{className:"Input__label",children:r}),$.jsx("input",{type:s,className:"Input__input",placeholder:l,value:e,onChange:o=>{t(o.target.value)}})]})}const vO=r=>(r||window).getSelection(),vc={imageUploadUrl:"",imageUploadTaskUuid:""},_c=cn();function _O({onClick:r}){const{t:e}=ii(),[t,l]=z.useState(""),s=t==="";return $.jsxs($.Fragment,{children:[$.jsx(ch,{label:e("Image URL"),placeholder:"i.e. https://source.unsplash.com/random",onChange:l,value:t,"data-test-id":"image-modal-url-input"}),$.jsx(uh,{children:$.jsx(Qa,{"data-test-id":"image-modal-confirm-btn",disabled:s,onClick:()=>r({altText:"",src:t}),children:e("Confirm")})})]})}function SO({onClick:r}){const{t:e}=ii(),[t,l]=z.useState(null),s=t===null,o=()=>{if(!t)return;const u=new FormData;u.append("image[]",t[0],t[0].name),u.append("task_uuid",vc.imageUploadTaskUuid),fetch(vc.imageUploadUrl,{method:"post",body:u}).then(f=>f.json()).then(({data:f})=>{const d=Object.values(f)[0];r({altText:"",src:d})}).catch(f=>{console.error(f)})};return $.jsxs($.Fragment,{children:[$.jsx(bO,{label:e("Image Upload"),onChange:l,accept:"image/*","data-test-id":"image-modal-file-upload"}),$.jsx(uh,{children:$.jsx(Qa,{"data-test-id":"image-modal-file-upload-btn",disabled:s,onClick:o,children:e("Confirm")})})]})}function xO({activeEditor:r,onClose:e}){const{t}=ii(),[l,s]=z.useState(null),o=z.useRef(!1);z.useEffect(()=>{o.current=!1;const f=d=>{o.current=d.altKey};return document.addEventListener("keydown",f),()=>{document.removeEventListener("keydown",f)}},[r]);const u=f=>{r.dispatchCommand(_c,f),e()};return $.jsxs($.Fragment,{children:[!l&&$.jsxs(yO,{children:[$.jsx(Qa,{"data-test-id":"image-modal-option-url",onClick:()=>s("url"),children:"URL"}),$.jsx(Qa,{"data-test-id":"image-modal-option-file",onClick:()=>s("file"),children:t("File")})]}),l==="url"&&$.jsx(_O,{onClick:u}),l==="file"&&$.jsx(SO,{onClick:u})]})}function CO({imageUploadUrl:r,imageUploadTaskUuid:e,captionsEnabled:t}){vc.imageUploadUrl=r,vc.imageUploadTaskUuid=e;const[l]=je();return z.useEffect(()=>{if(!l.hasNodes([ml]))throw new Error("ImagesPlugin: ImageNode not registered on editor");return ft(l.registerCommand(_c,s=>{const o=bc(s);return Id([o]),St(o.getParentOrThrow())&&JT(o,De).selectEnd(),!0},Te),l.registerCommand(Ca,s=>wO(s),zr),l.registerCommand(Cu,s=>TO(s),ke),l.registerCommand(xa,s=>NO(s,l),zr))},[t,l]),null}const EO="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",m0=document.createElement("img");m0.src=EO;function wO(r){const e=fh();if(!e)return!1;const t=r.dataTransfer;return t?(t.setData("text/plain","_"),t.setDragImage(m0,0,0),t.setData("application/x-lexical-drag",JSON.stringify({data:{altText:e.__altText,caption:e.__caption,height:e.__height,key:e.getKey(),maxWidth:e.__maxWidth,showCaption:e.__showCaption,src:e.__src,width:e.__width},type:"image"})),!0):!1}function TO(r){return fh()?(y0(r)||r.preventDefault(),!0):!1}function NO(r,e){const t=fh();if(!t)return!1;const l=AO(r);if(!l)return!1;if(r.preventDefault(),y0(r)){const s=OO(r);t.remove();const o=Wl();s!=null&&o.applyDOMRange(s),qe(o),e.dispatchCommand(_c,l)}return!0}function fh(){const r=X();if(!et(r))return null;const t=r.getNodes()[0];return Wa(t)?t:null}function AO(r){var s;const e=(s=r.dataTransfer)==null?void 0:s.getData("application/x-lexical-drag");if(!e)return null;const{type:t,data:l}=JSON.parse(e);return t!=="image"?null:l}function y0(r){const e=r.target;return!!(e&&e instanceof HTMLElement&&!e.closest("code, span.editor-image")&&e.parentElement&&e.parentElement.closest("div.ContentEditable__root"))}function OO(r){let e;const t=r.target,l=t==null?null:t.nodeType===9?t.defaultView:t.ownerDocument.defaultView,s=vO(l);if(document.caretRangeFromPoint)e=document.caretRangeFromPoint(r.clientX,r.clientY);else if(r.rangeParent&&s!==null)s.collapse(r.rangeParent,r.rangeOffset||0),e=s.getRangeAt(0);else throw Error("Cannot get the selection when dragging");return e}z.createContext({cellEditorConfig:null,cellEditorPlugins:null,set:()=>{}});function RO({activeEditor:r,onClose:e}){const[t,l]=z.useState("5"),[s,o]=z.useState("5"),[u,f]=z.useState(!0),{t:d}=ii();z.useEffect(()=>{const h=Number(t),y=Number(s);h&&h>0&&h<=500&&y&&y>0&&y<=50?f(!1):f(!0)},[t,s]);const g=()=>{r.dispatchCommand(h_,{columns:s,rows:t,includeHeaders:{rows:!0,columns:!1}}),e()};return $.jsxs($.Fragment,{children:[$.jsx(ch,{placeholder:d("# of rows (1-500)"),label:d("Rows"),onChange:l,value:t,"data-test-id":"table-modal-rows",type:"number"}),$.jsx(ch,{placeholder:d("# of columns (1-50)"),label:d("Columns"),onChange:o,value:s,"data-test-id":"table-modal-columns",type:"number"}),$.jsx(uh,{"data-test-id":"table-model-confirm-insert",children:$.jsx(Qa,{disabled:u,onClick:g,children:d("Confirm")})})]})}const kO=new Set(["http:","https:","mailto:","sms:","tel:"]);function Sc(r){try{const e=new URL(r);if(!kO.has(e.protocol))return"about:blank"}catch{return r}return r}const MO=new RegExp(/((([A-Za-z]{3,9}:(?:\/\/)?)(?:[-;:&=+$,\w]+@)?[A-Za-z0-9.-]+|(?:www.|[-;:&=+$,\w]+@)[A-Za-z0-9.-]+)((?:\/[+~%/.\w-_]*)?\??(?:[-+=&;%@.\w_]*)#?(?:[\w]*))?)/);function DO(r){return r==="https://"||MO.test(r)}const dh=1,LO=new Set(["paragraph","quote","code","h1","h2","h3","h4","h5","ul","ol"]);function zO(){return $.jsx("div",{className:"divider"})}function $O({onChange:r,className:e,options:t,value:l}){return $.jsxs("select",{className:e,onChange:r,value:l,children:[$.jsx("option",{hidden:!0,value:""}),t.map(s=>$.jsx("option",{value:s,children:s},s))]})}function FO(r){const e=r.anchor,t=r.focus,l=r.anchor.getNode(),s=r.focus.getNode();return l===s?l:r.isBackward()?Ju(t)?l:s:Ju(e)?s:l}function BO({editor:r,blockType:e,toolbarRef:t,setShowBlockOptionsDropDown:l}){const s=z.useRef(null);z.useEffect(()=>{const _=t.current,v=s.current;if(_!==null&&v!==null){const{top:S,left:C}=_.getBoundingClientRect();v.style.top=`${S+40}px`,v.style.left=`${C}px`}},[s,t]),z.useEffect(()=>{const _=s.current,v=t.current;if(_!==null&&v!==null){const S=C=>{const w=C.target;!_.contains(w)&&!v.contains(w)&&l(!1)};return document.addEventListener("click",S),()=>{document.removeEventListener("click",S)}}},[s,l,t]);const o=()=>{e!=="paragraph"&&r.update(()=>{const _=X();I(_)&&bi(_,()=>De())}),l(!1)},u=()=>{e!=="h1"&&r.update(()=>{const _=X();I(_)&&bi(_,()=>ar("h1"))}),l(!1)},f=()=>{e!=="h2"&&r.update(()=>{const _=X();I(_)&&bi(_,()=>ar("h2"))}),l(!1)},d=()=>{e!=="h3"&&r.update(()=>{const _=X();I(_)&&bi(_,()=>ar("h3"))}),l(!1)},g=()=>{e!=="h4"&&r.update(()=>{const _=X();I(_)&&bi(_,()=>ar("h4"))}),l(!1)},h=()=>{e!=="h5"&&r.update(()=>{const _=X();I(_)&&bi(_,()=>ar("h5"))}),l(!1)},y=()=>{e!=="quote"&&r.update(()=>{const _=X();I(_)&&bi(_,()=>lc())}),l(!1)},b=()=>{e!=="code"&&r.update(()=>{const _=X();I(_)&&bi(_,()=>Sr())}),l(!1)};return $.jsxs("div",{className:"lexical-dropdown",ref:s,children:[$.jsxs("button",{className:"item",onClick:o,type:"button",children:[$.jsx("span",{className:"icon paragraph"}),$.jsx("span",{className:"text",children:ri("Normal")}),e==="paragraph"&&$.jsx("span",{className:"active"})]}),$.jsxs("button",{className:"item",onClick:u,type:"button",children:[$.jsx("span",{className:"icon h1"}),$.jsx("span",{className:"text",children:ri("H1 Heading")}),e==="h1"&&$.jsx("span",{className:"active"})]}),$.jsxs("button",{className:"item",onClick:f,type:"button",children:[$.jsx("span",{className:"icon h2"}),$.jsx("span",{className:"text",children:ri("H2 Heading")}),e==="h2"&&$.jsx("span",{className:"active"})]}),$.jsxs("button",{className:"item",onClick:d,type:"button",children:[$.jsx("span",{className:"icon h3"}),$.jsx("span",{className:"text",children:ri("H3 Heading")}),e==="h3"&&$.jsx("span",{className:"active"})]}),$.jsxs("button",{className:"item",onClick:g,type:"button",children:[$.jsx("span",{className:"icon h4"}),$.jsx("span",{className:"text",children:ri("H4 Heading")}),e==="h4"&&$.jsx("span",{className:"active"})]}),$.jsxs("button",{className:"item",onClick:h,type:"button",children:[$.jsx("span",{className:"icon h5"}),$.jsx("span",{className:"text",children:ri("H5 Heading")}),e==="h5"&&$.jsx("span",{className:"active"})]}),$.jsxs("button",{className:"item",onClick:y,type:"button",children:[$.jsx("span",{className:"icon quote"}),$.jsx("span",{className:"text",children:ri("Quote")}),e==="quote"&&$.jsx("span",{className:"active"})]}),$.jsxs("button",{className:"item",onClick:b,type:"button",children:[$.jsx("span",{className:"icon code"}),$.jsx("span",{className:"text",children:ri("Code Block")}),e==="code"&&$.jsx("span",{className:"active"})]})]})}function UO({setIsLinkEditMode:r,isShowImgButton:e}){const[t]=je(),[l,s]=z.useState(t),o=z.useRef(null),[u,f]=z.useState(!1),[d,g]=z.useState(!1),[h,y]=z.useState("paragraph"),[b,_]=z.useState(null),[v,S]=z.useState(!1),[C,w]=z.useState(""),[x,E]=z.useState(!1),[N,A]=z.useState(!1),[O,R]=z.useState(!1),[D,M]=z.useState(!1),[B,H]=z.useState(!1),[q,Y]=z.useState(!1),[Z,ie]=z.useState(!1),[U,G]=gO(),[K,ne]=z.useState(()=>t.isEditable()),{t:L}=ii(),J=z.useCallback(()=>{var be;const pe=X();if(I(pe)){if(l!==t&&$isEditorIsNestedEditor(l)){const xe=l.getRootElement();ie(!!((be=xe==null?void 0:xe.parentElement)!=null&&be.classList.contains("image-caption-container")))}else ie(!1);const ze=pe.anchor.getNode(),Ye=ze.getKey()==="root"?ze:ze.getTopLevelElementOrThrow(),re=Ye.getKey();if(t.getElementByKey(re)!==null)if(_(re),Oe(Ye)){const xe=zv(ze,Si),Je=xe?xe.getTag():Ye.getTag();y(Je)}else{const xe=t_(Ye)?Ye.getTag():Ye.getType();y(xe),Za(Ye)&&w(Ye.getLanguage()||tO())}A(pe.hasFormat("bold")),R(pe.hasFormat("italic")),M(pe.hasFormat("underline")),H(pe.hasFormat("strikethrough")),Y(pe.hasFormat("code"));const fe=FO(pe),Se=fe.getParent();Ht(Se)||Ht(fe)?E(!0):E(!1)}},[t]);z.useEffect(()=>l.registerCommand(sb,pe=>{const be=pe,{code:ze,ctrlKey:Ye,metaKey:re}=be;if(ze==="KeyK"&&(Ye||re)){be.preventDefault();let ue;return x?(r(!1),ue=null):(r(!0),ue=Sc("https://")),l.dispatchCommand(Ci,ue)}return!1},Jl),[l,x,r]),z.useEffect(()=>ft(t.registerUpdateListener(({editorState:pe})=>{pe.read(()=>{J()})}),t.registerCommand(nn,(pe,be)=>(J(),!1),dh),t.registerCommand(Na,pe=>(f(pe),!1),dh),t.registerCommand(Ta,pe=>(g(pe),!1),dh)),[t,J]);const le=z.useMemo(()=>nO(),[]),ge=z.useCallback(pe=>{t.update(()=>{if(b!==null){const be=Ze(b);Za(be)&&be.setLanguage(pe.target.value)}})},[t,b]),he=z.useCallback(()=>{x?(r(!1),l.dispatchCommand(Ci,null)):(r(!0),l.dispatchCommand(Ci,Sc("https://")))},[l,x,r]),Ce=()=>{h!=="ul"?t.dispatchCommand(q_):t.dispatchCommand(eh),S(!1)},me=()=>{h!=="ol"?t.dispatchCommand(Y_):t.dispatchCommand(eh),S(!1)};return $.jsxs("div",{className:"toolbar",ref:o,children:[LO.has(h)&&$.jsxs($.Fragment,{children:[$.jsxs("button",{className:"toolbar-item block-controls",onClick:()=>S(!v),title:L("Block Format"),type:"button",children:[$.jsx("span",{className:"icon block-type "+h}),$.jsx("i",{className:"chevron-down"})]}),v&&Tn.createPortal($.jsx(BO,{editor:t,blockType:h,toolbarRef:o,setShowBlockOptionsDropDown:S}),document.body),$.jsx(zO,{})]}),h==="code"?$.jsxs($.Fragment,{children:[$.jsx($O,{className:"toolbar-item code-language",onChange:ge,options:le,value:C}),$.jsx("i",{className:"chevron-down inside"})]}):$.jsxs($.Fragment,{children:[$.jsx("button",{onClick:()=>{t.dispatchCommand(fn,"bold")},className:"toolbar-item spaced "+(N?"active":""),title:L("Bold"),type:"button",children:$.jsx("i",{className:"format bold"})}),$.jsx("button",{onClick:()=>{t.dispatchCommand(fn,"italic")},className:"toolbar-item spaced "+(O?"active":""),title:L("Italic"),type:"button",children:$.jsx("i",{className:"format italic"})}),$.jsx("button",{onClick:()=>{t.dispatchCommand(fn,"underline")},className:"toolbar-item spaced "+(D?"active":""),title:L("Underline"),type:"button",children:$.jsx("i",{className:"format underline"})}),$.jsx("button",{onClick:()=>{t.dispatchCommand(fn,"strikethrough")},className:"toolbar-item spaced "+(B?"active":""),title:L("Strikethrough"),type:"button",children:$.jsx("i",{className:"format strikethrough"})}),$.jsx("button",{onClick:()=>{t.dispatchCommand(fn,"code")},className:"toolbar-item spaced "+(q?"active":""),title:L("Code"),type:"button",children:$.jsx("i",{className:"format code"})}),$.jsx("button",{onClick:he,className:"toolbar-item spaced "+(x?"active":""),title:L("Link"),type:"button",children:$.jsx("i",{className:"format link"})}),$.jsx("button",{onClick:Ce,className:"toolbar-item spaced "+(h==="ul"?"active":""),title:L("Bullet List"),type:"button",children:$.jsx("i",{className:"format ul"})}),$.jsx("button",{onClick:me,className:"toolbar-item spaced "+(h==="ol"?"active":""),title:L("Numbered List"),type:"button",children:$.jsx("i",{className:"format ol"})}),$.jsx("button",{onClick:()=>{G(L("Insert Table"),pe=>$.jsx(RO,{activeEditor:l,onClose:pe}))},className:"toolbar-item spaced",title:L("Table"),type:"button",children:$.jsx("i",{className:"format table"})}),e&&$.jsx("button",{onClick:()=>{G(L("Insert Image"),pe=>$.jsx(xO,{activeEditor:t,onClose:pe}))},className:"toolbar-item spaced "+(Z?"active":""),title:L("Image"),type:"button",children:$.jsx("i",{className:"format image"})}),$.jsx("button",{onClick:()=>{t.dispatchCommand(G_,void 0)},className:"toolbar-item spaced",title:L("Horizontal Line"),type:"button",children:$.jsx("i",{className:"format rule"})})]}),U]})}const b0=["image/","image/heic","image/heif","image/gif","image/webp"];function jO({imageUploadUrl:r,imageUploadTaskUuid:e}){const[t]=je();return z.useEffect(()=>t.registerCommand(Ag,l=>((async()=>{const s=await XT(l,[b0].flatMap(o=>o));for(const{file:o,result:u}of s)if(Lv(o,b0)){const f=new FormData;f.append("image[]",o,o.name),f.append("task_uuid",e),fetch(r,{method:"post",body:f}).then(d=>d.json()).then(({data:d})=>{const g=Object.values(d)[0];t.dispatchCommand(_c,{altText:o.name,src:g})}).catch(d=>{console.error(d)})}})(),!0),ke),[t]),null}function gh(r){return r instanceof HTMLElement}class v0{constructor(e,t){this._x=e,this._y=t}get x(){return this._x}get y(){return this._y}equals({x:e,y:t}){return this.x===e&&this.y===t}calcDeltaXTo({x:e}){return this.x-e}calcDeltaYTo({y:e}){return this.y-e}calcHorizontalDistanceTo(e){return Math.abs(this.calcDeltaXTo(e))}calcVerticalDistance(e){return Math.abs(this.calcDeltaYTo(e))}calcDistanceTo(e){return Math.sqrt(Math.pow(this.calcDeltaXTo(e),2)+Math.pow(this.calcDeltaYTo(e),2))}}function HO(r){return r instanceof v0}class yl{constructor(e,t,l,s){const[o,u]=t<=s?[t,s]:[s,t],[f,d]=e<=l?[e,l]:[l,e];this._top=o,this._right=d,this._left=f,this._bottom=u}get top(){return this._top}get right(){return this._right}get bottom(){return this._bottom}get left(){return this._left}get width(){return Math.abs(this._left-this._right)}get height(){return Math.abs(this._bottom-this._top)}equals({top:e,left:t,bottom:l,right:s}){return e===this._top&&l===this._bottom&&t===this._left&&s===this._right}contains(e){if(HO(e)){const{x:t,y:l}=e,s=l<this._top,o=l>this._bottom,u=t<this._left,f=t>this._right;return{reason:{isOnBottomSide:o,isOnLeftSide:u,isOnRightSide:f,isOnTopSide:s},result:!s&&!o&&!u&&!f}}else{const{top:t,left:l,bottom:s,right:o}=e;return t>=this._top&&t<=this._bottom&&s>=this._top&&s<=this._bottom&&l>=this._left&&l<=this._right&&o>=this._left&&o<=this._right}}intersectsWith(e){const{left:t,top:l,width:s,height:o}=e,{left:u,top:f,width:d,height:g}=this,h=t+s>=u+d?t+s:u+d,y=l+o>=f+g?l+o:f+g,b=t<=u?t:u,_=l<=f?l:f;return h-b<=s+d&&y-_<=o+g}generateNewRect({left:e=this.left,top:t=this.top,right:l=this.right,bottom:s=this.bottom}){return new yl(e,t,l,s)}static fromLTRB(e,t,l,s){return new yl(e,t,l,s)}static fromLWTH(e,t,l,s){return new yl(e,l,e+t,l+s)}static fromPoints(e,t){const{y:l,x:s}=e,{y:o,x:u}=t;return yl.fromLTRB(s,l,u,o)}static fromDOM(e){const{top:t,width:l,left:s,height:o}=e.getBoundingClientRect();return yl.fromLWTH(s,l,t,o)}}const hh=4,KO=2,PO="draggable-block-menu",_0="application/x-lexical-drag-block",S0=28,IO=1,qO=-1,x0=0;let xc=1/0;function YO(r){return r===0?1/0:xc>=0&&xc<r?xc:Math.floor(r/2)}function VO(r){return r.getEditorState().read(()=>tt().getChildrenKeys())}function C0(r){const e=(d,g)=>d?parseFloat(window.getComputedStyle(d)[g]):0,{marginTop:t,marginBottom:l}=window.getComputedStyle(r),s=e(r.previousElementSibling,"marginBottom"),o=e(r.nextElementSibling,"marginTop"),u=Math.max(parseFloat(t),s);return{marginBottom:Math.max(parseFloat(l),o),marginTop:u}}function ph(r,e,t,l=!1){const s=r.getBoundingClientRect(),o=VO(e);let u=null;return e.getEditorState().read(()=>{if(l){const[g,h]=[e.getElementByKey(o[0]),e.getElementByKey(o[o.length-1])],[y,b]=[g==null?void 0:g.getBoundingClientRect(),h==null?void 0:h.getBoundingClientRect()];if(y&&b){const _=cl(g),v=cl(h);if(t.y/_<y.top?u=g:t.y/v>b.bottom&&(u=h),u)return}}let f=YO(o.length),d=x0;for(;f>=0&&f<o.length;){const g=o[f],h=e.getElementByKey(g);if(h===null)break;const y=cl(h),b=new v0(t.x/y,t.y/y),_=yl.fromDOM(h),{marginTop:v,marginBottom:S}=C0(h),C=_.generateNewRect({bottom:_.bottom+S,left:s.left,right:s.right,top:_.top-v}),{result:w,reason:{isOnTopSide:x,isOnBottomSide:E}}=C.contains(b);if(w){u=h,xc=f;break}d===x0&&(x?d=qO:E?d=IO:d=1/0),f+=d}}),u}function GO(r){return!!r.closest(`.${PO}`)}function XO(r,e,t){if(!r){e.style.opacity="0",e.style.transform="translate(-10000px, -10000px)";return}const l=r.getBoundingClientRect(),s=window.getComputedStyle(r),o=e.getBoundingClientRect(),u=t.getBoundingClientRect(),f=l.top+(parseInt(s.lineHeight,10)-o.height)/2-u.top,d=hh;e.style.opacity="1",e.style.transform=`translate(${d}px, ${f}px)`}function ZO(r,e){const{transform:t}=e.style;e.style.transform="translateZ(0)",r.setDragImage(e,0,0),setTimeout(()=>{e.style.transform=t})}function WO(r,e,t,l){const{top:s,height:o}=e.getBoundingClientRect(),{top:u,width:f}=l.getBoundingClientRect(),{marginTop:d,marginBottom:g}=C0(e);let h=s;t>=s?h+=o+g/2:h-=d/2;const y=h-u-KO,b=S0-hh;r.style.transform=`translate(${b}px, ${y}px)`,r.style.width=`${f-(S0-hh)*2}px`,r.style.opacity=".4"}function QO(r){r&&(r.style.opacity="0",r.style.transform="translate(-10000px, -10000px)")}function JO(r,e,t){const l=e.parentElement,s=z.useRef(null),o=z.useRef(null),u=z.useRef(!1),[f,d]=z.useState(null);z.useEffect(()=>{function y(_){const v=_.target;if(!gh(v)){d(null);return}if(GO(v))return;const S=ph(e,r,_);d(S)}function b(){d(null)}return l==null||l.addEventListener("mousemove",y),l==null||l.addEventListener("mouseleave",b),()=>{l==null||l.removeEventListener("mousemove",y),l==null||l.removeEventListener("mouseleave",b)}},[l,e,r]),z.useEffect(()=>{s.current&&XO(f,s.current,e)},[e,f]),z.useEffect(()=>{function y(_){if(!u.current)return!1;const[v]=cs(_);if(v)return!1;const{pageY:S,target:C}=_;if(!gh(C))return!1;const w=ph(e,r,_,!0),x=o.current;return w===null||x===null?!1:(WO(x,w,S/cl(C),e),_.preventDefault(),!0)}function b(_){if(!u.current)return!1;const[v]=cs(_);if(v)return!1;const{target:S,dataTransfer:C,pageY:w}=_,x=(C==null?void 0:C.getData(_0))||"",E=Ze(x);if(!E||!gh(S))return!1;const N=ph(e,r,_,!0);if(!N)return!1;const A=Gt(N);if(!A)return!1;if(A===E)return!0;const O=N.getBoundingClientRect().top;return w/cl(S)>=O?A.insertAfter(E):A.insertBefore(E),d(null),!0}return ft(r.registerCommand(Cu,_=>y(_),ke),r.registerCommand(xa,_=>b(_),zr))},[e,r]);function g(y){const b=y.dataTransfer;if(!b||!f)return;ZO(b,f);let _="";r.update(()=>{const v=Gt(f);v&&(_=v.getKey())}),u.current=!0,b.setData(_0,_)}function h(){u.current=!1,QO(o.current)}return Tn.createPortal($.jsxs($.Fragment,{children:[$.jsx("div",{className:"icon draggable-block-menu",ref:s,draggable:!0,onDragStart:g,onDragEnd:h,children:$.jsx("div",{className:t?"icon":""})}),$.jsx("div",{className:"draggable-block-target-line",ref:o})]}),e)}function eR({anchorElem:r=document.body}){const[e]=je();return JO(e,r,e._editable)}function tR({validateUrl:r,attributes:e}){const[t]=je();return z.useEffect(()=>{if(!t.hasNodes([xi]))throw new Error("LinkPlugin: LinkNode not registered on editor");return ft(t.registerCommand(Ci,l=>{if(l===null)return oh(l),!0;if(typeof l=="string")return!(r!==void 0&&!r(l))&&(oh(l,e),!0);{const{url:s,target:o,rel:u,title:f}=l;return oh(s,{...e,rel:u,target:o,title:f}),!0}},ke),r!==void 0?t.registerCommand(ql,l=>{const s=X();if(!I(s)||s.isCollapsed()||!sr(l,ClipboardEvent)||l.clipboardData===null)return!1;const o=l.clipboardData.getData("text");return!!r(o)&&!s.getNodes().some(u=>W(u))&&(t.dispatchCommand(Ci,{...e,url:o}),l.preventDefault(),!0)},ke):()=>{})},[t,r,e]),null}function nR(){return $.jsx(tR,{validateUrl:DO})}function mh(r,e){const t={};for(const l of r){const s=e(l);s&&(t[s]?t[s].push(l):t[s]=[l])}return t}function yh(r){const e=mh(r,t=>t.type);return{element:e.element||[],multilineElement:e["multiline-element"]||[],textFormat:e["text-format"]||[],textMatch:e["text-match"]||[]}}const Cc=/[!-/:-@[-`{-~\s]/,rR=/^\s{0,3}$/;function bh(r){if(!wn(r))return!1;const e=r.getFirstChild();return e==null||r.getChildrenSize()===1&&oe(e)&&rR.test(e.getTextContent())}function iR(r,e,t,l){for(const s of e){if(!s.export)continue;const o=s.export(r,u=>Ec(u,t,l));if(o!=null)return o}return W(r)?Ec(r,t,l):Be(r)?r.getTextContent():null}function Ec(r,e,t,l,s){const o=[],u=r.getChildren();l||(l=[]),s||(s=[]);e:for(const f of u){for(const d of t){if(!d.export)continue;const g=d.export(f,h=>Ec(h,e,t,l,[...s,...l]),(h,y)=>E0(h,y,e,l,s));if(g!=null){o.push(g);continue e}}Cn(f)?o.push(`
`):oe(f)?o.push(E0(f,f.getTextContent(),e,l,s)):W(f)?o.push(Ec(f,e,t,l,s)):Be(f)&&o.push(f.getTextContent())}return o.join("")}function E0(r,e,t,l,s){let o=r.getFormat()===0?e:function(b){return b.replace(/^\s+|\s+$/g,_=>[..._].map(v=>"&#"+v.codePointAt(0)+";").join(""))}(e);r.hasFormat("code")||(o=o.replace(/([*_`~\\])/g,"\\$1"));let u="",f="",d="";const g=w0(r,!0),h=w0(r,!1),y=new Set;for(const b of t){const _=b.format[0],v=b.tag;wc(r,_)&&!y.has(_)&&(y.add(_),wc(g,_)&&l.find(S=>S.tag===v)||(l.push({format:_,tag:v}),u+=v))}for(let b=0;b<l.length;b++){const _=wc(r,l[b].format),v=wc(h,l[b].format);if(_&&v)continue;const S=[...l];for(;S.length>b;){const C=S.pop();s&&C&&s.find(w=>w.tag===C.tag)||(C&&typeof C.tag=="string"&&(_?v||(d+=C.tag):f+=C.tag),l.pop())}break}return o=u+o+d,f+o}function w0(r,e){let t=e?r.getPreviousSibling():r.getNextSibling();if(!t){const l=r.getParentOrThrow();l.isInline()&&(t=e?l.getPreviousSibling():l.getNextSibling())}for(;t;){if(W(t)){if(!t.isInline())break;const l=e?t.getLastDescendant():t.getFirstDescendant();if(oe(l))return l;t=e?t.getPreviousSibling():t.getNextSibling()}if(oe(t))return t;if(!W(t))return null}return null}function wc(r,e){return oe(r)&&r.hasFormat(e)}function lR(r,e){const t=function(s,o){const u=s.match(o.openTagsRegExp);if(u==null)return null;for(const f of u){const d=f.replace(/^\s/,""),g=o.fullMatchRegExpByTag[d];if(g==null)continue;const h=s.match(g),y=o.transformersByTag[d];if(h!=null&&y!=null){if(y.intraword!==!1)return h;const{index:b=0}=h,_=s[b-1],v=s[b+h[0].length];if((!_||Cc.test(_))&&(!v||Cc.test(v)))return h}}return null}(r.getTextContent(),e);if(!t)return null;const l=t.index||0;return{endIndex:l+t[0].length,match:t,startIndex:l,transformer:e.transformersByTag[t[1]]}}function bl(r){return oe(r)&&!r.hasFormat("code")}function vl(r,e,t){let l=lR(r,e),s=function(u,f){const d=u;let g,h,y,b;for(const _ of f){if(!_.replace||!_.importRegExp)continue;const v=d.getTextContent().match(_.importRegExp);if(!v)continue;const S=v.index||0,C=_.getEndIndex?_.getEndIndex(d,v):S+v[0].length;C!==!1&&(g===void 0||h===void 0||S<g&&C>h)&&(g=S,h=C,y=_,b=v)}return g===void 0||h===void 0||y===void 0||b===void 0?null:{endIndex:h,match:b,startIndex:g,transformer:y}}(r,t);if(l&&s&&(l.startIndex<=s.startIndex&&l.endIndex>=s.endIndex?s=null:l=null),l){const u=function(f,d,g,h,y){const b=f.getTextContent();let _,v,S;if(y[0]===b?_=f:d===0?[_,v]=f.splitText(g):[S,_,v]=f.splitText(d,g),_.setTextContent(y[2]),h)for(const C of h.format)_.hasFormat(C)||_.toggleFormat(C);return{nodeAfter:v,nodeBefore:S,transformedNode:_}}(r,l.startIndex,l.endIndex,l.transformer,l.match);bl(u.nodeAfter)&&vl(u.nodeAfter,e,t),bl(u.nodeBefore)&&vl(u.nodeBefore,e,t),bl(u.transformedNode)&&vl(u.transformedNode,e,t)}else if(s){const u=function(f,d,g,h,y){let b,_,v;return d===0?[b,_]=f.splitText(g):[v,b,_]=f.splitText(d,g),h.replace?{nodeAfter:_,nodeBefore:v,transformedNode:h.replace(b,y)||void 0}:null}(r,s.startIndex,s.endIndex,s.transformer,s.match);if(!u)return;bl(u.nodeAfter)&&vl(u.nodeAfter,e,t),bl(u.nodeBefore)&&vl(u.nodeBefore,e,t),bl(u.transformedNode)&&vl(u.transformedNode,e,t)}const o=r.getTextContent().replace(/\\([*_`~])/g,"$1").replace(/&#(\d+);/g,(u,f)=>String.fromCodePoint(f));r.setTextContent(o)}function sR(r,e=!1){const t=yh(r),l=function(s){const o={},u={},f=[],d="(?<![\\\\])";for(const g of s){const{tag:h}=g;o[h]=g;const y=h.replace(/(\*|\^|\+)/g,"\\$1");f.push(y),h.length===1?u[h]=new RegExp(`(?<![\\\\${y}])(${y})((\\\\${y})?.*?[^${y}\\s](\\\\${y})?)((?<!\\\\)|(?<=\\\\\\\\))(${y})(?![\\\\${y}])`):u[h]=new RegExp(`(?<!\\\\)(${y})((\\\\${y})?.*?[^\\s](\\\\${y})?)((?<!\\\\)|(?<=\\\\\\\\))(${y})(?!\\\\)`)}return{fullMatchRegExpByTag:u,openTagsRegExp:new RegExp(`${d}(${f.join("|")})`,"g"),transformersByTag:o}}(t.textFormat);return(s,o)=>{const u=s.split(`
`),f=u.length,d=o||tt();d.clear();for(let h=0;h<f;h++){const y=u[h],[b,_]=aR(u,h,t.multilineElement,d);b?h=_:oR(y,d,t.element,l,t.textMatch,e)}const g=d.getChildren();for(const h of g)!e&&bh(h)&&d.getChildrenSize()>1&&h.remove();X()!==null&&d.selectStart()}}function aR(r,e,t,l){for(const s of t){const{handleImportAfterStartMatch:o,regExpEnd:u,regExpStart:f,replace:d}=s,g=r[e].match(f);if(!g)continue;if(o){const v=o({lines:r,rootNode:l,startLineIndex:e,startMatch:g,transformer:s});if(v===null)continue;if(v)return v}const h=typeof u=="object"&&"regExp"in u?u.regExp:u,y=u&&typeof u=="object"&&"optional"in u?u.optional:!u;let b=e;const _=r.length;for(;b<_;){const v=h?r[b].match(h):null;if(!v&&(!y||y&&b<_-1)){b++;continue}if(v&&e===b&&v.index===g.index){b++;continue}const S=[];if(v&&e===b)S.push(r[e].slice(g[0].length,-v[0].length));else for(let C=e;C<=b;C++)if(C===e){const w=r[C].slice(g[0].length);S.push(w)}else if(C===b&&v){const w=r[C].slice(0,-v[0].length);S.push(w)}else S.push(r[C]);if(d(l,null,g,v,S,!0)!==!1)return[!0,b];break}}return[!1,e]}function oR(r,e,t,l,s,o){const u=Fe(r),f=De();f.append(u),e.append(f);for(const{regExp:d,replace:g}of t){const h=r.match(d);if(h&&(u.setTextContent(r.slice(h[0].length)),g(f,[u],h,!0)!==!1))break}if(vl(u,l,s),f.isAttached()&&r.length>0){const d=f.getPreviousSibling();if(!o&&(wn(d)||Og(d)||Oe(d))){let g=d;if(Oe(d)){const h=d.getLastDescendant();g=h==null?null:Le(h,Xe)}g!=null&&g.getTextContentSize()>0&&(g.splice(g.getChildrenSize(),0,[Fn(),...f.getChildren()]),f.remove())}}}function uR(r,...e){const t=new URL("https://lexical.dev/docs/error"),l=new URLSearchParams;l.append("code",r);for(const s of e)l.append("v",s);throw t.search=l.toString(),Error(`Minified Lexical error #${r}; visit ${t.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function T0(r,e,t){const l=t.length;for(let s=e;s>=l;s--){const o=s-l;if(N0(r,o,t,0,l)&&r[o+l]!==" ")return o}return-1}function N0(r,e,t,l,s){for(let o=0;o<s;o++)if(r[e+o]!==t[l+o])return!1;return!0}function cR(r,e=Ja){const t=yh(e),l=mh(t.textFormat,({tag:u})=>u[u.length-1]),s=mh(t.textMatch,({trigger:u})=>u);for(const u of e){const f=u.type;if(f==="element"||f==="text-match"||f==="multiline-element"){const d=u.dependencies;for(const g of d)r.hasNode(g)||uR(173,g.getType())}}const o=(u,f,d)=>{(function(g,h,y,b){const _=g.getParent();if(!St(_)||g.getFirstChild()!==h)return!1;const v=h.getTextContent();if(v[y-1]!==" ")return!1;for(const{regExp:S,replace:C}of b){const w=v.match(S);if(w&&w[0].length===(w[0].endsWith(" ")?y:y-1)){const x=h.getNextSiblings(),[E,N]=h.splitText(y);if(E.remove(),C(g,N?[N,...x]:x,w,!1)!==!1)return!0}}return!1})(u,f,d,t.element)||function(g,h,y,b){const _=g.getParent();if(!St(_)||g.getFirstChild()!==h)return!1;const v=h.getTextContent();if(v[y-1]!==" ")return!1;for(const{regExpStart:S,replace:C,regExpEnd:w}of b){if(w&&!("optional"in w)||w&&"optional"in w&&!w.optional)continue;const x=v.match(S);if(x&&x[0].length===(x[0].endsWith(" ")?y:y-1)){const E=h.getNextSiblings(),[N,A]=h.splitText(y);if(N.remove(),C(g,A?[A,...E]:E,x,null,null,!1)!==!1)return!0}}return!1}(u,f,d,t.multilineElement)||function(g,h,y){let b=g.getTextContent();const _=y[b[h-1]];if(_==null)return!1;h<b.length&&(b=b.slice(0,h));for(const v of _){if(!v.replace||!v.regExp)continue;const S=b.match(v.regExp);if(S===null)continue;const C=S.index||0,w=C+S[0].length;let x;return C===0?[x]=g.splitText(w):[,x]=g.splitText(C,w),x.selectNext(0,0),v.replace(x,S),!0}return!1}(f,d,s)||function(g,h,y){const b=g.getTextContent(),_=h-1,v=b[_],S=y[v];if(!S)return!1;for(const C of S){const{tag:w}=C,x=w.length,E=_-x+1;if(x>1&&!N0(b,E,w,0,x)||b[E-1]===" ")continue;const N=b[_+1];if(C.intraword===!1&&N&&!Cc.test(N))continue;const A=g;let O=A,R=T0(b,E,w),D=O;for(;R<0&&(D=D.getPreviousSibling())&&!Cn(D);)if(oe(D)){if(D.hasFormat("code"))continue;const G=D.getTextContent();O=D,R=T0(G,G.length,w)}if(R<0||O===A&&R+x===E)continue;const M=O.getTextContent();if(R>0&&M[R-1]===v)continue;const B=M[R-1];if(C.intraword===!1&&B&&!Cc.test(B))continue;const H=A.getTextContent(),q=H.slice(0,E)+H.slice(_+1);A.setTextContent(q);const Y=O===A?q:M;O.setTextContent(Y.slice(0,R)+Y.slice(R+x));const Z=X(),ie=Wl();qe(ie);const U=_-x*(O===A?2:1)+1;ie.anchor.set(O.__key,R,"text"),ie.focus.set(A.__key,U,"text");for(const G of C.format)ie.hasFormat(G)||ie.formatText(G);ie.anchor.set(ie.focus.key,ie.focus.offset,ie.focus.type);for(const G of C.format)ie.hasFormat(G)&&ie.toggleFormat(G);return I(Z)&&(ie.format=Z.format),!0}}(f,d,l)};return r.registerUpdateListener(({tags:u,dirtyLeaves:f,editorState:d,prevEditorState:g})=>{if(u.has("collaboration")||u.has("historic")||r.isComposing())return;const h=d.read(X),y=g.read(X);if(!I(y)||!I(h)||!h.isCollapsed()||h.is(y))return;const b=h.anchor.key,_=h.anchor.offset,v=d._nodeMap.get(b);!oe(v)||!f.has(b)||_!==1&&_>y.anchor.offset+1||r.update(()=>{if(!bl(v))return;const S=v.getParent();S===null||Za(S)||o(S,v,h.anchor.offset)})})}const A0=/^(\s*)(\d{1,})\.\s/,O0=/^(\s*)[-*+]\s/,fR=/^(\s*)(?:-\s)?\s?(\[(\s|x)?\])\s/i,vh=/^(#{1,6})\s/,R0=/^>\s/,k0=/^[ \t]*```(\w+)?/,M0=/[ \t]*```$/,dR=/^[ \t]*```[^`]+(?:(?:`{1,2}|`{4,})[^`]+)*```(?:[^`]|$)/,gR=/^(?:\|)(.+)(?:\|)\s?$/,hR=/^(\| ?:?-*:? ?)+\|\s?$/,D0=r=>(e,t,l)=>{const s=r(l);s.append(...t),e.replace(s),s.select(0,0)},L0=r=>(e,t,l)=>{const s=e.getPreviousSibling(),o=e.getNextSibling(),u=yn(r==="check"?l[3]==="x":void 0);if(Oe(o)&&o.getListType()===r){const d=o.getFirstChild();d!==null?d.insertBefore(u):o.append(u),e.remove()}else if(Oe(s)&&s.getListType()===r)s.append(u),e.remove();else{const d=ln(r,r==="number"?Number(l[2]):void 0);d.append(u),e.replace(d)}u.append(...t),u.select(0,0);const f=function(d){const g=d.match(/\t/g),h=d.match(/ /g);let y=0;return g&&(y+=g.length),h&&(y+=Math.floor(h.length/4)),y}(l[1]);f&&u.setIndent(f)},_h=(r,e,t)=>{const l=[],s=r.getChildren();let o=0;for(const u of s)if(Xe(u)){if(u.getChildrenSize()===1){const h=u.getFirstChild();if(Oe(h)){l.push(_h(h,e,t+1));continue}}const f=" ".repeat(4*t),d=r.getListType(),g=d==="number"?`${r.getStart()+o}. `:d==="check"?`- [${u.getChecked()?"x":" "}] `:"- ";l.push(f+g+e(u)),o++}return l.join(`
`)},pR={dependencies:[sc],export:(r,e)=>{if(!t_(r))return null;const t=Number(r.getTag().slice(1));return"#".repeat(t)+" "+e(r)},regExp:vh,replace:D0(r=>{const e="h"+r[1].length;return ar(e)}),type:"element"},mR={dependencies:[ic],export:(r,e)=>{if(!Og(r))return null;const t=e(r).split(`
`),l=[];for(const s of t)l.push("> "+s);return l.join(`
`)},regExp:R0,replace:(r,e,t,l)=>{if(l){const o=r.getPreviousSibling();if(Og(o))return o.splice(o.getChildrenSize(),0,[Fn(),...e]),o.select(0,0),void r.remove()}const s=lc();s.append(...e),r.replace(s),s.select(0,0)},type:"element"},yR={dependencies:[mc],export:r=>{if(!Za(r))return null;const e=r.getTextContent();return"```"+(r.getLanguage()||"")+(e?`
`+e:"")+"\n```"},regExpEnd:{optional:!0,regExp:M0},regExpStart:k0,replace:(r,e,t,l,s,o)=>{let u,f;if(!e&&s){if(s.length===1)l?(u=Sr(),f=t[1]+s[0]):(u=Sr(t[1]),f=s[0].startsWith(" ")?s[0].slice(1):s[0]);else{if(u=Sr(t[1]),s[0].trim().length===0)for(;s.length>0&&!s[0].length;)s.shift();else s[0]=s[0].startsWith(" ")?s[0].slice(1):s[0];for(;s.length>0&&!s[s.length-1].length;)s.pop();f=s.join(`
`)}const d=Fe(f);u.append(d),r.append(u)}else e&&D0(d=>Sr(d?d[1]:void 0))(r,e,t,o)},type:"multiline-element"},bR={dependencies:[Si,_i],export:(r,e)=>Oe(r)?_h(r,e,0):null,regExp:O0,replace:L0("bullet"),type:"element"},vR={dependencies:[Si,_i],export:(r,e)=>Oe(r)?_h(r,e,0):null,regExp:A0,replace:L0("number"),type:"element"},_R={format:["code"],tag:"`",type:"text-format"},SR={format:["highlight"],tag:"==",type:"text-format"},xR={format:["bold","italic"],tag:"***",type:"text-format"},CR={format:["bold","italic"],intraword:!1,tag:"___",type:"text-format"},ER={format:["bold"],tag:"**",type:"text-format"},wR={format:["bold"],intraword:!1,tag:"__",type:"text-format"},TR={format:["strikethrough"],tag:"~~",type:"text-format"},NR={format:["italic"],tag:"*",type:"text-format"},AR={format:["italic"],intraword:!1,tag:"_",type:"text-format"},OR={dependencies:[xi],export:(r,e,t)=>{if(!Ht(r))return null;const l=r.getTitle(),s=e(r);return l?`[${s}](${r.getURL()} "${l}")`:`[${s}](${r.getURL()})`},importRegExp:/(?:\[([^[]+)\])(?:\((?:([^()\s]+)(?:\s"((?:[^"]*\\")*[^"]*)"\s*)?)\))/,regExp:/(?:\[([^[]+)\])(?:\((?:([^()\s]+)(?:\s"((?:[^"]*\\")*[^"]*)"\s*)?)\))$/,replace:(r,e)=>{const[,t,l,s]=e,o=pl(l,{title:s}),u=Fe(t);return u.setFormat(r.getFormat()),o.append(u),r.replace(o),u},trigger:")",type:"text-match"},Sh=[pR,mR,bR,vR],RR=[yR],xh=[_R,xR,CR,ER,wR,SR,NR,AR,TR],Ch=[OR],Ja=[...Sh,...RR,...xh,...Ch];function Eh(r,e=Ja,t,l=!1,s=!1){const o=l?r:function(u,f=!1){const d=u.split(`
`);let g=!1;const h=[];for(let y=0;y<d.length;y++){const b=d[y],_=h[h.length-1];dR.test(b)?h.push(b):k0.test(b)||M0.test(b)?(g=!g,h.push(b)):g||b===""||_===""||!_||vh.test(_)||vh.test(b)||R0.test(b)||A0.test(b)||O0.test(b)||fR.test(b)||gR.test(b)||hR.test(b)||!f?h.push(b):h[h.length-1]=_+b}return h.join(`
`)}(r,s);return sR(e,l)(o,t)}function z0(r=Ja,e,t=!1){return function(s,o=!1){const u=yh(s),f=[...u.multilineElement,...u.element],d=!o,g=u.textFormat.filter(h=>h.format.length===1).sort((h,y)=>Number(h.format.includes("code"))-Number(y.format.includes("code")));return h=>{const y=[],b=(h||tt()).getChildren();for(let _=0;_<b.length;_++){const v=b[_],S=iR(v,f,g,u.textMatch);S!=null&&y.push(d&&_>0&&!bh(v)&&!bh(b[_-1])?`
`.concat(S):S)}return y.join(`
`)}}(r,t)(e)}const kR=[{dependencies:[Va],export:r=>X_(r)?"***":null,regExp:/^(---|\*\*\*|___)\s?$/,replace:(r,e,t,l)=>{const s=Ga();l||r.getNextSibling()!=null?r.replace(s):r.insertBefore(s),s.selectNext()},type:"element"},...Ja];function MR({transformers:r=kR}){const[e]=je();return z.useEffect(()=>cR(e,r),[e,r]),null}const DR=r=>{const e=r.getFirstChild();return lt(e)?e.getChildrenSize():0},$0=(r,e)=>{r=r.replace(/\\n/g,`
`);const t=jn(it.NO_STATUS);return e?t.append(e(r)):Eh(r,Th,t),t},F0=(r,e)=>{const t=r.match(U0);return!t||!t[1]?null:t[1].split("|").map(l=>$0(l,e))},B0={dependencies:[Va],export:r=>X_(r)?"***":null,regExp:/^(---|\*\*\*|___)\s?$/,replace:(r,e,t,l)=>{const s=Ga();l||r.getNextSibling()!=null?r.replace(s):r.insertBefore(s),s.selectNext()},type:"element"},wh={dependencies:[ml],export:(r,e,t)=>Wa(r)?`![${r.getAltText()}](${r.getSrc()})`:null,importRegExp:/!(?:\[([^[]*)\])(?:\(([^(]+)\))/,regExp:/!(?:\[([^[]*)\])(?:\(([^(]+)\))$/,replace:(r,e)=>{const[,t,l]=e,s=bc({altText:t,src:l});r.replace(s)},trigger:")",type:"text-match"},U0=/^(?:\|)(.+)(?:\|)\s?$/,LR=/^(\| ?:?-{3,}?:? ?)+\|\s?$/,zR=r=>({dependencies:[jr,fl,ur],export:e=>{if(!dt(e))return null;const t=[];for(const l of e.getChildren()){const s=[];if(!lt(l))continue;let o=!1;for(const u of l.getChildren())_e(u)&&(s.push(z0(Th,u).replace(/\n/g,"\\n")),u.__headerState===it.ROW&&(o=!0));t.push(`| ${s.join(" | ")} |`),o&&t.push(`| ${s.map(u=>"---").join(" | ")} |`)}return t.join(`
`)},regExp:U0,replace:(e,t,l)=>{if(LR.test(l[0])){const h=e.getPreviousSibling();if(!h||!dt(h))return;const y=h.getChildren(),b=y[y.length-1];if(!b||!lt(b))return;b.getChildren().forEach(_=>{_e(_)&&_.toggleHeaderStyle(it.ROW)}),e.remove();return}const s=F0(l[0],r);if(s==null)return;const o=[s];let u=e.getPreviousSibling(),f=s.length;for(;u&&!(!wn(u)||u.getChildrenSize()!==1);){const h=u.getFirstChild();if(!oe(h))break;const y=F0(h.getTextContent(),r);if(y==null)break;f=Math.max(f,y.length),o.unshift(y);const b=u.getPreviousSibling();u.remove(),u=b}const d=gc();for(const h of o){const y=ds();d.append(y);for(let b=0;b<f;b++)y.append(b<h.length?h[b]:$0(""))}const g=e.getPreviousSibling();dt(g)&&DR(g)===f?(g.append(...d.getChildren()),e.remove()):e.replace(d),d.selectEnd()},type:"element"}),Th=[wh,...Sh,...xh,...Ch];function $R(){return $.jsx(MR,{transformers:Th})}function j0(r,e=t=>t){return t=>{const l=r.exec(t);return l===null?null:{index:l.index,length:l[0].length,text:l[0],url:e(l[0])}}}function H0(r,e){for(let t=0;t<e.length;t++){const l=e[t](r);if(l)return l}return null}const FR=/[.,;\s]/;function Tc(r){return FR.test(r)}function K0(r){return Tc(r[r.length-1])}function Nh(r){return Tc(r[0])}function P0(r){let e=r.getPreviousSibling();return W(e)&&(e=e.getLastDescendant()),e===null||Cn(e)||oe(e)&&K0(e.getTextContent())}function I0(r){let e=r.getNextSibling();return W(e)&&(e=e.getFirstDescendant()),e===null||Cn(e)||oe(e)&&Nh(e.getTextContent())}function BR(r,e,t,l){return(r>0?Tc(t[r-1]):P0(l[0]))?e<t.length?Tc(t[e]):I0(l[l.length-1]):!1}function UR(r,e,t){const l=[],s=[],o=[];let u=0,f=0;const d=[...r];for(;d.length>0;){const g=d[0],h=g.getTextContent().length,y=f;f+h<=e?(l.push(g),u+=h):y>=t?o.push(g):s.push(g),f+=h,d.shift()}return[u,l,s,o]}function jR(r,e,t,l){const s=ah(l.url,l.attributes);if(r.length===1){let o,u=r[0];e===0?[o,u]=u.splitText(t):[,o,u]=u.splitText(e,t);const f=Fe(l.text);return f.setFormat(o.getFormat()),f.setDetail(o.getDetail()),f.setStyle(o.getStyle()),s.append(f),o.replace(s),u}if(r.length>1){const o=r[0];let u,f=o.getTextContent().length;e===0?u=o:[,u]=o.splitText(e);const d=[];let g;for(let _=1;_<r.length;_++){const v=r[_],S=v.getTextContent().length,C=f;if(C<t)if(f+S<=t)d.push(v);else{const[w,x]=v.splitText(t-C);d.push(w),g=x}f+=S}const h=X(),y=h?h.getNodes().find(oe):void 0,b=Fe(u.getTextContent());return b.setFormat(u.getFormat()),b.setDetail(u.getDetail()),b.setStyle(u.getStyle()),s.append(b,...d),y&&y===u&&(I(h)?b.select(h.anchor.offset,h.focus.offset):et(h)&&b.select(0,b.getTextContent().length)),u.replace(s),g}}function Ah(r,e,t){const l=r.getChildren(),s=l.length;for(let d=0;d<s;d++){const g=l[d];if(!oe(g)||!g.isSimpleText())return Nc(r),void t(null,r.getURL())}const o=r.getTextContent(),u=H0(o,e);if(u===null||u.text!==o||!P0(r)||!I0(r))return Nc(r),void t(null,r.getURL());const f=r.getURL();if(f!==u.url&&(r.setURL(u.url),t(u.url,f)),u.attributes){const d=r.getRel();d!==u.attributes.rel&&(r.setRel(u.attributes.rel||null),t(u.attributes.rel||null,d));const g=r.getTarget();g!==u.attributes.target&&(r.setTarget(u.attributes.target||null),t(u.attributes.target||null,g))}}function Nc(r){const e=r.getChildren();for(let t=e.length-1;t>=0;t--)r.insertAfter(e[t]);return r.remove(),e.map(t=>t.getLatest())}function HR(r,e,t){z.useEffect(()=>{r.hasNodes([yc])||function(s,...o){const u=new URL("https://lexical.dev/docs/error"),f=new URLSearchParams;f.append("code",s);for(const d of o)f.append("v",d);throw u.search=f.toString(),Error(`Minified Lexical error #${s}; visit ${u.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}(77);const l=(s,o)=>{t&&t(s,o)};return ft(r.registerNodeTransform(nr,s=>{const o=s.getParentOrThrow(),u=s.getPreviousSibling();if(Hn(o)&&!o.getIsUnlinked())Ah(o,e,l);else if(!Ht(o)){if(s.isSimpleText()&&(Nh(s.getTextContent())||!Hn(u))){const f=function(d){const g=[d];let h=d.getNextSibling();for(;h!==null&&oe(h)&&h.isSimpleText()&&(g.push(h),!/[\s]/.test(h.getTextContent()));)h=h.getNextSibling();return g}(s);(function(d,g,h){let y=[...d];const b=y.map(C=>C.getTextContent()).join("");let _,v=b,S=0;for(;(_=H0(v,g))&&_!==null;){const C=_.index,w=C+_.length;if(BR(S+C,S+w,b,y)){const[x,,E,N]=UR(y,S+C,S+w),A=jR(E,S+C-x,S+w-x,_);y=A?[A,...N]:N,h(_.url,null),S=0}else S+=w;v=v.substring(w)}})(f,e,l)}(function(f,d,g){const h=f.getPreviousSibling(),y=f.getNextSibling(),b=f.getTextContent();var _;!Hn(h)||h.getIsUnlinked()||Nh(b)&&(_=b,!(h.isEmailURI()?/^\.[a-zA-Z]{2,}/.test(_):/^\.[a-zA-Z0-9]{1,}/.test(_)))||(h.append(f),Ah(h,d,g),g(null,h.getURL())),!Hn(y)||y.getIsUnlinked()||K0(b)||(Nc(y),Ah(y,d,g),g(null,y.getURL()))})(s,e,l)}}),r.registerCommand(Ci,s=>{const o=X();return s!==null||!I(o)||o.extract().forEach(u=>{const f=u.getParent();if(Hn(f))return f.setIsUnlinked(!f.getIsUnlinked()),f.markDirty(),!0}),!1},ke))},[r,e,t])}function KR({matchers:r,onChange:e}){const[t]=je();return HR(t,r,e),null}const PR=/((https?:\/\/|www\.)[a-zA-Z0-9-]+(\.[a-zA-Z0-9-]+)*(:\d+)?(\/[a-zA-Z0-9\-./?%&=]*)?)|([a-zA-Z0-9-]+(\.[a-zA-Z0-9-]+)*\.(com|net|org|edu|gov|mil|io|co|uk|de|ru|jp|fr|br|it|nl|pl|in|au|cn|es)(\:[0-9]{1,5})?(\/([\w#!:.?+=&%@!\-\/])*)?)/,IR=/(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))/,qR=[j0(PR,r=>r.startsWith("http")?r:`https://${r}`),j0(IR,r=>`mailto:${r}`)];function YR(){return $.jsx(KR,{matchers:qR})}function Ac(r){const e=r.anchor,t=r.focus,l=r.anchor.getNode(),s=r.focus.getNode();return l===s?l:r.isBackward()?Ju(t)?l:s:Ju(e)?l:s}const VR=10,GR=5;function q0(r,e,t,l=VR,s=GR){const o=t.parentElement;if(r===null||!o){e.style.opacity="0",e.style.transform="translate(-10000px, -10000px)";return}const u=e.getBoundingClientRect(),f=t.getBoundingClientRect(),d=o.getBoundingClientRect();let g=r.top-l,h=r.left-s;g<d.top&&(g+=u.height+r.height+l*2),h+u.width>d.right&&(h=d.right-u.width-s),g-=f.top,h-=f.left,e.style.opacity="1",e.style.transform=`translate(${h}px, ${g}px)`}function XR({editor:r,isLink:e,setIsLink:t,anchorElem:l,isLinkEditMode:s,setIsLinkEditMode:o}){const u=z.useRef(null),f=z.useRef(null),[d,g]=z.useState(""),[h,y]=z.useState("https://"),[b,_]=z.useState(null),v=z.useCallback(()=>{var O,R;const w=X();if(I(w)){const D=Ac(w),M=Le(D,Ht);M?g(M.getURL()):Ht(D)?g(D.getURL()):g(""),s&&y(d)}const x=u.current,E=window.getSelection(),N=document.activeElement;if(x===null)return;const A=r.getRootElement();if(w!==null&&E!==null&&A!==null&&A.contains(E.anchorNode)&&r.isEditable()){const D=(R=(O=E.focusNode)==null?void 0:O.parentElement)==null?void 0:R.getBoundingClientRect();D&&(D.y+=40,q0(D,x,l)),_(w)}else(!N||N.className!=="link-input")&&(A!==null&&q0(null,x,l),_(null),o(!1),g(""));return!0},[l,r,o,s,d]);z.useEffect(()=>{const w=l.parentElement,x=()=>{r.getEditorState().read(()=>{v()})};return window.addEventListener("resize",x),w&&w.addEventListener("scroll",x),()=>{window.removeEventListener("resize",x),w&&w.removeEventListener("scroll",x)}},[l.parentElement,r,v]),z.useEffect(()=>ft(r.registerUpdateListener(({editorState:w})=>{w.read(()=>{v()})}),r.registerCommand(nn,()=>(v(),!0),ke),r.registerCommand(tl,()=>e?(t(!1),!0):!1,zr)),[r,v,t,e]),z.useEffect(()=>{r.getEditorState().read(()=>{v()})},[r,v]),z.useEffect(()=>{s&&f.current&&f.current.focus()},[s,e]);const S=w=>{w.key==="Enter"?(w.preventDefault(),C()):w.key==="Escape"&&(w.preventDefault(),o(!1))},C=()=>{b!==null&&(d!==""&&(r.dispatchCommand(Ci,Sc(h)),r.update(()=>{const w=X();if(I(w)){const x=Ac(w).getParent();if(Hn(x)){const E=pl(x.getURL(),{rel:x.__rel,target:x.__target,title:x.__title});x.replace(E,!0)}}})),y("https://"),o(!1))};return $.jsx("div",{ref:u,className:"link-editor",children:e?s?$.jsxs($.Fragment,{children:[$.jsx("input",{ref:f,className:"link-input",value:h,onChange:w=>{y(w.target.value)},onKeyDown:w=>{S(w)}}),$.jsxs("div",{children:[$.jsx("div",{className:"link-cancel",role:"button",tabIndex:0,onMouseDown:w=>w.preventDefault(),onClick:()=>{o(!1)}}),$.jsx("div",{className:"link-confirm",role:"button",tabIndex:0,onMouseDown:w=>w.preventDefault(),onClick:C})]})]}):$.jsxs("div",{className:"link-view",children:[$.jsx("a",{href:Sc(d),target:"_blank",rel:"noopener noreferrer",children:d}),$.jsx("div",{className:"link-edit",role:"button",tabIndex:0,onMouseDown:w=>w.preventDefault(),onClick:()=>{y(d),o(!0)}}),$.jsx("div",{className:"link-trash",role:"button",tabIndex:0,onMouseDown:w=>w.preventDefault(),onClick:()=>{r.dispatchCommand(Ci,null)}})]}):null})}function ZR(r,e,t,l){const[s,o]=z.useState(r),[u,f]=z.useState(!1);return z.useEffect(()=>{function d(){const g=X();if(I(g)){const h=Ac(g),y=Le(h,Ht),b=Le(h,Hn);if(!(y||b)){f(!1);return}const _=g.getNodes().filter(v=>!Cn(v)).find(v=>{const S=Le(v,Ht),C=Le(v,Hn);return y&&!y.is(S)||S&&!S.is(y)||b&&!b.is(C)||C&&!C.is(b)});f(!_)}}return ft(r.registerUpdateListener(({editorState:g})=>{g.read(()=>{d()})}),r.registerCommand(nn,(g,h)=>(d(),o(h),!1),Bn),r.registerCommand(oi,g=>{const h=X();if(I(h)){const y=Ac(h),b=Le(y,Ht);if(Ht(b)&&(g.metaKey||g.ctrlKey))return window.open(b.getURL(),"_blank"),!0}return!1},ke))},[r]),Tn.createPortal($.jsx(XR,{editor:s,isLink:u,anchorElem:e,setIsLink:f,isLinkEditMode:t,setIsLinkEditMode:l}),e)}function WR({anchorElem:r=document.body,isLinkEditMode:e,setIsLinkEditMode:t}){const[l]=je();return ZR(l,r,e,t)}const QR={ltr:"ltr",rtl:"rtl",placeholder:"editor-placeholder",paragraph:"editor-paragraph",quote:"editor-quote",heading:{h1:"editor-heading-h1",h2:"editor-heading-h2",h3:"editor-heading-h3",h4:"editor-heading-h4",h5:"editor-heading-h5"},list:{nested:{listitem:"editor-nested-listitem"},ol:"editor-list-ol",ul:"editor-list-ul",listitem:"editor-listitem"},image:"editor-image",link:"editor-link",text:{bold:"editor-text-bold",italic:"editor-text-italic",overflowed:"editor-text-overflowed",hashtag:"editor-text-hashtag",underline:"editor-text-underline",strikethrough:"editor-text-strikethrough",underlineStrikethrough:"editor-text-underlineStrikethrough",code:"editor-text-code"},code:"editor-code",codeHighlight:{atrule:"editor-tokenAttr",attr:"editor-tokenAttr",boolean:"editor-tokenProperty",builtin:"editor-tokenSelector",cdata:"editor-tokenComment",char:"editor-tokenSelector",class:"editor-tokenFunction","class-name":"editor-tokenFunction",comment:"editor-tokenComment",constant:"editor-tokenProperty",deleted:"editor-tokenProperty",doctype:"editor-tokenComment",entity:"editor-tokenOperator",function:"editor-tokenFunction",important:"editor-tokenVariable",inserted:"editor-tokenSelector",keyword:"editor-tokenAttr",namespace:"editor-tokenVariable",number:"editor-tokenProperty",operator:"editor-tokenOperator",prolog:"editor-tokenComment",property:"editor-tokenProperty",punctuation:"editor-tokenPunctuation",regex:"editor-tokenVariable",selector:"editor-tokenSelector",string:"editor-tokenSelector",symbol:"editor-tokenProperty",tag:"editor-tokenProperty",url:"editor-tokenOperator",variable:"editor-tokenVariable"},hr:"editor-rule",table:"editor-table"},JR=`\\.,\\*\\?\\$\\|#{}\\(\\)\\^\\[\\]\\\\/!%'"~=<>_:;`,Y0="startTransition",Oh=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,ek=Oh?z.useLayoutEffect:z.useEffect,V0=r=>{const e=document.getElementById("typeahead-menu");if(!e)return;const t=e.getBoundingClientRect();t.top+t.height>window.innerHeight&&e.scrollIntoView({block:"center"}),t.top<0&&e.scrollIntoView({block:"center"}),r.scrollIntoView({block:"nearest"})};function G0(r,e){const t=r.getBoundingClientRect(),l=e.getBoundingClientRect();return t.top>l.top&&t.top<l.bottom}function tk(r,e,t,l){const[s]=je();z.useEffect(()=>{if(e!=null&&r!=null){const o=s.getRootElement(),u=o!=null?function(y,b){let _=getComputedStyle(y);const v=_.position==="absolute",S=/(auto|scroll)/;if(_.position==="fixed")return document.body;for(let C=y;C=C.parentElement;)if(_=getComputedStyle(C),(!v||_.position!=="static")&&S.test(_.overflow+_.overflowY+_.overflowX))return C;return document.body}(o):document.body;let f=!1,d=G0(e,u);const g=function(){f||(window.requestAnimationFrame(function(){t(),f=!1}),f=!0);const y=G0(e,u);y!==d&&(d=y,l!=null&&l(y))},h=new ResizeObserver(t);return window.addEventListener("resize",t),document.addEventListener("scroll",g,{capture:!0,passive:!0}),h.observe(e),()=>{h.unobserve(e),window.removeEventListener("resize",t),document.removeEventListener("scroll",g,!0)}}},[e,s,l,t,r])}const X0=cn();function nk({close:r,editor:e,anchorElementRef:t,resolution:l,options:s,menuRenderFn:o,onSelectOption:u,shouldSplitNodeWithQuery:f=!1,commandPriority:d=ke,preselectFirstItem:g=!0}){const[h,y]=z.useState(null),b=l.match&&l.match.matchingString;z.useEffect(()=>{g&&y(0)},[b,g]);const _=z.useCallback(S=>{e.update(()=>{const C=l.match!=null&&f?function(w){const x=X();if(!I(x)||!x.isCollapsed())return null;const E=x.anchor;if(E.type!=="text")return null;const N=E.getNode();if(!N.isSimpleText())return null;const A=E.offset,O=N.getTextContent().slice(0,A),R=w.replaceableString.length,D=A-function(B,H,q){let Y=q;for(let Z=Y;Z<=H.length;Z++)B.slice(-Z)===H.substring(0,Z)&&(Y=Z);return Y}(O,w.matchingString,R);if(D<0)return null;let M;return D===0?[M]=N.splitText(A):[,M]=N.splitText(D,A),M}(l.match):null;u(S,C,r,l.match?l.match.matchingString:"")})},[e,f,l.match,u,r]),v=z.useCallback(S=>{const C=e.getRootElement();C!==null&&(C.setAttribute("aria-activedescendant","typeahead-item-"+S),y(S))},[e]);return z.useEffect(()=>()=>{const S=e.getRootElement();S!==null&&S.removeAttribute("aria-activedescendant")},[e]),ek(()=>{s===null?y(null):h===null&&g&&v(0)},[s,h,v,g]),z.useEffect(()=>ft(e.registerCommand(X0,({option:S})=>!(!S.ref||S.ref.current==null)&&(V0(S.ref.current),!0),d)),[e,v,d]),z.useEffect(()=>ft(e.registerCommand(_a,S=>{const C=S;if(s!==null&&s.length){const w=h===null?0:h!==s.length-1?h+1:0;v(w);const x=s[w];x.ref!=null&&x.ref.current&&e.dispatchCommand(X0,{index:w,option:x}),C.preventDefault(),C.stopImmediatePropagation()}return!0},d),e.registerCommand(va,S=>{const C=S;if(s!==null&&s.length){const w=h===null?s.length-1:h!==0?h-1:s.length-1;v(w);const x=s[w];x.ref!=null&&x.ref.current&&V0(x.ref.current),C.preventDefault(),C.stopImmediatePropagation()}return!0},d),e.registerCommand(tl,S=>{const C=S;return C.preventDefault(),C.stopImmediatePropagation(),r(),!0},d),e.registerCommand(Sa,S=>{const C=S;return s!==null&&h!==null&&s[h]!=null&&(C.preventDefault(),C.stopImmediatePropagation(),_(s[h]),!0)},d),e.registerCommand(gi,S=>s!==null&&h!==null&&s[h]!=null&&(S!==null&&(S.preventDefault(),S.stopImmediatePropagation()),_(s[h]),!0),d)),[_,r,e,s,h,v,d]),o(t,z.useMemo(()=>({options:s,selectOptionAndCleanUp:_,selectedIndex:h,setHighlightedIndex:y}),[_,h,s]),l.match?l.match.matchingString:"")}function Z0(r,e){e!=null&&(r.className=e),r.setAttribute("aria-label","Typeahead menu"),r.setAttribute("role","listbox"),r.style.display="block",r.style.position="absolute"}function rk({options:r,onQueryChange:e,onSelectOption:t,onOpen:l,onClose:s,menuRenderFn:o,triggerFn:u,anchorClassName:f,commandPriority:d=ke,parent:g,preselectFirstItem:h=!0}){const[y]=je(),[b,_]=z.useState(null),v=function(w,x,E,N=Oh?document.body:void 0,A=!0){const[O]=je(),R=z.useRef(Oh?document.createElement("div"):null),D=z.useCallback(()=>{if(R.current===null||N===void 0)return;R.current.style.top=R.current.style.bottom;const H=O.getRootElement(),q=R.current,Y=q.firstChild;if(H!==null&&w!==null){const{left:Z,top:ie,width:U,height:G}=w.getRect(),K=R.current.offsetHeight;if(q.style.top=`${ie+K+3+(A?window.pageYOffset:0)}px`,q.style.left=`${Z+window.pageXOffset}px`,q.style.height=`${G}px`,q.style.width=`${U}px`,Y!==null){Y.style.top=`${ie}`;const ne=Y.getBoundingClientRect(),L=ne.height,J=ne.width,le=H.getBoundingClientRect();Z+J>le.right&&(q.style.left=`${le.right-J+window.pageXOffset}px`),(ie+L>window.innerHeight||ie+L>le.bottom)&&ie-le.top>L+G&&(q.style.top=`${ie-L-G+(A?window.pageYOffset:0)}px`)}q.isConnected||(Z0(q,E),N.append(q)),q.setAttribute("id","typeahead-menu"),R.current=q,H.setAttribute("aria-controls","typeahead-menu")}},[O,w,A,E,N]);z.useEffect(()=>{const H=O.getRootElement();return w!==null&&D(),()=>{H!==null&&H.removeAttribute("aria-controls");const q=R.current;q!==null&&q.isConnected&&(q.remove(),q.removeAttribute("id"))}},[O,D,w]);const M=z.useCallback(H=>{w!==null&&(H||x(null))},[w,x]);tk(w,R.current,D,M);const B=R.current;return B!=null&&(Z0(B,E),N!=null&&N.append(B)),R}(b,_,f,g),S=z.useCallback(()=>{_(null),s!=null&&b!==null&&s()},[s,b]),C=z.useCallback(w=>{_(w),l!=null&&b===null&&l(w)},[l,b]);return z.useEffect(()=>{const w=y.registerUpdateListener(()=>{y.getEditorState().read(()=>{if(!y.isEditable())return void S();const x=y._window||window,E=x.document.createRange(),N=X(),A=function(D){let M=null;return D.getEditorState().read(()=>{const B=X();I(B)&&(M=function(H){const q=H.anchor;if(q.type!=="text")return null;const Y=q.getNode();if(!Y.isSimpleText())return null;const Z=q.offset;return Y.getTextContent().slice(0,Z)}(B))}),M}(y);if(!I(N)||!N.isCollapsed()||A===null||E===null)return void S();const O=u(A,y);if(e(O?O.matchingString:null),O!==null&&!function(D,M){return M===0&&D.getEditorState().read(()=>{const B=X();if(I(B)){const H=B.anchor.getNode().getPreviousSibling();return oe(H)&&H.isTextEntity()}return!1})}(y,O.leadOffset)&&function(M,B,H){const q=Xt(H);if(q===null||!q.isCollapsed)return!1;const Y=q.anchorNode,Z=M,ie=q.anchorOffset;if(Y==null||ie==null)return!1;try{B.setStart(Y,Z),B.setEnd(Y,ie)}catch{return!1}return!0}(O.leadOffset,E,x)!==null)return R=()=>C({getRect:()=>E.getBoundingClientRect(),match:O}),void(Y0 in Wf?Wf[Y0](R):R());var R;S()})});return()=>{w()}},[y,u,e,b,S,C]),z.useEffect(()=>y.registerEditableListener(w=>{w||S()}),[y,S]),b===null||y===null||v.current===null?null:$.jsx(nk,{close:S,resolution:b,editor:y,anchorElementRef:v,options:r,menuRenderFn:o,shouldSplitNodeWithQuery:!0,onSelectOption:t,commandPriority:d,preselectFirstItem:h})}const bs=typeof window<"u"&&typeof window.document.createElement<"u",ik=bs&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,eo=bs&&window.matchMedia("(pointer: coarse)").matches,lk=bs?z.useLayoutEffect:z.useEffect,Rh=()=>{const[r]=je(),[e,t]=z.useState(()=>bs?r.getRootElement()===document.activeElement:!1);return lk(()=>ft(r.registerCommand(wu,()=>(t(!0),!1),Jl),r.registerCommand(Tu,()=>(t(!1),!1),Jl)),[r]),e};function sk(r){const{value:e,trigger:t,data:l,className:s,classNameFocused:o,classNames:u,nodeKey:f,component:d}=r,[g]=je(),h=Rh(),[y,b,_]=th(f),v=z.useRef(null),S=t+e,C=z.useMemo(()=>{if(s){const R=[s];return y&&h&&o&&R.push(o),R.join(" ").trim()||void 0}return""},[y,s,o,h]),w=z.useCallback(R=>{if(y&&et(X())){R.preventDefault();const D=Ze(f);_l(D)&&D.remove()}return!1},[y,f]),x=z.useCallback(R=>{const D=Ze(f);if(!(D!=null&&D.isSelected()))return!1;let M=!1;const B=Rc(D);return W(B)&&(B.selectEnd(),M=!0),oe(B)&&(B.select(),M=!0),Be(B)&&(B.selectNext(),M=!0),B===null&&(D.selectPrevious(),M=!0),M&&R.preventDefault(),M},[f]),E=z.useCallback(R=>{const D=Ze(f);if(!(D!=null&&D.isSelected()))return!1;let M=!1;const B=Oc(D);return W(B)&&(B.selectStart(),M=!0),oe(B)&&(B.select(0,0),M=!0),Be(B)&&(B.selectPrevious(),M=!0),B===null&&(D.selectNext(),M=!0),M&&R.preventDefault(),M},[f]),N=z.useCallback(R=>{var D;return R.target===v.current||!((D=v.current)===null||D===void 0)&&D.contains(R.target)?(R.shiftKey||_(),b(!0),!0):!1},[_,b]),A=z.useCallback(()=>{const R=Ze(f);if(!(R!=null&&R.isSelected()))return!1;const D=X();return et(D)&&qe(null),!1},[f]),O=z.useCallback(()=>ik&&y?(b(!1),!0):!1,[y,b]);return z.useEffect(()=>{const R=ft(g.registerCommand(oi,N,ke),g.registerCommand(Yl,w,ke),g.registerCommand(hi,w,ke),g.registerCommand(ba,x,ke),g.registerCommand(ya,E,ke),g.registerCommand(Tu,A,ke),g.registerCommand(nn,O,ke));return()=>{R()}},[g,x,E,N,w,A,O]),d?$.jsx(d,{ref:v,trigger:t,value:e,data:l,className:C,"data-beautiful-mention":S,children:S}):u?$.jsxs("span",{ref:v,className:y&&u.containerFocused?u.containerFocused:u.container,"data-beautiful-mention":S,children:[$.jsx("span",{className:u.trigger,children:t}),$.jsx("span",{className:u.value,children:e})]}):$.jsx("span",{ref:v,className:C,"data-beautiful-mention":S,children:S})}function ak(r){const e=r.getAttribute("data-lexical-beautiful-mention-trigger"),t=r.getAttribute("data-lexical-beautiful-mention-value");let l;const s=r.getAttribute("data-lexical-beautiful-mention-data");if(s)try{l=JSON.parse(s)}catch(o){console.warn("Failed to parse data attribute of beautiful mention node",o)}return e!=null&&t!==null?{node:to(e,t,l)}:null}class Ei extends Bu{static getType(){return"beautifulMention"}static clone(e){return new Ei(e.__trigger,e.__value,e.__data,e.__key)}constructor(e,t,l,s){super(s),this.__trigger=e,this.__value=t,this.__data=l}createDOM(){return document.createElement("span")}updateDOM(){return!1}exportDOM(){const e=document.createElement("span");return e.setAttribute("data-lexical-beautiful-mention","true"),e.setAttribute("data-lexical-beautiful-mention-trigger",this.__trigger),e.setAttribute("data-lexical-beautiful-mention-value",this.__value),this.__data&&e.setAttribute("data-lexical-beautiful-mention-data",JSON.stringify(this.__data)),e.textContent=this.getTextContent(),{element:e}}static importDOM(){return{span:e=>e.hasAttribute("data-lexical-beautiful-mention")?{conversion:ak,priority:1}:null}}static importJSON(e){return to(e.trigger,e.value,e.data)}exportJSON(){const e=this.__data;return Object.assign(Object.assign({trigger:this.__trigger,value:this.__value},e?{data:e}:{}),{type:"beautifulMention",version:1})}getTextContent(){const e=this.getLatest();return e.__trigger+e.__value}getTrigger(){return this.getLatest().__trigger}getValue(){return this.getLatest().__value}setValue(e){const t=this.getWritable();t.__value=e}getData(){return this.getLatest().__data}setData(e){const t=this.getWritable();t.__data=e}component(){return null}decorate(e,t){const{className:l,classNameFocused:s,classNames:o}=this.getCssClassesFromTheme(t);return $.jsx(sk,{nodeKey:this.getKey(),trigger:this.getTrigger(),value:this.getValue(),data:this.getData(),className:l,classNameFocused:s,classNames:o,component:this.component()})}getCssClassesFromTheme(e){var t;const l=e.theme.beautifulMentions||{},s=Object.entries(l).find(([h])=>new RegExp(h).test(this.__trigger)),o=(t=s==null?void 0:s[0])!==null&&t!==void 0?t:"",u=s==null?void 0:s[1],f=typeof u=="string"?u:void 0,d=f&&typeof l[o+"Focused"]=="string"?l[o+"Focused"]:void 0;return{className:f,classNameFocused:d,classNames:s&&typeof u!="string"?u:void 0}}}function to(r,e,t){const l=new Ei(r,e,t);return Tt(l)}function _l(r){return r instanceof Ei}const W0="";function ok({textContent:r}){const[e]=je();return z.useEffect(()=>ft(e.registerUpdateListener(()=>{e.update(()=>{const l=tt().getLastDescendant();Be(l)&&(ig(vs).forEach(s=>{s.remove()}),l.insertAfter(kh(r))),ig(Xl).forEach(s=>{const o=s.getPreviousSibling();Be(o)&&s.insertBefore(kh(r))})},{tag:"history-merge"})}),e.registerCommand(xu,t=>{if(t.ctrlKey||t.metaKey||t.altKey)return!1;const l=X();if(I(l)){const s=l.anchor.getNode();no(s)&&s.remove()}return!1},zr),e.registerCommand(nn,()=>{const t=X();if(I(t)&&t.isCollapsed()){const l=t.anchor.getNode();no(l)&&l.selectPrevious()}return!1},zr)),[e,r]),null}class vs extends nr{static getType(){return"zeroWidth"}static clone(e){return new vs(e.__textContent,e.__key)}static importJSON(e){return kh()}constructor(e,t){super(W0,t),this.__textContent=e}exportJSON(){return Object.assign(Object.assign({},super.exportJSON()),{text:"",type:"zeroWidth"})}updateDOM(){return!1}static importDOM(){return null}exportDOM(e){return{element:null}}isTextEntity(){return!0}getTextContent(){return this.__textContent}}function kh(r=""){const e=new vs(r);return e.setMode("segmented"),Tt(e)}function no(r){return r instanceof vs}const uk=`\\.,\\*\\?\\$\\|#{}\\(\\)\\^\\[\\]\\\\/!%'"~=<>_:;`,ck="\\(",fk=r=>"(?:"+r.join("|")+")",Q0=(r,e)=>(r.length===0?"":"(?!"+r.join("|")+")")+"[^\\s"+e+"]",dk=75;function Mh(r,e,t){return new RegExp(Q0(e,t)).test(r)}function ro(r,e){const t=X();if(!t||!I(t))return;const l=t.anchor,s=t.focus,[o]=t.getNodes();if(l.key!==s.key||l.offset!==s.offset||!o)return;const u=oe(o)&&o.isSimpleText(),f=l.type,d=l.offset,g=xr(o),h=d===0,y=g.length===d,b=g.charAt(d-1),_=g.charAt(d),v=Mh(b,r,e),S=Mh(_,r,e),C=/\s/.test(b),w=/\s/.test(_),x=Rc(o),E=Oc(o),N=o.getParent(),A={node:o,type:f,offset:d,isTextNode:u,textContent:g,selection:t,prevNode:x,nextNode:E,parentNode:N,cursorAtStartOfNode:h,cursorAtEndOfNode:y,wordCharBeforeCursor:v,wordCharAfterCursor:S,spaceBeforeCursor:C,spaceAfterCursor:w};return u?Object.assign(Object.assign({},A),{isTextNode:!0,node:o}):Object.assign(Object.assign({},A),{isTextNode:!1,node:o})}function Oc(r){let e=r.getNextSibling();for(;e!==null&&no(e);)e=e.getNextSibling();return e}function Rc(r){let e=r.getPreviousSibling();for(;e!==null&&no(e);)e=e.getPreviousSibling();return e}function xr(r){return no(r)?"":r.getTextContent()}function gk(r,e){return typeof r=="string"||typeof r=="boolean"?r:e===null?!1:typeof r=="object"?r[e]:!1}function hk(r,e){return typeof r=="number"||r===!1?r:typeof r>"u"?5:e===null?!1:typeof r=="object"?r[e]:5}function pk(r){const e=r.getLastDescendant();return W(e)||oe(e)?e:Be(e)?e.getParent():r}function Dh(){const r=tt(),e=pk(r),t=e==null?void 0:e.getKey(),l=W(e)?e.getChildrenSize():oe(e)?xr(e).length:0,s=W(e)?"element":"text";if(t){const o=Wl();o.anchor.set(t,l,s),o.focus.set(t,l,s),qe(o)}}function io(r){return r=r??Gu(),ig(Ei)}class Lh{constructor(e,t,l){this.value=e,this.displayValue=t,this.data=l,this.key=l?JSON.stringify(Object.assign(Object.assign({},l),{value:e})):e,this.displayValue=t??e,this.ref={current:null},this.setRefElement=this.setRefElement.bind(this)}setRefElement(e){this.ref={current:e}}}function J0(r){const e=X();if(!I(e)||!e.isCollapsed())return null;const t=e.anchor;if(t.type!=="text")return null;const l=t.getNode();if(!l.isSimpleText())return null;const s=t.offset,o=xr(l).slice(0,s),u=r.replaceableString.length,f=mk(o,r.matchingString,u),d=s-f;if(d<0)return null;let g;return d===0?[g]=l.splitText(s):[,g]=l.splitText(d,s),g}function mk(r,e,t){let l=t;for(let s=l;s<=e.length;s++)r.substring(-s)===e.substring(0,s)&&(l=s);return l}class kc extends hn{static getType(){return"placeholder"}static clone(e){return new kc(e.__textContent,e.__key)}constructor(e,t){super(t),this.__textContent=e}createDOM(e){const t=document.createElement("img");return t.style.display="inline",t.style.border="none",t.style.margin="0",t.style.height="1px",t.style.width="1px",t}updateDOM(){return!1}static importDOM(){return null}static importJSON(e){return yk()}isInline(){return!0}exportJSON(){return Object.assign(Object.assign({},super.exportJSON()),{type:"placeholder"})}getTextContent(){return""}}function yk(r=""){const e=new kc(r);return Tt(e)}function bk(r){return r instanceof kc}const eS=cn(),tS=cn(),nS=cn(),rS=cn();function iS(r,e,t,l){return lS(r,e,t,void 0,void 0,l)}function vk(r,e,t,l,s,o){return lS(r,e,t,l,s,o)}function lS(r,e,t,l,s,o){const u=ro(r,e);if(!u)return!1;const{node:f,selection:d,wordCharBeforeCursor:g,wordCharAfterCursor:h,cursorAtStartOfNode:y,cursorAtEndOfNode:b,prevNode:_,nextNode:v}=u,S=l?to(t,l,s):Fe(t),C=[];if(!(wn(f)&&y)&&!oe(f))return o&&C.push(Fe(" ")),C.push(S),d.insertNodes(C),!0;let w=null;return o&&(g||y&&_!==null&&!oe(_))&&C.push(Fe(" ")),C.push(S),o&&(h||b&&v!==null&&!oe(v))&&(w=Fe(" "),C.push(w)),d.insertNodes(C),C.length>1&&(oe(S)?S.select():w&&w.selectPrevious()),!0}function _k(r,e,t=!0){let l=!1,s=null,o=null;const u=io();for(const f of u){const d=f.getTrigger()===r,g=f.getValue()===e;d&&(g||!e)&&(s=Rc(f),o=Oc(f),f.remove(),l=!0,oe(s)&&xr(s).endsWith(" ")&&o&&xr(o).startsWith(" ")&&s.setTextContent(xr(s).slice(0,-1)),(o===null||bk(o))&&oe(s)&&xr(s).endsWith(" ")&&s.setTextContent(xr(s).trimEnd()))}return l&&t?sS(s,o):t||qe(null),l}function Sk(r,e,t,l=!0){const s=io();let o=null;for(const u of s){const f=u.getTrigger()===r,d=u.getValue()===t;f&&(d||!t)&&(o=u,u.setValue(e))}if(o&&l){const u=Rc(o),f=Oc(o);sS(u,f),f&&oe(f)?f.select(0,0):Dh()}else l||qe(null);return o!==null}function sS(r,e){e&&oe(e)?e.select(0,0):r&&oe(r)?r.select():Dh()}class zh extends Lh{constructor(e,t,l,s={}){super(t,l,s),this.itemType=e,this.comboboxItem={itemType:e,value:t,displayValue:l,data:s},this.menuOption=new Lh(t,l,s)}}function $h(r){let e=null;return r.getEditorState().read(()=>{const t=X();I(t)&&(e=xk(t))}),e}function xk(r){const e=r.anchor;if(e.type!=="text")return null;const t=e.getNode();if(!t.isSimpleText())return null;const l=e.offset;return xr(t).slice(0,l)}function Ck(r){return r.key.length===1&&!r.ctrlKey&&!r.altKey&&!r.metaKey&&!r.repeat}function Ek(r,e,t){const[l]=je(),[s,o]=z.useState(e??null),[u,f]=z.useState(null);return z.useEffect(()=>{if(e){o(e);return}return l.registerRootListener(d=>{d&&o(d.parentElement)})},[l,e]),z.useEffect(()=>{if(!s)return;if(!r){u&&(u.remove(),f(null));return}const{height:d}=s.getBoundingClientRect(),g=u??document.createElement("div");g.style.position="absolute",g.style.left="0",g.style.right="0",g.style.paddingTop=`${d}px`,s.prepend(g),u||f(g);const h=new ResizeObserver(([y])=>{g.style.paddingTop=`${y.contentRect.height}px`});return h.observe(s),setTimeout(()=>{g.className=t??""}),()=>{h.disconnect(),s.removeChild(g)}},[s,r,u,t]),u}function wk(r,e){var t;const l=(t=r.split(/\s/).pop())!==null&&t!==void 0?t:r,s=r!==l?r.lastIndexOf(l):0;return e.some(u=>u.startsWith(l)&&u!==l)?{leadOffset:s,matchingString:l,replaceableString:l}:null}function Tk(r){var e;const{onSelectOption:t,triggers:l,punctuation:s,autoSpace:o,loading:u,triggerFn:f,onQueryChange:d,onReset:g,comboboxAnchor:h,comboboxAnchorClassName:y,comboboxComponent:b="div",comboboxItemComponent:_="div",onComboboxOpen:v,onComboboxClose:S,onComboboxFocusChange:C,comboboxAdditionalItems:w=[],onComboboxItemSelect:x}=r,E=Rh(),[N]=je(),[A,O]=z.useState(null),[R,D]=z.useState(null),[M,B]=z.useState(null),[H,q]=z.useState(null),Y=r.options.length===0?"trigger":"value",Z=z.useMemo(()=>{const re=w.map(ue=>new zh("additional",ue.value,ue.displayValue,ue.data));if(Y==="trigger"){const ue=l.map(fe=>new zh("trigger",fe,fe));return!H||ue.every(fe=>!fe.value.startsWith(H))?[...ue,...re]:[...ue.filter(fe=>fe.value.startsWith(H)),...re]}return[...r.options.map(ue=>new zh("value",ue.value,ue.displayValue,ue.data)),...re]},[w,Y,r.options,l,H]),[ie,U]=z.useState((e=r.comboboxOpen)!==null&&e!==void 0?e:!1),G=Ek(ie,h,y),K=z.useCallback(re=>{eo||O(re)},[]),ne=z.useCallback(re=>{var ue;const Se=(ue=Z[re].ref)===null||ue===void 0?void 0:ue.current;Se&&Se.scrollIntoView({block:"nearest"})},[Z]),L=z.useCallback((re,ue)=>{if(!E)return!1;let fe;return ue==="up"?A===null?fe=Z.length-1:A===0?fe=null:fe=A-1:A===null?fe=0:A===Z.length-1?fe=null:fe=A+1,K(fe),fe&&ne(fe),re.preventDefault(),re.stopImmediatePropagation(),!0},[E,A,Z.length,ne,K]),J=z.useCallback(re=>{K(re),ne(re)},[ne,K]),le=z.useCallback(()=>{K(null)},[K]),ge=z.useCallback(re=>{const ue=Z[re];x==null||x(ue.comboboxItem),ue.itemType!=="additional"&&(N.update(()=>{const fe=M?J0(M):null;t(ue.menuOption,fe)}),B(null),d(null),q(null),K(null))},[Z,N,d,K,x,M,t]),he=z.useCallback(re=>{const ue=Z[re];x==null||x(ue.comboboxItem),ue.itemType!=="additional"&&(N.update(()=>{const fe=R?J0(R):null;if(fe){const Se=Fe(ue.value);fe.replace(Se),Se.select()}else iS(l,s,ue.value,o)}),D(null),q(null),K(0))},[Z,N,K,x,R,l,s,o]),Ce=z.useCallback(re=>{Y==="trigger"&&he(re),Y==="value"&&ge(re)},[Y,he,ge]),me=z.useCallback(re=>{if(!E||A===null)return!1;let ue=!1;return Y==="trigger"&&(ue=!0,he(A)),Y==="value"&&(ue=!0,ge(A)),ue&&(re.preventDefault(),re.stopImmediatePropagation()),ue},[E,ge,he,Y,A]),pe=z.useCallback(()=>{const re=$h(N),ue=re?re.substring(0,re.length-1):void 0;return ue!=null&&ue.trim()||K(null),!1},[N,K]),be=z.useCallback(re=>{if(U(!0),!Ck(re))return!1;const ue=$h(N),Se=(ue===null?re.key:ue+re.key).trim();return Z.some(xe=>xe.displayValue.startsWith(Se)&&Se.length<=xe.displayValue.length)?K(0):Y==="trigger"&&K(null),!1},[N,Z,Y,K]),ze=z.useCallback(()=>(U(!0),!1),[]),Ye=z.useCallback(()=>(U(!1),H||(q(null),D(null),B(null)),!1),[H]);return z.useEffect(()=>ft(N.registerCommand(_a,re=>L(re,"down"),ke),N.registerCommand(va,re=>L(re,"up"),ke),N.registerCommand(gi,me,Jl),N.registerCommand(Sa,me,ke),N.registerCommand(hi,pe,ke),N.registerCommand(xu,be,ke),N.registerCommand(wu,ze,Jl),N.registerCommand(oi,()=>(ie||U(!0),!1),ke),N.registerCommand(tl,()=>(U(!1),!1),ke)),[N,ie,L,me,pe,be,ze]),z.useEffect(()=>{const re=()=>{N.getEditorState().read(()=>{const ue=$h(N);if(ue===null){g(),D(null),B(null),d(null),q(null);return}const fe=wk(ue,l);if(D(fe),fe){q(fe.matchingString),B(null);return}const Se=f(ue,N);if(B(Se),d(Se?Se.matchingString:null),Se!=null&&Se.matchingString){q(Se.matchingString);return}q(null)})};return N.registerUpdateListener(re)},[N,f,d,g,l]),z.useEffect(()=>{var re;U((re=r.comboboxOpen)!==null&&re!==void 0?re:!1)},[r.comboboxOpen]),z.useEffect(()=>{ie?v==null||v():(O(null),S==null||S())},[v,S,ie]),z.useEffect(()=>{A!==null&&Z[A]?C==null||C(Z[A].comboboxItem):C==null||C(null)},[A,Z,C]),z.useEffect(()=>{if(!bs)return;const re=N.getRootElement(),ue=fe=>{G&&!G.contains(fe.target)&&re&&!re.contains(fe.target)&&Ye()};return document.addEventListener("mousedown",ue),()=>{document.removeEventListener("mousedown",ue)}},[G,N,Ye]),!ie||!G?null:Tn.createPortal($.jsx(b,{loading:u,itemType:Y,role:"menu","aria-activedescendant":A!==null&&Z[A]?Z[A].displayValue:"","aria-label":"Choose trigger and value","aria-hidden":!ie,children:Z.map((re,ue)=>$.jsx(_,{selected:ue===A,role:"menuitem","aria-selected":A===ue,"aria-label":`Choose ${re.value}`,item:re.comboboxItem,ref:re.setRefElement,onClick:()=>{Ce(ue)},onMouseEnter:()=>{J(ue)},onMouseLeave:le,onMouseDown:fe=>{fe.preventDefault()},children:re.displayValue},re.key))}),G)}function Nk(r,e){const[t,l]=z.useState(r);return z.useEffect(()=>{const s=setTimeout(()=>{l(r)},e);return()=>{clearTimeout(s)}},[r,e]),t}function Ak(r){const{queryString:e,trigger:t,searchDelay:l,items:s,onSearch:o,justSelectedAnOption:u}=r,f=Nk(e,l),[d,g]=z.useState(!1),[h,y]=z.useState([]),[b,_]=z.useState(null);return z.useEffect(()=>{if(!s)return;if(t===null){y([]),_(null);return}const v=Object.entries(s).find(([C])=>new RegExp(C).test(t));if(!v)return;const S=e?v[1].filter(C=>(typeof C=="string"?C:C.value).toLowerCase().includes(e.toLowerCase())):[...v[1]];y(S),_(e)},[s,t,e]),z.useEffect(()=>{if(o){if(t===null||f===null){y([]),_(null);return}g(!0),_(f),o(t,u!=null&&u.current?"":f).then(v=>{y(v)}).finally(()=>{g(!1)}),u!=null&&u.current&&(u.current=!1)}},[f,o,t,u]),z.useMemo(()=>({loading:d,results:h,query:b}),[d,h,b])}var Ok=function(r,e){var t={};for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&e.indexOf(l)<0&&(t[l]=r[l]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,l=Object.getOwnPropertySymbols(r);s<l.length;s++)e.indexOf(l[s])<0&&Object.prototype.propertyIsEnumerable.call(r,l[s])&&(t[l[s]]=r[l[s]]);return t};class Mc extends Lh{constructor(e,t,l,s){super(t,l,s),this.trigger=e,this.menuItem={trigger:e,value:t,displayValue:l,data:s}}}const Rk=r=>"(?:\\.[ |$]|\\s|["+r+"]|)";function kk(r,e,t,l){return new RegExp((e?`(^|\\s|${e})(`:"(^|\\s)(")+fk(r)+"((?:"+Q0(r,t)+(l?Rk(t):"")+"){0,"+dk+"}))$")}function aS(r,e,t,l,s){const o=kk(e,t,l,s).exec(r);if(o!==null){const u=o[1],f=o[2],d=o[3];if(f.length>=1)return{leadOffset:o.index+u.length,matchingString:d,replaceableString:f}}return null}function oS(r){const{items:e,onSearch:t,autoSpace:l=!0,searchDelay:s=r.onSearch?250:0,allowSpaces:o=!0,insertOnBlur:u=!0,menuComponent:f="ul",menuItemComponent:d="li",emptyComponent:g,menuAnchorClassName:h,showMentionsOnDelete:y,showCurrentMentionsAsSuggestions:b=!0,mentionEnclosure:_,onMenuOpen:v,onMenuClose:S,onMenuItemSelect:C,punctuation:w=uk,preTriggerChars:x=ck}=r,E=z.useRef(!1),N=Rh(),A=z.useMemo(()=>{var re;return(re=r.triggers)!==null&&re!==void 0?re:Object.keys(e??{})},[r.triggers,e]),[O]=je(),[R,D]=z.useState(null),[M,B]=z.useState(null),{results:H,loading:q,query:Y}=Ak({queryString:R,searchDelay:s,trigger:M,items:e,onSearch:t,justSelectedAnOption:E}),Z=z.useRef(null),ie=z.useRef(null),U=gk(r.creatable,M),G=hk(r.menuItemLimit,M),K=z.useMemo(()=>{if(!M)return[];let re=H.map(fe=>{if(typeof fe=="string")return new Mc(M,fe,fe);{const{value:Se}=fe,xe=Ok(fe,["value"]);return new Mc(M,Se,Se,xe)}});if(G!==!1&&G>0&&(re=re.slice(0,G)),(!t||!q&&Y!==null)&&b&&O.getEditorState().read(()=>{const fe=io(O);for(const Se of fe){const xe=Se.getValue(),Je=Se.getData();Se.getTrigger()===M&&(Y===null||Se.getValue().startsWith(Y))&&re.every(Ve=>Ve.value!==xe)&&re.push(new Mc(M,xe,xe,Je))}}),Y&&re.every(fe=>fe.displayValue!==Y)){const fe=typeof U=="string"?U.replace("{{name}}",Y):typeof U>"u"||U?`Add "${Y}"`:void 0;fe&&re.push(new Mc(M,Y,fe))}return re},[H,t,q,Y,O,M,U,G,b]),ne=!!t&&!K.length&&!!R&&/\s+/.test(R),L=!!K.length||q&&!ne,J=z.useCallback(()=>{B(null)},[]),le=z.useCallback((re,ue,fe)=>{O.update(()=>{if(!M)return;const xe=!!U&&re.value!==re.displayValue&&_&&/\s/.test(re.value)?_+re.value+_:re.value,Je=to(M,xe,re.data);if(ue){const Ve=ue.getNextSibling();if(ue.replace(Je),Ve instanceof nr){const Wt=Ve.getTextContent();!/\s/.test(Wt)&&xe.includes(Wt)&&Ve.remove()}}fe==null||fe(),E.current=!0})},[O,M,U,_]),ge=z.useCallback((re,ue,fe)=>{M&&(C==null||C({trigger:M,value:re.value,displayValue:re.displayValue,data:re.data}),le(re,ue,fe))},[le,C,M]),he=z.useCallback(re=>{const ue=aS(re,A,x,w,o);if(ue){const{replaceableString:fe,matchingString:Se}=ue,xe=fe.lastIndexOf(Se),Je=xe===-1?fe:fe.substring(0,xe)+fe.substring(xe+Se.length);if(B(Je||null),ue.replaceableString)return ue}else B(null);return null},[x,o,w,A]),Ce=z.useCallback((re=!1)=>{if(!l)return;const ue=ro(A,w);if(!ue)return;const{node:fe,offset:Se,type:xe,parentNode:Je,isTextNode:Ve,textContent:Wt,prevNode:sn,nextNode:an,wordCharAfterCursor:on,cursorAtStartOfNode:Sl,cursorAtEndOfNode:Ss}=ue;if(Ve&&Sl&&_l(sn)){fe.insertBefore(Fe(" "));return}if(_l(fe)&&sn===null&&wn(Je)&&xe==="element"&&Se===0){const xl=Fe(" ");fe.insertBefore(xl),xl.selectStart();return}if(Ve&&Ss&&_l(an)){fe.insertAfter(Fe(" "));return}if(Ve&&re&&on){const xl=Wt.substring(0,Se)+" "+Wt.substring(Se);fe.setTextContent(xl);return}_l(fe)&&an===null&&fe.insertAfter(Fe(" "))},[w,A,l]),me=z.useCallback((re=!1)=>{const ue=Z.current;let fe=typeof ue=="number"?K[ue]:void 0;const Se=K.find(on=>on.value!==on.displayValue);if(Se&&(eo||fe===null)&&(fe=Se),!fe)return!1;const xe=ro(A,w);if(!M||!(xe!=null&&xe.isTextNode))return!1;const Je=xe.node,Ve=xr(Je),Wt=aS(Ve,A,x,w,o);if(Wt===null)return!1;const sn=Ve.search(new RegExp(`${Wt.replaceableString}\\s?$`));if(sn===-1)return!1;const an=to(M,fe.value,fe.data);if(O.update(()=>{Je.setTextContent(Ve.substring(0,sn)),Je.insertAfter(an),an.selectNext()},{tag:"history-merge"}),re){const on=X();setTimeout(()=>{O.update(()=>{on&&qe(on.clone())})})}return!0},[K,A,w,M,x,o,O]),pe=z.useCallback(()=>{const re=X();if((!re||et(re))&&ie.current){const ue=ie.current.clone();qe(ue)}else re||Dh();ie.current&&(ie.current=null)},[]),be=z.useCallback(re=>{if(!y)return!1;const ue=ro(A,w);if(ue){const{node:fe,prevNode:Se,offset:xe}=ue,Je=_l(fe)?fe:_l(Se)&&xe===0?Se:null;if(Je){const Ve=Je.getTrigger();return Je.replace(Fe(Ve)),re.preventDefault(),!0}}return!1},[y,A,w]),ze=z.useCallback(re=>{var ue;const{key:fe,metaKey:Se,ctrlKey:xe}=re,Je=fe.length===1,Ve=Mh(fe,A,w),Wt=o&&/^\s$/.test(fe);if(!Je||Se||xe)return!1;let sn=fe;const an=ro(A,w);if(an!=null&&an.isTextNode){const{textContent:Sl,offset:Ss}=an;sn=(((ue=Sl.substring(0,Ss).split(/\s+/).at(-1))!==null&&ue!==void 0?ue:"")+fe).trim()}const on=A.some(Sl=>sn===Sl);return!Ve&&!on&&!Wt||Ce(on),!1},[Ce,w,A,o]),Ye=z.useCallback(re=>{var ue;const fe=(ue=re.clipboardData)===null||ue===void 0?void 0:ue.getData("text/plain"),Se=fe==null?void 0:fe.charAt(0),xe=A.some(Ve=>Se===Ve),Je=Se&&new RegExp(`[\\s${w}]`).test(Se);return(xe||!Je)&&Ce(),!1},[Ce,A,w]);return z.useEffect(()=>{if(!O.hasNodes([Ei]))throw new Error("BeautifulMentionsPlugin: BeautifulMentionNode not registered on editor");return ft(O.registerCommand(nn,()=>{const re=X();return re&&!et(re)?ie.current=re:re||(ie.current=null),!1},ke),O.registerCommand(xu,ze,ke),O.registerCommand(hi,be,ke),O.registerCommand(Tu,()=>u?me(!0):!1,ke),O.registerCommand(Nd,()=>!o&&U?me():!1,ke),O.registerCommand(eS,({trigger:re,value:ue,data:fe,focus:Se=!0})=>{pe();const xe=vk(A,w,re,ue,fe,l);return Se||qe(null),xe},ke),O.registerCommand(tS,({trigger:re,value:ue,focus:fe})=>{const Se=_k(re,ue,fe);return fe||(ie.current=null),Se},ke),O.registerCommand(nS,({trigger:re,newValue:ue,value:fe,focus:Se})=>Sk(re,ue,fe,Se),ke),O.registerCommand(rS,({trigger:re})=>(pe(),iS(A,w,re,l)),ke),O.registerCommand(ql,Ye,ke))},[O,A,w,l,o,u,U,N,me,ze,be,Ye,pe]),z.useEffect(()=>{L&&N?v==null||v():S==null||S(),L&&!N&&J()},[v,S,L,N,J]),bs?r.combobox?$.jsx(Tk,{options:K,loading:q,onQueryChange:D,onSelectOption:le,onReset:()=>{B(null)},triggerFn:he,triggers:A,punctuation:w,creatable:U,comboboxOpen:r.comboboxOpen,comboboxAnchor:r.comboboxAnchor,comboboxAnchorClassName:r.comboboxAnchorClassName,comboboxComponent:r.comboboxComponent,comboboxItemComponent:r.comboboxItemComponent,comboboxAdditionalItems:r.comboboxAdditionalItems,onComboboxOpen:r.onComboboxOpen,onComboboxClose:r.onComboboxClose,onComboboxFocusChange:r.onComboboxFocusChange,onComboboxItemSelect:r.onComboboxItemSelect}):$.jsx(rk,{commandPriority:Jl,onQueryChange:D,onSelectOption:ge,triggerFn:he,options:K,anchorClassName:h,onClose:J,menuRenderFn:(re,{selectedIndex:ue,selectOptionAndCleanUp:fe,setHighlightedIndex:Se})=>(Z.current=ue,re.current&&K.length===0&&Y&&!q&&N&&g?Tn.createPortal($.jsx(g,{}),re.current):re.current&&L?Tn.createPortal($.jsx(f,{loading:q,role:"menu","aria-label":"Choose a mention","aria-hidden":!L,"aria-activedescendant":!eo&&ue!==null&&K[ue]?K[ue].displayValue:"",children:K.map((xe,Je)=>$.jsx(d,Object.assign({tabIndex:-1,selected:!eo&&ue===Je,ref:xe.setRefElement,role:"menuitem","aria-selected":!eo&&ue===Je,"aria-label":`Choose ${xe.value}`,item:xe.menuItem,itemValue:xe.value,label:xe.displayValue},xe.data,{onClick:()=>{Se(Je),fe(xe)},onMouseDown:Ve=>{Ve.preventDefault()},onMouseEnter:()=>{Se(Je)},children:xe.displayValue}),xe.key))}),re.current):null)}):null}function Mk(){const[r]=je(),e=z.useCallback(f=>r.dispatchCommand(eS,f),[r]),t=z.useCallback(f=>r.dispatchCommand(tS,f),[r]),l=z.useCallback(f=>r.dispatchCommand(nS,f),[r]),s=z.useCallback(({value:f,trigger:d})=>r.getEditorState().read(()=>{const g=io(r);return f?g.some(h=>h.getTrigger()===d&&h.getValue()===f):g.some(h=>h.getTrigger()===d)}),[r]),o=z.useCallback(f=>r.dispatchCommand(rS,f),[r]);return{getMentions:z.useCallback(()=>r.getEditorState().read(()=>io(r).map(f=>{const{trigger:d,value:g,data:h}=f.exportJSON();return{trigger:d,value:g,data:h}})),[r]),insertMention:e,removeMentions:t,renameMentions:l,hasMentions:s,openMentionMenu:o}}var Fh={exports:{}},Bh,uS;function Dk(){if(uS)return Bh;uS=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Bh=r,Bh}var Uh,cS;function Lk(){if(cS)return Uh;cS=1;var r=Dk();function e(){}function t(){}return t.resetWarningCache=e,Uh=function(){function l(u,f,d,g,h,y){if(y!==r){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}l.isRequired=l;function s(){return l}var o={array:l,bigint:l,bool:l,func:l,number:l,object:l,string:l,symbol:l,any:l,arrayOf:s,element:l,elementType:l,instanceOf:s,node:l,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:t,resetWarningCache:e};return o.PropTypes=o,o},Uh}var fS;function zk(){return fS||(fS=1,Fh.exports=Lk()()),Fh.exports}var $k=zk();const Cr=ni($k);function jh(...r){return r.filter(Boolean).join(" ")}function dS(r){return new DOMParser().parseFromString(r,"text/html").documentElement.textContent}const Hh=r=>!r||typeof r!="string"?"":r.replace(/&nbsp;/g,"").replace(/&ZeroWidthSpace;/g,"").replace(/&zwsp;/g,"").replace(/&zwnj;/g,"").replace(/&zwj;/g,"").replace(/^[\s\u00A0\u1680\u2000-\u200F\u2028-\u202F\u205F\u3000\uFEFF]+|[\s\u00A0\u1680\u2000-\u200F\u2028-\u202F\u205F\u3000\uFEFF]+$/g,""),Fk=r=>!r||typeof r!="string"?"":r.replace(/[\s\u00A0\u1680\u2000-\u200F\u2028-\u202F\u205F\u3000\uFEFF]/g,"").toLowerCase(),Bk=(r,e)=>{if(!r||!Array.isArray(r))return[];const t=new Map;return r.filter(l=>{const s=e(l),o=Fk(s);return o?t.has(o)?!1:(t.set(o,!0),!0):!1})},Uk={"@":"Mention","#":"Mention"},Dc={"@":"Mention__at","#":"Mention__hashtag"};class _s extends Ei{static getType(){return"custom-beautifulMention"}static clone(e){return new _s(e.__trigger,e.__data?e.__value:e.__value.at(0)!==e.__trigger?e.__trigger+e.__value:e.__value,e.__data,e.__key)}static importJSON(e){const t=e.trigger==="#"?Hh(e.value):e.value;return new _s(e.trigger,t,e.data)}getTextContent(){return this.getLatest().__value}exportJSON(){const e=this.__data,t=this.__trigger==="#"?Hh(this.__value):this.__value;return Object.assign(Object.assign({trigger:this.__trigger,value:t},e?{data:e}:{}),{type:"custom-beautifulMention",version:1})}component(){return gS}decorate(e,t){return super.decorate(e,t)}}const jk={trigger:Cr.string,value:Cr.string,data:Cr.shape({data:Cr.shape({richMode:Cr.bool,entity_link_name:Cr.string,markdown_code:Cr.string,entity_type:Cr.string,entity_image:Cr.string})}),children:Cr.node},gS=z.forwardRef(function({value:e,data:t},l){let s=t?t.data.richMode?dS(t.data.entity_link_name):t.data.markdown_code:e;const o=t&&t.data.richMode?t.data.entity_type==="tag"?"#":t.data.entity_image?$.jsx("img",{src:t.data.entity_image,className:jh("Mention__icon",["user","contact"].includes(t.data.entity_type)?"Mention__icon--rounded":"")}):"":"",u=t&&t.data.entity_type!=="tag"?Dc["@"]:Dc["#"];return $.jsxs("div",{className:u,ref:l,title:e,children:[o,s]})});gS.propTypes=jk;const hS=async(r,e,t,l,s,o)=>{const u=s?`${s}&term=${encodeURIComponent(r+e)}`:o?`?module=tasks&action=${r==="#"?"entityAutocomplete":"mentionAutocomplete"}&task_id=${l}&term=${e}`:"";try{const f=await fetch(u),{data:d}=await f.json();if(r==="#"){const g=d.filter(y=>y.entity_type==="tag"&&!y.markdown_code.includes(" ")).map(y=>{const b=Hh(y.markdown_code);return{...y,markdown_code:b}});return Bk(g,y=>y.markdown_code).map(y=>({value:y.markdown_code,data:{...y,richMode:t}}))}else return d.filter(g=>!g.markdown_code.includes(" ")).map(g=>({value:g.markdown_code,data:{...g,richMode:t}}))}catch(f){return console.error("Error fetching mentions:",f),[]}},Hk=({controls:r})=>{const[e]=je(),{openMentionMenu:t}=Mk(),l=r.querySelectorAll(".t-form-line-autocomplete-chip"),s=u=>{u.preventDefault()},o=u=>{u.preventDefault();const f=u.currentTarget.dataset.type==="at"?"@":"#";t({trigger:f})};z.useEffect(()=>(e.update(()=>{l.forEach(u=>{u.addEventListener("mousedown",s),u.addEventListener("click",o)})}),()=>{l.forEach(u=>{u.removeEventListener("mousedown",s),u.removeEventListener("click",o)})}))};function Kk(r){return r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}const Pk=r=>"(?:"+r.map(e=>Kk(e)).join("|")+")";function Ik(r,e){const t=Object.keys(r),l=[];if(t.length){const s=new RegExp(Pk(t),"g");let o;for(s.lastIndex=0;(o=s.exec(e))!==null;)l.push({value:o[0],index:o.index})}return l}function qk(r,e,t,l){const s=Ik(r,e),o=[];let u=0;if(s.forEach(({value:f,index:d})=>{if(d>u){const g=e.substring(u,d);o.push({type:"text",value:g})}o.push({type:"mention",value:f}),u=d+f.length}),u<e.length){const f=e.substring(u);o.push({type:"text",value:f})}return o}function Yk(r,e,t,l=JR){const s=qk(r,e),o=[];for(const u of s)if(u.type==="text")o.push(Fe(u.value));else{const f=r[u.value];o.push(new _s(f.entity_type==="tag"?"#":"@",f.markdown_code,{data:{...f,richMode:!0}}))}return o}function Vk(r,e){return Yk(r,e)}function pS({loading:r,...e}){const{t}=ii();return r?$.jsx("div",{className:"Menu__loading",children:t("loading")}):$.jsx("ul",{style:{scrollbarWidth:"none",msOverflowStyle:"none"},className:"Menu",...e})}const Kh=z.forwardRef(({selected:r,item:e,itemValue:t,...l},s)=>{const{data:o}=l,u=(o==null?void 0:o.entity_type)==="tag"?e.trigger:o!=null&&o.entity_image?$.jsx("img",{src:o.entity_image,className:jh("Menu__icon",["user","contact"].includes(o.entity_type)?"Menu__icon--rounded":"")}):e.trigger;return $.jsxs("li",{ref:s,className:jh("Menu__line",r?"Menu__line--selected":""),...l,children:[u,$.jsx("div",{className:"Menu__text",children:dS((o==null?void 0:o.entity_title)||e.value)})]})});Kh.displayName="MenuItem";function Gk({editorRef:r}){const[e]=je();return z.useEffect(()=>{typeof r=="function"?r(e):typeof r=="object"&&(r.current=e)},[e]),null}function Xk({editorRef:r}){return $.jsx(Gk,{editorRef:r})}var Ph={exports:{}},mS;function Zk(){return mS||(mS=1,function(r){var e=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{};/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */var t=function(l){var s=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,o=0,u={},f={manual:l.Prism&&l.Prism.manual,disableWorkerMessageHandler:l.Prism&&l.Prism.disableWorkerMessageHandler,util:{encode:function x(E){return E instanceof d?new d(E.type,x(E.content),E.alias):Array.isArray(E)?E.map(x):E.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(x){return Object.prototype.toString.call(x).slice(8,-1)},objId:function(x){return x.__id||Object.defineProperty(x,"__id",{value:++o}),x.__id},clone:function x(E,N){N=N||{};var A,O;switch(f.util.type(E)){case"Object":if(O=f.util.objId(E),N[O])return N[O];A={},N[O]=A;for(var R in E)E.hasOwnProperty(R)&&(A[R]=x(E[R],N));return A;case"Array":return O=f.util.objId(E),N[O]?N[O]:(A=[],N[O]=A,E.forEach(function(D,M){A[M]=x(D,N)}),A);default:return E}},getLanguage:function(x){for(;x;){var E=s.exec(x.className);if(E)return E[1].toLowerCase();x=x.parentElement}return"none"},setLanguage:function(x,E){x.className=x.className.replace(RegExp(s,"gi"),""),x.classList.add("language-"+E)},currentScript:function(){if(typeof document>"u")return null;if(document.currentScript&&document.currentScript.tagName==="SCRIPT")return document.currentScript;try{throw new Error}catch(A){var x=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(A.stack)||[])[1];if(x){var E=document.getElementsByTagName("script");for(var N in E)if(E[N].src==x)return E[N]}return null}},isActive:function(x,E,N){for(var A="no-"+E;x;){var O=x.classList;if(O.contains(E))return!0;if(O.contains(A))return!1;x=x.parentElement}return!!N}},languages:{plain:u,plaintext:u,text:u,txt:u,extend:function(x,E){var N=f.util.clone(f.languages[x]);for(var A in E)N[A]=E[A];return N},insertBefore:function(x,E,N,A){A=A||f.languages;var O=A[x],R={};for(var D in O)if(O.hasOwnProperty(D)){if(D==E)for(var M in N)N.hasOwnProperty(M)&&(R[M]=N[M]);N.hasOwnProperty(D)||(R[D]=O[D])}var B=A[x];return A[x]=R,f.languages.DFS(f.languages,function(H,q){q===B&&H!=x&&(this[H]=R)}),R},DFS:function x(E,N,A,O){O=O||{};var R=f.util.objId;for(var D in E)if(E.hasOwnProperty(D)){N.call(E,D,E[D],A||D);var M=E[D],B=f.util.type(M);B==="Object"&&!O[R(M)]?(O[R(M)]=!0,x(M,N,null,O)):B==="Array"&&!O[R(M)]&&(O[R(M)]=!0,x(M,N,D,O))}}},plugins:{},highlightAll:function(x,E){f.highlightAllUnder(document,x,E)},highlightAllUnder:function(x,E,N){var A={callback:N,container:x,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};f.hooks.run("before-highlightall",A),A.elements=Array.prototype.slice.apply(A.container.querySelectorAll(A.selector)),f.hooks.run("before-all-elements-highlight",A);for(var O=0,R;R=A.elements[O++];)f.highlightElement(R,E===!0,A.callback)},highlightElement:function(x,E,N){var A=f.util.getLanguage(x),O=f.languages[A];f.util.setLanguage(x,A);var R=x.parentElement;R&&R.nodeName.toLowerCase()==="pre"&&f.util.setLanguage(R,A);var D=x.textContent,M={element:x,language:A,grammar:O,code:D};function B(q){M.highlightedCode=q,f.hooks.run("before-insert",M),M.element.innerHTML=M.highlightedCode,f.hooks.run("after-highlight",M),f.hooks.run("complete",M),N&&N.call(M.element)}if(f.hooks.run("before-sanity-check",M),R=M.element.parentElement,R&&R.nodeName.toLowerCase()==="pre"&&!R.hasAttribute("tabindex")&&R.setAttribute("tabindex","0"),!M.code){f.hooks.run("complete",M),N&&N.call(M.element);return}if(f.hooks.run("before-highlight",M),!M.grammar){B(f.util.encode(M.code));return}if(E&&l.Worker){var H=new Worker(f.filename);H.onmessage=function(q){B(q.data)},H.postMessage(JSON.stringify({language:M.language,code:M.code,immediateClose:!0}))}else B(f.highlight(M.code,M.grammar,M.language))},highlight:function(x,E,N){var A={code:x,grammar:E,language:N};if(f.hooks.run("before-tokenize",A),!A.grammar)throw new Error('The language "'+A.language+'" has no grammar.');return A.tokens=f.tokenize(A.code,A.grammar),f.hooks.run("after-tokenize",A),d.stringify(f.util.encode(A.tokens),A.language)},tokenize:function(x,E){var N=E.rest;if(N){for(var A in N)E[A]=N[A];delete E.rest}var O=new y;return b(O,O.head,x),h(x,O,E,O.head,0),v(O)},hooks:{all:{},add:function(x,E){var N=f.hooks.all;N[x]=N[x]||[],N[x].push(E)},run:function(x,E){var N=f.hooks.all[x];if(!(!N||!N.length))for(var A=0,O;O=N[A++];)O(E)}},Token:d};l.Prism=f;function d(x,E,N,A){this.type=x,this.content=E,this.alias=N,this.length=(A||"").length|0}d.stringify=function x(E,N){if(typeof E=="string")return E;if(Array.isArray(E)){var A="";return E.forEach(function(B){A+=x(B,N)}),A}var O={type:E.type,content:x(E.content,N),tag:"span",classes:["token",E.type],attributes:{},language:N},R=E.alias;R&&(Array.isArray(R)?Array.prototype.push.apply(O.classes,R):O.classes.push(R)),f.hooks.run("wrap",O);var D="";for(var M in O.attributes)D+=" "+M+'="'+(O.attributes[M]||"").replace(/"/g,"&quot;")+'"';return"<"+O.tag+' class="'+O.classes.join(" ")+'"'+D+">"+O.content+"</"+O.tag+">"};function g(x,E,N,A){x.lastIndex=E;var O=x.exec(N);if(O&&A&&O[1]){var R=O[1].length;O.index+=R,O[0]=O[0].slice(R)}return O}function h(x,E,N,A,O,R){for(var D in N)if(!(!N.hasOwnProperty(D)||!N[D])){var M=N[D];M=Array.isArray(M)?M:[M];for(var B=0;B<M.length;++B){if(R&&R.cause==D+","+B)return;var H=M[B],q=H.inside,Y=!!H.lookbehind,Z=!!H.greedy,ie=H.alias;if(Z&&!H.pattern.global){var U=H.pattern.toString().match(/[imsuy]*$/)[0];H.pattern=RegExp(H.pattern.source,U+"g")}for(var G=H.pattern||H,K=A.next,ne=O;K!==E.tail&&!(R&&ne>=R.reach);ne+=K.value.length,K=K.next){var L=K.value;if(E.length>x.length)return;if(!(L instanceof d)){var J=1,le;if(Z){if(le=g(G,ne,x,Y),!le||le.index>=x.length)break;var me=le.index,ge=le.index+le[0].length,he=ne;for(he+=K.value.length;me>=he;)K=K.next,he+=K.value.length;if(he-=K.value.length,ne=he,K.value instanceof d)continue;for(var Ce=K;Ce!==E.tail&&(he<ge||typeof Ce.value=="string");Ce=Ce.next)J++,he+=Ce.value.length;J--,L=x.slice(ne,he),le.index-=ne}else if(le=g(G,0,L,Y),!le)continue;var me=le.index,pe=le[0],be=L.slice(0,me),ze=L.slice(me+pe.length),Ye=ne+L.length;R&&Ye>R.reach&&(R.reach=Ye);var re=K.prev;be&&(re=b(E,re,be),ne+=be.length),_(E,re,J);var ue=new d(D,q?f.tokenize(pe,q):pe,ie,pe);if(K=b(E,re,ue),ze&&b(E,K,ze),J>1){var fe={cause:D+","+B,reach:Ye};h(x,E,N,K.prev,ne,fe),R&&fe.reach>R.reach&&(R.reach=fe.reach)}}}}}}function y(){var x={value:null,prev:null,next:null},E={value:null,prev:x,next:null};x.next=E,this.head=x,this.tail=E,this.length=0}function b(x,E,N){var A=E.next,O={value:N,prev:E,next:A};return E.next=O,A.prev=O,x.length++,O}function _(x,E,N){for(var A=E.next,O=0;O<N&&A!==x.tail;O++)A=A.next;E.next=A,A.prev=E,x.length-=O}function v(x){for(var E=[],N=x.head.next;N!==x.tail;)E.push(N.value),N=N.next;return E}if(!l.document)return l.addEventListener&&(f.disableWorkerMessageHandler||l.addEventListener("message",function(x){var E=JSON.parse(x.data),N=E.language,A=E.code,O=E.immediateClose;l.postMessage(f.highlight(A,f.languages[N],N)),O&&l.close()},!1)),f;var S=f.util.currentScript();S&&(f.filename=S.src,S.hasAttribute("data-manual")&&(f.manual=!0));function C(){f.manual||f.highlightAll()}if(!f.manual){var w=document.readyState;w==="loading"||w==="interactive"&&S&&S.defer?document.addEventListener("DOMContentLoaded",C):window.requestAnimationFrame?window.requestAnimationFrame(C):window.setTimeout(C,16)}return f}(e);r.exports&&(r.exports=t),typeof qt<"u"&&(qt.Prism=t)}(Ph)),Ph.exports}Zk(),function(r){var e=r.util.clone(r.languages.javascript),t=/(?:\s|\/\/.*(?!.)|\/\*(?:[^*]|\*(?!\/))\*\/)/.source,l=/(?:\{(?:\{(?:\{[^{}]*\}|[^{}])*\}|[^{}])*\})/.source,s=/(?:\{<S>*\.{3}(?:[^{}]|<BRACES>)*\})/.source;function o(d,g){return d=d.replace(/<S>/g,function(){return t}).replace(/<BRACES>/g,function(){return l}).replace(/<SPREAD>/g,function(){return s}),RegExp(d,g)}s=o(s).source,r.languages.jsx=r.languages.extend("markup",e),r.languages.jsx.tag.pattern=o(/<\/?(?:[\w.:-]+(?:<S>+(?:[\w.:$-]+(?:=(?:"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*'|[^\s{'"/>=]+|<BRACES>))?|<SPREAD>))*<S>*\/?)?>/.source),r.languages.jsx.tag.inside.tag.pattern=/^<\/?[^\s>\/]*/,r.languages.jsx.tag.inside["attr-value"].pattern=/=(?!\{)(?:"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*'|[^\s'">]+)/,r.languages.jsx.tag.inside.tag.inside["class-name"]=/^[A-Z]\w*(?:\.[A-Z]\w*)*$/,r.languages.jsx.tag.inside.comment=e.comment,r.languages.insertBefore("inside","attr-name",{spread:{pattern:o(/<SPREAD>/.source),inside:r.languages.jsx}},r.languages.jsx.tag),r.languages.insertBefore("inside","special-attr",{script:{pattern:o(/=<BRACES>/.source),alias:"language-javascript",inside:{"script-punctuation":{pattern:/^=(?=\{)/,alias:"punctuation"},rest:r.languages.jsx}}},r.languages.jsx.tag);var u=function(d){return d?typeof d=="string"?d:typeof d.content=="string"?d.content:d.content.map(u).join(""):""},f=function(d){for(var g=[],h=0;h<d.length;h++){var y=d[h],b=!1;if(typeof y!="string"&&(y.type==="tag"&&y.content[0]&&y.content[0].type==="tag"?y.content[0].content[0].content==="</"?g.length>0&&g[g.length-1].tagName===u(y.content[0].content[1])&&g.pop():y.content[y.content.length-1].content==="/>"||g.push({tagName:u(y.content[0].content[1]),openedBraces:0}):g.length>0&&y.type==="punctuation"&&y.content==="{"?g[g.length-1].openedBraces++:g.length>0&&g[g.length-1].openedBraces>0&&y.type==="punctuation"&&y.content==="}"?g[g.length-1].openedBraces--:b=!0),(b||typeof y=="string")&&g.length>0&&g[g.length-1].openedBraces===0){var _=u(y);h<d.length-1&&(typeof d[h+1]=="string"||d[h+1].type==="plain-text")&&(_+=u(d[h+1]),d.splice(h+1,1)),h>0&&(typeof d[h-1]=="string"||d[h-1].type==="plain-text")&&(_=u(d[h-1])+_,d.splice(h-1,1),h--),d[h]=new r.Token("plain-text",_,null,_)}y.content&&typeof y.content!="string"&&f(y.content)}};r.hooks.add("after-tokenize",function(d){d.language!=="jsx"&&d.language!=="tsx"||f(d.tokens)})}(Prism),function(r){var e=r.util.clone(r.languages.typescript);r.languages.tsx=r.languages.extend("jsx",e),delete r.languages.tsx.parameter,delete r.languages.tsx["literal-property"];var t=r.languages.tsx.tag;t.pattern=RegExp(/(^|[^\w$]|(?=<\/))/.source+"(?:"+t.pattern.source+")",t.pattern.flags),t.lookbehind=!0}(Prism),Prism.languages.json={property:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?=\s*:)/,lookbehind:!0,greedy:!0},string:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?!\s*:)/,lookbehind:!0,greedy:!0},comment:{pattern:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},number:/-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,punctuation:/[{}[\],]/,operator:/:/,boolean:/\b(?:false|true)\b/,null:{pattern:/\bnull\b/,alias:"keyword"}},Prism.languages.webmanifest=Prism.languages.json;var yS={},bS;function Wk(){return bS||(bS=1,function(r){function e(ne,L){return ne.replace(/<<(\d+)>>/g,function(J,le){return"(?:"+L[+le]+")"})}function t(ne,L,J){return RegExp(e(ne,L),"")}function l(ne,L){for(var J=0;J<L;J++)ne=ne.replace(/<<self>>/g,function(){return"(?:"+ne+")"});return ne.replace(/<<self>>/g,"[^\\s\\S]")}var s={type:"bool byte char decimal double dynamic float int long object sbyte short string uint ulong ushort var void",typeDeclaration:"class enum interface record struct",contextual:"add alias and ascending async await by descending from(?=\\s*(?:\\w|$)) get global group into init(?=\\s*;) join let nameof not notnull on or orderby partial remove select set unmanaged value when where with(?=\\s*{)",other:"abstract as base break case catch checked const continue default delegate do else event explicit extern finally fixed for foreach goto if implicit in internal is lock namespace new null operator out override params private protected public readonly ref return sealed sizeof stackalloc static switch this throw try typeof unchecked unsafe using virtual volatile while yield"};function o(ne){return"\\b(?:"+ne.trim().replace(/ /g,"|")+")\\b"}var u=o(s.typeDeclaration),f=RegExp(o(s.type+" "+s.typeDeclaration+" "+s.contextual+" "+s.other)),d=o(s.typeDeclaration+" "+s.contextual+" "+s.other),g=o(s.type+" "+s.typeDeclaration+" "+s.other),h=l(/<(?:[^<>;=+\-*/%&|^]|<<self>>)*>/.source,2),y=l(/\((?:[^()]|<<self>>)*\)/.source,2),b=/@?\b[A-Za-z_]\w*\b/.source,_=e(/<<0>>(?:\s*<<1>>)?/.source,[b,h]),v=e(/(?!<<0>>)<<1>>(?:\s*\.\s*<<1>>)*/.source,[d,_]),S=/\[\s*(?:,\s*)*\]/.source,C=e(/<<0>>(?:\s*(?:\?\s*)?<<1>>)*(?:\s*\?)?/.source,[v,S]),w=e(/[^,()<>[\];=+\-*/%&|^]|<<0>>|<<1>>|<<2>>/.source,[h,y,S]),x=e(/\(<<0>>+(?:,<<0>>+)+\)/.source,[w]),E=e(/(?:<<0>>|<<1>>)(?:\s*(?:\?\s*)?<<2>>)*(?:\s*\?)?/.source,[x,v,S]),N={keyword:f,punctuation:/[<>()?,.:[\]]/},A=/'(?:[^\r\n'\\]|\\.|\\[Uux][\da-fA-F]{1,8})'/.source,O=/"(?:\\.|[^\\"\r\n])*"/.source,R=/@"(?:""|\\[\s\S]|[^\\"])*"(?!")/.source;r.languages.csharp=r.languages.extend("clike",{string:[{pattern:t(/(^|[^$\\])<<0>>/.source,[R]),lookbehind:!0,greedy:!0},{pattern:t(/(^|[^@$\\])<<0>>/.source,[O]),lookbehind:!0,greedy:!0}],"class-name":[{pattern:t(/(\busing\s+static\s+)<<0>>(?=\s*;)/.source,[v]),lookbehind:!0,inside:N},{pattern:t(/(\busing\s+<<0>>\s*=\s*)<<1>>(?=\s*;)/.source,[b,E]),lookbehind:!0,inside:N},{pattern:t(/(\busing\s+)<<0>>(?=\s*=)/.source,[b]),lookbehind:!0},{pattern:t(/(\b<<0>>\s+)<<1>>/.source,[u,_]),lookbehind:!0,inside:N},{pattern:t(/(\bcatch\s*\(\s*)<<0>>/.source,[v]),lookbehind:!0,inside:N},{pattern:t(/(\bwhere\s+)<<0>>/.source,[b]),lookbehind:!0},{pattern:t(/(\b(?:is(?:\s+not)?|as)\s+)<<0>>/.source,[C]),lookbehind:!0,inside:N},{pattern:t(/\b<<0>>(?=\s+(?!<<1>>|with\s*\{)<<2>>(?:\s*[=,;:{)\]]|\s+(?:in|when)\b))/.source,[E,g,b]),inside:N}],keyword:f,number:/(?:\b0(?:x[\da-f_]*[\da-f]|b[01_]*[01])|(?:\B\.\d+(?:_+\d+)*|\b\d+(?:_+\d+)*(?:\.\d+(?:_+\d+)*)?)(?:e[-+]?\d+(?:_+\d+)*)?)(?:[dflmu]|lu|ul)?\b/i,operator:/>>=?|<<=?|[-=]>|([-+&|])\1|~|\?\?=?|[-+*/%&|^!=<>]=?/,punctuation:/\?\.?|::|[{}[\];(),.:]/}),r.languages.insertBefore("csharp","number",{range:{pattern:/\.\./,alias:"operator"}}),r.languages.insertBefore("csharp","punctuation",{"named-parameter":{pattern:t(/([(,]\s*)<<0>>(?=\s*:)/.source,[b]),lookbehind:!0,alias:"punctuation"}}),r.languages.insertBefore("csharp","class-name",{namespace:{pattern:t(/(\b(?:namespace|using)\s+)<<0>>(?:\s*\.\s*<<0>>)*(?=\s*[;{])/.source,[b]),lookbehind:!0,inside:{punctuation:/\./}},"type-expression":{pattern:t(/(\b(?:default|sizeof|typeof)\s*\(\s*(?!\s))(?:[^()\s]|\s(?!\s)|<<0>>)*(?=\s*\))/.source,[y]),lookbehind:!0,alias:"class-name",inside:N},"return-type":{pattern:t(/<<0>>(?=\s+(?:<<1>>\s*(?:=>|[({]|\.\s*this\s*\[)|this\s*\[))/.source,[E,v]),inside:N,alias:"class-name"},"constructor-invocation":{pattern:t(/(\bnew\s+)<<0>>(?=\s*[[({])/.source,[E]),lookbehind:!0,inside:N,alias:"class-name"},"generic-method":{pattern:t(/<<0>>\s*<<1>>(?=\s*\()/.source,[b,h]),inside:{function:t(/^<<0>>/.source,[b]),generic:{pattern:RegExp(h),alias:"class-name",inside:N}}},"type-list":{pattern:t(/\b((?:<<0>>\s+<<1>>|record\s+<<1>>\s*<<5>>|where\s+<<2>>)\s*:\s*)(?:<<3>>|<<4>>|<<1>>\s*<<5>>|<<6>>)(?:\s*,\s*(?:<<3>>|<<4>>|<<6>>))*(?=\s*(?:where|[{;]|=>|$))/.source,[u,_,b,E,f.source,y,/\bnew\s*\(\s*\)/.source]),lookbehind:!0,inside:{"record-arguments":{pattern:t(/(^(?!new\s*\()<<0>>\s*)<<1>>/.source,[_,y]),lookbehind:!0,greedy:!0,inside:r.languages.csharp},keyword:f,"class-name":{pattern:RegExp(E),greedy:!0,inside:N},punctuation:/[,()]/}},preprocessor:{pattern:/(^[\t ]*)#.*/m,lookbehind:!0,alias:"property",inside:{directive:{pattern:/(#)\b(?:define|elif|else|endif|endregion|error|if|line|nullable|pragma|region|undef|warning)\b/,lookbehind:!0,alias:"keyword"}}}});var D=O+"|"+A,M=e(/\/(?![*/])|\/\/[^\r\n]*[\r\n]|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>/.source,[D]),B=l(e(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[M]),2),H=/\b(?:assembly|event|field|method|module|param|property|return|type)\b/.source,q=e(/<<0>>(?:\s*\(<<1>>*\))?/.source,[v,B]);r.languages.insertBefore("csharp","class-name",{attribute:{pattern:t(/((?:^|[^\s\w>)?])\s*\[\s*)(?:<<0>>\s*:\s*)?<<1>>(?:\s*,\s*<<1>>)*(?=\s*\])/.source,[H,q]),lookbehind:!0,greedy:!0,inside:{target:{pattern:t(/^<<0>>(?=\s*:)/.source,[H]),alias:"keyword"},"attribute-arguments":{pattern:t(/\(<<0>>*\)/.source,[B]),inside:r.languages.csharp},"class-name":{pattern:RegExp(v),inside:{punctuation:/\./}},punctuation:/[:,]/}}});var Y=/:[^}\r\n]+/.source,Z=l(e(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[M]),2),ie=e(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[Z,Y]),U=l(e(/[^"'/()]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>|\(<<self>>*\)/.source,[D]),2),G=e(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[U,Y]);function K(ne,L){return{interpolation:{pattern:t(/((?:^|[^{])(?:\{\{)*)<<0>>/.source,[ne]),lookbehind:!0,inside:{"format-string":{pattern:t(/(^\{(?:(?![}:])<<0>>)*)<<1>>(?=\}$)/.source,[L,Y]),lookbehind:!0,inside:{punctuation:/^:/}},punctuation:/^\{|\}$/,expression:{pattern:/[\s\S]+/,alias:"language-csharp",inside:r.languages.csharp}}},string:/[\s\S]+/}}r.languages.insertBefore("csharp","string",{"interpolation-string":[{pattern:t(/(^|[^\\])(?:\$@|@\$)"(?:""|\\[\s\S]|\{\{|<<0>>|[^\\{"])*"/.source,[ie]),lookbehind:!0,greedy:!0,inside:K(ie,Z)},{pattern:t(/(^|[^@\\])\$"(?:\\.|\{\{|<<0>>|[^\\"{])*"/.source,[G]),lookbehind:!0,greedy:!0,inside:K(G,U)}],char:{pattern:RegExp(A),greedy:!0}}),r.languages.dotnet=r.languages.cs=r.languages.csharp}(Prism)),yS}Wk();var vS={},_S;function Qk(){return _S||(_S=1,function(r){var e=/\/\*[\s\S]*?\*\/|\/\/.*|#(?!\[).*/,t=[{pattern:/\b(?:false|true)\b/i,alias:"boolean"},{pattern:/(::\s*)\b[a-z_]\w*\b(?!\s*\()/i,greedy:!0,lookbehind:!0},{pattern:/(\b(?:case|const)\s+)\b[a-z_]\w*(?=\s*[;=])/i,greedy:!0,lookbehind:!0},/\b(?:null)\b/i,/\b[A-Z_][A-Z0-9_]*\b(?!\s*\()/],l=/\b0b[01]+(?:_[01]+)*\b|\b0o[0-7]+(?:_[0-7]+)*\b|\b0x[\da-f]+(?:_[\da-f]+)*\b|(?:\b\d+(?:_\d+)*\.?(?:\d+(?:_\d+)*)?|\B\.\d+)(?:e[+-]?\d+)?/i,s=/<?=>|\?\?=?|\.{3}|\??->|[!=]=?=?|::|\*\*=?|--|\+\+|&&|\|\||<<|>>|[?~]|[/^|%*&<>.+-]=?/,o=/[{}\[\](),:;]/;r.languages.php={delimiter:{pattern:/\?>$|^<\?(?:php(?=\s)|=)?/i,alias:"important"},comment:e,variable:/\$+(?:\w+\b|(?=\{))/,package:{pattern:/(namespace\s+|use\s+(?:function\s+)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,lookbehind:!0,inside:{punctuation:/\\/}},"class-name-definition":{pattern:/(\b(?:class|enum|interface|trait)\s+)\b[a-z_]\w*(?!\\)\b/i,lookbehind:!0,alias:"class-name"},"function-definition":{pattern:/(\bfunction\s+)[a-z_]\w*(?=\s*\()/i,lookbehind:!0,alias:"function"},keyword:[{pattern:/(\(\s*)\b(?:array|bool|boolean|float|int|integer|object|string)\b(?=\s*\))/i,alias:"type-casting",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|object|self|static|string)\b(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|never|object|self|static|string|void)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/\b(?:array(?!\s*\()|bool|float|int|iterable|mixed|object|string|void)\b/i,alias:"type-declaration",greedy:!0},{pattern:/(\|\s*)(?:false|null)\b|\b(?:false|null)(?=\s*\|)/i,alias:"type-declaration",greedy:!0,lookbehind:!0},{pattern:/\b(?:parent|self|static)(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(\byield\s+)from\b/i,lookbehind:!0},/\bclass\b/i,{pattern:/((?:^|[^\s>:]|(?:^|[^-])>|(?:^|[^:]):)\s*)\b(?:abstract|and|array|as|break|callable|case|catch|clone|const|continue|declare|default|die|do|echo|else|elseif|empty|enddeclare|endfor|endforeach|endif|endswitch|endwhile|enum|eval|exit|extends|final|finally|fn|for|foreach|function|global|goto|if|implements|include|include_once|instanceof|insteadof|interface|isset|list|match|namespace|never|new|or|parent|print|private|protected|public|readonly|require|require_once|return|self|static|switch|throw|trait|try|unset|use|var|while|xor|yield|__halt_compiler)\b/i,lookbehind:!0}],"argument-name":{pattern:/([(,]\s*)\b[a-z_]\w*(?=\s*:(?!:))/i,lookbehind:!0},"class-name":[{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self|\s+static))\s+|\bcatch\s*\()\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/(\|\s*)\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/\b[a-z_]\w*(?!\\)\b(?=\s*\|)/i,greedy:!0},{pattern:/(\|\s*)(?:\\?\b[a-z_]\w*)+\b/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(?:\\?\b[a-z_]\w*)+\b(?=\s*\|)/i,alias:"class-name-fully-qualified",greedy:!0,inside:{punctuation:/\\/}},{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self\b|\s+static\b))\s+|\bcatch\s*\()(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*\$)/i,alias:"type-declaration",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-declaration"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*::)/i,alias:["class-name-fully-qualified","static-context"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/([(,?]\s*)[a-z_]\w*(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-hint"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b[a-z_]\w*(?!\\)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:["class-name-fully-qualified","return-type"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:t,function:{pattern:/(^|[^\\\w])\\?[a-z_](?:[\w\\]*\w)?(?=\s*\()/i,lookbehind:!0,inside:{punctuation:/\\/}},property:{pattern:/(->\s*)\w+/,lookbehind:!0},number:l,operator:s,punctuation:o};var u={pattern:/\{\$(?:\{(?:\{[^{}]+\}|[^{}]+)\}|[^{}])+\}|(^|[^\\{])\$+(?:\w+(?:\[[^\r\n\[\]]+\]|->\w+)?)/,lookbehind:!0,inside:r.languages.php},f=[{pattern:/<<<'([^']+)'[\r\n](?:.*[\r\n])*?\1;/,alias:"nowdoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<'[^']+'|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<'?|[';]$/}}}},{pattern:/<<<(?:"([^"]+)"[\r\n](?:.*[\r\n])*?\1;|([a-z_]\w*)[\r\n](?:.*[\r\n])*?\2;)/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<(?:"[^"]+"|[a-z_]\w*)|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<"?|[";]$/}},interpolation:u}},{pattern:/`(?:\\[\s\S]|[^\\`])*`/,alias:"backtick-quoted-string",greedy:!0},{pattern:/'(?:\\[\s\S]|[^\\'])*'/,alias:"single-quoted-string",greedy:!0},{pattern:/"(?:\\[\s\S]|[^\\"])*"/,alias:"double-quoted-string",greedy:!0,inside:{interpolation:u}}];r.languages.insertBefore("php","variable",{string:f,attribute:{pattern:/#\[(?:[^"'\/#]|\/(?![*/])|\/\/.*$|#(?!\[).*$|\/\*(?:[^*]|\*(?!\/))*\*\/|"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*')+\](?=\s*[a-z$#])/im,greedy:!0,inside:{"attribute-content":{pattern:/^(#\[)[\s\S]+(?=\]$)/,lookbehind:!0,inside:{comment:e,string:f,"attribute-class-name":[{pattern:/([^:]|^)\b[a-z_]\w*(?!\\)\b/i,alias:"class-name",greedy:!0,lookbehind:!0},{pattern:/([^:]|^)(?:\\?\b[a-z_]\w*)+/i,alias:["class-name","class-name-fully-qualified"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:t,number:l,operator:s,punctuation:o}},delimiter:{pattern:/^#\[|\]$/,alias:"punctuation"}}}}),r.hooks.add("before-tokenize",function(d){if(/<\?/.test(d.code)){var g=/<\?(?:[^"'/#]|\/(?![*/])|("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|(?:\/\/|#(?!\[))(?:[^?\n\r]|\?(?!>))*(?=$|\?>|[\r\n])|#\[|\/\*(?:[^*]|\*(?!\/))*(?:\*\/|$))*?(?:\?>|$)/g;r.languages["markup-templating"].buildPlaceholders(d,"php",g)}}),r.hooks.add("after-tokenize",function(d){r.languages["markup-templating"].tokenizePlaceholders(d,"php")})}(Prism)),vS}Qk();let Ih;function Jk({message:r}){return $.jsx("div",{className:"editor-placeholder",children:r})}const SS=(r,e)=>Vk(r,e).reduce((s,o)=>{if(o.__type!=="custom-beautifulMention"){const u=De(),f=o.__text,d=f.match(/^([^\n\S]+)/g),g=f.match(/([^\n\S]+)$/g),h=d&&f.trim()?[Fe(d[0])]:[],y=g?[Fe(g[0])]:[];Eh(f.trim(),[wh,...xh,...Ch],u,!0);const b=u.getChildren().reduce((_,v,S)=>[..._,...S>0?[Fn()]:[],...v.getChildren()],[]);return u.remove(),[...s,...h,...b,...y]}return[...s,o]},[]),eM=({initialElement:r,richMode:e,taskLinks:t,storage:l})=>{const[s]=je();return z.useEffect(()=>{let o=r.value;if(l&&!o)try{const u=JSON.parse(localStorage.getItem(l));o=(u==null?void 0:u[e?"lexical":"md"])||""}catch{}s.update(()=>{const u=tt();if(u.clear(),e)if(typeof o=="object"){const f=s.parseEditorState(o);f.isEmpty()||setTimeout(()=>{s.setEditorState(f)})}else{const f=De();u.append(f),Eh(o,[Ih,B0,...Sh],f);for(const d of f.getChildren())if(!wn(d))u.append(d);else{const g=De();u.append(g),g.append(...SS(t,d.getTextContent()))}f.remove()}else typeof o=="string"&&Id([Fe(o)])})},[s]),null};function tM(r,e,t){r.read(()=>{const l=z0([Ih,B0,wh,...Ja]);t&&(l.trim()?localStorage.setItem(t,JSON.stringify({lexical:r,md:l})):localStorage.removeItem(t)),e.value=l,e.dispatchEvent(new Event("input"))})}const nM=r=>({theme:{...QR,beautifulMentions:r?Dc:Uk},onError(e){throw e},nodes:[_s,{replace:Ei,with:e=>new _s(e.getTrigger(),e.getValue(),e.getData())},Va,vs,sc,Si,_i,ic,mc,lh,jr,ur,fl,yc,xi,ml]});function rM({el:r,isRichMode:e,taskId:t,storage:l,placeholder:s,mentions:o,controls:u,imageUploadUrl:f,imageUploadTaskUuid:d,mentionsFetchUrlApi:g,mentionsFetchUrlWA:h,autoFocus:y=!0,getEditorRef:b}){Ih=zR(N=>De().append(...SS(o,N)));const _=e?yN:wN,v=nM(e),[S,C]=z.useState(null),[w,x]=z.useState(!1),E=N=>{N!==null&&C(N)};return $.jsx(zT,{initialConfig:v,children:$.jsxs("div",{className:"editor-container",children:[e&&$.jsx(UO,{setIsLinkEditMode:x,isShowImgButton:!!f}),$.jsxs("div",{className:"editor-inner",children:[$.jsx(_,{contentEditable:$.jsx("div",{className:"editor-scroller",children:$.jsx("div",{className:"editor",ref:E,children:$.jsx(kN,{className:"editor-input"})})}),placeholder:$.jsx(Jk,{message:s}),ErrorBoundary:AN}),$.jsx(ok,{textContent:W0}),$.jsx(oS,{triggers:["@"],onSearch:(...N)=>hS(...N,e,t,g,h),menuComponent:pS,menuItemComponent:Kh,allowSpaces:!1,menuItemLimit:10}),$.jsx(oS,{triggers:["#"],onSearch:(...N)=>hS(...N,e,t,g,h),menuComponent:pS,menuItemComponent:Kh,allowSpaces:!1,punctuation:`\\,\\*\\?\\$\\|#{}\\(\\)\\^\\[\\]\\\\/!%'"~=<>_:;`,creatable:!0,menuItemLimit:10}),$.jsx(cO,{onChange:N=>tM(N,r,l)}),$.jsx(eM,{initialElement:r,richMode:e,taskLinks:o,storage:l}),$.jsx(YR,{}),$.jsx($R,{}),y&&$.jsx(LN,{}),$.jsx(AA,{hasCellMerge:!1}),$.jsx(oO,{}),e&&f&&$.jsx(jO,{imageUploadUrl:f,imageUploadTaskUuid:d}),e&&f&&$.jsx(CO,{imageUploadUrl:f,imageUploadTaskUuid:d}),e&&$.jsx(aO,{}),e&&$.jsx(nR,{}),e&&u&&$.jsx(Hk,{controls:u}),$.jsx(KN,{}),S&&$.jsxs($.Fragment,{children:[$.jsx(eR,{anchorElem:S}),$.jsx(LA,{anchorElem:S,cellMerge:!1}),$.jsx(WR,{anchorElem:S,isLinkEditMode:w,setIsLinkEditMode:x})]}),typeof b=="function"&&$.jsx(Xk,{editorRef:b})]})]})})}typeof window<"u"&&!window.lexicalEditor&&(window.lexicalEditor={}),typeof window<"u"&&!window.lexicalEditor.instances&&(window.lexicalEditor.instances=new Map);function iM({el:r,isRichMode:e,taskId:t,storage:l,placeholder:s,mentions:o,controls:u,imageUploadUrl:f,imageUploadTaskUuid:d,mentionsFetchUrlApi:g,mentionsFetchUrlWA:h,lang:y,autoFocus:b=!0}){if(!(r instanceof HTMLElement)){console.error("No container provided");return}const _=r.parentElement;if(!(_ instanceof HTMLElement)){console.error("Container's parent does not exist");return}const v=document.createElement("div");v.classList.add("lexical-editor"),_.insertBefore(v,r),r.style.display="none",y&&Bt.changeLanguage(y);let S=null;const C=w=>{S=w,typeof window<"u"&&window.lexicalEditor.instances&&(window.lexicalEditor.instances.set(r,w),r.id&&window.lexicalEditor.instances.set(r.id,w))};return RE.createRoot(v).render($.jsx(Wf.StrictMode,{children:$.jsx(rM,{el:r,isRichMode:e,taskId:t,storage:l,placeholder:s,mentions:o,controls:u,imageUploadUrl:f,imageUploadTaskUuid:d,mentionsFetchUrlApi:g,mentionsFetchUrlWA:h,autoFocus:b,getEditorRef:C})})),{focus:()=>S&&typeof S.focus=="function"?(S.focus(),!0):!1}}typeof window<"u"&&(window.lexicalEditor.focusEditor=function(r){if(!this.instances)return!1;let e;return typeof r=="string"?e=this.instances.get(r):r instanceof HTMLElement&&(e=this.instances.get(r)),e&&typeof e.focus=="function"?(e.focus(),!0):!1});function qh(r,e,t){return Math.min(Math.max(r,e),t)}const ut={east:1,north:8,south:2,west:4};function lM({onResizeStart:r,onResizeEnd:e,buttonRef:t,imageRef:l,maxWidth:s,editor:o,showCaption:u,setShowCaption:f,captionsEnabled:d}){const g=z.useRef(null),h=z.useRef({priority:"",value:"default"}),y=z.useRef({currentHeight:0,currentWidth:0,direction:0,isResizing:!1,ratio:0,startHeight:0,startWidth:0,startX:0,startY:0}),b=o.getRootElement(),_=s||(b!==null?b.getBoundingClientRect().width-20:100),v=b!==null?b.getBoundingClientRect().height-20:100,S=100,C=100,w=O=>{const R=O===ut.east||O===ut.west,D=O===ut.north||O===ut.south,M=O&ut.north&&O&ut.west||O&ut.south&&O&ut.east,B=R?"ew":D?"ns":M?"nwse":"nesw";b!==null&&b.style.setProperty("cursor",`${B}-resize`,"important"),document.body!==null&&(document.body.style.setProperty("cursor",`${B}-resize`,"important"),h.current.value=document.body.style.getPropertyValue("-webkit-user-select"),h.current.priority=document.body.style.getPropertyPriority("-webkit-user-select"),document.body.style.setProperty("-webkit-user-select","none","important"))},x=()=>{b!==null&&b.style.setProperty("cursor","text"),document.body!==null&&(document.body.style.setProperty("cursor","default"),document.body.style.setProperty("-webkit-user-select",h.current.value,h.current.priority))},E=(O,R)=>{if(!o.isEditable())return;const D=l.current,M=g.current;if(D!==null&&M!==null){O.preventDefault();const{width:B,height:H}=D.getBoundingClientRect(),q=cl(D),Y=y.current;Y.startWidth=B,Y.startHeight=H,Y.ratio=B/H,Y.currentWidth=B,Y.currentHeight=H,Y.startX=O.clientX/q,Y.startY=O.clientY/q,Y.isResizing=!0,Y.direction=R,w(R),r(),M.classList.add("image-control-wrapper--resizing"),D.style.height=`${H}px`,D.style.width=`${B}px`,document.addEventListener("pointermove",N),document.addEventListener("pointerup",A)}},N=O=>{const R=l.current,D=y.current,M=D.direction&(ut.east|ut.west),B=D.direction&(ut.south|ut.north);if(R!==null&&D.isResizing){const H=cl(R);if(M&&B){let q=Math.floor(D.startX-O.clientX/H);q=D.direction&ut.east?-q:q;const Y=qh(D.startWidth+q,S,_),Z=Y/D.ratio;R.style.width=`${Y}px`,R.style.height=`${Z}px`,D.currentHeight=Z,D.currentWidth=Y}else if(B){let q=Math.floor(D.startY-O.clientY/H);q=D.direction&ut.south?-q:q;const Y=qh(D.startHeight+q,C,v);R.style.height=`${Y}px`,D.currentHeight=Y}else{let q=Math.floor(D.startX-O.clientX/H);q=D.direction&ut.east?-q:q;const Y=qh(D.startWidth+q,S,_);R.style.width=`${Y}px`,D.currentWidth=Y}}},A=()=>{const O=l.current,R=y.current,D=g.current;if(O!==null&&D!==null&&R.isResizing){const M=R.currentWidth,B=R.currentHeight;R.startWidth=0,R.startHeight=0,R.ratio=0,R.startX=0,R.startY=0,R.currentWidth=0,R.currentHeight=0,R.isResizing=!1,D.classList.remove("image-control-wrapper--resizing"),x(),e(M,B),document.removeEventListener("pointermove",N),document.removeEventListener("pointerup",A)}};return $.jsxs("div",{ref:g,children:[$.jsx("div",{className:"image-resizer image-resizer-n",onPointerDown:O=>{E(O,ut.north)}}),$.jsx("div",{className:"image-resizer image-resizer-ne",onPointerDown:O=>{E(O,ut.north|ut.east)}}),$.jsx("div",{className:"image-resizer image-resizer-e",onPointerDown:O=>{E(O,ut.east)}}),$.jsx("div",{className:"image-resizer image-resizer-se",onPointerDown:O=>{E(O,ut.south|ut.east)}}),$.jsx("div",{className:"image-resizer image-resizer-s",onPointerDown:O=>{E(O,ut.south)}}),$.jsx("div",{className:"image-resizer image-resizer-sw",onPointerDown:O=>{E(O,ut.south|ut.west)}}),$.jsx("div",{className:"image-resizer image-resizer-w",onPointerDown:O=>{E(O,ut.west)}}),$.jsx("div",{className:"image-resizer image-resizer-nw",onPointerDown:O=>{E(O,ut.north|ut.west)}})]})}const Yh=new Set,Vh=cn();function sM(r){if(!Yh.has(r))throw new Promise(e=>{const t=new Image;t.src=r,t.onload=()=>{Yh.add(r),e(null)},t.onerror=()=>{Yh.add(r)}})}function aM({altText:r,className:e,imageRef:t,src:l,width:s,height:o,maxWidth:u,onError:f}){return sM(l),$.jsx("img",{className:e||void 0,src:l,alt:r,ref:t,style:{height:o,width:s},onError:f,draggable:"false"})}function oM({src:r,altText:e,nodeKey:t,width:l,height:s,maxWidth:o,resizable:u,showCaption:f,caption:d,captionsEnabled:g}){const h=z.useRef(null),y=z.useRef(null),[b,_,v]=th(t),[S,C]=z.useState(!1),[w]=je(),[x,E]=z.useState(null),N=z.useRef(null),[A,O]=z.useState(!1),{t:R}=ii(),D=z.useCallback(K=>{if(b&&et(X())){K.preventDefault();const L=Ze(t);if(Wa(L))return L.remove(),!0}return!1},[b,t]),M=z.useCallback(K=>{const ne=X(),L=y.current;if(b&&et(ne)&&ne.getNodes().length===1){if(f)return qe(null),K.preventDefault(),d.focus(),!0;if(L!==null&&L!==document.activeElement)return K.preventDefault(),L.focus(),!0}return!1},[d,b,f]),B=z.useCallback(K=>N.current===d||y.current===K.target?(qe(null),w.update(()=>{_(!0);const ne=w.getRootElement();ne!==null&&ne.focus()}),!0):!1,[d,w,_]),H=z.useCallback(K=>{const ne=K;return S?!0:ne.target===h.current?(ne.shiftKey?_(!b):(v(),_(!0)),!0):!1},[S,b,_,v]),q=z.useCallback(K=>{w.getEditorState().read(()=>{const ne=X();K.target.tagName==="IMG"&&I(ne)&&ne.getNodes().length===1&&w.dispatchCommand(Vh,K)})},[w]);z.useEffect(()=>{let K=!0;const ne=w.getRootElement(),L=ft(w.registerUpdateListener(({editorState:J})=>{K&&E(J.read(()=>X()))}),w.registerCommand(nn,(J,le)=>(N.current=le,!1),ke),w.registerCommand(oi,H,ke),w.registerCommand(Vh,H,ke),w.registerCommand(Ca,J=>J.target===h.current?(J.preventDefault(),!0):!1,ke),w.registerCommand(Yl,D,ke),w.registerCommand(hi,D,ke),w.registerCommand(gi,M,ke),w.registerCommand(tl,B,ke));return ne==null||ne.addEventListener("contextmenu",q),()=>{K=!1,L(),ne==null||ne.removeEventListener("contextmenu",q)}},[v,w,S,b,t,D,M,B,H,q,_]);const Y=()=>{w.update(()=>{const K=Ze(t);Wa(K)&&K.setShowCaption(!0)})},Z=(K,ne)=>{setTimeout(()=>{C(!1)},200),w.update(()=>{const L=Ze(t);Wa(L)&&L.setWidthAndHeight(K,ne)})},ie=()=>{C(!0)},U=b&&et(x)&&!S,G=b||S;return $.jsx(z.Suspense,{fallback:null,children:$.jsxs($.Fragment,{children:[$.jsx("div",{draggable:U,children:A?R("Broken Image"):$.jsx(aM,{className:G?`focused ${et(x)?"draggable":""}`:null,src:r,altText:e,imageRef:h,width:l,height:s,maxWidth:o,onError:()=>O(!0)})}),u&&et(x)&&G&&$.jsx(lM,{showCaption:f,setShowCaption:Y,editor:w,buttonRef:y,imageRef:h,maxWidth:o,onResizeStart:ie,onResizeEnd:Z,captionsEnabled:!A&&g})]})})}const uM=Object.freeze(Object.defineProperty({__proto__:null,RIGHT_CLICK_IMAGE_COMMAND:Vh,default:oM},Symbol.toStringTag,{value:"Module"}));$n.createLexicalInstance=iM,Object.defineProperty($n,Symbol.toStringTag,{value:"Module"})});
