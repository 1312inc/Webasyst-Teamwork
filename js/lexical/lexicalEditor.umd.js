(function(Kn,gn){typeof exports=="object"&&typeof module<"u"?gn(exports):typeof define=="function"&&define.amd?define(["exports"],gn):(Kn=typeof globalThis<"u"?globalThis:Kn||self,gn(Kn.lexicalEditor={}))})(this,function(Kn){"use strict";var U2=Object.defineProperty;var j2=(Kn,gn,Lr)=>gn in Kn?U2(Kn,gn,{enumerable:!0,configurable:!0,writable:!0,value:Lr}):Kn[gn]=Lr;var nr=(Kn,gn,Lr)=>j2(Kn,typeof gn!="symbol"?gn+"":gn,Lr);var gn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Lr(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var ad={exports:{}},ha={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dy;function TT(){if(dy)return ha;dy=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(l,s,o){var u=null;if(o!==void 0&&(u=""+o),s.key!==void 0&&(u=""+s.key),"key"in s){o={};for(var f in s)f!=="key"&&(o[f]=s[f])}else o=s;return s=o.ref,{$$typeof:r,type:l,key:u,ref:s!==void 0?s:null,props:o}}return ha.Fragment=e,ha.jsx=t,ha.jsxs=t,ha}var gy;function wT(){return gy||(gy=1,ad.exports=TT()),ad.exports}var $=wT(),od={exports:{}},Ue={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hy;function NT(){if(hy)return Ue;hy=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),y=Symbol.iterator;function b(z){return z===null||typeof z!="object"?null:(z=y&&z[y]||z["@@iterator"],typeof z=="function"?z:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,S={};function x(z,G,ie){this.props=z,this.context=G,this.refs=S,this.updater=ie||v}x.prototype.isReactComponent={},x.prototype.setState=function(z,G){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,G,"setState")},x.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function E(){}E.prototype=x.prototype;function C(z,G,ie){this.props=z,this.context=G,this.refs=S,this.updater=ie||v}var T=C.prototype=new E;T.constructor=C,_(T,x.prototype),T.isPureReactComponent=!0;var O=Array.isArray,N={H:null,A:null,T:null,S:null,V:null},A=Object.prototype.hasOwnProperty;function D(z,G,ie,ue,he,Ce){return ie=Ce.ref,{$$typeof:r,type:z,key:G,ref:ie!==void 0?ie:null,props:Ce}}function M(z,G){return D(z.type,G,void 0,void 0,void 0,z.props)}function k(z){return typeof z=="object"&&z!==null&&z.$$typeof===r}function U(z){var G={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(ie){return G[ie]})}var P=/\/+/g;function J(z,G){return typeof z=="object"&&z!==null&&z.key!=null?U(""+z.key):G.toString(36)}function j(){}function Y(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(j,j):(z.status="pending",z.then(function(G){z.status==="pending"&&(z.status="fulfilled",z.value=G)},function(G){z.status==="pending"&&(z.status="rejected",z.reason=G)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function le(z,G,ie,ue,he){var Ce=typeof z;(Ce==="undefined"||Ce==="boolean")&&(z=null);var me=!1;if(z===null)me=!0;else switch(Ce){case"bigint":case"string":case"number":me=!0;break;case"object":switch(z.$$typeof){case r:case e:me=!0;break;case p:return me=z._init,le(me(z._payload),G,ie,ue,he)}}if(me)return he=he(z),me=ue===""?"."+J(z,0):ue,O(he)?(ie="",me!=null&&(ie=me.replace(P,"$&/")+"/"),le(he,G,ie,"",function($e){return $e})):he!=null&&(k(he)&&(he=M(he,ie+(he.key==null||z&&z.key===he.key?"":(""+he.key).replace(P,"$&/")+"/")+me)),G.push(he)),1;me=0;var pe=ue===""?".":ue+":";if(O(z))for(var ye=0;ye<z.length;ye++)ue=z[ye],Ce=pe+J(ue,ye),me+=le(ue,G,ie,Ce,he);else if(ye=b(z),typeof ye=="function")for(z=ye.call(z),ye=0;!(ue=z.next()).done;)ue=ue.value,Ce=pe+J(ue,ye++),me+=le(ue,G,ie,Ce,he);else if(Ce==="object"){if(typeof z.then=="function")return le(Y(z),G,ie,ue,he);throw G=String(z),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return me}function B(z,G,ie){if(z==null)return z;var ue=[],he=0;return le(z,ue,"","",function(Ce){return G.call(ie,Ce,he++)}),ue}function X(z){if(z._status===-1){var G=z._result;G=G(),G.then(function(ie){(z._status===0||z._status===-1)&&(z._status=1,z._result=ie)},function(ie){(z._status===0||z._status===-1)&&(z._status=2,z._result=ie)}),z._status===-1&&(z._status=0,z._result=G)}if(z._status===1)return z._result.default;throw z._result}var H=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)};function re(){}return Ue.Children={map:B,forEach:function(z,G,ie){B(z,function(){G.apply(this,arguments)},ie)},count:function(z){var G=0;return B(z,function(){G++}),G},toArray:function(z){return B(z,function(G){return G})||[]},only:function(z){if(!k(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},Ue.Component=x,Ue.Fragment=t,Ue.Profiler=s,Ue.PureComponent=C,Ue.StrictMode=l,Ue.Suspense=d,Ue.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Ue.__COMPILER_RUNTIME={__proto__:null,c:function(z){return N.H.useMemoCache(z)}},Ue.cache=function(z){return function(){return z.apply(null,arguments)}},Ue.cloneElement=function(z,G,ie){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var ue=_({},z.props),he=z.key,Ce=void 0;if(G!=null)for(me in G.ref!==void 0&&(Ce=void 0),G.key!==void 0&&(he=""+G.key),G)!A.call(G,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&G.ref===void 0||(ue[me]=G[me]);var me=arguments.length-2;if(me===1)ue.children=ie;else if(1<me){for(var pe=Array(me),ye=0;ye<me;ye++)pe[ye]=arguments[ye+2];ue.children=pe}return D(z.type,he,void 0,void 0,Ce,ue)},Ue.createContext=function(z){return z={$$typeof:u,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:o,_context:z},z},Ue.createElement=function(z,G,ie){var ue,he={},Ce=null;if(G!=null)for(ue in G.key!==void 0&&(Ce=""+G.key),G)A.call(G,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(he[ue]=G[ue]);var me=arguments.length-2;if(me===1)he.children=ie;else if(1<me){for(var pe=Array(me),ye=0;ye<me;ye++)pe[ye]=arguments[ye+2];he.children=pe}if(z&&z.defaultProps)for(ue in me=z.defaultProps,me)he[ue]===void 0&&(he[ue]=me[ue]);return D(z,Ce,void 0,void 0,null,he)},Ue.createRef=function(){return{current:null}},Ue.forwardRef=function(z){return{$$typeof:f,render:z}},Ue.isValidElement=k,Ue.lazy=function(z){return{$$typeof:p,_payload:{_status:-1,_result:z},_init:X}},Ue.memo=function(z,G){return{$$typeof:g,type:z,compare:G===void 0?null:G}},Ue.startTransition=function(z){var G=N.T,ie={};N.T=ie;try{var ue=z(),he=N.S;he!==null&&he(ie,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(re,H)}catch(Ce){H(Ce)}finally{N.T=G}},Ue.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Ue.use=function(z){return N.H.use(z)},Ue.useActionState=function(z,G,ie){return N.H.useActionState(z,G,ie)},Ue.useCallback=function(z,G){return N.H.useCallback(z,G)},Ue.useContext=function(z){return N.H.useContext(z)},Ue.useDebugValue=function(){},Ue.useDeferredValue=function(z,G){return N.H.useDeferredValue(z,G)},Ue.useEffect=function(z,G,ie){var ue=N.H;if(typeof ie=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ue.useEffect(z,G)},Ue.useId=function(){return N.H.useId()},Ue.useImperativeHandle=function(z,G,ie){return N.H.useImperativeHandle(z,G,ie)},Ue.useInsertionEffect=function(z,G){return N.H.useInsertionEffect(z,G)},Ue.useLayoutEffect=function(z,G){return N.H.useLayoutEffect(z,G)},Ue.useMemo=function(z,G){return N.H.useMemo(z,G)},Ue.useOptimistic=function(z,G){return N.H.useOptimistic(z,G)},Ue.useReducer=function(z,G,ie){return N.H.useReducer(z,G,ie)},Ue.useRef=function(z){return N.H.useRef(z)},Ue.useState=function(z){return N.H.useState(z)},Ue.useSyncExternalStore=function(z,G,ie){return N.H.useSyncExternalStore(z,G,ie)},Ue.useTransition=function(){return N.H.useTransition()},Ue.version="19.1.0",Ue}var py;function ud(){return py||(py=1,od.exports=NT()),od.exports}var L=ud();const cd=Lr(L);var fd={exports:{}},pa={},dd={exports:{}},gd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var my;function AT(){return my||(my=1,function(r){function e(B,X){var H=B.length;B.push(X);e:for(;0<H;){var re=H-1>>>1,z=B[re];if(0<s(z,X))B[re]=X,B[H]=z,H=re;else break e}}function t(B){return B.length===0?null:B[0]}function l(B){if(B.length===0)return null;var X=B[0],H=B.pop();if(H!==X){B[0]=H;e:for(var re=0,z=B.length,G=z>>>1;re<G;){var ie=2*(re+1)-1,ue=B[ie],he=ie+1,Ce=B[he];if(0>s(ue,H))he<z&&0>s(Ce,ue)?(B[re]=Ce,B[he]=H,re=he):(B[re]=ue,B[ie]=H,re=ie);else if(he<z&&0>s(Ce,H))B[re]=Ce,B[he]=H,re=he;else break e}}return X}function s(B,X){var H=B.sortIndex-X.sortIndex;return H!==0?H:B.id-X.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;r.unstable_now=function(){return o.now()}}else{var u=Date,f=u.now();r.unstable_now=function(){return u.now()-f}}var d=[],g=[],p=1,y=null,b=3,v=!1,_=!1,S=!1,x=!1,E=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function O(B){for(var X=t(g);X!==null;){if(X.callback===null)l(g);else if(X.startTime<=B)l(g),X.sortIndex=X.expirationTime,e(d,X);else break;X=t(g)}}function N(B){if(S=!1,O(B),!_)if(t(d)!==null)_=!0,A||(A=!0,J());else{var X=t(g);X!==null&&le(N,X.startTime-B)}}var A=!1,D=-1,M=5,k=-1;function U(){return x?!0:!(r.unstable_now()-k<M)}function P(){if(x=!1,A){var B=r.unstable_now();k=B;var X=!0;try{e:{_=!1,S&&(S=!1,C(D),D=-1),v=!0;var H=b;try{t:{for(O(B),y=t(d);y!==null&&!(y.expirationTime>B&&U());){var re=y.callback;if(typeof re=="function"){y.callback=null,b=y.priorityLevel;var z=re(y.expirationTime<=B);if(B=r.unstable_now(),typeof z=="function"){y.callback=z,O(B),X=!0;break t}y===t(d)&&l(d),O(B)}else l(d);y=t(d)}if(y!==null)X=!0;else{var G=t(g);G!==null&&le(N,G.startTime-B),X=!1}}break e}finally{y=null,b=H,v=!1}X=void 0}}finally{X?J():A=!1}}}var J;if(typeof T=="function")J=function(){T(P)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,Y=j.port2;j.port1.onmessage=P,J=function(){Y.postMessage(null)}}else J=function(){E(P,0)};function le(B,X){D=E(function(){B(r.unstable_now())},X)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(B){B.callback=null},r.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<B?Math.floor(1e3/B):5},r.unstable_getCurrentPriorityLevel=function(){return b},r.unstable_next=function(B){switch(b){case 1:case 2:case 3:var X=3;break;default:X=b}var H=b;b=X;try{return B()}finally{b=H}},r.unstable_requestPaint=function(){x=!0},r.unstable_runWithPriority=function(B,X){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var H=b;b=B;try{return X()}finally{b=H}},r.unstable_scheduleCallback=function(B,X,H){var re=r.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?re+H:re):H=re,B){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=H+z,B={id:p++,callback:X,priorityLevel:B,startTime:H,expirationTime:z,sortIndex:-1},H>re?(B.sortIndex=H,e(g,B),t(d)===null&&B===t(g)&&(S?(C(D),D=-1):S=!0,le(N,H-re))):(B.sortIndex=z,e(d,B),_||v||(_=!0,A||(A=!0,J()))),B},r.unstable_shouldYield=U,r.unstable_wrapCallback=function(B){var X=b;return function(){var H=b;b=X;try{return B.apply(this,arguments)}finally{b=H}}}}(gd)),gd}var yy;function OT(){return yy||(yy=1,dd.exports=AT()),dd.exports}var hd={exports:{}},Xt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _y;function RT(){if(_y)return Xt;_y=1;var r=ud();function e(d){var g="https://react.dev/errors/"+d;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)g+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+d+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var l={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(d,g,p){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:y==null?null:""+y,children:d,containerInfo:g,implementation:p}}var u=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(d,g){if(d==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,Xt.createPortal=function(d,g){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return o(d,g,null,p)},Xt.flushSync=function(d){var g=u.T,p=l.p;try{if(u.T=null,l.p=2,d)return d()}finally{u.T=g,l.p=p,l.d.f()}},Xt.preconnect=function(d,g){typeof d=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,l.d.C(d,g))},Xt.prefetchDNS=function(d){typeof d=="string"&&l.d.D(d)},Xt.preinit=function(d,g){if(typeof d=="string"&&g&&typeof g.as=="string"){var p=g.as,y=f(p,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,v=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;p==="style"?l.d.S(d,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:y,integrity:b,fetchPriority:v}):p==="script"&&l.d.X(d,{crossOrigin:y,integrity:b,fetchPriority:v,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Xt.preinitModule=function(d,g){if(typeof d=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var p=f(g.as,g.crossOrigin);l.d.M(d,{crossOrigin:p,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&l.d.M(d)},Xt.preload=function(d,g){if(typeof d=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var p=g.as,y=f(p,g.crossOrigin);l.d.L(d,p,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Xt.preloadModule=function(d,g){if(typeof d=="string")if(g){var p=f(g.as,g.crossOrigin);l.d.m(d,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:p,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else l.d.m(d)},Xt.requestFormReset=function(d){l.d.r(d)},Xt.unstable_batchedUpdates=function(d,g){return d(g)},Xt.useFormState=function(d,g,p){return u.H.useFormState(d,g,p)},Xt.useFormStatus=function(){return u.H.useHostTransitionStatus()},Xt.version="19.1.0",Xt}var by;function vy(){if(by)return hd.exports;by=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),hd.exports=RT(),hd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sy;function kT(){if(Sy)return pa;Sy=1;var r=OT(),e=ud(),t=vy();function l(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function o(n){var i=n,a=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(a=i.return),n=i.return;while(n)}return i.tag===3?a:null}function u(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function f(n){if(o(n)!==n)throw Error(l(188))}function d(n){var i=n.alternate;if(!i){if(i=o(n),i===null)throw Error(l(188));return i!==n?null:n}for(var a=n,c=i;;){var h=a.return;if(h===null)break;var m=h.alternate;if(m===null){if(c=h.return,c!==null){a=c;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===a)return f(h),n;if(m===c)return f(h),i;m=m.sibling}throw Error(l(188))}if(a.return!==c.return)a=h,c=m;else{for(var w=!1,R=h.child;R;){if(R===a){w=!0,a=h,c=m;break}if(R===c){w=!0,c=h,a=m;break}R=R.sibling}if(!w){for(R=m.child;R;){if(R===a){w=!0,a=m,c=h;break}if(R===c){w=!0,c=m,a=h;break}R=R.sibling}if(!w)throw Error(l(189))}}if(a.alternate!==c)throw Error(l(190))}if(a.tag!==3)throw Error(l(188));return a.stateNode.current===a?n:i}function g(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=g(n),i!==null)return i;n=n.sibling}return null}var p=Object.assign,y=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),C=Symbol.for("react.consumer"),T=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function J(n){return n===null||typeof n!="object"?null:(n=P&&n[P]||n["@@iterator"],typeof n=="function"?n:null)}var j=Symbol.for("react.client.reference");function Y(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===j?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case _:return"Fragment";case x:return"Profiler";case S:return"StrictMode";case N:return"Suspense";case A:return"SuspenseList";case k:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case v:return"Portal";case T:return(n.displayName||"Context")+".Provider";case C:return(n._context.displayName||"Context")+".Consumer";case O:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case D:return i=n.displayName||null,i!==null?i:Y(n.type)||"Memo";case M:i=n._payload,n=n._init;try{return Y(n(i))}catch{}}return null}var le=Array.isArray,B=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H={pending:!1,data:null,method:null,action:null},re=[],z=-1;function G(n){return{current:n}}function ie(n){0>z||(n.current=re[z],re[z]=null,z--)}function ue(n,i){z++,re[z]=n.current,n.current=i}var he=G(null),Ce=G(null),me=G(null),pe=G(null);function ye(n,i){switch(ue(me,i),ue(Ce,n),ue(he,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?IE(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=IE(i),n=PE(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ie(he),ue(he,n)}function $e(){ie(he),ie(Ce),ie(me)}function Ve(n){n.memoizedState!==null&&ue(pe,n);var i=he.current,a=PE(i,n.type);i!==a&&(ue(Ce,n),ue(he,a))}function ne(n){Ce.current===n&&(ie(he),ie(Ce)),pe.current===n&&(ie(pe),ou._currentValue=H)}var fe=Object.prototype.hasOwnProperty,de=r.unstable_scheduleCallback,Se=r.unstable_cancelCallback,xe=r.unstable_shouldYield,nt=r.unstable_requestPaint,Xe=r.unstable_now,en=r.unstable_getCurrentPriorityLevel,un=r.unstable_ImmediatePriority,cn=r.unstable_UserBlockingPriority,fn=r.unstable_NormalPriority,Ol=r.unstable_LowPriority,As=r.unstable_IdlePriority,Rl=r.log,xM=r.unstable_setDisableYieldValue,mo=null,Dn=null;function Oi(n){if(typeof Rl=="function"&&xM(n),Dn&&typeof Dn.setStrictMode=="function")try{Dn.setStrictMode(mo,n)}catch{}}var Ln=Math.clz32?Math.clz32:TM,CM=Math.log,EM=Math.LN2;function TM(n){return n>>>=0,n===0?32:31-(CM(n)/EM|0)|0}var Vc=256,Gc=4194304;function kl(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Xc(n,i,a){var c=n.pendingLanes;if(c===0)return 0;var h=0,m=n.suspendedLanes,w=n.pingedLanes;n=n.warmLanes;var R=c&134217727;return R!==0?(c=R&~m,c!==0?h=kl(c):(w&=R,w!==0?h=kl(w):a||(a=R&~n,a!==0&&(h=kl(a))))):(R=c&~m,R!==0?h=kl(R):w!==0?h=kl(w):a||(a=c&~n,a!==0&&(h=kl(a)))),h===0?0:i!==0&&i!==h&&(i&m)===0&&(m=h&-h,a=i&-i,m>=a||m===32&&(a&4194048)!==0)?i:h}function yo(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function wM(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wS(){var n=Vc;return Vc<<=1,(Vc&4194048)===0&&(Vc=256),n}function NS(){var n=Gc;return Gc<<=1,(Gc&62914560)===0&&(Gc=4194304),n}function tp(n){for(var i=[],a=0;31>a;a++)i.push(n);return i}function _o(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function NM(n,i,a,c,h,m){var w=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var R=n.entanglements,F=n.expirationTimes,W=n.hiddenUpdates;for(a=w&~a;0<a;){var ae=31-Ln(a),ce=1<<ae;R[ae]=0,F[ae]=-1;var ee=W[ae];if(ee!==null)for(W[ae]=null,ae=0;ae<ee.length;ae++){var te=ee[ae];te!==null&&(te.lane&=-536870913)}a&=~ce}c!==0&&AS(n,c,0),m!==0&&h===0&&n.tag!==0&&(n.suspendedLanes|=m&~(w&~i))}function AS(n,i,a){n.pendingLanes|=i,n.suspendedLanes&=~i;var c=31-Ln(i);n.entangledLanes|=i,n.entanglements[c]=n.entanglements[c]|1073741824|a&4194090}function OS(n,i){var a=n.entangledLanes|=i;for(n=n.entanglements;a;){var c=31-Ln(a),h=1<<c;h&i|n[c]&i&&(n[c]|=i),a&=~h}}function np(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function rp(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function RS(){var n=X.p;return n!==0?n:(n=window.event,n===void 0?32:uT(n.type))}function AM(n,i){var a=X.p;try{return X.p=n,i()}finally{X.p=a}}var Ri=Math.random().toString(36).slice(2),tn="__reactFiber$"+Ri,xn="__reactProps$"+Ri,Os="__reactContainer$"+Ri,ip="__reactEvents$"+Ri,OM="__reactListeners$"+Ri,RM="__reactHandles$"+Ri,kS="__reactResources$"+Ri,bo="__reactMarker$"+Ri;function lp(n){delete n[tn],delete n[xn],delete n[ip],delete n[OM],delete n[RM]}function Rs(n){var i=n[tn];if(i)return i;for(var a=n.parentNode;a;){if(i=a[Os]||a[tn]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(n=GE(n);n!==null;){if(a=n[tn])return a;n=GE(n)}return i}n=a,a=n.parentNode}return null}function ks(n){if(n=n[tn]||n[Os]){var i=n.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return n}return null}function vo(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(l(33))}function Ms(n){var i=n[kS];return i||(i=n[kS]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ut(n){n[bo]=!0}var MS=new Set,DS={};function Ml(n,i){Ds(n,i),Ds(n+"Capture",i)}function Ds(n,i){for(DS[n]=i,n=0;n<i.length;n++)MS.add(i[n])}var kM=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),LS={},zS={};function MM(n){return fe.call(zS,n)?!0:fe.call(LS,n)?!1:kM.test(n)?zS[n]=!0:(LS[n]=!0,!1)}function Zc(n,i,a){if(MM(i))if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var c=i.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+a)}}function Qc(n,i,a){if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+a)}}function Gr(n,i,a,c){if(c===null)n.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(i,a,""+c)}}var sp,$S;function Ls(n){if(sp===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);sp=i&&i[1]||"",$S=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+sp+n+$S}var ap=!1;function op(n,i){if(!n||ap)return"";ap=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(i){var ce=function(){throw Error()};if(Object.defineProperty(ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ce,[])}catch(te){var ee=te}Reflect.construct(n,[],ce)}else{try{ce.call()}catch(te){ee=te}n.call(ce.prototype)}}else{try{throw Error()}catch(te){ee=te}(ce=n())&&typeof ce.catch=="function"&&ce.catch(function(){})}}catch(te){if(te&&ee&&typeof te.stack=="string")return[te.stack,ee.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=c.DetermineComponentFrameRoot(),w=m[0],R=m[1];if(w&&R){var F=w.split(`
`),W=R.split(`
`);for(h=c=0;c<F.length&&!F[c].includes("DetermineComponentFrameRoot");)c++;for(;h<W.length&&!W[h].includes("DetermineComponentFrameRoot");)h++;if(c===F.length||h===W.length)for(c=F.length-1,h=W.length-1;1<=c&&0<=h&&F[c]!==W[h];)h--;for(;1<=c&&0<=h;c--,h--)if(F[c]!==W[h]){if(c!==1||h!==1)do if(c--,h--,0>h||F[c]!==W[h]){var ae=`
`+F[c].replace(" at new "," at ");return n.displayName&&ae.includes("<anonymous>")&&(ae=ae.replace("<anonymous>",n.displayName)),ae}while(1<=c&&0<=h);break}}}finally{ap=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?Ls(a):""}function DM(n){switch(n.tag){case 26:case 27:case 5:return Ls(n.type);case 16:return Ls("Lazy");case 13:return Ls("Suspense");case 19:return Ls("SuspenseList");case 0:case 15:return op(n.type,!1);case 11:return op(n.type.render,!1);case 1:return op(n.type,!0);case 31:return Ls("Activity");default:return""}}function FS(n){try{var i="";do i+=DM(n),n=n.return;while(n);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Vn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function BS(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function LM(n){var i=BS(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),c=""+n[i];if(!n.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,m=a.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return h.call(this)},set:function(w){c=""+w,m.call(this,w)}}),Object.defineProperty(n,i,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(w){c=""+w},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function Wc(n){n._valueTracker||(n._valueTracker=LM(n))}function US(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var a=i.getValue(),c="";return n&&(c=BS(n)?n.checked?"true":"false":n.value),n=c,n!==a?(i.setValue(n),!0):!1}function Jc(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var zM=/[\n"\\]/g;function Gn(n){return n.replace(zM,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function up(n,i,a,c,h,m,w,R){n.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?n.type=w:n.removeAttribute("type"),i!=null?w==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+Vn(i)):n.value!==""+Vn(i)&&(n.value=""+Vn(i)):w!=="submit"&&w!=="reset"||n.removeAttribute("value"),i!=null?cp(n,w,Vn(i)):a!=null?cp(n,w,Vn(a)):c!=null&&n.removeAttribute("value"),h==null&&m!=null&&(n.defaultChecked=!!m),h!=null&&(n.checked=h&&typeof h!="function"&&typeof h!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?n.name=""+Vn(R):n.removeAttribute("name")}function jS(n,i,a,c,h,m,w,R){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(n.type=m),i!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||i!=null))return;a=a!=null?""+Vn(a):"",i=i!=null?""+Vn(i):a,R||i===n.value||(n.value=i),n.defaultValue=i}c=c??h,c=typeof c!="function"&&typeof c!="symbol"&&!!c,n.checked=R?n.checked:!!c,n.defaultChecked=!!c,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(n.name=w)}function cp(n,i,a){i==="number"&&Jc(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function zs(n,i,a,c){if(n=n.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<n.length;a++)h=i.hasOwnProperty("$"+n[a].value),n[a].selected!==h&&(n[a].selected=h),h&&c&&(n[a].defaultSelected=!0)}else{for(a=""+Vn(a),i=null,h=0;h<n.length;h++){if(n[h].value===a){n[h].selected=!0,c&&(n[h].defaultSelected=!0);return}i!==null||n[h].disabled||(i=n[h])}i!==null&&(i.selected=!0)}}function HS(n,i,a){if(i!=null&&(i=""+Vn(i),i!==n.value&&(n.value=i),a==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=a!=null?""+Vn(a):""}function KS(n,i,a,c){if(i==null){if(c!=null){if(a!=null)throw Error(l(92));if(le(c)){if(1<c.length)throw Error(l(93));c=c[0]}a=c}a==null&&(a=""),i=a}a=Vn(i),n.defaultValue=a,c=n.textContent,c===a&&c!==""&&c!==null&&(n.value=c)}function $s(n,i){if(i){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=i;return}}n.textContent=i}var $M=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function IS(n,i,a){var c=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?c?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":c?n.setProperty(i,a):typeof a!="number"||a===0||$M.has(i)?i==="float"?n.cssFloat=a:n[i]=(""+a).trim():n[i]=a+"px"}function PS(n,i,a){if(i!=null&&typeof i!="object")throw Error(l(62));if(n=n.style,a!=null){for(var c in a)!a.hasOwnProperty(c)||i!=null&&i.hasOwnProperty(c)||(c.indexOf("--")===0?n.setProperty(c,""):c==="float"?n.cssFloat="":n[c]="");for(var h in i)c=i[h],i.hasOwnProperty(h)&&a[h]!==c&&IS(n,h,c)}else for(var m in i)i.hasOwnProperty(m)&&IS(n,m,i[m])}function fp(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var FM=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),BM=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ef(n){return BM.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var dp=null;function gp(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Fs=null,Bs=null;function qS(n){var i=ks(n);if(i&&(n=i.stateNode)){var a=n[xn]||null;e:switch(n=i.stateNode,i.type){case"input":if(up(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Gn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var c=a[i];if(c!==n&&c.form===n.form){var h=c[xn]||null;if(!h)throw Error(l(90));up(c,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)c=a[i],c.form===n.form&&US(c)}break e;case"textarea":HS(n,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&zs(n,!!a.multiple,i,!1)}}}var hp=!1;function YS(n,i,a){if(hp)return n(i,a);hp=!0;try{var c=n(i);return c}finally{if(hp=!1,(Fs!==null||Bs!==null)&&(jf(),Fs&&(i=Fs,n=Bs,Bs=Fs=null,qS(i),n)))for(i=0;i<n.length;i++)qS(n[i])}}function So(n,i){var a=n.stateNode;if(a===null)return null;var c=a[xn]||null;if(c===null)return null;a=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(l(231,i,typeof a));return a}var Xr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pp=!1;if(Xr)try{var xo={};Object.defineProperty(xo,"passive",{get:function(){pp=!0}}),window.addEventListener("test",xo,xo),window.removeEventListener("test",xo,xo)}catch{pp=!1}var ki=null,mp=null,tf=null;function VS(){if(tf)return tf;var n,i=mp,a=i.length,c,h="value"in ki?ki.value:ki.textContent,m=h.length;for(n=0;n<a&&i[n]===h[n];n++);var w=a-n;for(c=1;c<=w&&i[a-c]===h[m-c];c++);return tf=h.slice(n,1<c?1-c:void 0)}function nf(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function rf(){return!0}function GS(){return!1}function Cn(n){function i(a,c,h,m,w){this._reactName=a,this._targetInst=h,this.type=c,this.nativeEvent=m,this.target=w,this.currentTarget=null;for(var R in n)n.hasOwnProperty(R)&&(a=n[R],this[R]=a?a(m):m[R]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?rf:GS,this.isPropagationStopped=GS,this}return p(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=rf)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=rf)},persist:function(){},isPersistent:rf}),i}var Dl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lf=Cn(Dl),Co=p({},Dl,{view:0,detail:0}),UM=Cn(Co),yp,_p,Eo,sf=p({},Co,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vp,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Eo&&(Eo&&n.type==="mousemove"?(yp=n.screenX-Eo.screenX,_p=n.screenY-Eo.screenY):_p=yp=0,Eo=n),yp)},movementY:function(n){return"movementY"in n?n.movementY:_p}}),XS=Cn(sf),jM=p({},sf,{dataTransfer:0}),HM=Cn(jM),KM=p({},Co,{relatedTarget:0}),bp=Cn(KM),IM=p({},Dl,{animationName:0,elapsedTime:0,pseudoElement:0}),PM=Cn(IM),qM=p({},Dl,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),YM=Cn(qM),VM=p({},Dl,{data:0}),ZS=Cn(VM),GM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},XM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ZM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function QM(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=ZM[n])?!!i[n]:!1}function vp(){return QM}var WM=p({},Co,{key:function(n){if(n.key){var i=GM[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=nf(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?XM[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vp,charCode:function(n){return n.type==="keypress"?nf(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?nf(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),JM=Cn(WM),eD=p({},sf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),QS=Cn(eD),tD=p({},Co,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vp}),nD=Cn(tD),rD=p({},Dl,{propertyName:0,elapsedTime:0,pseudoElement:0}),iD=Cn(rD),lD=p({},sf,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),sD=Cn(lD),aD=p({},Dl,{newState:0,oldState:0}),oD=Cn(aD),uD=[9,13,27,32],Sp=Xr&&"CompositionEvent"in window,To=null;Xr&&"documentMode"in document&&(To=document.documentMode);var cD=Xr&&"TextEvent"in window&&!To,WS=Xr&&(!Sp||To&&8<To&&11>=To),JS=" ",ex=!1;function tx(n,i){switch(n){case"keyup":return uD.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nx(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Us=!1;function fD(n,i){switch(n){case"compositionend":return nx(i);case"keypress":return i.which!==32?null:(ex=!0,JS);case"textInput":return n=i.data,n===JS&&ex?null:n;default:return null}}function dD(n,i){if(Us)return n==="compositionend"||!Sp&&tx(n,i)?(n=VS(),tf=mp=ki=null,Us=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return WS&&i.locale!=="ko"?null:i.data;default:return null}}var gD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rx(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!gD[n.type]:i==="textarea"}function ix(n,i,a,c){Fs?Bs?Bs.push(c):Bs=[c]:Fs=c,i=Yf(i,"onChange"),0<i.length&&(a=new lf("onChange","change",null,a,c),n.push({event:a,listeners:i}))}var wo=null,No=null;function hD(n){BE(n,0)}function af(n){var i=vo(n);if(US(i))return n}function lx(n,i){if(n==="change")return i}var sx=!1;if(Xr){var xp;if(Xr){var Cp="oninput"in document;if(!Cp){var ax=document.createElement("div");ax.setAttribute("oninput","return;"),Cp=typeof ax.oninput=="function"}xp=Cp}else xp=!1;sx=xp&&(!document.documentMode||9<document.documentMode)}function ox(){wo&&(wo.detachEvent("onpropertychange",ux),No=wo=null)}function ux(n){if(n.propertyName==="value"&&af(No)){var i=[];ix(i,No,n,gp(n)),YS(hD,i)}}function pD(n,i,a){n==="focusin"?(ox(),wo=i,No=a,wo.attachEvent("onpropertychange",ux)):n==="focusout"&&ox()}function mD(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return af(No)}function yD(n,i){if(n==="click")return af(i)}function _D(n,i){if(n==="input"||n==="change")return af(i)}function bD(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var zn=typeof Object.is=="function"?Object.is:bD;function Ao(n,i){if(zn(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var a=Object.keys(n),c=Object.keys(i);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var h=a[c];if(!fe.call(i,h)||!zn(n[h],i[h]))return!1}return!0}function cx(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function fx(n,i){var a=cx(n);n=0;for(var c;a;){if(a.nodeType===3){if(c=n+a.textContent.length,n<=i&&c>=i)return{node:a,offset:i-n};n=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=cx(a)}}function dx(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?dx(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function gx(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=Jc(n.document);i instanceof n.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)n=i.contentWindow;else break;i=Jc(n.document)}return i}function Ep(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var vD=Xr&&"documentMode"in document&&11>=document.documentMode,js=null,Tp=null,Oo=null,wp=!1;function hx(n,i,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;wp||js==null||js!==Jc(c)||(c=js,"selectionStart"in c&&Ep(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Oo&&Ao(Oo,c)||(Oo=c,c=Yf(Tp,"onSelect"),0<c.length&&(i=new lf("onSelect","select",null,i,a),n.push({event:i,listeners:c}),i.target=js)))}function Ll(n,i){var a={};return a[n.toLowerCase()]=i.toLowerCase(),a["Webkit"+n]="webkit"+i,a["Moz"+n]="moz"+i,a}var Hs={animationend:Ll("Animation","AnimationEnd"),animationiteration:Ll("Animation","AnimationIteration"),animationstart:Ll("Animation","AnimationStart"),transitionrun:Ll("Transition","TransitionRun"),transitionstart:Ll("Transition","TransitionStart"),transitioncancel:Ll("Transition","TransitionCancel"),transitionend:Ll("Transition","TransitionEnd")},Np={},px={};Xr&&(px=document.createElement("div").style,"AnimationEvent"in window||(delete Hs.animationend.animation,delete Hs.animationiteration.animation,delete Hs.animationstart.animation),"TransitionEvent"in window||delete Hs.transitionend.transition);function zl(n){if(Np[n])return Np[n];if(!Hs[n])return n;var i=Hs[n],a;for(a in i)if(i.hasOwnProperty(a)&&a in px)return Np[n]=i[a];return n}var mx=zl("animationend"),yx=zl("animationiteration"),_x=zl("animationstart"),SD=zl("transitionrun"),xD=zl("transitionstart"),CD=zl("transitioncancel"),bx=zl("transitionend"),vx=new Map,Ap="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ap.push("scrollEnd");function hr(n,i){vx.set(n,i),Ml(i,[n])}var Sx=new WeakMap;function Xn(n,i){if(typeof n=="object"&&n!==null){var a=Sx.get(n);return a!==void 0?a:(i={value:n,source:i,stack:FS(i)},Sx.set(n,i),i)}return{value:n,source:i,stack:FS(i)}}var Zn=[],Ks=0,Op=0;function of(){for(var n=Ks,i=Op=Ks=0;i<n;){var a=Zn[i];Zn[i++]=null;var c=Zn[i];Zn[i++]=null;var h=Zn[i];Zn[i++]=null;var m=Zn[i];if(Zn[i++]=null,c!==null&&h!==null){var w=c.pending;w===null?h.next=h:(h.next=w.next,w.next=h),c.pending=h}m!==0&&xx(a,h,m)}}function uf(n,i,a,c){Zn[Ks++]=n,Zn[Ks++]=i,Zn[Ks++]=a,Zn[Ks++]=c,Op|=c,n.lanes|=c,n=n.alternate,n!==null&&(n.lanes|=c)}function Rp(n,i,a,c){return uf(n,i,a,c),cf(n)}function Is(n,i){return uf(n,null,null,i),cf(n)}function xx(n,i,a){n.lanes|=a;var c=n.alternate;c!==null&&(c.lanes|=a);for(var h=!1,m=n.return;m!==null;)m.childLanes|=a,c=m.alternate,c!==null&&(c.childLanes|=a),m.tag===22&&(n=m.stateNode,n===null||n._visibility&1||(h=!0)),n=m,m=m.return;return n.tag===3?(m=n.stateNode,h&&i!==null&&(h=31-Ln(a),n=m.hiddenUpdates,c=n[h],c===null?n[h]=[i]:c.push(i),i.lane=a|536870912),m):null}function cf(n){if(50<eu)throw eu=0,$m=null,Error(l(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var Ps={};function ED(n,i,a,c){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $n(n,i,a,c){return new ED(n,i,a,c)}function kp(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Zr(n,i){var a=n.alternate;return a===null?(a=$n(n.tag,i,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=i,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,i=n.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function Cx(n,i){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,i=a.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function ff(n,i,a,c,h,m){var w=0;if(c=n,typeof n=="function")kp(n)&&(w=1);else if(typeof n=="string")w=w2(n,a,he.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case k:return n=$n(31,a,i,h),n.elementType=k,n.lanes=m,n;case _:return $l(a.children,h,m,i);case S:w=8,h|=24;break;case x:return n=$n(12,a,i,h|2),n.elementType=x,n.lanes=m,n;case N:return n=$n(13,a,i,h),n.elementType=N,n.lanes=m,n;case A:return n=$n(19,a,i,h),n.elementType=A,n.lanes=m,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case E:case T:w=10;break e;case C:w=9;break e;case O:w=11;break e;case D:w=14;break e;case M:w=16,c=null;break e}w=29,a=Error(l(130,n===null?"null":typeof n,"")),c=null}return i=$n(w,a,i,h),i.elementType=n,i.type=c,i.lanes=m,i}function $l(n,i,a,c){return n=$n(7,n,c,i),n.lanes=a,n}function Mp(n,i,a){return n=$n(6,n,null,i),n.lanes=a,n}function Dp(n,i,a){return i=$n(4,n.children!==null?n.children:[],n.key,i),i.lanes=a,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var qs=[],Ys=0,df=null,gf=0,Qn=[],Wn=0,Fl=null,Qr=1,Wr="";function Bl(n,i){qs[Ys++]=gf,qs[Ys++]=df,df=n,gf=i}function Ex(n,i,a){Qn[Wn++]=Qr,Qn[Wn++]=Wr,Qn[Wn++]=Fl,Fl=n;var c=Qr;n=Wr;var h=32-Ln(c)-1;c&=~(1<<h),a+=1;var m=32-Ln(i)+h;if(30<m){var w=h-h%5;m=(c&(1<<w)-1).toString(32),c>>=w,h-=w,Qr=1<<32-Ln(i)+h|a<<h|c,Wr=m+n}else Qr=1<<m|a<<h|c,Wr=n}function Lp(n){n.return!==null&&(Bl(n,1),Ex(n,1,0))}function zp(n){for(;n===df;)df=qs[--Ys],qs[Ys]=null,gf=qs[--Ys],qs[Ys]=null;for(;n===Fl;)Fl=Qn[--Wn],Qn[Wn]=null,Wr=Qn[--Wn],Qn[Wn]=null,Qr=Qn[--Wn],Qn[Wn]=null}var dn=null,St=null,et=!1,Ul=null,Or=!1,$p=Error(l(519));function jl(n){var i=Error(l(418,""));throw Mo(Xn(i,n)),$p}function Tx(n){var i=n.stateNode,a=n.type,c=n.memoizedProps;switch(i[tn]=n,i[xn]=c,a){case"dialog":qe("cancel",i),qe("close",i);break;case"iframe":case"object":case"embed":qe("load",i);break;case"video":case"audio":for(a=0;a<nu.length;a++)qe(nu[a],i);break;case"source":qe("error",i);break;case"img":case"image":case"link":qe("error",i),qe("load",i);break;case"details":qe("toggle",i);break;case"input":qe("invalid",i),jS(i,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),Wc(i);break;case"select":qe("invalid",i);break;case"textarea":qe("invalid",i),KS(i,c.value,c.defaultValue,c.children),Wc(i)}a=c.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||c.suppressHydrationWarning===!0||KE(i.textContent,a)?(c.popover!=null&&(qe("beforetoggle",i),qe("toggle",i)),c.onScroll!=null&&qe("scroll",i),c.onScrollEnd!=null&&qe("scrollend",i),c.onClick!=null&&(i.onclick=Vf),i=!0):i=!1,i||jl(n)}function wx(n){for(dn=n.return;dn;)switch(dn.tag){case 5:case 13:Or=!1;return;case 27:case 3:Or=!0;return;default:dn=dn.return}}function Ro(n){if(n!==dn)return!1;if(!et)return wx(n),et=!0,!1;var i=n.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||Wm(n.type,n.memoizedProps)),a=!a),a&&St&&jl(n),wx(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(l(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(i===0){St=mr(n.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;n=n.nextSibling}St=null}}else i===27?(i=St,Vi(n.type)?(n=ny,ny=null,St=n):St=i):St=dn?mr(n.stateNode.nextSibling):null;return!0}function ko(){St=dn=null,et=!1}function Nx(){var n=Ul;return n!==null&&(wn===null?wn=n:wn.push.apply(wn,n),Ul=null),n}function Mo(n){Ul===null?Ul=[n]:Ul.push(n)}var Fp=G(null),Hl=null,Jr=null;function Mi(n,i,a){ue(Fp,i._currentValue),i._currentValue=a}function ei(n){n._currentValue=Fp.current,ie(Fp)}function Bp(n,i,a){for(;n!==null;){var c=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),n===a)break;n=n.return}}function Up(n,i,a,c){var h=n.child;for(h!==null&&(h.return=n);h!==null;){var m=h.dependencies;if(m!==null){var w=h.child;m=m.firstContext;e:for(;m!==null;){var R=m;m=h;for(var F=0;F<i.length;F++)if(R.context===i[F]){m.lanes|=a,R=m.alternate,R!==null&&(R.lanes|=a),Bp(m.return,a,n),c||(w=null);break e}m=R.next}}else if(h.tag===18){if(w=h.return,w===null)throw Error(l(341));w.lanes|=a,m=w.alternate,m!==null&&(m.lanes|=a),Bp(w,a,n),w=null}else w=h.child;if(w!==null)w.return=h;else for(w=h;w!==null;){if(w===n){w=null;break}if(h=w.sibling,h!==null){h.return=w.return,w=h;break}w=w.return}h=w}}function Do(n,i,a,c){n=null;for(var h=i,m=!1;h!==null;){if(!m){if((h.flags&524288)!==0)m=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var w=h.alternate;if(w===null)throw Error(l(387));if(w=w.memoizedProps,w!==null){var R=h.type;zn(h.pendingProps.value,w.value)||(n!==null?n.push(R):n=[R])}}else if(h===pe.current){if(w=h.alternate,w===null)throw Error(l(387));w.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(n!==null?n.push(ou):n=[ou])}h=h.return}n!==null&&Up(i,n,a,c),i.flags|=262144}function hf(n){for(n=n.firstContext;n!==null;){if(!zn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Kl(n){Hl=n,Jr=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function nn(n){return Ax(Hl,n)}function pf(n,i){return Hl===null&&Kl(n),Ax(n,i)}function Ax(n,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Jr===null){if(n===null)throw Error(l(308));Jr=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else Jr=Jr.next=i;return a}var TD=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(a,c){n.push(c)}};this.abort=function(){i.aborted=!0,n.forEach(function(a){return a()})}},wD=r.unstable_scheduleCallback,ND=r.unstable_NormalPriority,Lt={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function jp(){return{controller:new TD,data:new Map,refCount:0}}function Lo(n){n.refCount--,n.refCount===0&&wD(ND,function(){n.controller.abort()})}var zo=null,Hp=0,Vs=0,Gs=null;function AD(n,i){if(zo===null){var a=zo=[];Hp=0,Vs=Im(),Gs={status:"pending",value:void 0,then:function(c){a.push(c)}}}return Hp++,i.then(Ox,Ox),i}function Ox(){if(--Hp===0&&zo!==null){Gs!==null&&(Gs.status="fulfilled");var n=zo;zo=null,Vs=0,Gs=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function OD(n,i){var a=[],c={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return n.then(function(){c.status="fulfilled",c.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(c.status="rejected",c.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),c}var Rx=B.S;B.S=function(n,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&AD(n,i),Rx!==null&&Rx(n,i)};var Il=G(null);function Kp(){var n=Il.current;return n!==null?n:pt.pooledCache}function mf(n,i){i===null?ue(Il,Il.current):ue(Il,i.pool)}function kx(){var n=Kp();return n===null?null:{parent:Lt._currentValue,pool:n}}var $o=Error(l(460)),Mx=Error(l(474)),yf=Error(l(542)),Ip={then:function(){}};function Dx(n){return n=n.status,n==="fulfilled"||n==="rejected"}function _f(){}function Lx(n,i,a){switch(a=n[a],a===void 0?n.push(i):a!==i&&(i.then(_f,_f),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,$x(n),n;default:if(typeof i.status=="string")i.then(_f,_f);else{if(n=pt,n!==null&&100<n.shellSuspendCounter)throw Error(l(482));n=i,n.status="pending",n.then(function(c){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=c}},function(c){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=c}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,$x(n),n}throw Fo=i,$o}}var Fo=null;function zx(){if(Fo===null)throw Error(l(459));var n=Fo;return Fo=null,n}function $x(n){if(n===$o||n===yf)throw Error(l(483))}var Di=!1;function Pp(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function qp(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Li(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function zi(n,i,a){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,(lt&2)!==0){var h=c.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),c.pending=i,i=cf(n),xx(n,null,a),i}return uf(n,c,i,a),cf(n)}function Bo(n,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var c=i.lanes;c&=n.pendingLanes,a|=c,i.lanes=a,OS(n,a)}}function Yp(n,i){var a=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var h=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var w={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?h=m=w:m=m.next=w,a=a.next}while(a!==null);m===null?h=m=i:m=m.next=i}else h=m=i;a={baseState:c.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:c.shared,callbacks:c.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=i:n.next=i,a.lastBaseUpdate=i}var Vp=!1;function Uo(){if(Vp){var n=Gs;if(n!==null)throw n}}function jo(n,i,a,c){Vp=!1;var h=n.updateQueue;Di=!1;var m=h.firstBaseUpdate,w=h.lastBaseUpdate,R=h.shared.pending;if(R!==null){h.shared.pending=null;var F=R,W=F.next;F.next=null,w===null?m=W:w.next=W,w=F;var ae=n.alternate;ae!==null&&(ae=ae.updateQueue,R=ae.lastBaseUpdate,R!==w&&(R===null?ae.firstBaseUpdate=W:R.next=W,ae.lastBaseUpdate=F))}if(m!==null){var ce=h.baseState;w=0,ae=W=F=null,R=m;do{var ee=R.lane&-536870913,te=ee!==R.lane;if(te?(Ze&ee)===ee:(c&ee)===ee){ee!==0&&ee===Vs&&(Vp=!0),ae!==null&&(ae=ae.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});e:{var Me=n,Oe=R;ee=i;var ft=a;switch(Oe.tag){case 1:if(Me=Oe.payload,typeof Me=="function"){ce=Me.call(ft,ce,ee);break e}ce=Me;break e;case 3:Me.flags=Me.flags&-65537|128;case 0:if(Me=Oe.payload,ee=typeof Me=="function"?Me.call(ft,ce,ee):Me,ee==null)break e;ce=p({},ce,ee);break e;case 2:Di=!0}}ee=R.callback,ee!==null&&(n.flags|=64,te&&(n.flags|=8192),te=h.callbacks,te===null?h.callbacks=[ee]:te.push(ee))}else te={lane:ee,tag:R.tag,payload:R.payload,callback:R.callback,next:null},ae===null?(W=ae=te,F=ce):ae=ae.next=te,w|=ee;if(R=R.next,R===null){if(R=h.shared.pending,R===null)break;te=R,R=te.next,te.next=null,h.lastBaseUpdate=te,h.shared.pending=null}}while(!0);ae===null&&(F=ce),h.baseState=F,h.firstBaseUpdate=W,h.lastBaseUpdate=ae,m===null&&(h.shared.lanes=0),Ii|=w,n.lanes=w,n.memoizedState=ce}}function Fx(n,i){if(typeof n!="function")throw Error(l(191,n));n.call(i)}function Bx(n,i){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)Fx(a[n],i)}var Xs=G(null),bf=G(0);function Ux(n,i){n=ai,ue(bf,n),ue(Xs,i),ai=n|i.baseLanes}function Gp(){ue(bf,ai),ue(Xs,Xs.current)}function Xp(){ai=bf.current,ie(Xs),ie(bf)}var $i=0,je=null,ut=null,Rt=null,vf=!1,Zs=!1,Pl=!1,Sf=0,Ho=0,Qs=null,RD=0;function wt(){throw Error(l(321))}function Zp(n,i){if(i===null)return!1;for(var a=0;a<i.length&&a<n.length;a++)if(!zn(n[a],i[a]))return!1;return!0}function Qp(n,i,a,c,h,m){return $i=m,je=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,B.H=n===null||n.memoizedState===null?xC:CC,Pl=!1,m=a(c,h),Pl=!1,Zs&&(m=Hx(i,a,c,h)),jx(n),m}function jx(n){B.H=Nf;var i=ut!==null&&ut.next!==null;if($i=0,Rt=ut=je=null,vf=!1,Ho=0,Qs=null,i)throw Error(l(300));n===null||jt||(n=n.dependencies,n!==null&&hf(n)&&(jt=!0))}function Hx(n,i,a,c){je=n;var h=0;do{if(Zs&&(Qs=null),Ho=0,Zs=!1,25<=h)throw Error(l(301));if(h+=1,Rt=ut=null,n.updateQueue!=null){var m=n.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}B.H=FD,m=i(a,c)}while(Zs);return m}function kD(){var n=B.H,i=n.useState()[0];return i=typeof i.then=="function"?Ko(i):i,n=n.useState()[0],(ut!==null?ut.memoizedState:null)!==n&&(je.flags|=1024),i}function Wp(){var n=Sf!==0;return Sf=0,n}function Jp(n,i,a){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~a}function em(n){if(vf){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}vf=!1}$i=0,Rt=ut=je=null,Zs=!1,Ho=Sf=0,Qs=null}function En(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?je.memoizedState=Rt=n:Rt=Rt.next=n,Rt}function kt(){if(ut===null){var n=je.alternate;n=n!==null?n.memoizedState:null}else n=ut.next;var i=Rt===null?je.memoizedState:Rt.next;if(i!==null)Rt=i,ut=n;else{if(n===null)throw je.alternate===null?Error(l(467)):Error(l(310));ut=n,n={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},Rt===null?je.memoizedState=Rt=n:Rt=Rt.next=n}return Rt}function tm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ko(n){var i=Ho;return Ho+=1,Qs===null&&(Qs=[]),n=Lx(Qs,n,i),i=je,(Rt===null?i.memoizedState:Rt.next)===null&&(i=i.alternate,B.H=i===null||i.memoizedState===null?xC:CC),n}function xf(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Ko(n);if(n.$$typeof===T)return nn(n)}throw Error(l(438,String(n)))}function nm(n){var i=null,a=je.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var c=je.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(i={data:c.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=tm(),je.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(n),c=0;c<n;c++)a[c]=U;return i.index++,a}function ti(n,i){return typeof i=="function"?i(n):i}function Cf(n){var i=kt();return rm(i,ut,n)}function rm(n,i,a){var c=n.queue;if(c===null)throw Error(l(311));c.lastRenderedReducer=a;var h=n.baseQueue,m=c.pending;if(m!==null){if(h!==null){var w=h.next;h.next=m.next,m.next=w}i.baseQueue=h=m,c.pending=null}if(m=n.baseState,h===null)n.memoizedState=m;else{i=h.next;var R=w=null,F=null,W=i,ae=!1;do{var ce=W.lane&-536870913;if(ce!==W.lane?(Ze&ce)===ce:($i&ce)===ce){var ee=W.revertLane;if(ee===0)F!==null&&(F=F.next={lane:0,revertLane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),ce===Vs&&(ae=!0);else if(($i&ee)===ee){W=W.next,ee===Vs&&(ae=!0);continue}else ce={lane:0,revertLane:W.revertLane,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},F===null?(R=F=ce,w=m):F=F.next=ce,je.lanes|=ee,Ii|=ee;ce=W.action,Pl&&a(m,ce),m=W.hasEagerState?W.eagerState:a(m,ce)}else ee={lane:ce,revertLane:W.revertLane,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},F===null?(R=F=ee,w=m):F=F.next=ee,je.lanes|=ce,Ii|=ce;W=W.next}while(W!==null&&W!==i);if(F===null?w=m:F.next=R,!zn(m,n.memoizedState)&&(jt=!0,ae&&(a=Gs,a!==null)))throw a;n.memoizedState=m,n.baseState=w,n.baseQueue=F,c.lastRenderedState=m}return h===null&&(c.lanes=0),[n.memoizedState,c.dispatch]}function im(n){var i=kt(),a=i.queue;if(a===null)throw Error(l(311));a.lastRenderedReducer=n;var c=a.dispatch,h=a.pending,m=i.memoizedState;if(h!==null){a.pending=null;var w=h=h.next;do m=n(m,w.action),w=w.next;while(w!==h);zn(m,i.memoizedState)||(jt=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),a.lastRenderedState=m}return[m,c]}function Kx(n,i,a){var c=je,h=kt(),m=et;if(m){if(a===void 0)throw Error(l(407));a=a()}else a=i();var w=!zn((ut||h).memoizedState,a);w&&(h.memoizedState=a,jt=!0),h=h.queue;var R=qx.bind(null,c,h,n);if(Io(2048,8,R,[n]),h.getSnapshot!==i||w||Rt!==null&&Rt.memoizedState.tag&1){if(c.flags|=2048,Ws(9,Ef(),Px.bind(null,c,h,a,i),null),pt===null)throw Error(l(349));m||($i&124)!==0||Ix(c,i,a)}return a}function Ix(n,i,a){n.flags|=16384,n={getSnapshot:i,value:a},i=je.updateQueue,i===null?(i=tm(),je.updateQueue=i,i.stores=[n]):(a=i.stores,a===null?i.stores=[n]:a.push(n))}function Px(n,i,a,c){i.value=a,i.getSnapshot=c,Yx(i)&&Vx(n)}function qx(n,i,a){return a(function(){Yx(i)&&Vx(n)})}function Yx(n){var i=n.getSnapshot;n=n.value;try{var a=i();return!zn(n,a)}catch{return!0}}function Vx(n){var i=Is(n,2);i!==null&&Hn(i,n,2)}function lm(n){var i=En();if(typeof n=="function"){var a=n;if(n=a(),Pl){Oi(!0);try{a()}finally{Oi(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ti,lastRenderedState:n},i}function Gx(n,i,a,c){return n.baseState=a,rm(n,ut,typeof c=="function"?c:ti)}function MD(n,i,a,c,h){if(wf(n))throw Error(l(485));if(n=i.action,n!==null){var m={payload:h,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){m.listeners.push(w)}};B.T!==null?a(!0):m.isTransition=!1,c(m),a=i.pending,a===null?(m.next=i.pending=m,Xx(i,m)):(m.next=a.next,i.pending=a.next=m)}}function Xx(n,i){var a=i.action,c=i.payload,h=n.state;if(i.isTransition){var m=B.T,w={};B.T=w;try{var R=a(h,c),F=B.S;F!==null&&F(w,R),Zx(n,i,R)}catch(W){sm(n,i,W)}finally{B.T=m}}else try{m=a(h,c),Zx(n,i,m)}catch(W){sm(n,i,W)}}function Zx(n,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(c){Qx(n,i,c)},function(c){return sm(n,i,c)}):Qx(n,i,a)}function Qx(n,i,a){i.status="fulfilled",i.value=a,Wx(i),n.state=a,i=n.pending,i!==null&&(a=i.next,a===i?n.pending=null:(a=a.next,i.next=a,Xx(n,a)))}function sm(n,i,a){var c=n.pending;if(n.pending=null,c!==null){c=c.next;do i.status="rejected",i.reason=a,Wx(i),i=i.next;while(i!==c)}n.action=null}function Wx(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function Jx(n,i){return i}function eC(n,i){if(et){var a=pt.formState;if(a!==null){e:{var c=je;if(et){if(St){t:{for(var h=St,m=Or;h.nodeType!==8;){if(!m){h=null;break t}if(h=mr(h.nextSibling),h===null){h=null;break t}}m=h.data,h=m==="F!"||m==="F"?h:null}if(h){St=mr(h.nextSibling),c=h.data==="F!";break e}}jl(c)}c=!1}c&&(i=a[0])}}return a=En(),a.memoizedState=a.baseState=i,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jx,lastRenderedState:i},a.queue=c,a=bC.bind(null,je,c),c.dispatch=a,c=lm(!1),m=fm.bind(null,je,!1,c.queue),c=En(),h={state:i,dispatch:null,action:n,pending:null},c.queue=h,a=MD.bind(null,je,h,m,a),h.dispatch=a,c.memoizedState=n,[i,a,!1]}function tC(n){var i=kt();return nC(i,ut,n)}function nC(n,i,a){if(i=rm(n,i,Jx)[0],n=Cf(ti)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var c=Ko(i)}catch(w){throw w===$o?yf:w}else c=i;i=kt();var h=i.queue,m=h.dispatch;return a!==i.memoizedState&&(je.flags|=2048,Ws(9,Ef(),DD.bind(null,h,a),null)),[c,m,n]}function DD(n,i){n.action=i}function rC(n){var i=kt(),a=ut;if(a!==null)return nC(i,a,n);kt(),i=i.memoizedState,a=kt();var c=a.queue.dispatch;return a.memoizedState=n,[i,c,!1]}function Ws(n,i,a,c){return n={tag:n,create:a,deps:c,inst:i,next:null},i=je.updateQueue,i===null&&(i=tm(),je.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=n.next=n:(c=a.next,a.next=n,n.next=c,i.lastEffect=n),n}function Ef(){return{destroy:void 0,resource:void 0}}function iC(){return kt().memoizedState}function Tf(n,i,a,c){var h=En();c=c===void 0?null:c,je.flags|=n,h.memoizedState=Ws(1|i,Ef(),a,c)}function Io(n,i,a,c){var h=kt();c=c===void 0?null:c;var m=h.memoizedState.inst;ut!==null&&c!==null&&Zp(c,ut.memoizedState.deps)?h.memoizedState=Ws(i,m,a,c):(je.flags|=n,h.memoizedState=Ws(1|i,m,a,c))}function lC(n,i){Tf(8390656,8,n,i)}function sC(n,i){Io(2048,8,n,i)}function aC(n,i){return Io(4,2,n,i)}function oC(n,i){return Io(4,4,n,i)}function uC(n,i){if(typeof i=="function"){n=n();var a=i(n);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function cC(n,i,a){a=a!=null?a.concat([n]):null,Io(4,4,uC.bind(null,i,n),a)}function am(){}function fC(n,i){var a=kt();i=i===void 0?null:i;var c=a.memoizedState;return i!==null&&Zp(i,c[1])?c[0]:(a.memoizedState=[n,i],n)}function dC(n,i){var a=kt();i=i===void 0?null:i;var c=a.memoizedState;if(i!==null&&Zp(i,c[1]))return c[0];if(c=n(),Pl){Oi(!0);try{n()}finally{Oi(!1)}}return a.memoizedState=[c,i],c}function om(n,i,a){return a===void 0||($i&1073741824)!==0?n.memoizedState=i:(n.memoizedState=a,n=pE(),je.lanes|=n,Ii|=n,a)}function gC(n,i,a,c){return zn(a,i)?a:Xs.current!==null?(n=om(n,a,c),zn(n,i)||(jt=!0),n):($i&42)===0?(jt=!0,n.memoizedState=a):(n=pE(),je.lanes|=n,Ii|=n,i)}function hC(n,i,a,c,h){var m=X.p;X.p=m!==0&&8>m?m:8;var w=B.T,R={};B.T=R,fm(n,!1,i,a);try{var F=h(),W=B.S;if(W!==null&&W(R,F),F!==null&&typeof F=="object"&&typeof F.then=="function"){var ae=OD(F,c);Po(n,i,ae,jn(n))}else Po(n,i,c,jn(n))}catch(ce){Po(n,i,{then:function(){},status:"rejected",reason:ce},jn())}finally{X.p=m,B.T=w}}function LD(){}function um(n,i,a,c){if(n.tag!==5)throw Error(l(476));var h=pC(n).queue;hC(n,h,i,H,a===null?LD:function(){return mC(n),a(c)})}function pC(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:H,baseState:H,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ti,lastRenderedState:H},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ti,lastRenderedState:a},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function mC(n){var i=pC(n).next.queue;Po(n,i,{},jn())}function cm(){return nn(ou)}function yC(){return kt().memoizedState}function _C(){return kt().memoizedState}function zD(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var a=jn();n=Li(a);var c=zi(i,n,a);c!==null&&(Hn(c,i,a),Bo(c,i,a)),i={cache:jp()},n.payload=i;return}i=i.return}}function $D(n,i,a){var c=jn();a={lane:c,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},wf(n)?vC(i,a):(a=Rp(n,i,a,c),a!==null&&(Hn(a,n,c),SC(a,i,c)))}function bC(n,i,a){var c=jn();Po(n,i,a,c)}function Po(n,i,a,c){var h={lane:c,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(wf(n))vC(i,h);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var w=i.lastRenderedState,R=m(w,a);if(h.hasEagerState=!0,h.eagerState=R,zn(R,w))return uf(n,i,h,0),pt===null&&of(),!1}catch{}finally{}if(a=Rp(n,i,h,c),a!==null)return Hn(a,n,c),SC(a,i,c),!0}return!1}function fm(n,i,a,c){if(c={lane:2,revertLane:Im(),action:c,hasEagerState:!1,eagerState:null,next:null},wf(n)){if(i)throw Error(l(479))}else i=Rp(n,a,c,2),i!==null&&Hn(i,n,2)}function wf(n){var i=n.alternate;return n===je||i!==null&&i===je}function vC(n,i){Zs=vf=!0;var a=n.pending;a===null?i.next=i:(i.next=a.next,a.next=i),n.pending=i}function SC(n,i,a){if((a&4194048)!==0){var c=i.lanes;c&=n.pendingLanes,a|=c,i.lanes=a,OS(n,a)}}var Nf={readContext:nn,use:xf,useCallback:wt,useContext:wt,useEffect:wt,useImperativeHandle:wt,useLayoutEffect:wt,useInsertionEffect:wt,useMemo:wt,useReducer:wt,useRef:wt,useState:wt,useDebugValue:wt,useDeferredValue:wt,useTransition:wt,useSyncExternalStore:wt,useId:wt,useHostTransitionStatus:wt,useFormState:wt,useActionState:wt,useOptimistic:wt,useMemoCache:wt,useCacheRefresh:wt},xC={readContext:nn,use:xf,useCallback:function(n,i){return En().memoizedState=[n,i===void 0?null:i],n},useContext:nn,useEffect:lC,useImperativeHandle:function(n,i,a){a=a!=null?a.concat([n]):null,Tf(4194308,4,uC.bind(null,i,n),a)},useLayoutEffect:function(n,i){return Tf(4194308,4,n,i)},useInsertionEffect:function(n,i){Tf(4,2,n,i)},useMemo:function(n,i){var a=En();i=i===void 0?null:i;var c=n();if(Pl){Oi(!0);try{n()}finally{Oi(!1)}}return a.memoizedState=[c,i],c},useReducer:function(n,i,a){var c=En();if(a!==void 0){var h=a(i);if(Pl){Oi(!0);try{a(i)}finally{Oi(!1)}}}else h=i;return c.memoizedState=c.baseState=h,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:h},c.queue=n,n=n.dispatch=$D.bind(null,je,n),[c.memoizedState,n]},useRef:function(n){var i=En();return n={current:n},i.memoizedState=n},useState:function(n){n=lm(n);var i=n.queue,a=bC.bind(null,je,i);return i.dispatch=a,[n.memoizedState,a]},useDebugValue:am,useDeferredValue:function(n,i){var a=En();return om(a,n,i)},useTransition:function(){var n=lm(!1);return n=hC.bind(null,je,n.queue,!0,!1),En().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,a){var c=je,h=En();if(et){if(a===void 0)throw Error(l(407));a=a()}else{if(a=i(),pt===null)throw Error(l(349));(Ze&124)!==0||Ix(c,i,a)}h.memoizedState=a;var m={value:a,getSnapshot:i};return h.queue=m,lC(qx.bind(null,c,m,n),[n]),c.flags|=2048,Ws(9,Ef(),Px.bind(null,c,m,a,i),null),a},useId:function(){var n=En(),i=pt.identifierPrefix;if(et){var a=Wr,c=Qr;a=(c&~(1<<32-Ln(c)-1)).toString(32)+a,i="«"+i+"R"+a,a=Sf++,0<a&&(i+="H"+a.toString(32)),i+="»"}else a=RD++,i="«"+i+"r"+a.toString(32)+"»";return n.memoizedState=i},useHostTransitionStatus:cm,useFormState:eC,useActionState:eC,useOptimistic:function(n){var i=En();i.memoizedState=i.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=fm.bind(null,je,!0,a),a.dispatch=i,[n,i]},useMemoCache:nm,useCacheRefresh:function(){return En().memoizedState=zD.bind(null,je)}},CC={readContext:nn,use:xf,useCallback:fC,useContext:nn,useEffect:sC,useImperativeHandle:cC,useInsertionEffect:aC,useLayoutEffect:oC,useMemo:dC,useReducer:Cf,useRef:iC,useState:function(){return Cf(ti)},useDebugValue:am,useDeferredValue:function(n,i){var a=kt();return gC(a,ut.memoizedState,n,i)},useTransition:function(){var n=Cf(ti)[0],i=kt().memoizedState;return[typeof n=="boolean"?n:Ko(n),i]},useSyncExternalStore:Kx,useId:yC,useHostTransitionStatus:cm,useFormState:tC,useActionState:tC,useOptimistic:function(n,i){var a=kt();return Gx(a,ut,n,i)},useMemoCache:nm,useCacheRefresh:_C},FD={readContext:nn,use:xf,useCallback:fC,useContext:nn,useEffect:sC,useImperativeHandle:cC,useInsertionEffect:aC,useLayoutEffect:oC,useMemo:dC,useReducer:im,useRef:iC,useState:function(){return im(ti)},useDebugValue:am,useDeferredValue:function(n,i){var a=kt();return ut===null?om(a,n,i):gC(a,ut.memoizedState,n,i)},useTransition:function(){var n=im(ti)[0],i=kt().memoizedState;return[typeof n=="boolean"?n:Ko(n),i]},useSyncExternalStore:Kx,useId:yC,useHostTransitionStatus:cm,useFormState:rC,useActionState:rC,useOptimistic:function(n,i){var a=kt();return ut!==null?Gx(a,ut,n,i):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:nm,useCacheRefresh:_C},Js=null,qo=0;function Af(n){var i=qo;return qo+=1,Js===null&&(Js=[]),Lx(Js,n,i)}function Yo(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function Of(n,i){throw i.$$typeof===y?Error(l(525)):(n=Object.prototype.toString.call(i),Error(l(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function EC(n){var i=n._init;return i(n._payload)}function TC(n){function i(q,K){if(n){var Z=q.deletions;Z===null?(q.deletions=[K],q.flags|=16):Z.push(K)}}function a(q,K){if(!n)return null;for(;K!==null;)i(q,K),K=K.sibling;return null}function c(q){for(var K=new Map;q!==null;)q.key!==null?K.set(q.key,q):K.set(q.index,q),q=q.sibling;return K}function h(q,K){return q=Zr(q,K),q.index=0,q.sibling=null,q}function m(q,K,Z){return q.index=Z,n?(Z=q.alternate,Z!==null?(Z=Z.index,Z<K?(q.flags|=67108866,K):Z):(q.flags|=67108866,K)):(q.flags|=1048576,K)}function w(q){return n&&q.alternate===null&&(q.flags|=67108866),q}function R(q,K,Z,oe){return K===null||K.tag!==6?(K=Mp(Z,q.mode,oe),K.return=q,K):(K=h(K,Z),K.return=q,K)}function F(q,K,Z,oe){var be=Z.type;return be===_?ae(q,K,Z.props.children,oe,Z.key):K!==null&&(K.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===M&&EC(be)===K.type)?(K=h(K,Z.props),Yo(K,Z),K.return=q,K):(K=ff(Z.type,Z.key,Z.props,null,q.mode,oe),Yo(K,Z),K.return=q,K)}function W(q,K,Z,oe){return K===null||K.tag!==4||K.stateNode.containerInfo!==Z.containerInfo||K.stateNode.implementation!==Z.implementation?(K=Dp(Z,q.mode,oe),K.return=q,K):(K=h(K,Z.children||[]),K.return=q,K)}function ae(q,K,Z,oe,be){return K===null||K.tag!==7?(K=$l(Z,q.mode,oe,be),K.return=q,K):(K=h(K,Z),K.return=q,K)}function ce(q,K,Z){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=Mp(""+K,q.mode,Z),K.return=q,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case b:return Z=ff(K.type,K.key,K.props,null,q.mode,Z),Yo(Z,K),Z.return=q,Z;case v:return K=Dp(K,q.mode,Z),K.return=q,K;case M:var oe=K._init;return K=oe(K._payload),ce(q,K,Z)}if(le(K)||J(K))return K=$l(K,q.mode,Z,null),K.return=q,K;if(typeof K.then=="function")return ce(q,Af(K),Z);if(K.$$typeof===T)return ce(q,pf(q,K),Z);Of(q,K)}return null}function ee(q,K,Z,oe){var be=K!==null?K.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return be!==null?null:R(q,K,""+Z,oe);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case b:return Z.key===be?F(q,K,Z,oe):null;case v:return Z.key===be?W(q,K,Z,oe):null;case M:return be=Z._init,Z=be(Z._payload),ee(q,K,Z,oe)}if(le(Z)||J(Z))return be!==null?null:ae(q,K,Z,oe,null);if(typeof Z.then=="function")return ee(q,K,Af(Z),oe);if(Z.$$typeof===T)return ee(q,K,pf(q,Z),oe);Of(q,Z)}return null}function te(q,K,Z,oe,be){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return q=q.get(Z)||null,R(K,q,""+oe,be);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case b:return q=q.get(oe.key===null?Z:oe.key)||null,F(K,q,oe,be);case v:return q=q.get(oe.key===null?Z:oe.key)||null,W(K,q,oe,be);case M:var He=oe._init;return oe=He(oe._payload),te(q,K,Z,oe,be)}if(le(oe)||J(oe))return q=q.get(Z)||null,ae(K,q,oe,be,null);if(typeof oe.then=="function")return te(q,K,Z,Af(oe),be);if(oe.$$typeof===T)return te(q,K,Z,pf(K,oe),be);Of(K,oe)}return null}function Me(q,K,Z,oe){for(var be=null,He=null,Ne=K,Re=K=0,Kt=null;Ne!==null&&Re<Z.length;Re++){Ne.index>Re?(Kt=Ne,Ne=null):Kt=Ne.sibling;var We=ee(q,Ne,Z[Re],oe);if(We===null){Ne===null&&(Ne=Kt);break}n&&Ne&&We.alternate===null&&i(q,Ne),K=m(We,K,Re),He===null?be=We:He.sibling=We,He=We,Ne=Kt}if(Re===Z.length)return a(q,Ne),et&&Bl(q,Re),be;if(Ne===null){for(;Re<Z.length;Re++)Ne=ce(q,Z[Re],oe),Ne!==null&&(K=m(Ne,K,Re),He===null?be=Ne:He.sibling=Ne,He=Ne);return et&&Bl(q,Re),be}for(Ne=c(Ne);Re<Z.length;Re++)Kt=te(Ne,q,Re,Z[Re],oe),Kt!==null&&(n&&Kt.alternate!==null&&Ne.delete(Kt.key===null?Re:Kt.key),K=m(Kt,K,Re),He===null?be=Kt:He.sibling=Kt,He=Kt);return n&&Ne.forEach(function(Wi){return i(q,Wi)}),et&&Bl(q,Re),be}function Oe(q,K,Z,oe){if(Z==null)throw Error(l(151));for(var be=null,He=null,Ne=K,Re=K=0,Kt=null,We=Z.next();Ne!==null&&!We.done;Re++,We=Z.next()){Ne.index>Re?(Kt=Ne,Ne=null):Kt=Ne.sibling;var Wi=ee(q,Ne,We.value,oe);if(Wi===null){Ne===null&&(Ne=Kt);break}n&&Ne&&Wi.alternate===null&&i(q,Ne),K=m(Wi,K,Re),He===null?be=Wi:He.sibling=Wi,He=Wi,Ne=Kt}if(We.done)return a(q,Ne),et&&Bl(q,Re),be;if(Ne===null){for(;!We.done;Re++,We=Z.next())We=ce(q,We.value,oe),We!==null&&(K=m(We,K,Re),He===null?be=We:He.sibling=We,He=We);return et&&Bl(q,Re),be}for(Ne=c(Ne);!We.done;Re++,We=Z.next())We=te(Ne,q,Re,We.value,oe),We!==null&&(n&&We.alternate!==null&&Ne.delete(We.key===null?Re:We.key),K=m(We,K,Re),He===null?be=We:He.sibling=We,He=We);return n&&Ne.forEach(function(B2){return i(q,B2)}),et&&Bl(q,Re),be}function ft(q,K,Z,oe){if(typeof Z=="object"&&Z!==null&&Z.type===_&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case b:e:{for(var be=Z.key;K!==null;){if(K.key===be){if(be=Z.type,be===_){if(K.tag===7){a(q,K.sibling),oe=h(K,Z.props.children),oe.return=q,q=oe;break e}}else if(K.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===M&&EC(be)===K.type){a(q,K.sibling),oe=h(K,Z.props),Yo(oe,Z),oe.return=q,q=oe;break e}a(q,K);break}else i(q,K);K=K.sibling}Z.type===_?(oe=$l(Z.props.children,q.mode,oe,Z.key),oe.return=q,q=oe):(oe=ff(Z.type,Z.key,Z.props,null,q.mode,oe),Yo(oe,Z),oe.return=q,q=oe)}return w(q);case v:e:{for(be=Z.key;K!==null;){if(K.key===be)if(K.tag===4&&K.stateNode.containerInfo===Z.containerInfo&&K.stateNode.implementation===Z.implementation){a(q,K.sibling),oe=h(K,Z.children||[]),oe.return=q,q=oe;break e}else{a(q,K);break}else i(q,K);K=K.sibling}oe=Dp(Z,q.mode,oe),oe.return=q,q=oe}return w(q);case M:return be=Z._init,Z=be(Z._payload),ft(q,K,Z,oe)}if(le(Z))return Me(q,K,Z,oe);if(J(Z)){if(be=J(Z),typeof be!="function")throw Error(l(150));return Z=be.call(Z),Oe(q,K,Z,oe)}if(typeof Z.then=="function")return ft(q,K,Af(Z),oe);if(Z.$$typeof===T)return ft(q,K,pf(q,Z),oe);Of(q,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,K!==null&&K.tag===6?(a(q,K.sibling),oe=h(K,Z),oe.return=q,q=oe):(a(q,K),oe=Mp(Z,q.mode,oe),oe.return=q,q=oe),w(q)):a(q,K)}return function(q,K,Z,oe){try{qo=0;var be=ft(q,K,Z,oe);return Js=null,be}catch(Ne){if(Ne===$o||Ne===yf)throw Ne;var He=$n(29,Ne,null,q.mode);return He.lanes=oe,He.return=q,He}finally{}}}var ea=TC(!0),wC=TC(!1),Jn=G(null),Rr=null;function Fi(n){var i=n.alternate;ue(zt,zt.current&1),ue(Jn,n),Rr===null&&(i===null||Xs.current!==null||i.memoizedState!==null)&&(Rr=n)}function NC(n){if(n.tag===22){if(ue(zt,zt.current),ue(Jn,n),Rr===null){var i=n.alternate;i!==null&&i.memoizedState!==null&&(Rr=n)}}else Bi()}function Bi(){ue(zt,zt.current),ue(Jn,Jn.current)}function ni(n){ie(Jn),Rr===n&&(Rr=null),ie(zt)}var zt=G(0);function Rf(n){for(var i=n;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||ty(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function dm(n,i,a,c){i=n.memoizedState,a=a(c,i),a=a==null?i:p({},i,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var gm={enqueueSetState:function(n,i,a){n=n._reactInternals;var c=jn(),h=Li(c);h.payload=i,a!=null&&(h.callback=a),i=zi(n,h,c),i!==null&&(Hn(i,n,c),Bo(i,n,c))},enqueueReplaceState:function(n,i,a){n=n._reactInternals;var c=jn(),h=Li(c);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=zi(n,h,c),i!==null&&(Hn(i,n,c),Bo(i,n,c))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var a=jn(),c=Li(a);c.tag=2,i!=null&&(c.callback=i),i=zi(n,c,a),i!==null&&(Hn(i,n,a),Bo(i,n,a))}};function AC(n,i,a,c,h,m,w){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,m,w):i.prototype&&i.prototype.isPureReactComponent?!Ao(a,c)||!Ao(h,m):!0}function OC(n,i,a,c){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,c),i.state!==n&&gm.enqueueReplaceState(i,i.state,null)}function ql(n,i){var a=i;if("ref"in i){a={};for(var c in i)c!=="ref"&&(a[c]=i[c])}if(n=n.defaultProps){a===i&&(a=p({},a));for(var h in n)a[h]===void 0&&(a[h]=n[h])}return a}var kf=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function RC(n){kf(n)}function kC(n){console.error(n)}function MC(n){kf(n)}function Mf(n,i){try{var a=n.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(c){setTimeout(function(){throw c})}}function DC(n,i,a){try{var c=n.onCaughtError;c(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function hm(n,i,a){return a=Li(a),a.tag=3,a.payload={element:null},a.callback=function(){Mf(n,i)},a}function LC(n){return n=Li(n),n.tag=3,n}function zC(n,i,a,c){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var m=c.value;n.payload=function(){return h(m)},n.callback=function(){DC(i,a,c)}}var w=a.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(n.callback=function(){DC(i,a,c),typeof h!="function"&&(Pi===null?Pi=new Set([this]):Pi.add(this));var R=c.stack;this.componentDidCatch(c.value,{componentStack:R!==null?R:""})})}function BD(n,i,a,c,h){if(a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(i=a.alternate,i!==null&&Do(i,a,h,!0),a=Jn.current,a!==null){switch(a.tag){case 13:return Rr===null?Bm():a.alternate===null&&xt===0&&(xt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,c===Ip?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([c]):i.add(c),jm(n,c,h)),!1;case 22:return a.flags|=65536,c===Ip?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([c])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([c]):a.add(c)),jm(n,c,h)),!1}throw Error(l(435,a.tag))}return jm(n,c,h),Bm(),!1}if(et)return i=Jn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,c!==$p&&(n=Error(l(422),{cause:c}),Mo(Xn(n,a)))):(c!==$p&&(i=Error(l(423),{cause:c}),Mo(Xn(i,a))),n=n.current.alternate,n.flags|=65536,h&=-h,n.lanes|=h,c=Xn(c,a),h=hm(n.stateNode,c,h),Yp(n,h),xt!==4&&(xt=2)),!1;var m=Error(l(520),{cause:c});if(m=Xn(m,a),Jo===null?Jo=[m]:Jo.push(m),xt!==4&&(xt=2),i===null)return!0;c=Xn(c,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,n=h&-h,a.lanes|=n,n=hm(a.stateNode,c,n),Yp(a,n),!1;case 1:if(i=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Pi===null||!Pi.has(m))))return a.flags|=65536,h&=-h,a.lanes|=h,h=LC(h),zC(h,n,a,c),Yp(a,h),!1}a=a.return}while(a!==null);return!1}var $C=Error(l(461)),jt=!1;function Yt(n,i,a,c){i.child=n===null?wC(i,null,a,c):ea(i,n.child,a,c)}function FC(n,i,a,c,h){a=a.render;var m=i.ref;if("ref"in c){var w={};for(var R in c)R!=="ref"&&(w[R]=c[R])}else w=c;return Kl(i),c=Qp(n,i,a,w,m,h),R=Wp(),n!==null&&!jt?(Jp(n,i,h),ri(n,i,h)):(et&&R&&Lp(i),i.flags|=1,Yt(n,i,c,h),i.child)}function BC(n,i,a,c,h){if(n===null){var m=a.type;return typeof m=="function"&&!kp(m)&&m.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=m,UC(n,i,m,c,h)):(n=ff(a.type,null,c,i,i.mode,h),n.ref=i.ref,n.return=i,i.child=n)}if(m=n.child,!xm(n,h)){var w=m.memoizedProps;if(a=a.compare,a=a!==null?a:Ao,a(w,c)&&n.ref===i.ref)return ri(n,i,h)}return i.flags|=1,n=Zr(m,c),n.ref=i.ref,n.return=i,i.child=n}function UC(n,i,a,c,h){if(n!==null){var m=n.memoizedProps;if(Ao(m,c)&&n.ref===i.ref)if(jt=!1,i.pendingProps=c=m,xm(n,h))(n.flags&131072)!==0&&(jt=!0);else return i.lanes=n.lanes,ri(n,i,h)}return pm(n,i,a,c,h)}function jC(n,i,a){var c=i.pendingProps,h=c.children,m=n!==null?n.memoizedState:null;if(c.mode==="hidden"){if((i.flags&128)!==0){if(c=m!==null?m.baseLanes|a:a,n!==null){for(h=i.child=n.child,m=0;h!==null;)m=m|h.lanes|h.childLanes,h=h.sibling;i.childLanes=m&~c}else i.childLanes=0,i.child=null;return HC(n,i,c,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&mf(i,m!==null?m.cachePool:null),m!==null?Ux(i,m):Gp(),NC(i);else return i.lanes=i.childLanes=536870912,HC(n,i,m!==null?m.baseLanes|a:a,a)}else m!==null?(mf(i,m.cachePool),Ux(i,m),Bi(),i.memoizedState=null):(n!==null&&mf(i,null),Gp(),Bi());return Yt(n,i,h,a),i.child}function HC(n,i,a,c){var h=Kp();return h=h===null?null:{parent:Lt._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},n!==null&&mf(i,null),Gp(),NC(i),n!==null&&Do(n,i,c,!0),null}function Df(n,i){var a=i.ref;if(a===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(l(284));(n===null||n.ref!==a)&&(i.flags|=4194816)}}function pm(n,i,a,c,h){return Kl(i),a=Qp(n,i,a,c,void 0,h),c=Wp(),n!==null&&!jt?(Jp(n,i,h),ri(n,i,h)):(et&&c&&Lp(i),i.flags|=1,Yt(n,i,a,h),i.child)}function KC(n,i,a,c,h,m){return Kl(i),i.updateQueue=null,a=Hx(i,c,a,h),jx(n),c=Wp(),n!==null&&!jt?(Jp(n,i,m),ri(n,i,m)):(et&&c&&Lp(i),i.flags|=1,Yt(n,i,a,m),i.child)}function IC(n,i,a,c,h){if(Kl(i),i.stateNode===null){var m=Ps,w=a.contextType;typeof w=="object"&&w!==null&&(m=nn(w)),m=new a(c,m),i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=gm,i.stateNode=m,m._reactInternals=i,m=i.stateNode,m.props=c,m.state=i.memoizedState,m.refs={},Pp(i),w=a.contextType,m.context=typeof w=="object"&&w!==null?nn(w):Ps,m.state=i.memoizedState,w=a.getDerivedStateFromProps,typeof w=="function"&&(dm(i,a,w,c),m.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(w=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),w!==m.state&&gm.enqueueReplaceState(m,m.state,null),jo(i,c,m,h),Uo(),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308),c=!0}else if(n===null){m=i.stateNode;var R=i.memoizedProps,F=ql(a,R);m.props=F;var W=m.context,ae=a.contextType;w=Ps,typeof ae=="object"&&ae!==null&&(w=nn(ae));var ce=a.getDerivedStateFromProps;ae=typeof ce=="function"||typeof m.getSnapshotBeforeUpdate=="function",R=i.pendingProps!==R,ae||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(R||W!==w)&&OC(i,m,c,w),Di=!1;var ee=i.memoizedState;m.state=ee,jo(i,c,m,h),Uo(),W=i.memoizedState,R||ee!==W||Di?(typeof ce=="function"&&(dm(i,a,ce,c),W=i.memoizedState),(F=Di||AC(i,a,F,c,ee,W,w))?(ae||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(i.flags|=4194308)):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=W),m.props=c,m.state=W,m.context=w,c=F):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{m=i.stateNode,qp(n,i),w=i.memoizedProps,ae=ql(a,w),m.props=ae,ce=i.pendingProps,ee=m.context,W=a.contextType,F=Ps,typeof W=="object"&&W!==null&&(F=nn(W)),R=a.getDerivedStateFromProps,(W=typeof R=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(w!==ce||ee!==F)&&OC(i,m,c,F),Di=!1,ee=i.memoizedState,m.state=ee,jo(i,c,m,h),Uo();var te=i.memoizedState;w!==ce||ee!==te||Di||n!==null&&n.dependencies!==null&&hf(n.dependencies)?(typeof R=="function"&&(dm(i,a,R,c),te=i.memoizedState),(ae=Di||AC(i,a,ae,c,ee,te,F)||n!==null&&n.dependencies!==null&&hf(n.dependencies))?(W||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(c,te,F),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(c,te,F)),typeof m.componentDidUpdate=="function"&&(i.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof m.componentDidUpdate!="function"||w===n.memoizedProps&&ee===n.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||w===n.memoizedProps&&ee===n.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=te),m.props=c,m.state=te,m.context=F,c=ae):(typeof m.componentDidUpdate!="function"||w===n.memoizedProps&&ee===n.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||w===n.memoizedProps&&ee===n.memoizedState||(i.flags|=1024),c=!1)}return m=c,Df(n,i),c=(i.flags&128)!==0,m||c?(m=i.stateNode,a=c&&typeof a.getDerivedStateFromError!="function"?null:m.render(),i.flags|=1,n!==null&&c?(i.child=ea(i,n.child,null,h),i.child=ea(i,null,a,h)):Yt(n,i,a,h),i.memoizedState=m.state,n=i.child):n=ri(n,i,h),n}function PC(n,i,a,c){return ko(),i.flags|=256,Yt(n,i,a,c),i.child}var mm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ym(n){return{baseLanes:n,cachePool:kx()}}function _m(n,i,a){return n=n!==null?n.childLanes&~a:0,i&&(n|=er),n}function qC(n,i,a){var c=i.pendingProps,h=!1,m=(i.flags&128)!==0,w;if((w=m)||(w=n!==null&&n.memoizedState===null?!1:(zt.current&2)!==0),w&&(h=!0,i.flags&=-129),w=(i.flags&32)!==0,i.flags&=-33,n===null){if(et){if(h?Fi(i):Bi(),et){var R=St,F;if(F=R){e:{for(F=R,R=Or;F.nodeType!==8;){if(!R){R=null;break e}if(F=mr(F.nextSibling),F===null){R=null;break e}}R=F}R!==null?(i.memoizedState={dehydrated:R,treeContext:Fl!==null?{id:Qr,overflow:Wr}:null,retryLane:536870912,hydrationErrors:null},F=$n(18,null,null,0),F.stateNode=R,F.return=i,i.child=F,dn=i,St=null,F=!0):F=!1}F||jl(i)}if(R=i.memoizedState,R!==null&&(R=R.dehydrated,R!==null))return ty(R)?i.lanes=32:i.lanes=536870912,null;ni(i)}return R=c.children,c=c.fallback,h?(Bi(),h=i.mode,R=Lf({mode:"hidden",children:R},h),c=$l(c,h,a,null),R.return=i,c.return=i,R.sibling=c,i.child=R,h=i.child,h.memoizedState=ym(a),h.childLanes=_m(n,w,a),i.memoizedState=mm,c):(Fi(i),bm(i,R))}if(F=n.memoizedState,F!==null&&(R=F.dehydrated,R!==null)){if(m)i.flags&256?(Fi(i),i.flags&=-257,i=vm(n,i,a)):i.memoizedState!==null?(Bi(),i.child=n.child,i.flags|=128,i=null):(Bi(),h=c.fallback,R=i.mode,c=Lf({mode:"visible",children:c.children},R),h=$l(h,R,a,null),h.flags|=2,c.return=i,h.return=i,c.sibling=h,i.child=c,ea(i,n.child,null,a),c=i.child,c.memoizedState=ym(a),c.childLanes=_m(n,w,a),i.memoizedState=mm,i=h);else if(Fi(i),ty(R)){if(w=R.nextSibling&&R.nextSibling.dataset,w)var W=w.dgst;w=W,c=Error(l(419)),c.stack="",c.digest=w,Mo({value:c,source:null,stack:null}),i=vm(n,i,a)}else if(jt||Do(n,i,a,!1),w=(a&n.childLanes)!==0,jt||w){if(w=pt,w!==null&&(c=a&-a,c=(c&42)!==0?1:np(c),c=(c&(w.suspendedLanes|a))!==0?0:c,c!==0&&c!==F.retryLane))throw F.retryLane=c,Is(n,c),Hn(w,n,c),$C;R.data==="$?"||Bm(),i=vm(n,i,a)}else R.data==="$?"?(i.flags|=192,i.child=n.child,i=null):(n=F.treeContext,St=mr(R.nextSibling),dn=i,et=!0,Ul=null,Or=!1,n!==null&&(Qn[Wn++]=Qr,Qn[Wn++]=Wr,Qn[Wn++]=Fl,Qr=n.id,Wr=n.overflow,Fl=i),i=bm(i,c.children),i.flags|=4096);return i}return h?(Bi(),h=c.fallback,R=i.mode,F=n.child,W=F.sibling,c=Zr(F,{mode:"hidden",children:c.children}),c.subtreeFlags=F.subtreeFlags&65011712,W!==null?h=Zr(W,h):(h=$l(h,R,a,null),h.flags|=2),h.return=i,c.return=i,c.sibling=h,i.child=c,c=h,h=i.child,R=n.child.memoizedState,R===null?R=ym(a):(F=R.cachePool,F!==null?(W=Lt._currentValue,F=F.parent!==W?{parent:W,pool:W}:F):F=kx(),R={baseLanes:R.baseLanes|a,cachePool:F}),h.memoizedState=R,h.childLanes=_m(n,w,a),i.memoizedState=mm,c):(Fi(i),a=n.child,n=a.sibling,a=Zr(a,{mode:"visible",children:c.children}),a.return=i,a.sibling=null,n!==null&&(w=i.deletions,w===null?(i.deletions=[n],i.flags|=16):w.push(n)),i.child=a,i.memoizedState=null,a)}function bm(n,i){return i=Lf({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function Lf(n,i){return n=$n(22,n,null,i),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function vm(n,i,a){return ea(i,n.child,null,a),n=bm(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function YC(n,i,a){n.lanes|=i;var c=n.alternate;c!==null&&(c.lanes|=i),Bp(n.return,i,a)}function Sm(n,i,a,c,h){var m=n.memoizedState;m===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:h}:(m.isBackwards=i,m.rendering=null,m.renderingStartTime=0,m.last=c,m.tail=a,m.tailMode=h)}function VC(n,i,a){var c=i.pendingProps,h=c.revealOrder,m=c.tail;if(Yt(n,i,c.children,a),c=zt.current,(c&2)!==0)c=c&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&YC(n,a,i);else if(n.tag===19)YC(n,a,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}c&=1}switch(ue(zt,c),h){case"forwards":for(a=i.child,h=null;a!==null;)n=a.alternate,n!==null&&Rf(n)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Sm(i,!1,h,a,m);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(n=h.alternate,n!==null&&Rf(n)===null){i.child=h;break}n=h.sibling,h.sibling=a,a=h,h=n}Sm(i,!0,a,null,m);break;case"together":Sm(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function ri(n,i,a){if(n!==null&&(i.dependencies=n.dependencies),Ii|=i.lanes,(a&i.childLanes)===0)if(n!==null){if(Do(n,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(l(153));if(i.child!==null){for(n=i.child,a=Zr(n,n.pendingProps),i.child=a,a.return=i;n.sibling!==null;)n=n.sibling,a=a.sibling=Zr(n,n.pendingProps),a.return=i;a.sibling=null}return i.child}function xm(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&hf(n)))}function UD(n,i,a){switch(i.tag){case 3:ye(i,i.stateNode.containerInfo),Mi(i,Lt,n.memoizedState.cache),ko();break;case 27:case 5:Ve(i);break;case 4:ye(i,i.stateNode.containerInfo);break;case 10:Mi(i,i.type,i.memoizedProps.value);break;case 13:var c=i.memoizedState;if(c!==null)return c.dehydrated!==null?(Fi(i),i.flags|=128,null):(a&i.child.childLanes)!==0?qC(n,i,a):(Fi(i),n=ri(n,i,a),n!==null?n.sibling:null);Fi(i);break;case 19:var h=(n.flags&128)!==0;if(c=(a&i.childLanes)!==0,c||(Do(n,i,a,!1),c=(a&i.childLanes)!==0),h){if(c)return VC(n,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ue(zt,zt.current),c)break;return null;case 22:case 23:return i.lanes=0,jC(n,i,a);case 24:Mi(i,Lt,n.memoizedState.cache)}return ri(n,i,a)}function GC(n,i,a){if(n!==null)if(n.memoizedProps!==i.pendingProps)jt=!0;else{if(!xm(n,a)&&(i.flags&128)===0)return jt=!1,UD(n,i,a);jt=(n.flags&131072)!==0}else jt=!1,et&&(i.flags&1048576)!==0&&Ex(i,gf,i.index);switch(i.lanes=0,i.tag){case 16:e:{n=i.pendingProps;var c=i.elementType,h=c._init;if(c=h(c._payload),i.type=c,typeof c=="function")kp(c)?(n=ql(c,n),i.tag=1,i=IC(null,i,c,n,a)):(i.tag=0,i=pm(null,i,c,n,a));else{if(c!=null){if(h=c.$$typeof,h===O){i.tag=11,i=FC(null,i,c,n,a);break e}else if(h===D){i.tag=14,i=BC(null,i,c,n,a);break e}}throw i=Y(c)||c,Error(l(306,i,""))}}return i;case 0:return pm(n,i,i.type,i.pendingProps,a);case 1:return c=i.type,h=ql(c,i.pendingProps),IC(n,i,c,h,a);case 3:e:{if(ye(i,i.stateNode.containerInfo),n===null)throw Error(l(387));c=i.pendingProps;var m=i.memoizedState;h=m.element,qp(n,i),jo(i,c,null,a);var w=i.memoizedState;if(c=w.cache,Mi(i,Lt,c),c!==m.cache&&Up(i,[Lt],a,!0),Uo(),c=w.element,m.isDehydrated)if(m={element:c,isDehydrated:!1,cache:w.cache},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){i=PC(n,i,c,a);break e}else if(c!==h){h=Xn(Error(l(424)),i),Mo(h),i=PC(n,i,c,a);break e}else{switch(n=i.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(St=mr(n.firstChild),dn=i,et=!0,Ul=null,Or=!0,a=wC(i,null,c,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ko(),c===h){i=ri(n,i,a);break e}Yt(n,i,c,a)}i=i.child}return i;case 26:return Df(n,i),n===null?(a=WE(i.type,null,i.pendingProps,null))?i.memoizedState=a:et||(a=i.type,n=i.pendingProps,c=Gf(me.current).createElement(a),c[tn]=i,c[xn]=n,Gt(c,a,n),Ut(c),i.stateNode=c):i.memoizedState=WE(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return Ve(i),n===null&&et&&(c=i.stateNode=XE(i.type,i.pendingProps,me.current),dn=i,Or=!0,h=St,Vi(i.type)?(ny=h,St=mr(c.firstChild)):St=h),Yt(n,i,i.pendingProps.children,a),Df(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&et&&((h=c=St)&&(c=g2(c,i.type,i.pendingProps,Or),c!==null?(i.stateNode=c,dn=i,St=mr(c.firstChild),Or=!1,h=!0):h=!1),h||jl(i)),Ve(i),h=i.type,m=i.pendingProps,w=n!==null?n.memoizedProps:null,c=m.children,Wm(h,m)?c=null:w!==null&&Wm(h,w)&&(i.flags|=32),i.memoizedState!==null&&(h=Qp(n,i,kD,null,null,a),ou._currentValue=h),Df(n,i),Yt(n,i,c,a),i.child;case 6:return n===null&&et&&((n=a=St)&&(a=h2(a,i.pendingProps,Or),a!==null?(i.stateNode=a,dn=i,St=null,n=!0):n=!1),n||jl(i)),null;case 13:return qC(n,i,a);case 4:return ye(i,i.stateNode.containerInfo),c=i.pendingProps,n===null?i.child=ea(i,null,c,a):Yt(n,i,c,a),i.child;case 11:return FC(n,i,i.type,i.pendingProps,a);case 7:return Yt(n,i,i.pendingProps,a),i.child;case 8:return Yt(n,i,i.pendingProps.children,a),i.child;case 12:return Yt(n,i,i.pendingProps.children,a),i.child;case 10:return c=i.pendingProps,Mi(i,i.type,c.value),Yt(n,i,c.children,a),i.child;case 9:return h=i.type._context,c=i.pendingProps.children,Kl(i),h=nn(h),c=c(h),i.flags|=1,Yt(n,i,c,a),i.child;case 14:return BC(n,i,i.type,i.pendingProps,a);case 15:return UC(n,i,i.type,i.pendingProps,a);case 19:return VC(n,i,a);case 31:return c=i.pendingProps,a=i.mode,c={mode:c.mode,children:c.children},n===null?(a=Lf(c,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Zr(n.child,c),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return jC(n,i,a);case 24:return Kl(i),c=nn(Lt),n===null?(h=Kp(),h===null&&(h=pt,m=jp(),h.pooledCache=m,m.refCount++,m!==null&&(h.pooledCacheLanes|=a),h=m),i.memoizedState={parent:c,cache:h},Pp(i),Mi(i,Lt,h)):((n.lanes&a)!==0&&(qp(n,i),jo(i,null,null,a),Uo()),h=n.memoizedState,m=i.memoizedState,h.parent!==c?(h={parent:c,cache:c},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Mi(i,Lt,c)):(c=m.cache,Mi(i,Lt,c),c!==h.cache&&Up(i,[Lt],a,!0))),Yt(n,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(l(156,i.tag))}function ii(n){n.flags|=4}function XC(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!rT(i)){if(i=Jn.current,i!==null&&((Ze&4194048)===Ze?Rr!==null:(Ze&62914560)!==Ze&&(Ze&536870912)===0||i!==Rr))throw Fo=Ip,Mx;n.flags|=8192}}function zf(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?NS():536870912,n.lanes|=i,ia|=i)}function Vo(n,i){if(!et)switch(n.tailMode){case"hidden":i=n.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function bt(n){var i=n.alternate!==null&&n.alternate.child===n.child,a=0,c=0;if(i)for(var h=n.child;h!==null;)a|=h.lanes|h.childLanes,c|=h.subtreeFlags&65011712,c|=h.flags&65011712,h.return=n,h=h.sibling;else for(h=n.child;h!==null;)a|=h.lanes|h.childLanes,c|=h.subtreeFlags,c|=h.flags,h.return=n,h=h.sibling;return n.subtreeFlags|=c,n.childLanes=a,i}function jD(n,i,a){var c=i.pendingProps;switch(zp(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bt(i),null;case 1:return bt(i),null;case 3:return a=i.stateNode,c=null,n!==null&&(c=n.memoizedState.cache),i.memoizedState.cache!==c&&(i.flags|=2048),ei(Lt),$e(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(Ro(i)?ii(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Nx())),bt(i),null;case 26:return a=i.memoizedState,n===null?(ii(i),a!==null?(bt(i),XC(i,a)):(bt(i),i.flags&=-16777217)):a?a!==n.memoizedState?(ii(i),bt(i),XC(i,a)):(bt(i),i.flags&=-16777217):(n.memoizedProps!==c&&ii(i),bt(i),i.flags&=-16777217),null;case 27:ne(i),a=me.current;var h=i.type;if(n!==null&&i.stateNode!=null)n.memoizedProps!==c&&ii(i);else{if(!c){if(i.stateNode===null)throw Error(l(166));return bt(i),null}n=he.current,Ro(i)?Tx(i):(n=XE(h,c,a),i.stateNode=n,ii(i))}return bt(i),null;case 5:if(ne(i),a=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==c&&ii(i);else{if(!c){if(i.stateNode===null)throw Error(l(166));return bt(i),null}if(n=he.current,Ro(i))Tx(i);else{switch(h=Gf(me.current),n){case 1:n=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=h.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof c.is=="string"?h.createElement("select",{is:c.is}):h.createElement("select"),c.multiple?n.multiple=!0:c.size&&(n.size=c.size);break;default:n=typeof c.is=="string"?h.createElement(a,{is:c.is}):h.createElement(a)}}n[tn]=i,n[xn]=c;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)n.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=n;e:switch(Gt(n,a,c),a){case"button":case"input":case"select":case"textarea":n=!!c.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&ii(i)}}return bt(i),i.flags&=-16777217,null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==c&&ii(i);else{if(typeof c!="string"&&i.stateNode===null)throw Error(l(166));if(n=me.current,Ro(i)){if(n=i.stateNode,a=i.memoizedProps,c=null,h=dn,h!==null)switch(h.tag){case 27:case 5:c=h.memoizedProps}n[tn]=i,n=!!(n.nodeValue===a||c!==null&&c.suppressHydrationWarning===!0||KE(n.nodeValue,a)),n||jl(i)}else n=Gf(n).createTextNode(c),n[tn]=i,i.stateNode=n}return bt(i),null;case 13:if(c=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(h=Ro(i),c!==null&&c.dehydrated!==null){if(n===null){if(!h)throw Error(l(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(l(317));h[tn]=i}else ko(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;bt(i),h=!1}else h=Nx(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(ni(i),i):(ni(i),null)}if(ni(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=c!==null,n=n!==null&&n.memoizedState!==null,a){c=i.child,h=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(h=c.alternate.memoizedState.cachePool.pool);var m=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(m=c.memoizedState.cachePool.pool),m!==h&&(c.flags|=2048)}return a!==n&&a&&(i.child.flags|=8192),zf(i,i.updateQueue),bt(i),null;case 4:return $e(),n===null&&Vm(i.stateNode.containerInfo),bt(i),null;case 10:return ei(i.type),bt(i),null;case 19:if(ie(zt),h=i.memoizedState,h===null)return bt(i),null;if(c=(i.flags&128)!==0,m=h.rendering,m===null)if(c)Vo(h,!1);else{if(xt!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(m=Rf(n),m!==null){for(i.flags|=128,Vo(h,!1),n=m.updateQueue,i.updateQueue=n,zf(i,n),i.subtreeFlags=0,n=a,a=i.child;a!==null;)Cx(a,n),a=a.sibling;return ue(zt,zt.current&1|2),i.child}n=n.sibling}h.tail!==null&&Xe()>Bf&&(i.flags|=128,c=!0,Vo(h,!1),i.lanes=4194304)}else{if(!c)if(n=Rf(m),n!==null){if(i.flags|=128,c=!0,n=n.updateQueue,i.updateQueue=n,zf(i,n),Vo(h,!0),h.tail===null&&h.tailMode==="hidden"&&!m.alternate&&!et)return bt(i),null}else 2*Xe()-h.renderingStartTime>Bf&&a!==536870912&&(i.flags|=128,c=!0,Vo(h,!1),i.lanes=4194304);h.isBackwards?(m.sibling=i.child,i.child=m):(n=h.last,n!==null?n.sibling=m:i.child=m,h.last=m)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=Xe(),i.sibling=null,n=zt.current,ue(zt,c?n&1|2:n&1),i):(bt(i),null);case 22:case 23:return ni(i),Xp(),c=i.memoizedState!==null,n!==null?n.memoizedState!==null!==c&&(i.flags|=8192):c&&(i.flags|=8192),c?(a&536870912)!==0&&(i.flags&128)===0&&(bt(i),i.subtreeFlags&6&&(i.flags|=8192)):bt(i),a=i.updateQueue,a!==null&&zf(i,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),c=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),c!==a&&(i.flags|=2048),n!==null&&ie(Il),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),ei(Lt),bt(i),null;case 25:return null;case 30:return null}throw Error(l(156,i.tag))}function HD(n,i){switch(zp(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return ei(Lt),$e(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return ne(i),null;case 13:if(ni(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(l(340));ko()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return ie(zt),null;case 4:return $e(),null;case 10:return ei(i.type),null;case 22:case 23:return ni(i),Xp(),n!==null&&ie(Il),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return ei(Lt),null;case 25:return null;default:return null}}function ZC(n,i){switch(zp(i),i.tag){case 3:ei(Lt),$e();break;case 26:case 27:case 5:ne(i);break;case 4:$e();break;case 13:ni(i);break;case 19:ie(zt);break;case 10:ei(i.type);break;case 22:case 23:ni(i),Xp(),n!==null&&ie(Il);break;case 24:ei(Lt)}}function Go(n,i){try{var a=i.updateQueue,c=a!==null?a.lastEffect:null;if(c!==null){var h=c.next;a=h;do{if((a.tag&n)===n){c=void 0;var m=a.create,w=a.inst;c=m(),w.destroy=c}a=a.next}while(a!==h)}}catch(R){gt(i,i.return,R)}}function Ui(n,i,a){try{var c=i.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var m=h.next;c=m;do{if((c.tag&n)===n){var w=c.inst,R=w.destroy;if(R!==void 0){w.destroy=void 0,h=i;var F=a,W=R;try{W()}catch(ae){gt(h,F,ae)}}}c=c.next}while(c!==m)}}catch(ae){gt(i,i.return,ae)}}function QC(n){var i=n.updateQueue;if(i!==null){var a=n.stateNode;try{Bx(i,a)}catch(c){gt(n,n.return,c)}}}function WC(n,i,a){a.props=ql(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(c){gt(n,i,c)}}function Xo(n,i){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var c=n.stateNode;break;case 30:c=n.stateNode;break;default:c=n.stateNode}typeof a=="function"?n.refCleanup=a(c):a.current=c}}catch(h){gt(n,i,h)}}function kr(n,i){var a=n.ref,c=n.refCleanup;if(a!==null)if(typeof c=="function")try{c()}catch(h){gt(n,i,h)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){gt(n,i,h)}else a.current=null}function JC(n){var i=n.type,a=n.memoizedProps,c=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&c.focus();break e;case"img":a.src?c.src=a.src:a.srcSet&&(c.srcset=a.srcSet)}}catch(h){gt(n,n.return,h)}}function Cm(n,i,a){try{var c=n.stateNode;o2(c,n.type,a,i),c[xn]=i}catch(h){gt(n,n.return,h)}}function eE(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Vi(n.type)||n.tag===4}function Em(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||eE(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Vi(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Tm(n,i,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(n),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Vf));else if(c!==4&&(c===27&&Vi(n.type)&&(a=n.stateNode,i=null),n=n.child,n!==null))for(Tm(n,i,a),n=n.sibling;n!==null;)Tm(n,i,a),n=n.sibling}function $f(n,i,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?a.insertBefore(n,i):a.appendChild(n);else if(c!==4&&(c===27&&Vi(n.type)&&(a=n.stateNode),n=n.child,n!==null))for($f(n,i,a),n=n.sibling;n!==null;)$f(n,i,a),n=n.sibling}function tE(n){var i=n.stateNode,a=n.memoizedProps;try{for(var c=n.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Gt(i,c,a),i[tn]=n,i[xn]=a}catch(m){gt(n,n.return,m)}}var li=!1,Nt=!1,wm=!1,nE=typeof WeakSet=="function"?WeakSet:Set,Ht=null;function KD(n,i){if(n=n.containerInfo,Zm=ed,n=gx(n),Ep(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var h=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var w=0,R=-1,F=-1,W=0,ae=0,ce=n,ee=null;t:for(;;){for(var te;ce!==a||h!==0&&ce.nodeType!==3||(R=w+h),ce!==m||c!==0&&ce.nodeType!==3||(F=w+c),ce.nodeType===3&&(w+=ce.nodeValue.length),(te=ce.firstChild)!==null;)ee=ce,ce=te;for(;;){if(ce===n)break t;if(ee===a&&++W===h&&(R=w),ee===m&&++ae===c&&(F=w),(te=ce.nextSibling)!==null)break;ce=ee,ee=ce.parentNode}ce=te}a=R===-1||F===-1?null:{start:R,end:F}}else a=null}a=a||{start:0,end:0}}else a=null;for(Qm={focusedElem:n,selectionRange:a},ed=!1,Ht=i;Ht!==null;)if(i=Ht,n=i.child,(i.subtreeFlags&1024)!==0&&n!==null)n.return=i,Ht=n;else for(;Ht!==null;){switch(i=Ht,m=i.alternate,n=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&m!==null){n=void 0,a=i,h=m.memoizedProps,m=m.memoizedState,c=a.stateNode;try{var Me=ql(a.type,h,a.elementType===a.type);n=c.getSnapshotBeforeUpdate(Me,m),c.__reactInternalSnapshotBeforeUpdate=n}catch(Oe){gt(a,a.return,Oe)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,a=n.nodeType,a===9)ey(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":ey(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(l(163))}if(n=i.sibling,n!==null){n.return=i.return,Ht=n;break}Ht=i.return}}function rE(n,i,a){var c=a.flags;switch(a.tag){case 0:case 11:case 15:ji(n,a),c&4&&Go(5,a);break;case 1:if(ji(n,a),c&4)if(n=a.stateNode,i===null)try{n.componentDidMount()}catch(w){gt(a,a.return,w)}else{var h=ql(a.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(h,i,n.__reactInternalSnapshotBeforeUpdate)}catch(w){gt(a,a.return,w)}}c&64&&QC(a),c&512&&Xo(a,a.return);break;case 3:if(ji(n,a),c&64&&(n=a.updateQueue,n!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Bx(n,i)}catch(w){gt(a,a.return,w)}}break;case 27:i===null&&c&4&&tE(a);case 26:case 5:ji(n,a),i===null&&c&4&&JC(a),c&512&&Xo(a,a.return);break;case 12:ji(n,a);break;case 13:ji(n,a),c&4&&sE(n,a),c&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=QD.bind(null,a),p2(n,a))));break;case 22:if(c=a.memoizedState!==null||li,!c){i=i!==null&&i.memoizedState!==null||Nt,h=li;var m=Nt;li=c,(Nt=i)&&!m?Hi(n,a,(a.subtreeFlags&8772)!==0):ji(n,a),li=h,Nt=m}break;case 30:break;default:ji(n,a)}}function iE(n){var i=n.alternate;i!==null&&(n.alternate=null,iE(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&lp(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var yt=null,Tn=!1;function si(n,i,a){for(a=a.child;a!==null;)lE(n,i,a),a=a.sibling}function lE(n,i,a){if(Dn&&typeof Dn.onCommitFiberUnmount=="function")try{Dn.onCommitFiberUnmount(mo,a)}catch{}switch(a.tag){case 26:Nt||kr(a,i),si(n,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Nt||kr(a,i);var c=yt,h=Tn;Vi(a.type)&&(yt=a.stateNode,Tn=!1),si(n,i,a),iu(a.stateNode),yt=c,Tn=h;break;case 5:Nt||kr(a,i);case 6:if(c=yt,h=Tn,yt=null,si(n,i,a),yt=c,Tn=h,yt!==null)if(Tn)try{(yt.nodeType===9?yt.body:yt.nodeName==="HTML"?yt.ownerDocument.body:yt).removeChild(a.stateNode)}catch(m){gt(a,i,m)}else try{yt.removeChild(a.stateNode)}catch(m){gt(a,i,m)}break;case 18:yt!==null&&(Tn?(n=yt,VE(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),du(n)):VE(yt,a.stateNode));break;case 4:c=yt,h=Tn,yt=a.stateNode.containerInfo,Tn=!0,si(n,i,a),yt=c,Tn=h;break;case 0:case 11:case 14:case 15:Nt||Ui(2,a,i),Nt||Ui(4,a,i),si(n,i,a);break;case 1:Nt||(kr(a,i),c=a.stateNode,typeof c.componentWillUnmount=="function"&&WC(a,i,c)),si(n,i,a);break;case 21:si(n,i,a);break;case 22:Nt=(c=Nt)||a.memoizedState!==null,si(n,i,a),Nt=c;break;default:si(n,i,a)}}function sE(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{du(n)}catch(a){gt(i,i.return,a)}}function ID(n){switch(n.tag){case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new nE),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new nE),i;default:throw Error(l(435,n.tag))}}function Nm(n,i){var a=ID(n);i.forEach(function(c){var h=WD.bind(null,n,c);a.has(c)||(a.add(c),c.then(h,h))})}function Fn(n,i){var a=i.deletions;if(a!==null)for(var c=0;c<a.length;c++){var h=a[c],m=n,w=i,R=w;e:for(;R!==null;){switch(R.tag){case 27:if(Vi(R.type)){yt=R.stateNode,Tn=!1;break e}break;case 5:yt=R.stateNode,Tn=!1;break e;case 3:case 4:yt=R.stateNode.containerInfo,Tn=!0;break e}R=R.return}if(yt===null)throw Error(l(160));lE(m,w,h),yt=null,Tn=!1,m=h.alternate,m!==null&&(m.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)aE(i,n),i=i.sibling}var pr=null;function aE(n,i){var a=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Fn(i,n),Bn(n),c&4&&(Ui(3,n,n.return),Go(3,n),Ui(5,n,n.return));break;case 1:Fn(i,n),Bn(n),c&512&&(Nt||a===null||kr(a,a.return)),c&64&&li&&(n=n.updateQueue,n!==null&&(c=n.callbacks,c!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?c:a.concat(c))));break;case 26:var h=pr;if(Fn(i,n),Bn(n),c&512&&(Nt||a===null||kr(a,a.return)),c&4){var m=a!==null?a.memoizedState:null;if(c=n.memoizedState,a===null)if(c===null)if(n.stateNode===null){e:{c=n.type,a=n.memoizedProps,h=h.ownerDocument||h;t:switch(c){case"title":m=h.getElementsByTagName("title")[0],(!m||m[bo]||m[tn]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=h.createElement(c),h.head.insertBefore(m,h.querySelector("head > title"))),Gt(m,c,a),m[tn]=n,Ut(m),c=m;break e;case"link":var w=tT("link","href",h).get(c+(a.href||""));if(w){for(var R=0;R<w.length;R++)if(m=w[R],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){w.splice(R,1);break t}}m=h.createElement(c),Gt(m,c,a),h.head.appendChild(m);break;case"meta":if(w=tT("meta","content",h).get(c+(a.content||""))){for(R=0;R<w.length;R++)if(m=w[R],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){w.splice(R,1);break t}}m=h.createElement(c),Gt(m,c,a),h.head.appendChild(m);break;default:throw Error(l(468,c))}m[tn]=n,Ut(m),c=m}n.stateNode=c}else nT(h,n.type,n.stateNode);else n.stateNode=eT(h,c,n.memoizedProps);else m!==c?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,c===null?nT(h,n.type,n.stateNode):eT(h,c,n.memoizedProps)):c===null&&n.stateNode!==null&&Cm(n,n.memoizedProps,a.memoizedProps)}break;case 27:Fn(i,n),Bn(n),c&512&&(Nt||a===null||kr(a,a.return)),a!==null&&c&4&&Cm(n,n.memoizedProps,a.memoizedProps);break;case 5:if(Fn(i,n),Bn(n),c&512&&(Nt||a===null||kr(a,a.return)),n.flags&32){h=n.stateNode;try{$s(h,"")}catch(te){gt(n,n.return,te)}}c&4&&n.stateNode!=null&&(h=n.memoizedProps,Cm(n,h,a!==null?a.memoizedProps:h)),c&1024&&(wm=!0);break;case 6:if(Fn(i,n),Bn(n),c&4){if(n.stateNode===null)throw Error(l(162));c=n.memoizedProps,a=n.stateNode;try{a.nodeValue=c}catch(te){gt(n,n.return,te)}}break;case 3:if(Qf=null,h=pr,pr=Xf(i.containerInfo),Fn(i,n),pr=h,Bn(n),c&4&&a!==null&&a.memoizedState.isDehydrated)try{du(i.containerInfo)}catch(te){gt(n,n.return,te)}wm&&(wm=!1,oE(n));break;case 4:c=pr,pr=Xf(n.stateNode.containerInfo),Fn(i,n),Bn(n),pr=c;break;case 12:Fn(i,n),Bn(n);break;case 13:Fn(i,n),Bn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Dm=Xe()),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,Nm(n,c)));break;case 22:h=n.memoizedState!==null;var F=a!==null&&a.memoizedState!==null,W=li,ae=Nt;if(li=W||h,Nt=ae||F,Fn(i,n),Nt=ae,li=W,Bn(n),c&8192)e:for(i=n.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||F||li||Nt||Yl(n)),a=null,i=n;;){if(i.tag===5||i.tag===26){if(a===null){F=a=i;try{if(m=F.stateNode,h)w=m.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{R=F.stateNode;var ce=F.memoizedProps.style,ee=ce!=null&&ce.hasOwnProperty("display")?ce.display:null;R.style.display=ee==null||typeof ee=="boolean"?"":(""+ee).trim()}}catch(te){gt(F,F.return,te)}}}else if(i.tag===6){if(a===null){F=i;try{F.stateNode.nodeValue=h?"":F.memoizedProps}catch(te){gt(F,F.return,te)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}c&4&&(c=n.updateQueue,c!==null&&(a=c.retryQueue,a!==null&&(c.retryQueue=null,Nm(n,a))));break;case 19:Fn(i,n),Bn(n),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,Nm(n,c)));break;case 30:break;case 21:break;default:Fn(i,n),Bn(n)}}function Bn(n){var i=n.flags;if(i&2){try{for(var a,c=n.return;c!==null;){if(eE(c)){a=c;break}c=c.return}if(a==null)throw Error(l(160));switch(a.tag){case 27:var h=a.stateNode,m=Em(n);$f(n,m,h);break;case 5:var w=a.stateNode;a.flags&32&&($s(w,""),a.flags&=-33);var R=Em(n);$f(n,R,w);break;case 3:case 4:var F=a.stateNode.containerInfo,W=Em(n);Tm(n,W,F);break;default:throw Error(l(161))}}catch(ae){gt(n,n.return,ae)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function oE(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;oE(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function ji(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)rE(n,i.alternate,i),i=i.sibling}function Yl(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:Ui(4,i,i.return),Yl(i);break;case 1:kr(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&WC(i,i.return,a),Yl(i);break;case 27:iu(i.stateNode);case 26:case 5:kr(i,i.return),Yl(i);break;case 22:i.memoizedState===null&&Yl(i);break;case 30:Yl(i);break;default:Yl(i)}n=n.sibling}}function Hi(n,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var c=i.alternate,h=n,m=i,w=m.flags;switch(m.tag){case 0:case 11:case 15:Hi(h,m,a),Go(4,m);break;case 1:if(Hi(h,m,a),c=m,h=c.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(W){gt(c,c.return,W)}if(c=m,h=c.updateQueue,h!==null){var R=c.stateNode;try{var F=h.shared.hiddenCallbacks;if(F!==null)for(h.shared.hiddenCallbacks=null,h=0;h<F.length;h++)Fx(F[h],R)}catch(W){gt(c,c.return,W)}}a&&w&64&&QC(m),Xo(m,m.return);break;case 27:tE(m);case 26:case 5:Hi(h,m,a),a&&c===null&&w&4&&JC(m),Xo(m,m.return);break;case 12:Hi(h,m,a);break;case 13:Hi(h,m,a),a&&w&4&&sE(h,m);break;case 22:m.memoizedState===null&&Hi(h,m,a),Xo(m,m.return);break;case 30:break;default:Hi(h,m,a)}i=i.sibling}}function Am(n,i){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&Lo(a))}function Om(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Lo(n))}function Mr(n,i,a,c){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)uE(n,i,a,c),i=i.sibling}function uE(n,i,a,c){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Mr(n,i,a,c),h&2048&&Go(9,i);break;case 1:Mr(n,i,a,c);break;case 3:Mr(n,i,a,c),h&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Lo(n)));break;case 12:if(h&2048){Mr(n,i,a,c),n=i.stateNode;try{var m=i.memoizedProps,w=m.id,R=m.onPostCommit;typeof R=="function"&&R(w,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(F){gt(i,i.return,F)}}else Mr(n,i,a,c);break;case 13:Mr(n,i,a,c);break;case 23:break;case 22:m=i.stateNode,w=i.alternate,i.memoizedState!==null?m._visibility&2?Mr(n,i,a,c):Zo(n,i):m._visibility&2?Mr(n,i,a,c):(m._visibility|=2,ta(n,i,a,c,(i.subtreeFlags&10256)!==0)),h&2048&&Am(w,i);break;case 24:Mr(n,i,a,c),h&2048&&Om(i.alternate,i);break;default:Mr(n,i,a,c)}}function ta(n,i,a,c,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var m=n,w=i,R=a,F=c,W=w.flags;switch(w.tag){case 0:case 11:case 15:ta(m,w,R,F,h),Go(8,w);break;case 23:break;case 22:var ae=w.stateNode;w.memoizedState!==null?ae._visibility&2?ta(m,w,R,F,h):Zo(m,w):(ae._visibility|=2,ta(m,w,R,F,h)),h&&W&2048&&Am(w.alternate,w);break;case 24:ta(m,w,R,F,h),h&&W&2048&&Om(w.alternate,w);break;default:ta(m,w,R,F,h)}i=i.sibling}}function Zo(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=n,c=i,h=c.flags;switch(c.tag){case 22:Zo(a,c),h&2048&&Am(c.alternate,c);break;case 24:Zo(a,c),h&2048&&Om(c.alternate,c);break;default:Zo(a,c)}i=i.sibling}}var Qo=8192;function na(n){if(n.subtreeFlags&Qo)for(n=n.child;n!==null;)cE(n),n=n.sibling}function cE(n){switch(n.tag){case 26:na(n),n.flags&Qo&&n.memoizedState!==null&&A2(pr,n.memoizedState,n.memoizedProps);break;case 5:na(n);break;case 3:case 4:var i=pr;pr=Xf(n.stateNode.containerInfo),na(n),pr=i;break;case 22:n.memoizedState===null&&(i=n.alternate,i!==null&&i.memoizedState!==null?(i=Qo,Qo=16777216,na(n),Qo=i):na(n));break;default:na(n)}}function fE(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function Wo(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var c=i[a];Ht=c,gE(c,n)}fE(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)dE(n),n=n.sibling}function dE(n){switch(n.tag){case 0:case 11:case 15:Wo(n),n.flags&2048&&Ui(9,n,n.return);break;case 3:Wo(n);break;case 12:Wo(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,Ff(n)):Wo(n);break;default:Wo(n)}}function Ff(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var c=i[a];Ht=c,gE(c,n)}fE(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:Ui(8,i,i.return),Ff(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Ff(i));break;default:Ff(i)}n=n.sibling}}function gE(n,i){for(;Ht!==null;){var a=Ht;switch(a.tag){case 0:case 11:case 15:Ui(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var c=a.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Lo(a.memoizedState.cache)}if(c=a.child,c!==null)c.return=a,Ht=c;else e:for(a=n;Ht!==null;){c=Ht;var h=c.sibling,m=c.return;if(iE(c),c===a){Ht=null;break e}if(h!==null){h.return=m,Ht=h;break e}Ht=m}}}var PD={getCacheForType:function(n){var i=nn(Lt),a=i.data.get(n);return a===void 0&&(a=n(),i.data.set(n,a)),a}},qD=typeof WeakMap=="function"?WeakMap:Map,lt=0,pt=null,Pe=null,Ze=0,st=0,Un=null,Ki=!1,ra=!1,Rm=!1,ai=0,xt=0,Ii=0,Vl=0,km=0,er=0,ia=0,Jo=null,wn=null,Mm=!1,Dm=0,Bf=1/0,Uf=null,Pi=null,Vt=0,qi=null,la=null,sa=0,Lm=0,zm=null,hE=null,eu=0,$m=null;function jn(){if((lt&2)!==0&&Ze!==0)return Ze&-Ze;if(B.T!==null){var n=Vs;return n!==0?n:Im()}return RS()}function pE(){er===0&&(er=(Ze&536870912)===0||et?wS():536870912);var n=Jn.current;return n!==null&&(n.flags|=32),er}function Hn(n,i,a){(n===pt&&(st===2||st===9)||n.cancelPendingCommit!==null)&&(aa(n,0),Yi(n,Ze,er,!1)),_o(n,a),((lt&2)===0||n!==pt)&&(n===pt&&((lt&2)===0&&(Vl|=a),xt===4&&Yi(n,Ze,er,!1)),Dr(n))}function mE(n,i,a){if((lt&6)!==0)throw Error(l(327));var c=!a&&(i&124)===0&&(i&n.expiredLanes)===0||yo(n,i),h=c?GD(n,i):Um(n,i,!0),m=c;do{if(h===0){ra&&!c&&Yi(n,i,0,!1);break}else{if(a=n.current.alternate,m&&!YD(a)){h=Um(n,i,!1),m=!1;continue}if(h===2){if(m=i,n.errorRecoveryDisabledLanes&m)var w=0;else w=n.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){i=w;e:{var R=n;h=Jo;var F=R.current.memoizedState.isDehydrated;if(F&&(aa(R,w).flags|=256),w=Um(R,w,!1),w!==2){if(Rm&&!F){R.errorRecoveryDisabledLanes|=m,Vl|=m,h=4;break e}m=wn,wn=h,m!==null&&(wn===null?wn=m:wn.push.apply(wn,m))}h=w}if(m=!1,h!==2)continue}}if(h===1){aa(n,0),Yi(n,i,0,!0);break}e:{switch(c=n,m=h,m){case 0:case 1:throw Error(l(345));case 4:if((i&4194048)!==i)break;case 6:Yi(c,i,er,!Ki);break e;case 2:wn=null;break;case 3:case 5:break;default:throw Error(l(329))}if((i&62914560)===i&&(h=Dm+300-Xe(),10<h)){if(Yi(c,i,er,!Ki),Xc(c,0,!0)!==0)break e;c.timeoutHandle=qE(yE.bind(null,c,a,wn,Uf,Mm,i,er,Vl,ia,Ki,m,2,-0,0),h);break e}yE(c,a,wn,Uf,Mm,i,er,Vl,ia,Ki,m,0,-0,0)}}break}while(!0);Dr(n)}function yE(n,i,a,c,h,m,w,R,F,W,ae,ce,ee,te){if(n.timeoutHandle=-1,ce=i.subtreeFlags,(ce&8192||(ce&16785408)===16785408)&&(au={stylesheets:null,count:0,unsuspend:N2},cE(i),ce=O2(),ce!==null)){n.cancelPendingCommit=ce(EE.bind(null,n,i,m,a,c,h,w,R,F,ae,1,ee,te)),Yi(n,m,w,!W);return}EE(n,i,m,a,c,h,w,R,F)}function YD(n){for(var i=n;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var c=0;c<a.length;c++){var h=a[c],m=h.getSnapshot;h=h.value;try{if(!zn(m(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Yi(n,i,a,c){i&=~km,i&=~Vl,n.suspendedLanes|=i,n.pingedLanes&=~i,c&&(n.warmLanes|=i),c=n.expirationTimes;for(var h=i;0<h;){var m=31-Ln(h),w=1<<m;c[m]=-1,h&=~w}a!==0&&AS(n,a,i)}function jf(){return(lt&6)===0?(tu(0),!1):!0}function Fm(){if(Pe!==null){if(st===0)var n=Pe.return;else n=Pe,Jr=Hl=null,em(n),Js=null,qo=0,n=Pe;for(;n!==null;)ZC(n.alternate,n),n=n.return;Pe=null}}function aa(n,i){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,c2(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),Fm(),pt=n,Pe=a=Zr(n.current,null),Ze=i,st=0,Un=null,Ki=!1,ra=yo(n,i),Rm=!1,ia=er=km=Vl=Ii=xt=0,wn=Jo=null,Mm=!1,(i&8)!==0&&(i|=i&32);var c=n.entangledLanes;if(c!==0)for(n=n.entanglements,c&=i;0<c;){var h=31-Ln(c),m=1<<h;i|=n[h],c&=~m}return ai=i,of(),a}function _E(n,i){je=null,B.H=Nf,i===$o||i===yf?(i=zx(),st=3):i===Mx?(i=zx(),st=4):st=i===$C?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Un=i,Pe===null&&(xt=1,Mf(n,Xn(i,n.current)))}function bE(){var n=B.H;return B.H=Nf,n===null?Nf:n}function vE(){var n=B.A;return B.A=PD,n}function Bm(){xt=4,Ki||(Ze&4194048)!==Ze&&Jn.current!==null||(ra=!0),(Ii&134217727)===0&&(Vl&134217727)===0||pt===null||Yi(pt,Ze,er,!1)}function Um(n,i,a){var c=lt;lt|=2;var h=bE(),m=vE();(pt!==n||Ze!==i)&&(Uf=null,aa(n,i)),i=!1;var w=xt;e:do try{if(st!==0&&Pe!==null){var R=Pe,F=Un;switch(st){case 8:Fm(),w=6;break e;case 3:case 2:case 9:case 6:Jn.current===null&&(i=!0);var W=st;if(st=0,Un=null,oa(n,R,F,W),a&&ra){w=0;break e}break;default:W=st,st=0,Un=null,oa(n,R,F,W)}}VD(),w=xt;break}catch(ae){_E(n,ae)}while(!0);return i&&n.shellSuspendCounter++,Jr=Hl=null,lt=c,B.H=h,B.A=m,Pe===null&&(pt=null,Ze=0,of()),w}function VD(){for(;Pe!==null;)SE(Pe)}function GD(n,i){var a=lt;lt|=2;var c=bE(),h=vE();pt!==n||Ze!==i?(Uf=null,Bf=Xe()+500,aa(n,i)):ra=yo(n,i);e:do try{if(st!==0&&Pe!==null){i=Pe;var m=Un;t:switch(st){case 1:st=0,Un=null,oa(n,i,m,1);break;case 2:case 9:if(Dx(m)){st=0,Un=null,xE(i);break}i=function(){st!==2&&st!==9||pt!==n||(st=7),Dr(n)},m.then(i,i);break e;case 3:st=7;break e;case 4:st=5;break e;case 7:Dx(m)?(st=0,Un=null,xE(i)):(st=0,Un=null,oa(n,i,m,7));break;case 5:var w=null;switch(Pe.tag){case 26:w=Pe.memoizedState;case 5:case 27:var R=Pe;if(!w||rT(w)){st=0,Un=null;var F=R.sibling;if(F!==null)Pe=F;else{var W=R.return;W!==null?(Pe=W,Hf(W)):Pe=null}break t}}st=0,Un=null,oa(n,i,m,5);break;case 6:st=0,Un=null,oa(n,i,m,6);break;case 8:Fm(),xt=6;break e;default:throw Error(l(462))}}XD();break}catch(ae){_E(n,ae)}while(!0);return Jr=Hl=null,B.H=c,B.A=h,lt=a,Pe!==null?0:(pt=null,Ze=0,of(),xt)}function XD(){for(;Pe!==null&&!xe();)SE(Pe)}function SE(n){var i=GC(n.alternate,n,ai);n.memoizedProps=n.pendingProps,i===null?Hf(n):Pe=i}function xE(n){var i=n,a=i.alternate;switch(i.tag){case 15:case 0:i=KC(a,i,i.pendingProps,i.type,void 0,Ze);break;case 11:i=KC(a,i,i.pendingProps,i.type.render,i.ref,Ze);break;case 5:em(i);default:ZC(a,i),i=Pe=Cx(i,ai),i=GC(a,i,ai)}n.memoizedProps=n.pendingProps,i===null?Hf(n):Pe=i}function oa(n,i,a,c){Jr=Hl=null,em(i),Js=null,qo=0;var h=i.return;try{if(BD(n,h,i,a,Ze)){xt=1,Mf(n,Xn(a,n.current)),Pe=null;return}}catch(m){if(h!==null)throw Pe=h,m;xt=1,Mf(n,Xn(a,n.current)),Pe=null;return}i.flags&32768?(et||c===1?n=!0:ra||(Ze&536870912)!==0?n=!1:(Ki=n=!0,(c===2||c===9||c===3||c===6)&&(c=Jn.current,c!==null&&c.tag===13&&(c.flags|=16384))),CE(i,n)):Hf(i)}function Hf(n){var i=n;do{if((i.flags&32768)!==0){CE(i,Ki);return}n=i.return;var a=jD(i.alternate,i,ai);if(a!==null){Pe=a;return}if(i=i.sibling,i!==null){Pe=i;return}Pe=i=n}while(i!==null);xt===0&&(xt=5)}function CE(n,i){do{var a=HD(n.alternate,n);if(a!==null){a.flags&=32767,Pe=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(n=n.sibling,n!==null)){Pe=n;return}Pe=n=a}while(n!==null);xt=6,Pe=null}function EE(n,i,a,c,h,m,w,R,F){n.cancelPendingCommit=null;do Kf();while(Vt!==0);if((lt&6)!==0)throw Error(l(327));if(i!==null){if(i===n.current)throw Error(l(177));if(m=i.lanes|i.childLanes,m|=Op,NM(n,a,m,w,R,F),n===pt&&(Pe=pt=null,Ze=0),la=i,qi=n,sa=a,Lm=m,zm=h,hE=c,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,JD(fn,function(){return OE(),null})):(n.callbackNode=null,n.callbackPriority=0),c=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||c){c=B.T,B.T=null,h=X.p,X.p=2,w=lt,lt|=4;try{KD(n,i,a)}finally{lt=w,X.p=h,B.T=c}}Vt=1,TE(),wE(),NE()}}function TE(){if(Vt===1){Vt=0;var n=qi,i=la,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=B.T,B.T=null;var c=X.p;X.p=2;var h=lt;lt|=4;try{aE(i,n);var m=Qm,w=gx(n.containerInfo),R=m.focusedElem,F=m.selectionRange;if(w!==R&&R&&R.ownerDocument&&dx(R.ownerDocument.documentElement,R)){if(F!==null&&Ep(R)){var W=F.start,ae=F.end;if(ae===void 0&&(ae=W),"selectionStart"in R)R.selectionStart=W,R.selectionEnd=Math.min(ae,R.value.length);else{var ce=R.ownerDocument||document,ee=ce&&ce.defaultView||window;if(ee.getSelection){var te=ee.getSelection(),Me=R.textContent.length,Oe=Math.min(F.start,Me),ft=F.end===void 0?Oe:Math.min(F.end,Me);!te.extend&&Oe>ft&&(w=ft,ft=Oe,Oe=w);var q=fx(R,Oe),K=fx(R,ft);if(q&&K&&(te.rangeCount!==1||te.anchorNode!==q.node||te.anchorOffset!==q.offset||te.focusNode!==K.node||te.focusOffset!==K.offset)){var Z=ce.createRange();Z.setStart(q.node,q.offset),te.removeAllRanges(),Oe>ft?(te.addRange(Z),te.extend(K.node,K.offset)):(Z.setEnd(K.node,K.offset),te.addRange(Z))}}}}for(ce=[],te=R;te=te.parentNode;)te.nodeType===1&&ce.push({element:te,left:te.scrollLeft,top:te.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<ce.length;R++){var oe=ce[R];oe.element.scrollLeft=oe.left,oe.element.scrollTop=oe.top}}ed=!!Zm,Qm=Zm=null}finally{lt=h,X.p=c,B.T=a}}n.current=i,Vt=2}}function wE(){if(Vt===2){Vt=0;var n=qi,i=la,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=B.T,B.T=null;var c=X.p;X.p=2;var h=lt;lt|=4;try{rE(n,i.alternate,i)}finally{lt=h,X.p=c,B.T=a}}Vt=3}}function NE(){if(Vt===4||Vt===3){Vt=0,nt();var n=qi,i=la,a=sa,c=hE;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Vt=5:(Vt=0,la=qi=null,AE(n,n.pendingLanes));var h=n.pendingLanes;if(h===0&&(Pi=null),rp(a),i=i.stateNode,Dn&&typeof Dn.onCommitFiberRoot=="function")try{Dn.onCommitFiberRoot(mo,i,void 0,(i.current.flags&128)===128)}catch{}if(c!==null){i=B.T,h=X.p,X.p=2,B.T=null;try{for(var m=n.onRecoverableError,w=0;w<c.length;w++){var R=c[w];m(R.value,{componentStack:R.stack})}}finally{B.T=i,X.p=h}}(sa&3)!==0&&Kf(),Dr(n),h=n.pendingLanes,(a&4194090)!==0&&(h&42)!==0?n===$m?eu++:(eu=0,$m=n):eu=0,tu(0)}}function AE(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,Lo(i)))}function Kf(n){return TE(),wE(),NE(),OE()}function OE(){if(Vt!==5)return!1;var n=qi,i=Lm;Lm=0;var a=rp(sa),c=B.T,h=X.p;try{X.p=32>a?32:a,B.T=null,a=zm,zm=null;var m=qi,w=sa;if(Vt=0,la=qi=null,sa=0,(lt&6)!==0)throw Error(l(331));var R=lt;if(lt|=4,dE(m.current),uE(m,m.current,w,a),lt=R,tu(0,!1),Dn&&typeof Dn.onPostCommitFiberRoot=="function")try{Dn.onPostCommitFiberRoot(mo,m)}catch{}return!0}finally{X.p=h,B.T=c,AE(n,i)}}function RE(n,i,a){i=Xn(a,i),i=hm(n.stateNode,i,2),n=zi(n,i,2),n!==null&&(_o(n,2),Dr(n))}function gt(n,i,a){if(n.tag===3)RE(n,n,a);else for(;i!==null;){if(i.tag===3){RE(i,n,a);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Pi===null||!Pi.has(c))){n=Xn(a,n),a=LC(2),c=zi(i,a,2),c!==null&&(zC(a,c,i,n),_o(c,2),Dr(c));break}}i=i.return}}function jm(n,i,a){var c=n.pingCache;if(c===null){c=n.pingCache=new qD;var h=new Set;c.set(i,h)}else h=c.get(i),h===void 0&&(h=new Set,c.set(i,h));h.has(a)||(Rm=!0,h.add(a),n=ZD.bind(null,n,i,a),i.then(n,n))}function ZD(n,i,a){var c=n.pingCache;c!==null&&c.delete(i),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,pt===n&&(Ze&a)===a&&(xt===4||xt===3&&(Ze&62914560)===Ze&&300>Xe()-Dm?(lt&2)===0&&aa(n,0):km|=a,ia===Ze&&(ia=0)),Dr(n)}function kE(n,i){i===0&&(i=NS()),n=Is(n,i),n!==null&&(_o(n,i),Dr(n))}function QD(n){var i=n.memoizedState,a=0;i!==null&&(a=i.retryLane),kE(n,a)}function WD(n,i){var a=0;switch(n.tag){case 13:var c=n.stateNode,h=n.memoizedState;h!==null&&(a=h.retryLane);break;case 19:c=n.stateNode;break;case 22:c=n.stateNode._retryCache;break;default:throw Error(l(314))}c!==null&&c.delete(i),kE(n,a)}function JD(n,i){return de(n,i)}var If=null,ua=null,Hm=!1,Pf=!1,Km=!1,Gl=0;function Dr(n){n!==ua&&n.next===null&&(ua===null?If=ua=n:ua=ua.next=n),Pf=!0,Hm||(Hm=!0,t2())}function tu(n,i){if(!Km&&Pf){Km=!0;do for(var a=!1,c=If;c!==null;){if(n!==0){var h=c.pendingLanes;if(h===0)var m=0;else{var w=c.suspendedLanes,R=c.pingedLanes;m=(1<<31-Ln(42|n)+1)-1,m&=h&~(w&~R),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,zE(c,m))}else m=Ze,m=Xc(c,c===pt?m:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(m&3)===0||yo(c,m)||(a=!0,zE(c,m));c=c.next}while(a);Km=!1}}function e2(){ME()}function ME(){Pf=Hm=!1;var n=0;Gl!==0&&(u2()&&(n=Gl),Gl=0);for(var i=Xe(),a=null,c=If;c!==null;){var h=c.next,m=DE(c,i);m===0?(c.next=null,a===null?If=h:a.next=h,h===null&&(ua=a)):(a=c,(n!==0||(m&3)!==0)&&(Pf=!0)),c=h}tu(n)}function DE(n,i){for(var a=n.suspendedLanes,c=n.pingedLanes,h=n.expirationTimes,m=n.pendingLanes&-62914561;0<m;){var w=31-Ln(m),R=1<<w,F=h[w];F===-1?((R&a)===0||(R&c)!==0)&&(h[w]=wM(R,i)):F<=i&&(n.expiredLanes|=R),m&=~R}if(i=pt,a=Ze,a=Xc(n,n===i?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c=n.callbackNode,a===0||n===i&&(st===2||st===9)||n.cancelPendingCommit!==null)return c!==null&&c!==null&&Se(c),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||yo(n,a)){if(i=a&-a,i===n.callbackPriority)return i;switch(c!==null&&Se(c),rp(a)){case 2:case 8:a=cn;break;case 32:a=fn;break;case 268435456:a=As;break;default:a=fn}return c=LE.bind(null,n),a=de(a,c),n.callbackPriority=i,n.callbackNode=a,i}return c!==null&&c!==null&&Se(c),n.callbackPriority=2,n.callbackNode=null,2}function LE(n,i){if(Vt!==0&&Vt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(Kf()&&n.callbackNode!==a)return null;var c=Ze;return c=Xc(n,n===pt?c:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c===0?null:(mE(n,c,i),DE(n,Xe()),n.callbackNode!=null&&n.callbackNode===a?LE.bind(null,n):null)}function zE(n,i){if(Kf())return null;mE(n,i,!0)}function t2(){f2(function(){(lt&6)!==0?de(un,e2):ME()})}function Im(){return Gl===0&&(Gl=wS()),Gl}function $E(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:ef(""+n)}function FE(n,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,n.id&&a.setAttribute("form",n.id),i.parentNode.insertBefore(a,i),n=new FormData(n),a.parentNode.removeChild(a),n}function n2(n,i,a,c,h){if(i==="submit"&&a&&a.stateNode===h){var m=$E((h[xn]||null).action),w=c.submitter;w&&(i=(i=w[xn]||null)?$E(i.formAction):w.getAttribute("formAction"),i!==null&&(m=i,w=null));var R=new lf("action","action",null,c,h);n.push({event:R,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Gl!==0){var F=w?FE(h,w):new FormData(h);um(a,{pending:!0,data:F,method:h.method,action:m},null,F)}}else typeof m=="function"&&(R.preventDefault(),F=w?FE(h,w):new FormData(h),um(a,{pending:!0,data:F,method:h.method,action:m},m,F))},currentTarget:h}]})}}for(var Pm=0;Pm<Ap.length;Pm++){var qm=Ap[Pm],r2=qm.toLowerCase(),i2=qm[0].toUpperCase()+qm.slice(1);hr(r2,"on"+i2)}hr(mx,"onAnimationEnd"),hr(yx,"onAnimationIteration"),hr(_x,"onAnimationStart"),hr("dblclick","onDoubleClick"),hr("focusin","onFocus"),hr("focusout","onBlur"),hr(SD,"onTransitionRun"),hr(xD,"onTransitionStart"),hr(CD,"onTransitionCancel"),hr(bx,"onTransitionEnd"),Ds("onMouseEnter",["mouseout","mouseover"]),Ds("onMouseLeave",["mouseout","mouseover"]),Ds("onPointerEnter",["pointerout","pointerover"]),Ds("onPointerLeave",["pointerout","pointerover"]),Ml("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ml("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ml("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ml("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ml("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ml("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),l2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(nu));function BE(n,i){i=(i&4)!==0;for(var a=0;a<n.length;a++){var c=n[a],h=c.event;c=c.listeners;e:{var m=void 0;if(i)for(var w=c.length-1;0<=w;w--){var R=c[w],F=R.instance,W=R.currentTarget;if(R=R.listener,F!==m&&h.isPropagationStopped())break e;m=R,h.currentTarget=W;try{m(h)}catch(ae){kf(ae)}h.currentTarget=null,m=F}else for(w=0;w<c.length;w++){if(R=c[w],F=R.instance,W=R.currentTarget,R=R.listener,F!==m&&h.isPropagationStopped())break e;m=R,h.currentTarget=W;try{m(h)}catch(ae){kf(ae)}h.currentTarget=null,m=F}}}}function qe(n,i){var a=i[ip];a===void 0&&(a=i[ip]=new Set);var c=n+"__bubble";a.has(c)||(UE(i,n,2,!1),a.add(c))}function Ym(n,i,a){var c=0;i&&(c|=4),UE(a,n,c,i)}var qf="_reactListening"+Math.random().toString(36).slice(2);function Vm(n){if(!n[qf]){n[qf]=!0,MS.forEach(function(a){a!=="selectionchange"&&(l2.has(a)||Ym(a,!1,n),Ym(a,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[qf]||(i[qf]=!0,Ym("selectionchange",!1,i))}}function UE(n,i,a,c){switch(uT(i)){case 2:var h=M2;break;case 8:h=D2;break;default:h=ay}a=h.bind(null,i,a,n),h=void 0,!pp||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),c?h!==void 0?n.addEventListener(i,a,{capture:!0,passive:h}):n.addEventListener(i,a,!0):h!==void 0?n.addEventListener(i,a,{passive:h}):n.addEventListener(i,a,!1)}function Gm(n,i,a,c,h){var m=c;if((i&1)===0&&(i&2)===0&&c!==null)e:for(;;){if(c===null)return;var w=c.tag;if(w===3||w===4){var R=c.stateNode.containerInfo;if(R===h)break;if(w===4)for(w=c.return;w!==null;){var F=w.tag;if((F===3||F===4)&&w.stateNode.containerInfo===h)return;w=w.return}for(;R!==null;){if(w=Rs(R),w===null)return;if(F=w.tag,F===5||F===6||F===26||F===27){c=m=w;continue e}R=R.parentNode}}c=c.return}YS(function(){var W=m,ae=gp(a),ce=[];e:{var ee=vx.get(n);if(ee!==void 0){var te=lf,Me=n;switch(n){case"keypress":if(nf(a)===0)break e;case"keydown":case"keyup":te=JM;break;case"focusin":Me="focus",te=bp;break;case"focusout":Me="blur",te=bp;break;case"beforeblur":case"afterblur":te=bp;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=XS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=HM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=nD;break;case mx:case yx:case _x:te=PM;break;case bx:te=iD;break;case"scroll":case"scrollend":te=UM;break;case"wheel":te=sD;break;case"copy":case"cut":case"paste":te=YM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=QS;break;case"toggle":case"beforetoggle":te=oD}var Oe=(i&4)!==0,ft=!Oe&&(n==="scroll"||n==="scrollend"),q=Oe?ee!==null?ee+"Capture":null:ee;Oe=[];for(var K=W,Z;K!==null;){var oe=K;if(Z=oe.stateNode,oe=oe.tag,oe!==5&&oe!==26&&oe!==27||Z===null||q===null||(oe=So(K,q),oe!=null&&Oe.push(ru(K,oe,Z))),ft)break;K=K.return}0<Oe.length&&(ee=new te(ee,Me,null,a,ae),ce.push({event:ee,listeners:Oe}))}}if((i&7)===0){e:{if(ee=n==="mouseover"||n==="pointerover",te=n==="mouseout"||n==="pointerout",ee&&a!==dp&&(Me=a.relatedTarget||a.fromElement)&&(Rs(Me)||Me[Os]))break e;if((te||ee)&&(ee=ae.window===ae?ae:(ee=ae.ownerDocument)?ee.defaultView||ee.parentWindow:window,te?(Me=a.relatedTarget||a.toElement,te=W,Me=Me?Rs(Me):null,Me!==null&&(ft=o(Me),Oe=Me.tag,Me!==ft||Oe!==5&&Oe!==27&&Oe!==6)&&(Me=null)):(te=null,Me=W),te!==Me)){if(Oe=XS,oe="onMouseLeave",q="onMouseEnter",K="mouse",(n==="pointerout"||n==="pointerover")&&(Oe=QS,oe="onPointerLeave",q="onPointerEnter",K="pointer"),ft=te==null?ee:vo(te),Z=Me==null?ee:vo(Me),ee=new Oe(oe,K+"leave",te,a,ae),ee.target=ft,ee.relatedTarget=Z,oe=null,Rs(ae)===W&&(Oe=new Oe(q,K+"enter",Me,a,ae),Oe.target=Z,Oe.relatedTarget=ft,oe=Oe),ft=oe,te&&Me)t:{for(Oe=te,q=Me,K=0,Z=Oe;Z;Z=ca(Z))K++;for(Z=0,oe=q;oe;oe=ca(oe))Z++;for(;0<K-Z;)Oe=ca(Oe),K--;for(;0<Z-K;)q=ca(q),Z--;for(;K--;){if(Oe===q||q!==null&&Oe===q.alternate)break t;Oe=ca(Oe),q=ca(q)}Oe=null}else Oe=null;te!==null&&jE(ce,ee,te,Oe,!1),Me!==null&&ft!==null&&jE(ce,ft,Me,Oe,!0)}}e:{if(ee=W?vo(W):window,te=ee.nodeName&&ee.nodeName.toLowerCase(),te==="select"||te==="input"&&ee.type==="file")var be=lx;else if(rx(ee))if(sx)be=_D;else{be=mD;var He=pD}else te=ee.nodeName,!te||te.toLowerCase()!=="input"||ee.type!=="checkbox"&&ee.type!=="radio"?W&&fp(W.elementType)&&(be=lx):be=yD;if(be&&(be=be(n,W))){ix(ce,be,a,ae);break e}He&&He(n,ee,W),n==="focusout"&&W&&ee.type==="number"&&W.memoizedProps.value!=null&&cp(ee,"number",ee.value)}switch(He=W?vo(W):window,n){case"focusin":(rx(He)||He.contentEditable==="true")&&(js=He,Tp=W,Oo=null);break;case"focusout":Oo=Tp=js=null;break;case"mousedown":wp=!0;break;case"contextmenu":case"mouseup":case"dragend":wp=!1,hx(ce,a,ae);break;case"selectionchange":if(vD)break;case"keydown":case"keyup":hx(ce,a,ae)}var Ne;if(Sp)e:{switch(n){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else Us?tx(n,a)&&(Re="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Re="onCompositionStart");Re&&(WS&&a.locale!=="ko"&&(Us||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&Us&&(Ne=VS()):(ki=ae,mp="value"in ki?ki.value:ki.textContent,Us=!0)),He=Yf(W,Re),0<He.length&&(Re=new ZS(Re,n,null,a,ae),ce.push({event:Re,listeners:He}),Ne?Re.data=Ne:(Ne=nx(a),Ne!==null&&(Re.data=Ne)))),(Ne=cD?fD(n,a):dD(n,a))&&(Re=Yf(W,"onBeforeInput"),0<Re.length&&(He=new ZS("onBeforeInput","beforeinput",null,a,ae),ce.push({event:He,listeners:Re}),He.data=Ne)),n2(ce,n,W,a,ae)}BE(ce,i)})}function ru(n,i,a){return{instance:n,listener:i,currentTarget:a}}function Yf(n,i){for(var a=i+"Capture",c=[];n!==null;){var h=n,m=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||m===null||(h=So(n,a),h!=null&&c.unshift(ru(n,h,m)),h=So(n,i),h!=null&&c.push(ru(n,h,m))),n.tag===3)return c;n=n.return}return[]}function ca(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function jE(n,i,a,c,h){for(var m=i._reactName,w=[];a!==null&&a!==c;){var R=a,F=R.alternate,W=R.stateNode;if(R=R.tag,F!==null&&F===c)break;R!==5&&R!==26&&R!==27||W===null||(F=W,h?(W=So(a,m),W!=null&&w.unshift(ru(a,W,F))):h||(W=So(a,m),W!=null&&w.push(ru(a,W,F)))),a=a.return}w.length!==0&&n.push({event:i,listeners:w})}var s2=/\r\n?/g,a2=/\u0000|\uFFFD/g;function HE(n){return(typeof n=="string"?n:""+n).replace(s2,`
`).replace(a2,"")}function KE(n,i){return i=HE(i),HE(n)===i}function Vf(){}function ct(n,i,a,c,h,m){switch(a){case"children":typeof c=="string"?i==="body"||i==="textarea"&&c===""||$s(n,c):(typeof c=="number"||typeof c=="bigint")&&i!=="body"&&$s(n,""+c);break;case"className":Qc(n,"class",c);break;case"tabIndex":Qc(n,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Qc(n,a,c);break;case"style":PS(n,c,m);break;case"data":if(i!=="object"){Qc(n,"data",c);break}case"src":case"href":if(c===""&&(i!=="a"||a!=="href")){n.removeAttribute(a);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(a);break}c=ef(""+c),n.setAttribute(a,c);break;case"action":case"formAction":if(typeof c=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(i!=="input"&&ct(n,i,"name",h.name,h,null),ct(n,i,"formEncType",h.formEncType,h,null),ct(n,i,"formMethod",h.formMethod,h,null),ct(n,i,"formTarget",h.formTarget,h,null)):(ct(n,i,"encType",h.encType,h,null),ct(n,i,"method",h.method,h,null),ct(n,i,"target",h.target,h,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(a);break}c=ef(""+c),n.setAttribute(a,c);break;case"onClick":c!=null&&(n.onclick=Vf);break;case"onScroll":c!=null&&qe("scroll",n);break;case"onScrollEnd":c!=null&&qe("scrollend",n);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(l(61));if(a=c.__html,a!=null){if(h.children!=null)throw Error(l(60));n.innerHTML=a}}break;case"multiple":n.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":n.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){n.removeAttribute("xlink:href");break}a=ef(""+c),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(a,""+c):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":c===!0?n.setAttribute(a,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(a,c):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?n.setAttribute(a,c):n.removeAttribute(a);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?n.removeAttribute(a):n.setAttribute(a,c);break;case"popover":qe("beforetoggle",n),qe("toggle",n),Zc(n,"popover",c);break;case"xlinkActuate":Gr(n,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Gr(n,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Gr(n,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Gr(n,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Gr(n,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Gr(n,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Gr(n,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Gr(n,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Gr(n,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Zc(n,"is",c);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=FM.get(a)||a,Zc(n,a,c))}}function Xm(n,i,a,c,h,m){switch(a){case"style":PS(n,c,m);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(l(61));if(a=c.__html,a!=null){if(h.children!=null)throw Error(l(60));n.innerHTML=a}}break;case"children":typeof c=="string"?$s(n,c):(typeof c=="number"||typeof c=="bigint")&&$s(n,""+c);break;case"onScroll":c!=null&&qe("scroll",n);break;case"onScrollEnd":c!=null&&qe("scrollend",n);break;case"onClick":c!=null&&(n.onclick=Vf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!DS.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),m=n[xn]||null,m=m!=null?m[a]:null,typeof m=="function"&&n.removeEventListener(i,m,h),typeof c=="function")){typeof m!="function"&&m!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(i,c,h);break e}a in n?n[a]=c:c===!0?n.setAttribute(a,""):Zc(n,a,c)}}}function Gt(n,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":qe("error",n),qe("load",n);var c=!1,h=!1,m;for(m in a)if(a.hasOwnProperty(m)){var w=a[m];if(w!=null)switch(m){case"src":c=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,i));default:ct(n,i,m,w,a,null)}}h&&ct(n,i,"srcSet",a.srcSet,a,null),c&&ct(n,i,"src",a.src,a,null);return;case"input":qe("invalid",n);var R=m=w=h=null,F=null,W=null;for(c in a)if(a.hasOwnProperty(c)){var ae=a[c];if(ae!=null)switch(c){case"name":h=ae;break;case"type":w=ae;break;case"checked":F=ae;break;case"defaultChecked":W=ae;break;case"value":m=ae;break;case"defaultValue":R=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(l(137,i));break;default:ct(n,i,c,ae,a,null)}}jS(n,m,R,F,W,w,h,!1),Wc(n);return;case"select":qe("invalid",n),c=w=m=null;for(h in a)if(a.hasOwnProperty(h)&&(R=a[h],R!=null))switch(h){case"value":m=R;break;case"defaultValue":w=R;break;case"multiple":c=R;default:ct(n,i,h,R,a,null)}i=m,a=w,n.multiple=!!c,i!=null?zs(n,!!c,i,!1):a!=null&&zs(n,!!c,a,!0);return;case"textarea":qe("invalid",n),m=h=c=null;for(w in a)if(a.hasOwnProperty(w)&&(R=a[w],R!=null))switch(w){case"value":c=R;break;case"defaultValue":h=R;break;case"children":m=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(l(91));break;default:ct(n,i,w,R,a,null)}KS(n,c,h,m),Wc(n);return;case"option":for(F in a)if(a.hasOwnProperty(F)&&(c=a[F],c!=null))switch(F){case"selected":n.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:ct(n,i,F,c,a,null)}return;case"dialog":qe("beforetoggle",n),qe("toggle",n),qe("cancel",n),qe("close",n);break;case"iframe":case"object":qe("load",n);break;case"video":case"audio":for(c=0;c<nu.length;c++)qe(nu[c],n);break;case"image":qe("error",n),qe("load",n);break;case"details":qe("toggle",n);break;case"embed":case"source":case"link":qe("error",n),qe("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(W in a)if(a.hasOwnProperty(W)&&(c=a[W],c!=null))switch(W){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,i));default:ct(n,i,W,c,a,null)}return;default:if(fp(i)){for(ae in a)a.hasOwnProperty(ae)&&(c=a[ae],c!==void 0&&Xm(n,i,ae,c,a,void 0));return}}for(R in a)a.hasOwnProperty(R)&&(c=a[R],c!=null&&ct(n,i,R,c,a,null))}function o2(n,i,a,c){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,m=null,w=null,R=null,F=null,W=null,ae=null;for(te in a){var ce=a[te];if(a.hasOwnProperty(te)&&ce!=null)switch(te){case"checked":break;case"value":break;case"defaultValue":F=ce;default:c.hasOwnProperty(te)||ct(n,i,te,null,c,ce)}}for(var ee in c){var te=c[ee];if(ce=a[ee],c.hasOwnProperty(ee)&&(te!=null||ce!=null))switch(ee){case"type":m=te;break;case"name":h=te;break;case"checked":W=te;break;case"defaultChecked":ae=te;break;case"value":w=te;break;case"defaultValue":R=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(l(137,i));break;default:te!==ce&&ct(n,i,ee,te,c,ce)}}up(n,w,R,F,W,ae,m,h);return;case"select":te=w=R=ee=null;for(m in a)if(F=a[m],a.hasOwnProperty(m)&&F!=null)switch(m){case"value":break;case"multiple":te=F;default:c.hasOwnProperty(m)||ct(n,i,m,null,c,F)}for(h in c)if(m=c[h],F=a[h],c.hasOwnProperty(h)&&(m!=null||F!=null))switch(h){case"value":ee=m;break;case"defaultValue":R=m;break;case"multiple":w=m;default:m!==F&&ct(n,i,h,m,c,F)}i=R,a=w,c=te,ee!=null?zs(n,!!a,ee,!1):!!c!=!!a&&(i!=null?zs(n,!!a,i,!0):zs(n,!!a,a?[]:"",!1));return;case"textarea":te=ee=null;for(R in a)if(h=a[R],a.hasOwnProperty(R)&&h!=null&&!c.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:ct(n,i,R,null,c,h)}for(w in c)if(h=c[w],m=a[w],c.hasOwnProperty(w)&&(h!=null||m!=null))switch(w){case"value":ee=h;break;case"defaultValue":te=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(l(91));break;default:h!==m&&ct(n,i,w,h,c,m)}HS(n,ee,te);return;case"option":for(var Me in a)if(ee=a[Me],a.hasOwnProperty(Me)&&ee!=null&&!c.hasOwnProperty(Me))switch(Me){case"selected":n.selected=!1;break;default:ct(n,i,Me,null,c,ee)}for(F in c)if(ee=c[F],te=a[F],c.hasOwnProperty(F)&&ee!==te&&(ee!=null||te!=null))switch(F){case"selected":n.selected=ee&&typeof ee!="function"&&typeof ee!="symbol";break;default:ct(n,i,F,ee,c,te)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Oe in a)ee=a[Oe],a.hasOwnProperty(Oe)&&ee!=null&&!c.hasOwnProperty(Oe)&&ct(n,i,Oe,null,c,ee);for(W in c)if(ee=c[W],te=a[W],c.hasOwnProperty(W)&&ee!==te&&(ee!=null||te!=null))switch(W){case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(l(137,i));break;default:ct(n,i,W,ee,c,te)}return;default:if(fp(i)){for(var ft in a)ee=a[ft],a.hasOwnProperty(ft)&&ee!==void 0&&!c.hasOwnProperty(ft)&&Xm(n,i,ft,void 0,c,ee);for(ae in c)ee=c[ae],te=a[ae],!c.hasOwnProperty(ae)||ee===te||ee===void 0&&te===void 0||Xm(n,i,ae,ee,c,te);return}}for(var q in a)ee=a[q],a.hasOwnProperty(q)&&ee!=null&&!c.hasOwnProperty(q)&&ct(n,i,q,null,c,ee);for(ce in c)ee=c[ce],te=a[ce],!c.hasOwnProperty(ce)||ee===te||ee==null&&te==null||ct(n,i,ce,ee,c,te)}var Zm=null,Qm=null;function Gf(n){return n.nodeType===9?n:n.ownerDocument}function IE(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function PE(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function Wm(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Jm=null;function u2(){var n=window.event;return n&&n.type==="popstate"?n===Jm?!1:(Jm=n,!0):(Jm=null,!1)}var qE=typeof setTimeout=="function"?setTimeout:void 0,c2=typeof clearTimeout=="function"?clearTimeout:void 0,YE=typeof Promise=="function"?Promise:void 0,f2=typeof queueMicrotask=="function"?queueMicrotask:typeof YE<"u"?function(n){return YE.resolve(null).then(n).catch(d2)}:qE;function d2(n){setTimeout(function(){throw n})}function Vi(n){return n==="head"}function VE(n,i){var a=i,c=0,h=0;do{var m=a.nextSibling;if(n.removeChild(a),m&&m.nodeType===8)if(a=m.data,a==="/$"){if(0<c&&8>c){a=c;var w=n.ownerDocument;if(a&1&&iu(w.documentElement),a&2&&iu(w.body),a&4)for(a=w.head,iu(a),w=a.firstChild;w;){var R=w.nextSibling,F=w.nodeName;w[bo]||F==="SCRIPT"||F==="STYLE"||F==="LINK"&&w.rel.toLowerCase()==="stylesheet"||a.removeChild(w),w=R}}if(h===0){n.removeChild(m),du(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:c=a.charCodeAt(0)-48;else c=0;a=m}while(a);du(i)}function ey(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":ey(a),lp(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function g2(n,i,a,c){for(;n.nodeType===1;){var h=a;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!c&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(c){if(!n[bo])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(m=n.getAttribute("rel"),m==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(m!==h.rel||n.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||n.getAttribute("title")!==(h.title==null?null:h.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(m=n.getAttribute("src"),(m!==(h.src==null?null:h.src)||n.getAttribute("type")!==(h.type==null?null:h.type)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&m&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var m=h.name==null?null:""+h.name;if(h.type==="hidden"&&n.getAttribute("name")===m)return n}else return n;if(n=mr(n.nextSibling),n===null)break}return null}function h2(n,i,a){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=mr(n.nextSibling),n===null))return null;return n}function ty(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function p2(n,i){var a=n.ownerDocument;if(n.data!=="$?"||a.readyState==="complete")i();else{var c=function(){i(),a.removeEventListener("DOMContentLoaded",c)};a.addEventListener("DOMContentLoaded",c),n._reactRetry=c}}function mr(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return n}var ny=null;function GE(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return n;i--}else a==="/$"&&i++}n=n.previousSibling}return null}function XE(n,i,a){switch(i=Gf(a),n){case"html":if(n=i.documentElement,!n)throw Error(l(452));return n;case"head":if(n=i.head,!n)throw Error(l(453));return n;case"body":if(n=i.body,!n)throw Error(l(454));return n;default:throw Error(l(451))}}function iu(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);lp(n)}var tr=new Map,ZE=new Set;function Xf(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var oi=X.d;X.d={f:m2,r:y2,D:_2,C:b2,L:v2,m:S2,X:C2,S:x2,M:E2};function m2(){var n=oi.f(),i=jf();return n||i}function y2(n){var i=ks(n);i!==null&&i.tag===5&&i.type==="form"?mC(i):oi.r(n)}var fa=typeof document>"u"?null:document;function QE(n,i,a){var c=fa;if(c&&typeof i=="string"&&i){var h=Gn(i);h='link[rel="'+n+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),ZE.has(h)||(ZE.add(h),n={rel:n,crossOrigin:a,href:i},c.querySelector(h)===null&&(i=c.createElement("link"),Gt(i,"link",n),Ut(i),c.head.appendChild(i)))}}function _2(n){oi.D(n),QE("dns-prefetch",n,null)}function b2(n,i){oi.C(n,i),QE("preconnect",n,i)}function v2(n,i,a){oi.L(n,i,a);var c=fa;if(c&&n&&i){var h='link[rel="preload"][as="'+Gn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Gn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Gn(a.imageSizes)+'"]')):h+='[href="'+Gn(n)+'"]';var m=h;switch(i){case"style":m=da(n);break;case"script":m=ga(n)}tr.has(m)||(n=p({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:n,as:i},a),tr.set(m,n),c.querySelector(h)!==null||i==="style"&&c.querySelector(lu(m))||i==="script"&&c.querySelector(su(m))||(i=c.createElement("link"),Gt(i,"link",n),Ut(i),c.head.appendChild(i)))}}function S2(n,i){oi.m(n,i);var a=fa;if(a&&n){var c=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+Gn(c)+'"][href="'+Gn(n)+'"]',m=h;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=ga(n)}if(!tr.has(m)&&(n=p({rel:"modulepreload",href:n},i),tr.set(m,n),a.querySelector(h)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(su(m)))return}c=a.createElement("link"),Gt(c,"link",n),Ut(c),a.head.appendChild(c)}}}function x2(n,i,a){oi.S(n,i,a);var c=fa;if(c&&n){var h=Ms(c).hoistableStyles,m=da(n);i=i||"default";var w=h.get(m);if(!w){var R={loading:0,preload:null};if(w=c.querySelector(lu(m)))R.loading=5;else{n=p({rel:"stylesheet",href:n,"data-precedence":i},a),(a=tr.get(m))&&ry(n,a);var F=w=c.createElement("link");Ut(F),Gt(F,"link",n),F._p=new Promise(function(W,ae){F.onload=W,F.onerror=ae}),F.addEventListener("load",function(){R.loading|=1}),F.addEventListener("error",function(){R.loading|=2}),R.loading|=4,Zf(w,i,c)}w={type:"stylesheet",instance:w,count:1,state:R},h.set(m,w)}}}function C2(n,i){oi.X(n,i);var a=fa;if(a&&n){var c=Ms(a).hoistableScripts,h=ga(n),m=c.get(h);m||(m=a.querySelector(su(h)),m||(n=p({src:n,async:!0},i),(i=tr.get(h))&&iy(n,i),m=a.createElement("script"),Ut(m),Gt(m,"link",n),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},c.set(h,m))}}function E2(n,i){oi.M(n,i);var a=fa;if(a&&n){var c=Ms(a).hoistableScripts,h=ga(n),m=c.get(h);m||(m=a.querySelector(su(h)),m||(n=p({src:n,async:!0,type:"module"},i),(i=tr.get(h))&&iy(n,i),m=a.createElement("script"),Ut(m),Gt(m,"link",n),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},c.set(h,m))}}function WE(n,i,a,c){var h=(h=me.current)?Xf(h):null;if(!h)throw Error(l(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=da(a.href),a=Ms(h).hoistableStyles,c=a.get(i),c||(c={type:"style",instance:null,count:0,state:null},a.set(i,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=da(a.href);var m=Ms(h).hoistableStyles,w=m.get(n);if(w||(h=h.ownerDocument||h,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(n,w),(m=h.querySelector(lu(n)))&&!m._p&&(w.instance=m,w.state.loading=5),tr.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},tr.set(n,a),m||T2(h,n,a,w.state))),i&&c===null)throw Error(l(528,""));return w}if(i&&c!==null)throw Error(l(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=ga(a),a=Ms(h).hoistableScripts,c=a.get(i),c||(c={type:"script",instance:null,count:0,state:null},a.set(i,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,n))}}function da(n){return'href="'+Gn(n)+'"'}function lu(n){return'link[rel="stylesheet"]['+n+"]"}function JE(n){return p({},n,{"data-precedence":n.precedence,precedence:null})}function T2(n,i,a,c){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?c.loading=1:(i=n.createElement("link"),c.preload=i,i.addEventListener("load",function(){return c.loading|=1}),i.addEventListener("error",function(){return c.loading|=2}),Gt(i,"link",a),Ut(i),n.head.appendChild(i))}function ga(n){return'[src="'+Gn(n)+'"]'}function su(n){return"script[async]"+n}function eT(n,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var c=n.querySelector('style[data-href~="'+Gn(a.href)+'"]');if(c)return i.instance=c,Ut(c),c;var h=p({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return c=(n.ownerDocument||n).createElement("style"),Ut(c),Gt(c,"style",h),Zf(c,a.precedence,n),i.instance=c;case"stylesheet":h=da(a.href);var m=n.querySelector(lu(h));if(m)return i.state.loading|=4,i.instance=m,Ut(m),m;c=JE(a),(h=tr.get(h))&&ry(c,h),m=(n.ownerDocument||n).createElement("link"),Ut(m);var w=m;return w._p=new Promise(function(R,F){w.onload=R,w.onerror=F}),Gt(m,"link",c),i.state.loading|=4,Zf(m,a.precedence,n),i.instance=m;case"script":return m=ga(a.src),(h=n.querySelector(su(m)))?(i.instance=h,Ut(h),h):(c=a,(h=tr.get(m))&&(c=p({},a),iy(c,h)),n=n.ownerDocument||n,h=n.createElement("script"),Ut(h),Gt(h,"link",c),n.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(l(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(c=i.instance,i.state.loading|=4,Zf(c,a.precedence,n));return i.instance}function Zf(n,i,a){for(var c=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=c.length?c[c.length-1]:null,m=h,w=0;w<c.length;w++){var R=c[w];if(R.dataset.precedence===i)m=R;else if(m!==h)break}m?m.parentNode.insertBefore(n,m.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(n,i.firstChild))}function ry(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function iy(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var Qf=null;function tT(n,i,a){if(Qf===null){var c=new Map,h=Qf=new Map;h.set(a,c)}else h=Qf,c=h.get(a),c||(c=new Map,h.set(a,c));if(c.has(n))return c;for(c.set(n,null),a=a.getElementsByTagName(n),h=0;h<a.length;h++){var m=a[h];if(!(m[bo]||m[tn]||n==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var w=m.getAttribute(i)||"";w=n+w;var R=c.get(w);R?R.push(m):c.set(w,[m])}}return c}function nT(n,i,a){n=n.ownerDocument||n,n.head.insertBefore(a,i==="title"?n.querySelector("head > title"):null)}function w2(n,i,a){if(a===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function rT(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var au=null;function N2(){}function A2(n,i,a){if(au===null)throw Error(l(475));var c=au;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=da(a.href),m=n.querySelector(lu(h));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(c.count++,c=Wf.bind(c),n.then(c,c)),i.state.loading|=4,i.instance=m,Ut(m);return}m=n.ownerDocument||n,a=JE(a),(h=tr.get(h))&&ry(a,h),m=m.createElement("link"),Ut(m);var w=m;w._p=new Promise(function(R,F){w.onload=R,w.onerror=F}),Gt(m,"link",a),i.instance=m}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(c.count++,i=Wf.bind(c),n.addEventListener("load",i),n.addEventListener("error",i))}}function O2(){if(au===null)throw Error(l(475));var n=au;return n.stylesheets&&n.count===0&&ly(n,n.stylesheets),0<n.count?function(i){var a=setTimeout(function(){if(n.stylesheets&&ly(n,n.stylesheets),n.unsuspend){var c=n.unsuspend;n.unsuspend=null,c()}},6e4);return n.unsuspend=i,function(){n.unsuspend=null,clearTimeout(a)}}:null}function Wf(){if(this.count--,this.count===0){if(this.stylesheets)ly(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Jf=null;function ly(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Jf=new Map,i.forEach(R2,n),Jf=null,Wf.call(n))}function R2(n,i){if(!(i.state.loading&4)){var a=Jf.get(n);if(a)var c=a.get(null);else{a=new Map,Jf.set(n,a);for(var h=n.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<h.length;m++){var w=h[m];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(a.set(w.dataset.precedence,w),c=w)}c&&a.set(null,c)}h=i.instance,w=h.getAttribute("data-precedence"),m=a.get(w)||c,m===c&&a.set(null,h),a.set(w,h),this.count++,c=Wf.bind(this),h.addEventListener("load",c),h.addEventListener("error",c),m?m.parentNode.insertBefore(h,m.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(h,n.firstChild)),i.state.loading|=4}}var ou={$$typeof:T,Provider:null,Consumer:null,_currentValue:H,_currentValue2:H,_threadCount:0};function k2(n,i,a,c,h,m,w,R){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=tp(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tp(0),this.hiddenUpdates=tp(null),this.identifierPrefix=c,this.onUncaughtError=h,this.onCaughtError=m,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function iT(n,i,a,c,h,m,w,R,F,W,ae,ce){return n=new k2(n,i,a,w,R,F,W,ce),i=1,m===!0&&(i|=24),m=$n(3,null,null,i),n.current=m,m.stateNode=n,i=jp(),i.refCount++,n.pooledCache=i,i.refCount++,m.memoizedState={element:c,isDehydrated:a,cache:i},Pp(m),n}function lT(n){return n?(n=Ps,n):Ps}function sT(n,i,a,c,h,m){h=lT(h),c.context===null?c.context=h:c.pendingContext=h,c=Li(i),c.payload={element:a},m=m===void 0?null:m,m!==null&&(c.callback=m),a=zi(n,c,i),a!==null&&(Hn(a,n,i),Bo(a,n,i))}function aT(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<i?a:i}}function sy(n,i){aT(n,i),(n=n.alternate)&&aT(n,i)}function oT(n){if(n.tag===13){var i=Is(n,67108864);i!==null&&Hn(i,n,67108864),sy(n,67108864)}}var ed=!0;function M2(n,i,a,c){var h=B.T;B.T=null;var m=X.p;try{X.p=2,ay(n,i,a,c)}finally{X.p=m,B.T=h}}function D2(n,i,a,c){var h=B.T;B.T=null;var m=X.p;try{X.p=8,ay(n,i,a,c)}finally{X.p=m,B.T=h}}function ay(n,i,a,c){if(ed){var h=oy(c);if(h===null)Gm(n,i,c,td,a),cT(n,c);else if(z2(h,n,i,a,c))c.stopPropagation();else if(cT(n,c),i&4&&-1<L2.indexOf(n)){for(;h!==null;){var m=ks(h);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var w=kl(m.pendingLanes);if(w!==0){var R=m;for(R.pendingLanes|=2,R.entangledLanes|=2;w;){var F=1<<31-Ln(w);R.entanglements[1]|=F,w&=~F}Dr(m),(lt&6)===0&&(Bf=Xe()+500,tu(0))}}break;case 13:R=Is(m,2),R!==null&&Hn(R,m,2),jf(),sy(m,2)}if(m=oy(c),m===null&&Gm(n,i,c,td,a),m===h)break;h=m}h!==null&&c.stopPropagation()}else Gm(n,i,c,null,a)}}function oy(n){return n=gp(n),uy(n)}var td=null;function uy(n){if(td=null,n=Rs(n),n!==null){var i=o(n);if(i===null)n=null;else{var a=i.tag;if(a===13){if(n=u(i),n!==null)return n;n=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return td=n,null}function uT(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(en()){case un:return 2;case cn:return 8;case fn:case Ol:return 32;case As:return 268435456;default:return 32}default:return 32}}var cy=!1,Gi=null,Xi=null,Zi=null,uu=new Map,cu=new Map,Qi=[],L2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function cT(n,i){switch(n){case"focusin":case"focusout":Gi=null;break;case"dragenter":case"dragleave":Xi=null;break;case"mouseover":case"mouseout":Zi=null;break;case"pointerover":case"pointerout":uu.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":cu.delete(i.pointerId)}}function fu(n,i,a,c,h,m){return n===null||n.nativeEvent!==m?(n={blockedOn:i,domEventName:a,eventSystemFlags:c,nativeEvent:m,targetContainers:[h]},i!==null&&(i=ks(i),i!==null&&oT(i)),n):(n.eventSystemFlags|=c,i=n.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),n)}function z2(n,i,a,c,h){switch(i){case"focusin":return Gi=fu(Gi,n,i,a,c,h),!0;case"dragenter":return Xi=fu(Xi,n,i,a,c,h),!0;case"mouseover":return Zi=fu(Zi,n,i,a,c,h),!0;case"pointerover":var m=h.pointerId;return uu.set(m,fu(uu.get(m)||null,n,i,a,c,h)),!0;case"gotpointercapture":return m=h.pointerId,cu.set(m,fu(cu.get(m)||null,n,i,a,c,h)),!0}return!1}function fT(n){var i=Rs(n.target);if(i!==null){var a=o(i);if(a!==null){if(i=a.tag,i===13){if(i=u(a),i!==null){n.blockedOn=i,AM(n.priority,function(){if(a.tag===13){var c=jn();c=np(c);var h=Is(a,c);h!==null&&Hn(h,a,c),sy(a,c)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function nd(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var a=oy(n.nativeEvent);if(a===null){a=n.nativeEvent;var c=new a.constructor(a.type,a);dp=c,a.target.dispatchEvent(c),dp=null}else return i=ks(a),i!==null&&oT(i),n.blockedOn=a,!1;i.shift()}return!0}function dT(n,i,a){nd(n)&&a.delete(i)}function $2(){cy=!1,Gi!==null&&nd(Gi)&&(Gi=null),Xi!==null&&nd(Xi)&&(Xi=null),Zi!==null&&nd(Zi)&&(Zi=null),uu.forEach(dT),cu.forEach(dT)}function rd(n,i){n.blockedOn===i&&(n.blockedOn=null,cy||(cy=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,$2)))}var id=null;function gT(n){id!==n&&(id=n,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){id===n&&(id=null);for(var i=0;i<n.length;i+=3){var a=n[i],c=n[i+1],h=n[i+2];if(typeof c!="function"){if(uy(c||a)===null)continue;break}var m=ks(a);m!==null&&(n.splice(i,3),i-=3,um(m,{pending:!0,data:h,method:a.method,action:c},c,h))}}))}function du(n){function i(F){return rd(F,n)}Gi!==null&&rd(Gi,n),Xi!==null&&rd(Xi,n),Zi!==null&&rd(Zi,n),uu.forEach(i),cu.forEach(i);for(var a=0;a<Qi.length;a++){var c=Qi[a];c.blockedOn===n&&(c.blockedOn=null)}for(;0<Qi.length&&(a=Qi[0],a.blockedOn===null);)fT(a),a.blockedOn===null&&Qi.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(c=0;c<a.length;c+=3){var h=a[c],m=a[c+1],w=h[xn]||null;if(typeof m=="function")w||gT(a);else if(w){var R=null;if(m&&m.hasAttribute("formAction")){if(h=m,w=m[xn]||null)R=w.formAction;else if(uy(h)!==null)continue}else R=w.action;typeof R=="function"?a[c+1]=R:(a.splice(c,3),c-=3),gT(a)}}}function fy(n){this._internalRoot=n}ld.prototype.render=fy.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(l(409));var a=i.current,c=jn();sT(a,c,n,i,null,null)},ld.prototype.unmount=fy.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;sT(n.current,2,null,n,null,null),jf(),i[Os]=null}};function ld(n){this._internalRoot=n}ld.prototype.unstable_scheduleHydration=function(n){if(n){var i=RS();n={blockedOn:null,target:n,priority:i};for(var a=0;a<Qi.length&&i!==0&&i<Qi[a].priority;a++);Qi.splice(a,0,n),a===0&&fT(n)}};var hT=e.version;if(hT!=="19.1.0")throw Error(l(527,hT,"19.1.0"));X.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(l(188)):(n=Object.keys(n).join(","),Error(l(268,n)));return n=d(i),n=n!==null?g(n):null,n=n===null?null:n.stateNode,n};var F2={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sd.isDisabled&&sd.supportsFiber)try{mo=sd.inject(F2),Dn=sd}catch{}}return pa.createRoot=function(n,i){if(!s(n))throw Error(l(299));var a=!1,c="",h=RC,m=kC,w=MC,R=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(w=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(R=i.unstable_transitionCallbacks)),i=iT(n,1,!1,null,null,a,c,h,m,w,R,null),n[Os]=i.current,Vm(n),new fy(i)},pa.hydrateRoot=function(n,i,a){if(!s(n))throw Error(l(299));var c=!1,h="",m=RC,w=kC,R=MC,F=null,W=null;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(w=a.onCaughtError),a.onRecoverableError!==void 0&&(R=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(F=a.unstable_transitionCallbacks),a.formState!==void 0&&(W=a.formState)),i=iT(n,1,!0,i,a??null,c,h,m,w,R,F,W),i.context=lT(null),a=i.current,c=jn(),c=np(c),h=Li(c),h.callback=null,zi(a,h,c),a=c,i.current.lanes=a,_o(i,a),Dr(i),n[Os]=i.current,Vm(n),new ld(i)},pa.version="19.1.0",pa}var xy;function MT(){if(xy)return fd.exports;xy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),fd.exports=kT(),fd.exports}var DT=MT();const LT=Lr(DT),Le=r=>typeof r=="string",ma=()=>{let r,e;const t=new Promise((l,s)=>{r=l,e=s});return t.resolve=r,t.reject=e,t},Cy=r=>r==null?"":""+r,zT=(r,e,t)=>{r.forEach(l=>{e[l]&&(t[l]=e[l])})},$T=/###/g,Ey=r=>r&&r.indexOf("###")>-1?r.replace($T,"."):r,Ty=r=>!r||Le(r),ya=(r,e,t)=>{const l=Le(e)?e.split("."):e;let s=0;for(;s<l.length-1;){if(Ty(r))return{};const o=Ey(l[s]);!r[o]&&t&&(r[o]=new t),Object.prototype.hasOwnProperty.call(r,o)?r=r[o]:r={},++s}return Ty(r)?{}:{obj:r,k:Ey(l[s])}},wy=(r,e,t)=>{const{obj:l,k:s}=ya(r,e,Object);if(l!==void 0||e.length===1){l[s]=t;return}let o=e[e.length-1],u=e.slice(0,e.length-1),f=ya(r,u,Object);for(;f.obj===void 0&&u.length;)o=`${u[u.length-1]}.${o}`,u=u.slice(0,u.length-1),f=ya(r,u,Object),f!=null&&f.obj&&typeof f.obj[`${f.k}.${o}`]<"u"&&(f.obj=void 0);f.obj[`${f.k}.${o}`]=t},FT=(r,e,t,l)=>{const{obj:s,k:o}=ya(r,e,Object);s[o]=s[o]||[],s[o].push(t)},gu=(r,e)=>{const{obj:t,k:l}=ya(r,e);if(t&&Object.prototype.hasOwnProperty.call(t,l))return t[l]},BT=(r,e,t)=>{const l=gu(r,t);return l!==void 0?l:gu(e,t)},Ny=(r,e,t)=>{for(const l in e)l!=="__proto__"&&l!=="constructor"&&(l in r?Le(r[l])||r[l]instanceof String||Le(e[l])||e[l]instanceof String?t&&(r[l]=e[l]):Ny(r[l],e[l],t):r[l]=e[l]);return r},Xl=r=>r.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var UT={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const jT=r=>Le(r)?r.replace(/[&<>"'\/]/g,e=>UT[e]):r;class HT{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(t!==void 0)return t;const l=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,l),this.regExpQueue.push(e),l}}const KT=[" ",",","?","!",";"],IT=new HT(20),PT=(r,e,t)=>{e=e||"",t=t||"";const l=KT.filter(u=>e.indexOf(u)<0&&t.indexOf(u)<0);if(l.length===0)return!0;const s=IT.getRegExp(`(${l.map(u=>u==="?"?"\\?":u).join("|")})`);let o=!s.test(r);if(!o){const u=r.indexOf(t);u>0&&!s.test(r.substring(0,u))&&(o=!0)}return o},pd=(r,e,t=".")=>{if(!r)return;if(r[e])return Object.prototype.hasOwnProperty.call(r,e)?r[e]:void 0;const l=e.split(t);let s=r;for(let o=0;o<l.length;){if(!s||typeof s!="object")return;let u,f="";for(let d=o;d<l.length;++d)if(d!==o&&(f+=t),f+=l[d],u=s[f],u!==void 0){if(["string","number","boolean"].indexOf(typeof u)>-1&&d<l.length-1)continue;o+=d-o+1;break}s=u}return s},_a=r=>r==null?void 0:r.replace("_","-"),qT={type:"logger",log(r){this.output("log",r)},warn(r){this.output("warn",r)},error(r){this.output("error",r)},output(r,e){var t,l;(l=(t=console==null?void 0:console[r])==null?void 0:t.apply)==null||l.call(t,console,e)}};class hu{constructor(e,t={}){this.init(e,t)}init(e,t={}){this.prefix=t.prefix||"i18next:",this.logger=e||qT,this.options=t,this.debug=t.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,l,s){return s&&!this.debug?null:(Le(e[0])&&(e[0]=`${l}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new hu(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new hu(this.logger,e)}}var yr=new hu;class pu{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(l=>{this.observers[l]||(this.observers[l]=new Map);const s=this.observers[l].get(t)||0;this.observers[l].set(t,s+1)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e].delete(t)}}emit(e,...t){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([s,o])=>{for(let u=0;u<o;u++)s(...t)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([s,o])=>{for(let u=0;u<o;u++)s.apply(s,[e,...t])})}}class Ay extends pu{constructor(e,t={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,l,s={}){var g,p;const o=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,u=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure;let f;e.indexOf(".")>-1?f=e.split("."):(f=[e,t],l&&(Array.isArray(l)?f.push(...l):Le(l)&&o?f.push(...l.split(o)):f.push(l)));const d=gu(this.data,f);return!d&&!t&&!l&&e.indexOf(".")>-1&&(e=f[0],t=f[1],l=f.slice(2).join(".")),d||!u||!Le(l)?d:pd((p=(g=this.data)==null?void 0:g[e])==null?void 0:p[t],l,o)}addResource(e,t,l,s,o={silent:!1}){const u=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator;let f=[e,t];l&&(f=f.concat(u?l.split(u):l)),e.indexOf(".")>-1&&(f=e.split("."),s=t,t=f[1]),this.addNamespaces(t),wy(this.data,f,s),o.silent||this.emit("added",e,t,l,s)}addResources(e,t,l,s={silent:!1}){for(const o in l)(Le(l[o])||Array.isArray(l[o]))&&this.addResource(e,t,o,l[o],{silent:!0});s.silent||this.emit("added",e,t,l)}addResourceBundle(e,t,l,s,o,u={silent:!1,skipCopy:!1}){let f=[e,t];e.indexOf(".")>-1&&(f=e.split("."),s=l,l=t,t=f[1]),this.addNamespaces(t);let d=gu(this.data,f)||{};u.skipCopy||(l=JSON.parse(JSON.stringify(l))),s?Ny(d,l,o):d={...d,...l},wy(this.data,f,d),u.silent||this.emit("added",e,t,l)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return this.getResource(e,t)!==void 0}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(s=>t[s]&&Object.keys(t[s]).length>0)}toJSON(){return this.data}}var Oy={processors:{},addPostProcessor(r){this.processors[r.name]=r},handle(r,e,t,l,s){return r.forEach(o=>{var u;e=((u=this.processors[o])==null?void 0:u.process(e,t,l,s))??e}),e}};const Ry={},ky=r=>!Le(r)&&typeof r!="boolean"&&typeof r!="number";class mu extends pu{constructor(e,t={}){super(),zT(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=yr.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,t={interpolation:{}}){const l={...t};if(e==null)return!1;const s=this.resolve(e,l);return(s==null?void 0:s.res)!==void 0}extractFromKey(e,t){let l=t.nsSeparator!==void 0?t.nsSeparator:this.options.nsSeparator;l===void 0&&(l=":");const s=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator;let o=t.ns||this.options.defaultNS||[];const u=l&&e.indexOf(l)>-1,f=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!PT(e,l,s);if(u&&!f){const d=e.match(this.interpolator.nestingRegexp);if(d&&d.length>0)return{key:e,namespaces:Le(o)?[o]:o};const g=e.split(l);(l!==s||l===s&&this.options.ns.indexOf(g[0])>-1)&&(o=g.shift()),e=g.join(s)}return{key:e,namespaces:Le(o)?[o]:o}}translate(e,t,l){let s=typeof t=="object"?{...t}:t;if(typeof s!="object"&&this.options.overloadTranslationOptionHandler&&(s=this.options.overloadTranslationOptionHandler(arguments)),typeof options=="object"&&(s={...s}),s||(s={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const o=s.returnDetails!==void 0?s.returnDetails:this.options.returnDetails,u=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,{key:f,namespaces:d}=this.extractFromKey(e[e.length-1],s),g=d[d.length-1];let p=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;p===void 0&&(p=":");const y=s.lng||this.language,b=s.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((y==null?void 0:y.toLowerCase())==="cimode")return b?o?{res:`${g}${p}${f}`,usedKey:f,exactUsedKey:f,usedLng:y,usedNS:g,usedParams:this.getUsedParamsDetails(s)}:`${g}${p}${f}`:o?{res:f,usedKey:f,exactUsedKey:f,usedLng:y,usedNS:g,usedParams:this.getUsedParamsDetails(s)}:f;const v=this.resolve(e,s);let _=v==null?void 0:v.res;const S=(v==null?void 0:v.usedKey)||f,x=(v==null?void 0:v.exactUsedKey)||f,E=["[object Number]","[object Function]","[object RegExp]"],C=s.joinArrays!==void 0?s.joinArrays:this.options.joinArrays,T=!this.i18nFormat||this.i18nFormat.handleAsObject,O=s.count!==void 0&&!Le(s.count),N=mu.hasDefaultValue(s),A=O?this.pluralResolver.getSuffix(y,s.count,s):"",D=s.ordinal&&O?this.pluralResolver.getSuffix(y,s.count,{ordinal:!1}):"",M=O&&!s.ordinal&&s.count===0,k=M&&s[`defaultValue${this.options.pluralSeparator}zero`]||s[`defaultValue${A}`]||s[`defaultValue${D}`]||s.defaultValue;let U=_;T&&!_&&N&&(U=k);const P=ky(U),J=Object.prototype.toString.apply(U);if(T&&U&&P&&E.indexOf(J)<0&&!(Le(C)&&Array.isArray(U))){if(!s.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const j=this.options.returnedObjectHandler?this.options.returnedObjectHandler(S,U,{...s,ns:d}):`key '${f} (${this.language})' returned an object instead of string.`;return o?(v.res=j,v.usedParams=this.getUsedParamsDetails(s),v):j}if(u){const j=Array.isArray(U),Y=j?[]:{},le=j?x:S;for(const B in U)if(Object.prototype.hasOwnProperty.call(U,B)){const X=`${le}${u}${B}`;N&&!_?Y[B]=this.translate(X,{...s,defaultValue:ky(k)?k[B]:void 0,joinArrays:!1,ns:d}):Y[B]=this.translate(X,{...s,joinArrays:!1,ns:d}),Y[B]===X&&(Y[B]=U[B])}_=Y}}else if(T&&Le(C)&&Array.isArray(_))_=_.join(C),_&&(_=this.extendTranslation(_,e,s,l));else{let j=!1,Y=!1;!this.isValidLookup(_)&&N&&(j=!0,_=k),this.isValidLookup(_)||(Y=!0,_=f);const B=(s.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&Y?void 0:_,X=N&&k!==_&&this.options.updateMissing;if(Y||j||X){if(this.logger.log(X?"updateKey":"missingKey",y,g,f,X?k:_),u){const G=this.resolve(f,{...s,keySeparator:!1});G&&G.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let H=[];const re=this.languageUtils.getFallbackCodes(this.options.fallbackLng,s.lng||this.language);if(this.options.saveMissingTo==="fallback"&&re&&re[0])for(let G=0;G<re.length;G++)H.push(re[G]);else this.options.saveMissingTo==="all"?H=this.languageUtils.toResolveHierarchy(s.lng||this.language):H.push(s.lng||this.language);const z=(G,ie,ue)=>{var Ce;const he=N&&ue!==_?ue:B;this.options.missingKeyHandler?this.options.missingKeyHandler(G,g,ie,he,X,s):(Ce=this.backendConnector)!=null&&Ce.saveMissing&&this.backendConnector.saveMissing(G,g,ie,he,X,s),this.emit("missingKey",G,g,ie,_)};this.options.saveMissing&&(this.options.saveMissingPlurals&&O?H.forEach(G=>{const ie=this.pluralResolver.getSuffixes(G,s);M&&s[`defaultValue${this.options.pluralSeparator}zero`]&&ie.indexOf(`${this.options.pluralSeparator}zero`)<0&&ie.push(`${this.options.pluralSeparator}zero`),ie.forEach(ue=>{z([G],f+ue,s[`defaultValue${ue}`]||k)})}):z(H,f,k))}_=this.extendTranslation(_,e,s,v,l),Y&&_===f&&this.options.appendNamespaceToMissingKey&&(_=`${g}${p}${f}`),(Y||j)&&this.options.parseMissingKeyHandler&&(_=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${g}${p}${f}`:f,j?_:void 0,s))}return o?(v.res=_,v.usedParams=this.getUsedParamsDetails(s),v):_}extendTranslation(e,t,l,s,o){var d,g;if((d=this.i18nFormat)!=null&&d.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...l},l.lng||this.language||s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!l.skipInterpolation){l.interpolation&&this.interpolator.init({...l,interpolation:{...this.options.interpolation,...l.interpolation}});const p=Le(e)&&(((g=l==null?void 0:l.interpolation)==null?void 0:g.skipOnVariables)!==void 0?l.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let y;if(p){const v=e.match(this.interpolator.nestingRegexp);y=v&&v.length}let b=l.replace&&!Le(l.replace)?l.replace:l;if(this.options.interpolation.defaultVariables&&(b={...this.options.interpolation.defaultVariables,...b}),e=this.interpolator.interpolate(e,b,l.lng||this.language||s.usedLng,l),p){const v=e.match(this.interpolator.nestingRegexp),_=v&&v.length;y<_&&(l.nest=!1)}!l.lng&&s&&s.res&&(l.lng=this.language||s.usedLng),l.nest!==!1&&(e=this.interpolator.nest(e,(...v)=>(o==null?void 0:o[0])===v[0]&&!l.context?(this.logger.warn(`It seems you are nesting recursively key: ${v[0]} in key: ${t[0]}`),null):this.translate(...v,t),l)),l.interpolation&&this.interpolator.reset()}const u=l.postProcess||this.options.postProcess,f=Le(u)?[u]:u;return e!=null&&(f!=null&&f.length)&&l.applyPostProcessor!==!1&&(e=Oy.handle(f,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...s,usedParams:this.getUsedParamsDetails(l)},...l}:l,this)),e}resolve(e,t={}){let l,s,o,u,f;return Le(e)&&(e=[e]),e.forEach(d=>{if(this.isValidLookup(l))return;const g=this.extractFromKey(d,t),p=g.key;s=p;let y=g.namespaces;this.options.fallbackNS&&(y=y.concat(this.options.fallbackNS));const b=t.count!==void 0&&!Le(t.count),v=b&&!t.ordinal&&t.count===0,_=t.context!==void 0&&(Le(t.context)||typeof t.context=="number")&&t.context!=="",S=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);y.forEach(x=>{var E,C;this.isValidLookup(l)||(f=x,!Ry[`${S[0]}-${x}`]&&((E=this.utils)!=null&&E.hasLoadedNamespace)&&!((C=this.utils)!=null&&C.hasLoadedNamespace(f))&&(Ry[`${S[0]}-${x}`]=!0,this.logger.warn(`key "${s}" for languages "${S.join(", ")}" won't get resolved as namespace "${f}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),S.forEach(T=>{var A;if(this.isValidLookup(l))return;u=T;const O=[p];if((A=this.i18nFormat)!=null&&A.addLookupKeys)this.i18nFormat.addLookupKeys(O,p,T,x,t);else{let D;b&&(D=this.pluralResolver.getSuffix(T,t.count,t));const M=`${this.options.pluralSeparator}zero`,k=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(b&&(O.push(p+D),t.ordinal&&D.indexOf(k)===0&&O.push(p+D.replace(k,this.options.pluralSeparator)),v&&O.push(p+M)),_){const U=`${p}${this.options.contextSeparator}${t.context}`;O.push(U),b&&(O.push(U+D),t.ordinal&&D.indexOf(k)===0&&O.push(U+D.replace(k,this.options.pluralSeparator)),v&&O.push(U+M))}}let N;for(;N=O.pop();)this.isValidLookup(l)||(o=N,l=this.getResource(T,x,N,t))}))})}),{res:l,usedKey:s,exactUsedKey:o,usedLng:u,usedNS:f}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,t,l,s={}){var o;return(o=this.i18nFormat)!=null&&o.getResource?this.i18nFormat.getResource(e,t,l,s):this.resourceStore.getResource(e,t,l,s)}getUsedParamsDetails(e={}){const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],l=e.replace&&!Le(e.replace);let s=l?e.replace:e;if(l&&typeof e.count<"u"&&(s.count=e.count),this.options.interpolation.defaultVariables&&(s={...this.options.interpolation.defaultVariables,...s}),!l){s={...s};for(const o of t)delete s[o]}return s}static hasDefaultValue(e){const t="defaultValue";for(const l in e)if(Object.prototype.hasOwnProperty.call(e,l)&&t===l.substring(0,t.length)&&e[l]!==void 0)return!0;return!1}}class My{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=yr.create("languageUtils")}getScriptPartFromCode(e){if(e=_a(e),!e||e.indexOf("-")<0)return null;const t=e.split("-");return t.length===2||(t.pop(),t[t.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(e=_a(e),!e||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(Le(e)&&e.indexOf("-")>-1){let t;try{t=Intl.getCanonicalLocales(e)[0]}catch{}return t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(l=>{if(t)return;const s=this.formatLanguageCode(l);(!this.options.supportedLngs||this.isSupportedCode(s))&&(t=s)}),!t&&this.options.supportedLngs&&e.forEach(l=>{if(t)return;const s=this.getScriptPartFromCode(l);if(this.isSupportedCode(s))return t=s;const o=this.getLanguagePartFromCode(l);if(this.isSupportedCode(o))return t=o;t=this.options.supportedLngs.find(u=>{if(u===o)return u;if(!(u.indexOf("-")<0&&o.indexOf("-")<0)&&(u.indexOf("-")>0&&o.indexOf("-")<0&&u.substring(0,u.indexOf("-"))===o||u.indexOf(o)===0&&o.length>1))return u})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if(typeof e=="function"&&(e=e(t)),Le(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let l=e[t];return l||(l=e[this.getScriptPartFromCode(t)]),l||(l=e[this.formatLanguageCode(t)]),l||(l=e[this.getLanguagePartFromCode(t)]),l||(l=e.default),l||[]}toResolveHierarchy(e,t){const l=this.getFallbackCodes((t===!1?[]:t)||this.options.fallbackLng||[],e),s=[],o=u=>{u&&(this.isSupportedCode(u)?s.push(u):this.logger.warn(`rejecting language code not found in supportedLngs: ${u}`))};return Le(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&o(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&o(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&o(this.getLanguagePartFromCode(e))):Le(e)&&o(this.formatLanguageCode(e)),l.forEach(u=>{s.indexOf(u)<0&&o(this.formatLanguageCode(u))}),s}}const Dy={zero:0,one:1,two:2,few:3,many:4,other:5},Ly={select:r=>r===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class YT{constructor(e,t={}){this.languageUtils=e,this.options=t,this.logger=yr.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e,t={}){const l=_a(e==="dev"?"en":e),s=t.ordinal?"ordinal":"cardinal",o=JSON.stringify({cleanedCode:l,type:s});if(o in this.pluralRulesCache)return this.pluralRulesCache[o];let u;try{u=new Intl.PluralRules(l,{type:s})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),Ly;if(!e.match(/-|_/))return Ly;const d=this.languageUtils.getLanguagePartFromCode(e);u=this.getRule(d,t)}return this.pluralRulesCache[o]=u,u}needsPlural(e,t={}){let l=this.getRule(e,t);return l||(l=this.getRule("dev",t)),(l==null?void 0:l.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,t,l={}){return this.getSuffixes(e,l).map(s=>`${t}${s}`)}getSuffixes(e,t={}){let l=this.getRule(e,t);return l||(l=this.getRule("dev",t)),l?l.resolvedOptions().pluralCategories.sort((s,o)=>Dy[s]-Dy[o]).map(s=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${s}`):[]}getSuffix(e,t,l={}){const s=this.getRule(e,l);return s?`${this.options.prepend}${l.ordinal?`ordinal${this.options.prepend}`:""}${s.select(t)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",t,l))}}const zy=(r,e,t,l=".",s=!0)=>{let o=BT(r,e,t);return!o&&s&&Le(t)&&(o=pd(r,t,l),o===void 0&&(o=pd(e,t,l))),o},md=r=>r.replace(/\$/g,"$$$$");class VT{constructor(e={}){var t;this.logger=yr.create("interpolator"),this.options=e,this.format=((t=e==null?void 0:e.interpolation)==null?void 0:t.format)||(l=>l),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:l,useRawValueToEscape:s,prefix:o,prefixEscaped:u,suffix:f,suffixEscaped:d,formatSeparator:g,unescapeSuffix:p,unescapePrefix:y,nestingPrefix:b,nestingPrefixEscaped:v,nestingSuffix:_,nestingSuffixEscaped:S,nestingOptionsSeparator:x,maxReplaces:E,alwaysFormat:C}=e.interpolation;this.escape=t!==void 0?t:jT,this.escapeValue=l!==void 0?l:!0,this.useRawValueToEscape=s!==void 0?s:!1,this.prefix=o?Xl(o):u||"{{",this.suffix=f?Xl(f):d||"}}",this.formatSeparator=g||",",this.unescapePrefix=p?"":y||"-",this.unescapeSuffix=this.unescapePrefix?"":p||"",this.nestingPrefix=b?Xl(b):v||Xl("$t("),this.nestingSuffix=_?Xl(_):S||Xl(")"),this.nestingOptionsSeparator=x||",",this.maxReplaces=E||1e3,this.alwaysFormat=C!==void 0?C:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(t,l)=>(t==null?void 0:t.source)===l?(t.lastIndex=0,t):new RegExp(l,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,t,l,s){var v;let o,u,f;const d=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},g=_=>{if(_.indexOf(this.formatSeparator)<0){const C=zy(t,d,_,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(C,void 0,l,{...s,...t,interpolationkey:_}):C}const S=_.split(this.formatSeparator),x=S.shift().trim(),E=S.join(this.formatSeparator).trim();return this.format(zy(t,d,x,this.options.keySeparator,this.options.ignoreJSONStructure),E,l,{...s,...t,interpolationkey:x})};this.resetRegExp();const p=(s==null?void 0:s.missingInterpolationHandler)||this.options.missingInterpolationHandler,y=((v=s==null?void 0:s.interpolation)==null?void 0:v.skipOnVariables)!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:_=>md(_)},{regex:this.regexp,safeValue:_=>this.escapeValue?md(this.escape(_)):md(_)}].forEach(_=>{for(f=0;o=_.regex.exec(e);){const S=o[1].trim();if(u=g(S),u===void 0)if(typeof p=="function"){const E=p(e,o,s);u=Le(E)?E:""}else if(s&&Object.prototype.hasOwnProperty.call(s,S))u="";else if(y){u=o[0];continue}else this.logger.warn(`missed to pass in variable ${S} for interpolating ${e}`),u="";else!Le(u)&&!this.useRawValueToEscape&&(u=Cy(u));const x=_.safeValue(u);if(e=e.replace(o[0],x),y?(_.regex.lastIndex+=u.length,_.regex.lastIndex-=o[0].length):_.regex.lastIndex=0,f++,f>=this.maxReplaces)break}}),e}nest(e,t,l={}){let s,o,u;const f=(d,g)=>{const p=this.nestingOptionsSeparator;if(d.indexOf(p)<0)return d;const y=d.split(new RegExp(`${p}[ ]*{`));let b=`{${y[1]}`;d=y[0],b=this.interpolate(b,u);const v=b.match(/'/g),_=b.match(/"/g);(((v==null?void 0:v.length)??0)%2===0&&!_||_.length%2!==0)&&(b=b.replace(/'/g,'"'));try{u=JSON.parse(b),g&&(u={...g,...u})}catch(S){return this.logger.warn(`failed parsing options string in nesting for key ${d}`,S),`${d}${p}${b}`}return u.defaultValue&&u.defaultValue.indexOf(this.prefix)>-1&&delete u.defaultValue,d};for(;s=this.nestingRegexp.exec(e);){let d=[];u={...l},u=u.replace&&!Le(u.replace)?u.replace:u,u.applyPostProcessor=!1,delete u.defaultValue;let g=!1;if(s[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(s[1])){const p=s[1].split(this.formatSeparator).map(y=>y.trim());s[1]=p.shift(),d=p,g=!0}if(o=t(f.call(this,s[1].trim(),u),u),o&&s[0]===e&&!Le(o))return o;Le(o)||(o=Cy(o)),o||(this.logger.warn(`missed to resolve ${s[1]} for nesting ${e}`),o=""),g&&(o=d.reduce((p,y)=>this.format(p,y,l.lng,{...l,interpolationkey:s[1].trim()}),o.trim())),e=e.replace(s[0],o),this.regexp.lastIndex=0}return e}}const GT=r=>{let e=r.toLowerCase().trim();const t={};if(r.indexOf("(")>-1){const l=r.split("(");e=l[0].toLowerCase().trim();const s=l[1].substring(0,l[1].length-1);e==="currency"&&s.indexOf(":")<0?t.currency||(t.currency=s.trim()):e==="relativetime"&&s.indexOf(":")<0?t.range||(t.range=s.trim()):s.split(";").forEach(u=>{if(u){const[f,...d]=u.split(":"),g=d.join(":").trim().replace(/^'+|'+$/g,""),p=f.trim();t[p]||(t[p]=g),g==="false"&&(t[p]=!1),g==="true"&&(t[p]=!0),isNaN(g)||(t[p]=parseInt(g,10))}})}return{formatName:e,formatOptions:t}},$y=r=>{const e={};return(t,l,s)=>{let o=s;s&&s.interpolationkey&&s.formatParams&&s.formatParams[s.interpolationkey]&&s[s.interpolationkey]&&(o={...o,[s.interpolationkey]:void 0});const u=l+JSON.stringify(o);let f=e[u];return f||(f=r(_a(l),s),e[u]=f),f(t)}},XT=r=>(e,t,l)=>r(_a(t),l)(e);class ZT{constructor(e={}){this.logger=yr.create("formatter"),this.options=e,this.init(e)}init(e,t={interpolation:{}}){this.formatSeparator=t.interpolation.formatSeparator||",";const l=t.cacheInBuiltFormats?$y:XT;this.formats={number:l((s,o)=>{const u=new Intl.NumberFormat(s,{...o});return f=>u.format(f)}),currency:l((s,o)=>{const u=new Intl.NumberFormat(s,{...o,style:"currency"});return f=>u.format(f)}),datetime:l((s,o)=>{const u=new Intl.DateTimeFormat(s,{...o});return f=>u.format(f)}),relativetime:l((s,o)=>{const u=new Intl.RelativeTimeFormat(s,{...o});return f=>u.format(f,o.range||"day")}),list:l((s,o)=>{const u=new Intl.ListFormat(s,{...o});return f=>u.format(f)})}}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=$y(t)}format(e,t,l,s={}){const o=t.split(this.formatSeparator);if(o.length>1&&o[0].indexOf("(")>1&&o[0].indexOf(")")<0&&o.find(f=>f.indexOf(")")>-1)){const f=o.findIndex(d=>d.indexOf(")")>-1);o[0]=[o[0],...o.splice(1,f)].join(this.formatSeparator)}return o.reduce((f,d)=>{var y;const{formatName:g,formatOptions:p}=GT(d);if(this.formats[g]){let b=f;try{const v=((y=s==null?void 0:s.formatParams)==null?void 0:y[s.interpolationkey])||{},_=v.locale||v.lng||s.locale||s.lng||l;b=this.formats[g](f,_,{...p,...s,...v})}catch(v){this.logger.warn(v)}return b}else this.logger.warn(`there was no format function for ${g}`);return f},e)}}const QT=(r,e)=>{r.pending[e]!==void 0&&(delete r.pending[e],r.pendingCount--)};class WT extends pu{constructor(e,t,l,s={}){var o,u;super(),this.backend=e,this.store=t,this.services=l,this.languageUtils=l.languageUtils,this.options=s,this.logger=yr.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=s.maxParallelReads||10,this.readingCalls=0,this.maxRetries=s.maxRetries>=0?s.maxRetries:5,this.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,this.state={},this.queue=[],(u=(o=this.backend)==null?void 0:o.init)==null||u.call(o,l,s.backend,s)}queueLoad(e,t,l,s){const o={},u={},f={},d={};return e.forEach(g=>{let p=!0;t.forEach(y=>{const b=`${g}|${y}`;!l.reload&&this.store.hasResourceBundle(g,y)?this.state[b]=2:this.state[b]<0||(this.state[b]===1?u[b]===void 0&&(u[b]=!0):(this.state[b]=1,p=!1,u[b]===void 0&&(u[b]=!0),o[b]===void 0&&(o[b]=!0),d[y]===void 0&&(d[y]=!0)))}),p||(f[g]=!0)}),(Object.keys(o).length||Object.keys(u).length)&&this.queue.push({pending:u,pendingCount:Object.keys(u).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(o),pending:Object.keys(u),toLoadLanguages:Object.keys(f),toLoadNamespaces:Object.keys(d)}}loaded(e,t,l){const s=e.split("|"),o=s[0],u=s[1];t&&this.emit("failedLoading",o,u,t),!t&&l&&this.store.addResourceBundle(o,u,l,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&l&&(this.state[e]=0);const f={};this.queue.forEach(d=>{FT(d.loaded,[o],u),QT(d,e),t&&d.errors.push(t),d.pendingCount===0&&!d.done&&(Object.keys(d.loaded).forEach(g=>{f[g]||(f[g]={});const p=d.loaded[g];p.length&&p.forEach(y=>{f[g][y]===void 0&&(f[g][y]=!0)})}),d.done=!0,d.errors.length?d.callback(d.errors):d.callback())}),this.emit("loaded",f),this.queue=this.queue.filter(d=>!d.done)}read(e,t,l,s=0,o=this.retryTimeout,u){if(!e.length)return u(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:l,tried:s,wait:o,callback:u});return}this.readingCalls++;const f=(g,p)=>{if(this.readingCalls--,this.waitingReads.length>0){const y=this.waitingReads.shift();this.read(y.lng,y.ns,y.fcName,y.tried,y.wait,y.callback)}if(g&&p&&s<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,l,s+1,o*2,u)},o);return}u(g,p)},d=this.backend[l].bind(this.backend);if(d.length===2){try{const g=d(e,t);g&&typeof g.then=="function"?g.then(p=>f(null,p)).catch(f):f(null,g)}catch(g){f(g)}return}return d(e,t,f)}prepareLoading(e,t,l={},s){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();Le(e)&&(e=this.languageUtils.toResolveHierarchy(e)),Le(t)&&(t=[t]);const o=this.queueLoad(e,t,l,s);if(!o.toLoad.length)return o.pending.length||s(),null;o.toLoad.forEach(u=>{this.loadOne(u)})}load(e,t,l){this.prepareLoading(e,t,{},l)}reload(e,t,l){this.prepareLoading(e,t,{reload:!0},l)}loadOne(e,t=""){const l=e.split("|"),s=l[0],o=l[1];this.read(s,o,"read",void 0,void 0,(u,f)=>{u&&this.logger.warn(`${t}loading namespace ${o} for language ${s} failed`,u),!u&&f&&this.logger.log(`${t}loaded namespace ${o} for language ${s}`,f),this.loaded(e,u,f)})}saveMissing(e,t,l,s,o,u={},f=()=>{}){var d,g,p,y,b;if((g=(d=this.services)==null?void 0:d.utils)!=null&&g.hasLoadedNamespace&&!((y=(p=this.services)==null?void 0:p.utils)!=null&&y.hasLoadedNamespace(t))){this.logger.warn(`did not save key "${l}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(l==null||l==="")){if((b=this.backend)!=null&&b.create){const v={...u,isUpdate:o},_=this.backend.create.bind(this.backend);if(_.length<6)try{let S;_.length===5?S=_(e,t,l,s,v):S=_(e,t,l,s),S&&typeof S.then=="function"?S.then(x=>f(null,x)).catch(f):f(null,S)}catch(S){f(S)}else _(e,t,l,s,f,v)}!e||!e[0]||this.store.addResource(e[0],t,l,s)}}}const Fy=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:r=>{let e={};if(typeof r[1]=="object"&&(e=r[1]),Le(r[1])&&(e.defaultValue=r[1]),Le(r[2])&&(e.tDescription=r[2]),typeof r[2]=="object"||typeof r[3]=="object"){const t=r[3]||r[2];Object.keys(t).forEach(l=>{e[l]=t[l]})}return e},interpolation:{escapeValue:!0,format:r=>r,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),By=r=>{var e,t;return Le(r.ns)&&(r.ns=[r.ns]),Le(r.fallbackLng)&&(r.fallbackLng=[r.fallbackLng]),Le(r.fallbackNS)&&(r.fallbackNS=[r.fallbackNS]),((t=(e=r.supportedLngs)==null?void 0:e.indexOf)==null?void 0:t.call(e,"cimode"))<0&&(r.supportedLngs=r.supportedLngs.concat(["cimode"])),typeof r.initImmediate=="boolean"&&(r.initAsync=r.initImmediate),r},yu=()=>{},JT=r=>{Object.getOwnPropertyNames(Object.getPrototypeOf(r)).forEach(t=>{typeof r[t]=="function"&&(r[t]=r[t].bind(r))})};class ba extends pu{constructor(e={},t){if(super(),this.options=By(e),this.services={},this.logger=yr,this.modules={external:[]},JT(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(e={},t){this.isInitializing=!0,typeof e=="function"&&(t=e,e={}),e.defaultNS==null&&e.ns&&(Le(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const l=Fy();this.options={...l,...this.options,...By(e)},this.options.interpolation={...l.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const s=g=>g?typeof g=="function"?new g:g:null;if(!this.options.isClone){this.modules.logger?yr.init(s(this.modules.logger),this.options):yr.init(null,this.options);let g;this.modules.formatter?g=this.modules.formatter:g=ZT;const p=new My(this.options);this.store=new Ay(this.options.resources,this.options);const y=this.services;y.logger=yr,y.resourceStore=this.store,y.languageUtils=p,y.pluralResolver=new YT(p,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),g&&(!this.options.interpolation.format||this.options.interpolation.format===l.interpolation.format)&&(y.formatter=s(g),y.formatter.init(y,this.options),this.options.interpolation.format=y.formatter.format.bind(y.formatter)),y.interpolator=new VT(this.options),y.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},y.backendConnector=new WT(s(this.modules.backend),y.resourceStore,y,this.options),y.backendConnector.on("*",(b,...v)=>{this.emit(b,...v)}),this.modules.languageDetector&&(y.languageDetector=s(this.modules.languageDetector),y.languageDetector.init&&y.languageDetector.init(y,this.options.detection,this.options)),this.modules.i18nFormat&&(y.i18nFormat=s(this.modules.i18nFormat),y.i18nFormat.init&&y.i18nFormat.init(this)),this.translator=new mu(this.services,this.options),this.translator.on("*",(b,...v)=>{this.emit(b,...v)}),this.modules.external.forEach(b=>{b.init&&b.init(this)})}if(this.format=this.options.interpolation.format,t||(t=yu),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const g=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);g.length>0&&g[0]!=="dev"&&(this.options.lng=g[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(g=>{this[g]=(...p)=>this.store[g](...p)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(g=>{this[g]=(...p)=>(this.store[g](...p),this)});const f=ma(),d=()=>{const g=(p,y)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),f.resolve(y),t(p,y)};if(this.languages&&!this.isInitialized)return g(null,this.t.bind(this));this.changeLanguage(this.options.lng,g)};return this.options.resources||!this.options.initAsync?d():setTimeout(d,0),f}loadResources(e,t=yu){var o,u;let l=t;const s=Le(e)?e:this.language;if(typeof e=="function"&&(l=e),!this.options.resources||this.options.partialBundledLanguages){if((s==null?void 0:s.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return l();const f=[],d=g=>{if(!g||g==="cimode")return;this.services.languageUtils.toResolveHierarchy(g).forEach(y=>{y!=="cimode"&&f.indexOf(y)<0&&f.push(y)})};s?d(s):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(p=>d(p)),(u=(o=this.options.preload)==null?void 0:o.forEach)==null||u.call(o,g=>d(g)),this.services.backendConnector.load(f,this.options.ns,g=>{!g&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),l(g)})}else l(null)}reloadResources(e,t,l){const s=ma();return typeof e=="function"&&(l=e,e=void 0),typeof t=="function"&&(l=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),l||(l=yu),this.services.backendConnector.reload(e,t,o=>{s.resolve(),l(o)}),s}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&Oy.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let t=0;t<this.languages.length;t++){const l=this.languages[t];if(!(["cimode","dev"].indexOf(l)>-1)&&this.store.hasLanguageSomeTranslations(l)){this.resolvedLanguage=l;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,t){this.isLanguageChangingTo=e;const l=ma();this.emit("languageChanging",e);const s=f=>{this.language=f,this.languages=this.services.languageUtils.toResolveHierarchy(f),this.resolvedLanguage=void 0,this.setResolvedLanguage(f)},o=(f,d)=>{d?this.isLanguageChangingTo===e&&(s(d),this.translator.changeLanguage(d),this.isLanguageChangingTo=void 0,this.emit("languageChanged",d),this.logger.log("languageChanged",d)):this.isLanguageChangingTo=void 0,l.resolve((...g)=>this.t(...g)),t&&t(f,(...g)=>this.t(...g))},u=f=>{var p,y;!e&&!f&&this.services.languageDetector&&(f=[]);const d=Le(f)?f:f&&f[0],g=this.store.hasLanguageSomeTranslations(d)?d:this.services.languageUtils.getBestMatchFromCodes(Le(f)?[f]:f);g&&(this.language||s(g),this.translator.language||this.translator.changeLanguage(g),(y=(p=this.services.languageDetector)==null?void 0:p.cacheUserLanguage)==null||y.call(p,g)),this.loadResources(g,b=>{o(b,g)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?u(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(u):this.services.languageDetector.detect(u):u(e),l}getFixedT(e,t,l){const s=(o,u,...f)=>{let d;typeof u!="object"?d=this.options.overloadTranslationOptionHandler([o,u].concat(f)):d={...u},d.lng=d.lng||s.lng,d.lngs=d.lngs||s.lngs,d.ns=d.ns||s.ns,d.keyPrefix!==""&&(d.keyPrefix=d.keyPrefix||l||s.keyPrefix);const g=this.options.keySeparator||".";let p;return d.keyPrefix&&Array.isArray(o)?p=o.map(y=>`${d.keyPrefix}${g}${y}`):p=d.keyPrefix?`${d.keyPrefix}${g}${o}`:o,this.t(p,d)};return Le(e)?s.lng=e:s.lngs=e,s.ns=t,s.keyPrefix=l,s}t(...e){var t;return(t=this.translator)==null?void 0:t.translate(...e)}exists(...e){var t;return(t=this.translator)==null?void 0:t.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,t={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const l=t.lng||this.resolvedLanguage||this.languages[0],s=this.options?this.options.fallbackLng:!1,o=this.languages[this.languages.length-1];if(l.toLowerCase()==="cimode")return!0;const u=(f,d)=>{const g=this.services.backendConnector.state[`${f}|${d}`];return g===-1||g===0||g===2};if(t.precheck){const f=t.precheck(this,u);if(f!==void 0)return f}return!!(this.hasResourceBundle(l,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||u(l,e)&&(!s||u(o,e)))}loadNamespaces(e,t){const l=ma();return this.options.ns?(Le(e)&&(e=[e]),e.forEach(s=>{this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}),this.loadResources(s=>{l.resolve(),t&&t(s)}),l):(t&&t(),Promise.resolve())}loadLanguages(e,t){const l=ma();Le(e)&&(e=[e]);const s=this.options.preload||[],o=e.filter(u=>s.indexOf(u)<0&&this.services.languageUtils.isSupportedCode(u));return o.length?(this.options.preload=s.concat(o),this.loadResources(u=>{l.resolve(),t&&t(u)}),l):(t&&t(),Promise.resolve())}dir(e){var s,o;if(e||(e=this.resolvedLanguage||(((s=this.languages)==null?void 0:s.length)>0?this.languages[0]:this.language)),!e)return"rtl";const t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],l=((o=this.services)==null?void 0:o.languageUtils)||new My(Fy());return t.indexOf(l.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},t){return new ba(e,t)}cloneInstance(e={},t=yu){const l=e.forkResourceStore;l&&delete e.forkResourceStore;const s={...this.options,...e,isClone:!0},o=new ba(s);if((e.debug!==void 0||e.prefix!==void 0)&&(o.logger=o.logger.clone(e)),["store","services","language"].forEach(f=>{o[f]=this[f]}),o.services={...this.services},o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},l){const f=Object.keys(this.store.data).reduce((d,g)=>(d[g]={...this.store.data[g]},d[g]=Object.keys(d[g]).reduce((p,y)=>(p[y]={...d[g][y]},p),d[g]),d),{});o.store=new Ay(f,s),o.services.resourceStore=o.store}return o.translator=new mu(o.services,s),o.translator.on("*",(f,...d)=>{o.emit(f,...d)}),o.init(s,t),o.translator.options=s,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const It=ba.createInstance();It.createInstance=ba.createInstance,It.createInstance,It.dir,It.init,It.loadResources,It.reloadResources,It.use,It.changeLanguage,It.getFixedT;const ui=It.t;It.exists,It.setDefaultNamespace,It.hasLoadedNamespace,It.loadNamespaces,It.loadLanguages;const e1=(r,e,t,l)=>{var o,u,f,d;const s=[t,{code:e,...l||{}}];if((u=(o=r==null?void 0:r.services)==null?void 0:o.logger)!=null&&u.forward)return r.services.logger.forward(s,"warn","react-i18next::",!0);Ji(s[0])&&(s[0]=`react-i18next:: ${s[0]}`),(d=(f=r==null?void 0:r.services)==null?void 0:f.logger)!=null&&d.warn?r.services.logger.warn(...s):console!=null&&console.warn&&console.warn(...s)},Uy={},yd=(r,e,t,l)=>{Ji(t)&&Uy[t]||(Ji(t)&&(Uy[t]=new Date),e1(r,e,t,l))},jy=(r,e)=>()=>{if(r.isInitialized)e();else{const t=()=>{setTimeout(()=>{r.off("initialized",t)},0),e()};r.on("initialized",t)}},_d=(r,e,t)=>{r.loadNamespaces(e,jy(r,t))},Hy=(r,e,t,l)=>{if(Ji(t)&&(t=[t]),r.options.preload&&r.options.preload.indexOf(e)>-1)return _d(r,t,l);t.forEach(s=>{r.options.ns.indexOf(s)<0&&r.options.ns.push(s)}),r.loadLanguages(e,jy(r,l))},t1=(r,e,t={})=>!e.languages||!e.languages.length?(yd(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(r,{lng:t.lng,precheck:(l,s)=>{var o;if(((o=t.bindI18n)==null?void 0:o.indexOf("languageChanging"))>-1&&l.services.backendConnector.backend&&l.isLanguageChangingTo&&!s(l.isLanguageChangingTo,r))return!1}}),Ji=r=>typeof r=="string",n1=r=>typeof r=="object"&&r!==null,r1=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,i1={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},l1=r=>i1[r];let bd={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:r=>r.replace(r1,l1)};const s1=(r={})=>{bd={...bd,...r}},a1=()=>bd;let Ky;const o1=r=>{Ky=r},u1=()=>Ky,c1={type:"3rdParty",init(r){s1(r.options.react),o1(r)}},f1=L.createContext();class d1{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(t=>{this.usedNamespaces[t]||(this.usedNamespaces[t]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const g1=(r,e)=>{const t=L.useRef();return L.useEffect(()=>{t.current=r},[r,e]),t.current},Iy=(r,e,t,l)=>r.getFixedT(e,t,l),h1=(r,e,t,l)=>L.useCallback(Iy(r,e,t,l),[r,e,t,l]),zr=(r,e={})=>{var O,N,A,D;const{i18n:t}=e,{i18n:l,defaultNS:s}=L.useContext(f1)||{},o=t||l||u1();if(o&&!o.reportNamespaces&&(o.reportNamespaces=new d1),!o){yd(o,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const M=(U,P)=>Ji(P)?P:n1(P)&&Ji(P.defaultValue)?P.defaultValue:Array.isArray(U)?U[U.length-1]:U,k=[M,{},!1];return k.t=M,k.i18n={},k.ready=!1,k}(O=o.options.react)!=null&&O.wait&&yd(o,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const u={...a1(),...o.options.react,...e},{useSuspense:f,keyPrefix:d}=u;let g=s||((N=o.options)==null?void 0:N.defaultNS);g=Ji(g)?[g]:g||["translation"],(D=(A=o.reportNamespaces).addUsedNamespaces)==null||D.call(A,g);const p=(o.isInitialized||o.initializedStoreOnce)&&g.every(M=>t1(M,o,u)),y=h1(o,e.lng||null,u.nsMode==="fallback"?g:g[0],d),b=()=>y,v=()=>Iy(o,e.lng||null,u.nsMode==="fallback"?g:g[0],d),[_,S]=L.useState(b);let x=g.join();e.lng&&(x=`${e.lng}${x}`);const E=g1(x),C=L.useRef(!0);L.useEffect(()=>{const{bindI18n:M,bindI18nStore:k}=u;C.current=!0,!p&&!f&&(e.lng?Hy(o,e.lng,g,()=>{C.current&&S(v)}):_d(o,g,()=>{C.current&&S(v)})),p&&E&&E!==x&&C.current&&S(v);const U=()=>{C.current&&S(v)};return M&&(o==null||o.on(M,U)),k&&(o==null||o.store.on(k,U)),()=>{C.current=!1,o&&(M==null||M.split(" ").forEach(P=>o.off(P,U))),k&&o&&k.split(" ").forEach(P=>o.store.off(P,U))}},[o,x]),L.useEffect(()=>{C.current&&p&&S(b)},[o,d,p]);const T=[_,o,p];if(T.t=_,T.i18n=o,T.ready=p,p||!p&&!f)return T;throw new Promise(M=>{e.lng?Hy(o,e.lng,g,()=>M()):_d(o,g,()=>M())})},p1={translation:{loading:"Loading...","Broken Image":"Broken Image",Normal:"Normal","H1 Heading":"H1 Heading","H2 Heading":"H2 Heading","H3 Heading":"H3 Heading","H4 Heading":"H4 Heading","H5 Heading":"H5 Heading",Quote:"Quote","Code Block":"Code Block","Insert Table":"Insert Table","Insert Image":"Insert Image","# of rows (1-500)":"# of rows (1-500)",Rows:"Rows","# of columns (1-50)":"# of columns (1-50)",Columns:"Columns",Confirm:"Confirm",Insert:"Insert",right:"right",left:"left",above:"above",below:"below","Delete column":"Delete column","Delete row":"Delete row","Delete table":"Delete table",Remove:"Remove",Add:"Add","row header":"row header","column header":"column header",rows_one:"row",rows_other:"{{count}} rows",cols_one:"column",cols_other:"{{count}} columns","Image URL":"Image URL","Image Upload":"Image Upload",File:"File",Bold:"Bold",Italic:"Italic",Underline:"Underline",Strikethrough:"Strikethrough",Code:"Code",Link:"Link","Bullet List":"Bullet List","Numbered List":"Numbered List",Table:"Table",Image:"Image","Horizontal Line":"Horizontal Line","Block Format":"Block Format","Click to add below":"Click to add below"}},m1={translation:{loading:"Загрузка...","Broken Image":"Ошибка",Normal:"Обычный текст","H1 Heading":"H1 Заголовок","H2 Heading":"H2 Заголовок","H3 Heading":"H3 Заголовок","H4 Heading":"H4 Заголовок","H5 Heading":"H5 Заголовок",Quote:"Цитата","Code Block":"Блок с кодом","Insert Table":"Вставить таблицу","Insert Image":"Вставить изображение","# of rows (1-500)":"# строк (1-500)",Rows:"Строки","# of columns (1-50)":"# колонок (1-50)",Columns:"Колонки",Confirm:"Вставить",Insert:"Вставить",right:"справа",left:"слева",above:"сверху",below:"снизу","Delete column":"Удалить колонку","Delete row":"Удалить строку","Delete table":"Удалить таблицу",Remove:"Удалить",Add:"Добавить","row header":"заголовок строки","column header":"заголовок колонки",rows_one:"строку",rows_few:"{{count}} строки",rows_many:"{{count}} строк",cols_one:"колонку",cols_few:"{{count}} колонки",cols_many:"{{count}} колонок","Image URL":"URL изображения","Image Upload":"Загрузить изображение",File:"Файл",Bold:"Жирный",Italic:"Наклонный",Underline:"Подчёркнутый",Strikethrough:"Зачёркнутый",Code:"Код",Link:"Ссылка","Bullet List":"Маркированный список","Numbered List":"Нумерованный список",Table:"Таблица",Image:"Изображение","Horizontal Line":"Горизонтальная линия","Block Format":"Форматирование блока","Click to add below":"Нажмите, чтобы добавить ниже"}};It.use(c1).init({resources:{en:p1,ru:m1},lng:"en",fallbackLng:"en",interpolation:{escapeValue:!1}});const Py=L.createContext(null);function y1(r,e){return{getTheme:function(){return e??null}}}function Fe(){const r=L.useContext(Py);return r==null&&function(e,...t){const l=new URL("https://lexical.dev/docs/error"),s=new URLSearchParams;s.append("code",e);for(const o of t)s.append("v",o);throw l.search=s.toString(),Error(`Minified Lexical error #${e}; visit ${l.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}(8),r}function ge(r,...e){const t=new URL("https://lexical.dev/docs/error"),l=new URLSearchParams;l.append("code",r);for(const s of e)l.append("v",s);throw t.search=l.toString(),Error(`Minified Lexical error #${r}; visit ${t.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}const rr=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,_1=rr&&"documentMode"in document?document.documentMode:null,_r=rr&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),el=rr&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),_u=!(!rr||!("InputEvent"in window)||_1)&&"getTargetRanges"in new window.InputEvent("input"),va=rr&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),Zl=rr&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,b1=rr&&/Android/.test(navigator.userAgent),qy=rr&&/^(?=.*Chrome).*/i.test(navigator.userAgent),Yy=rr&&b1&&qy,bu=rr&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!qy;function vu(...r){const e=[];for(const t of r)if(t&&typeof t=="string")for(const[l]of t.matchAll(/\S+/g))e.push(l);return e}const v1=1,S1=3,x1=9,C1=11,tl=0,Vy=1,Ql=2,E1=0,T1=1,w1=2,Su=4,xu=8,vd=128,N1=1792|(112|(3|Su|xu)|vd),Sd=1,xd=2,Cd=3,Ed=4,Td=5,wd=6,Cu=va||Zl||bu?" ":"​",$r=`

`,A1=el?" ":Cu,Gy="֑-߿יִ-﷽ﹰ-ﻼ",Xy="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿‎Ⰰ-﬜︀-﹯﻽-￿",O1=new RegExp("^[^"+Xy+"]*["+Gy+"]"),R1=new RegExp("^[^"+Gy+"]*["+Xy+"]"),ci={bold:1,capitalize:1024,code:16,highlight:vd,italic:2,lowercase:256,strikethrough:Su,subscript:32,superscript:64,underline:xu,uppercase:512},k1={directionless:1,unmergeable:2},Zy={center:xd,end:wd,justify:Ed,left:Sd,right:Cd,start:Td},M1={[xd]:"center",[wd]:"end",[Ed]:"justify",[Sd]:"left",[Cd]:"right",[Td]:"start"},D1={normal:0,segmented:2,token:1},L1={[E1]:"normal",[w1]:"segmented",[T1]:"token"},z1="$";function Qy(r,e,t,l,s,o){let u=r.getFirstChild();for(;u!==null;){const f=u.__key;u.__parent===e&&(Q(u)&&Qy(u,f,t,l,s,o),t.has(f)||o.delete(f),s.push(f)),u=u.getNextSibling()}}const $1=100;let Nd=!1,Ad=0;function F1(r){Ad=r.timeStamp}function Od(r,e,t){const l=r.nodeName==="BR",s=e.__lexicalLineBreak;return s&&(r===s||l&&r.previousSibling===s)||l&&tc(r,t)!==void 0}function B1(r,e,t){const l=Qt(Pn(t));let s=null,o=null;l!==null&&l.anchorNode===r&&(s=l.anchorOffset,o=l.focusOffset);const u=r.nodeValue;u!==null&&hg(e,u,s,o,!1)}function U1(r,e,t){if(I(r)){const l=r.anchor.getNode();if(l.is(t)&&r.format!==l.getFormat())return!1}return Ir(e)&&t.isAttached()}function j1(r,e,t,l){for(let s=r;s&&!Rw(s);s=qa(s)){const o=tc(s,e);if(o!==void 0){const u=Ge(o,t);if(u)return Ke(u)||!at(s)?void 0:[s,u]}else if(s===l)return[l,gb(t)]}}function Wy(r,e,t){Nd=!0;const l=performance.now()-Ad>$1;try{An(r,()=>{const s=V()||function(b){return b.getEditorState().read(()=>{const v=V();return v!==null?v.clone():null})}(r),o=new Map,u=r.getRootElement(),f=r._editorState,d=r._blockCursorElement;let g=!1,p="";for(let b=0;b<e.length;b++){const v=e[b],_=v.type,S=v.target,x=j1(S,r,f,u);if(!x)continue;const[E,C]=x;if(_==="characterData")l&&se(C)&&Ir(S)&&U1(s,S,C)&&B1(S,C,r);else if(_==="childList"){g=!0;const T=v.addedNodes;for(let A=0;A<T.length;A++){const D=T[A],M=cb(D),k=D.parentNode;if(k!=null&&D!==d&&M===null&&!Od(D,k,r)){if(el){const U=(at(D)?D.innerText:null)||D.nodeValue;U&&(p+=U)}k.removeChild(D)}}const O=v.removedNodes,N=O.length;if(N>0){let A=0;for(let D=0;D<N;D++){const M=O[D];(Od(M,S,r)||d===M)&&(S.appendChild(M),A++)}N!==A&&o.set(E,C)}}}if(o.size>0)for(const[b,v]of o)v.reconcileObservedMutation(b,r);const y=t.takeRecords();if(y.length>0){for(let b=0;b<y.length;b++){const v=y[b],_=v.addedNodes,S=v.target;for(let x=0;x<_.length;x++){const E=_[x],C=E.parentNode;C==null||E.nodeName!=="BR"||Od(E,S,r)||C.removeChild(E)}}t.takeRecords()}s!==null&&(g&&Ye(s),el&&Cb(r)&&s.insertRawText(p))})}finally{Nd=!1}}function Jy(r){const e=r._observer;e!==null&&Wy(r,e.takeRecords(),e)}function e_(r){(function(e){Ad===0&&Pn(e).addEventListener("textInput",F1,!0)})(r),r._observer=new MutationObserver((e,t)=>{Wy(r,e,t)})}let H1=class pT{constructor(e,t=new Map,l=void 0,s=new Map,o=void 0){this.node=e,this.sharedConfigMap=t,this.unknownState=l,this.knownState=s;const u=o!==void 0?o:function(f,d,g){let p=g.size;if(d)for(const y in d){const b=f.get(y);b&&g.has(b)||p++}return p}(t,l,s);this.size=u}getValue(e){const t=this.knownState.get(e);if(t!==void 0)return t;this.sharedConfigMap.set(e.key,e);let l=e.defaultValue;if(this.unknownState&&e.key in this.unknownState){const s=this.unknownState[e.key];s!==void 0&&(l=e.parse(s)),this.updateFromKnown(e,l)}return l}getInternalState(){return[this.unknownState,this.knownState]}toJSON(){const e={...this.unknownState};for(const[t,l]of this.knownState)t.isEqual(l,t.defaultValue)?delete e[t.key]:e[t.key]=t.unparse(l);return Eu(e)?{[z1]:e}:{}}getWritable(e){if(this.node===e)return this;const t=new Map(this.knownState),l=Eu(s=this.unknownState)&&{...s};var s;if(l)for(const o of t.keys())delete l[o.key];return new pT(e,this.sharedConfigMap,Eu(l),t,this.size)}updateFromKnown(e,t){const l=e.key;this.sharedConfigMap.set(l,e);const{knownState:s,unknownState:o}=this;s.has(e)||o&&l in o||this.size++,s.set(e,t)}updateFromUnknown(e,t){const l=this.sharedConfigMap.get(e);l?this.updateFromKnown(l,l.parse(t)):(this.unknownState=this.unknownState||{},e in this.unknownState||this.size++,this.unknownState[e]=t)}updateFromJSON(e){const{knownState:t}=this;for(const l of t.keys())t.set(l,l.defaultValue);if(this.size=t.size,this.unknownState={},e)for(const[l,s]of Object.entries(e))this.updateFromUnknown(l,s);this.unknownState=Eu(this.unknownState)}};function Eu(r){if(r)for(const e in r)return r}function K1(r){const e=r.getWritable(),t=e.__state?e.__state.getWritable(e):new H1(e);return e.__state=t,t}function t_(r,e){const t=r.__mode,l=r.__format,s=r.__style,o=e.__mode,u=e.__format,f=e.__style,d=r.__state,g=e.__state;return(t===null||t===o)&&(l===null||l===u)&&(s===null||s===f)&&(r.__state===null||d===g||function(p,y){if(p===y)return!0;if(p&&y&&p.size!==y.size)return!1;const b=new Set,v=(S,x)=>{for(const[E,C]of S.knownState){if(b.has(E.key))continue;b.add(E.key);const T=x?x.getValue(E):E.defaultValue;if(T!==C&&!E.isEqual(T,C))return!0}return!1},_=(S,x)=>{const{unknownState:E}=S,C=x?x.unknownState:void 0;if(E){for(const[T,O]of Object.entries(E))if(!b.has(T)&&(b.add(T),O!==(C?C[T]:void 0)))return!0}return!1};return!(p&&v(p,y)||y&&v(y,p)||p&&_(p,y)||y&&_(y,p))}(d,g))}function n_(r,e){const t=r.mergeWithSibling(e),l=_t()._normalizedNodes;return l.add(r.__key),l.add(e.__key),t}function r_(r){let e,t,l=r;if(l.__text!==""||!l.isSimpleText()||l.isUnmergeable()){for(;(e=l.getPreviousSibling())!==null&&se(e)&&e.isSimpleText()&&!e.isUnmergeable();){if(e.__text!==""){if(t_(e,l)){l=n_(e,l);break}break}e.remove()}for(;(t=l.getNextSibling())!==null&&se(t)&&t.isSimpleText()&&!t.isUnmergeable();){if(t.__text!==""){if(t_(l,t)){l=n_(l,t);break}break}t.remove()}}else l.remove()}function nl(r){return i_(r.anchor),i_(r.focus),r}function i_(r){for(;r.type==="element";){const e=r.getNode(),t=r.offset;let l,s;if(t===e.getChildrenSize()?(l=e.getChildAtIndex(t-1),s=!0):(l=e.getChildAtIndex(t),s=!1),se(l)){r.set(l.__key,s?l.getTextContentSize():0,"text",!0);break}if(!Q(l))break;r.set(l.__key,s?l.getChildrenSize():0,"element",!0)}}let fi,rn,Sa,Tu,Rd,kd,rl,ir,Md,xa,Mt="",ln="",br=null,vr="",Fr="",l_=!1,Ca=!1,wu=null;function Nu(r,e){const t=rl.get(r);if(e!==null){const l=$d(r);l.parentNode===e&&e.removeChild(l)}if(ir.has(r)||rn._keyToDOMMap.delete(r),Q(t)){const l=Ou(t,rl);Dd(l,0,l.length-1,null)}t!==void 0&&pg(xa,Sa,Tu,t,"destroyed")}function Dd(r,e,t,l){let s=e;for(;s<=t;++s){const o=r[s];o!==void 0&&Nu(o,l)}}function il(r,e){r.setProperty("text-align",e)}const I1="40px";function s_(r,e){const t=fi.theme.indent;if(typeof t=="string"){const s=r.classList.contains(t);e>0&&!s?r.classList.add(t):e<1&&s&&r.classList.remove(t)}const l=getComputedStyle(r).getPropertyValue("--lexical-indent-base-value")||I1;r.style.setProperty("padding-inline-start",e===0?"":`calc(${e} * ${l})`)}function a_(r,e){const t=r.style;e===0?il(t,""):e===Sd?il(t,"left"):e===xd?il(t,"center"):e===Cd?il(t,"right"):e===Ed?il(t,"justify"):e===Td?il(t,"start"):e===wd&&il(t,"end")}function Au(r,e){const t=ir.get(r);t===void 0&&ge(60);const l=t.createDOM(fi,rn);if(function(s,o,u){const f=u._keyToDOMMap;(function(d,g,p){const y=`__lexicalKey_${g._key}`;d[y]=p})(o,u,s),f.set(s,o)}(r,l,rn),se(t)?l.setAttribute("data-lexical-text","true"):Ke(t)&&l.setAttribute("data-lexical-decorator","true"),Q(t)){const s=t.__indent,o=t.__size;if(s!==0&&s_(l,s),o!==0){const f=o-1;(function(d,g,p,y){const b=ln;ln="",Ld(d,p,0,g,p.getDOMSlot(y)),c_(p,y),ln=b})(Ou(t,ir),f,t,l)}const u=t.__format;u!==0&&a_(l,u),t.isInline()||u_(null,t,l),rc(t)&&(Mt+=$r,Fr+=$r)}else{const s=t.getTextContent();if(Ke(t)){const o=t.decorate(rn,fi);o!==null&&f_(r,o),l.contentEditable="false"}else se(t)&&(t.isDirectionless()||(ln+=s));Mt+=s,Fr+=s}return e!==null&&e.insertChild(l),pg(xa,Sa,Tu,t,"created"),l}function Ld(r,e,t,l,s){const o=Mt;Mt="";let u=t;for(;u<=l;++u){Au(r[u],s);const f=ir.get(r[u]);f!==null&&se(f)&&(br===null&&(br=f.getFormat()),vr===""&&(vr=f.getStyle()))}rc(e)&&(Mt+=$r),s.element.__lexicalTextContent=Mt,Mt=o+Mt}function o_(r,e){if(r){const t=r.__last;if(t){const l=e.get(t);if(l)return Nn(l)?"line-break":Ke(l)&&l.isInline()?"decorator":null}return"empty"}return null}function u_(r,e,t){const l=o_(r,rl),s=o_(e,ir);l!==s&&e.getDOMSlot(t).setManagedLineBreak(s)}function c_(r,e){const t=e.__lexicalDirTextContent||"",l=e.__lexicalDir||"";if(t!==ln||l!==wu){const s=ln==="",o=s?wu:function(u){return O1.test(u)?"rtl":R1.test(u)?"ltr":null}(ln);if(o!==l){const u=e.classList,f=fi.theme;let d=l!==null?f[l]:void 0,g=o!==null?f[o]:void 0;if(d!==void 0){if(typeof d=="string"){const p=vu(d);d=f[l]=p}u.remove(...d)}if(o===null||s&&o==="ltr")e.removeAttribute("dir");else{if(g!==void 0){if(typeof g=="string"){const p=vu(g);g=f[o]=p}g!==void 0&&u.add(...g)}e.dir=o}Ca||(r.getWritable().__dir=o)}wu=o,e.__lexicalDirTextContent=ln,e.__lexicalDir=o}}function P1(r,e,t){const l=ln;var s;ln="",br=null,vr="",function(o,u,f){const d=Mt,g=o.__size,p=u.__size;Mt="";const y=f.element;if(g===1&&p===1){const b=o.__first,v=u.__first;if(b===v)Ea(b,y);else{const S=$d(b),x=Au(v,null);try{y.replaceChild(x,S)}catch(E){if(typeof E=="object"&&E!=null){const C=`${E.toString()} Parent: ${y.tagName}, new child: {tag: ${x.tagName} key: ${v}}, old child: {tag: ${S.tagName}, key: ${b}}.`;throw new Error(C)}throw E}Nu(b,null)}const _=ir.get(v);se(_)&&(br===null&&(br=_.getFormat()),vr===""&&(vr=_.getStyle()))}else{const b=Ou(o,rl),v=Ou(u,ir);if(b.length!==g&&ge(227),v.length!==p&&ge(228),g===0)p!==0&&Ld(v,u,0,p-1,f);else if(p===0){if(g!==0){const _=f.after==null&&f.before==null&&f.element.__lexicalLineBreak==null;Dd(b,0,g-1,_?null:y),_&&(y.textContent="")}}else(function(_,S,x,E,C,T){const O=E-1,N=C-1;let A,D,M=T.getFirstChild(),k=0,U=0;for(;k<=O&&U<=N;){const j=S[k],Y=x[U];if(j===Y)M=zd(Ea(Y,T.element)),k++,U++;else{A===void 0&&(A=new Set(S)),D===void 0&&(D=new Set(x));const B=D.has(j),X=A.has(Y);if(B)if(X){const H=fs(rn,Y);H===M?M=zd(Ea(Y,T.element)):(T.withBefore(M).insertChild(H),Ea(Y,T.element)),k++,U++}else Au(Y,T.withBefore(M)),U++;else M=zd($d(j)),Nu(j,T.element),k++}const le=ir.get(Y);le!==null&&se(le)&&(br===null&&(br=le.getFormat()),vr===""&&(vr=le.getStyle()))}const P=k>O,J=U>N;if(P&&!J){const j=x[N+1],Y=j===void 0?null:rn.getElementByKey(j);Ld(x,_,U,N,T.withBefore(Y))}else J&&!P&&Dd(S,k,O,T.element)})(u,b,v,g,p,f)}rc(u)&&(Mt+=$r),y.__lexicalTextContent=Mt,Mt=d+Mt}(r,e,e.getDOMSlot(t)),c_(e,t),s=e,br==null||br===s.__textFormat||Ca||s.setTextFormat(br),function(o){vr===""||vr===o.__textStyle||Ca||o.setTextStyle(vr)}(e),ln=l}function Ou(r,e){const t=[];let l=r.__first;for(;l!==null;){const s=e.get(l);s===void 0&&ge(101),t.push(l),l=s.__next}return t}function Ea(r,e){const t=rl.get(r);let l=ir.get(r);t!==void 0&&l!==void 0||ge(61);const s=l_||kd.has(r)||Rd.has(r),o=fs(rn,r);if(t===l&&!s){if(Q(t)){const u=o.__lexicalTextContent;u!==void 0&&(Mt+=u,Fr+=u);const f=o.__lexicalDirTextContent;f!==void 0&&(ln+=f)}else{const u=t.getTextContent();se(t)&&!t.isDirectionless()&&(ln+=u),Fr+=u,Mt+=u}return o}if(t!==l&&s&&pg(xa,Sa,Tu,l,"updated"),l.updateDOM(t,o,fi)){const u=Au(r,null);return e===null&&ge(62),e.replaceChild(u,o),Nu(r,null),u}if(Q(t)&&Q(l)){const u=l.__indent;u!==t.__indent&&s_(o,u);const f=l.__format;f!==t.__format&&a_(o,f),s&&(P1(t,l,o),Bt(l)||l.isInline()||u_(t,l,o)),rc(l)&&(Mt+=$r,Fr+=$r)}else{const u=l.getTextContent();if(Ke(l)){const f=l.decorate(rn,fi);f!==null&&f_(r,f)}else se(l)&&!l.isDirectionless()&&(ln+=u);Mt+=u,Fr+=u}if(!Ca&&Bt(l)&&l.__cachedText!==Fr){const u=l.getWritable();u.__cachedText=Fr,l=u}return o}function f_(r,e){let t=rn._pendingDecorators;const l=rn._decorators;if(t===null){if(l[r]===e)return;t=fb(rn)}t[r]=e}function zd(r){let e=r.nextSibling;return e!==null&&e===rn._blockCursorElement&&(e=e.nextSibling),e}function q1(r,e,t,l,s,o){Mt="",Fr="",ln="",l_=l===Ql,wu=null,rn=t,fi=t._config,Sa=t._nodes,Tu=rn._listeners.mutation,Rd=s,kd=o,rl=r._nodeMap,ir=e._nodeMap,Ca=e._readOnly,Md=new Map(t._keyToDOMMap);const u=new Map;return xa=u,Ea("root",null),rn=void 0,Sa=void 0,Rd=void 0,kd=void 0,rl=void 0,ir=void 0,fi=void 0,Md=void 0,xa=void 0,u}function $d(r){const e=Md.get(r);return e===void 0&&ge(75,r),e}function Ee(r){return{type:r}}const hn=Ee("SELECTION_CHANGE_COMMAND"),Fd=Ee("SELECTION_INSERT_CLIPBOARD_NODES_COMMAND"),di=Ee("CLICK_COMMAND"),lr=Ee("DELETE_CHARACTER_COMMAND"),gi=Ee("INSERT_LINE_BREAK_COMMAND"),hi=Ee("INSERT_PARAGRAPH_COMMAND"),pi=Ee("CONTROLLED_TEXT_INSERTION_COMMAND"),Wl=Ee("PASTE_COMMAND"),Ru=Ee("REMOVE_TEXT_COMMAND"),ll=Ee("DELETE_WORD_COMMAND"),mi=Ee("DELETE_LINE_COMMAND"),pn=Ee("FORMAT_TEXT_COMMAND"),Bd=Ee("UNDO_COMMAND"),Ud=Ee("REDO_COMMAND"),jd=Ee("KEYDOWN_COMMAND"),Ta=Ee("KEY_ARROW_RIGHT_COMMAND"),Y1=Ee("MOVE_TO_END"),wa=Ee("KEY_ARROW_LEFT_COMMAND"),V1=Ee("MOVE_TO_START"),Na=Ee("KEY_ARROW_UP_COMMAND"),Aa=Ee("KEY_ARROW_DOWN_COMMAND"),yi=Ee("KEY_ENTER_COMMAND"),ku=Ee("KEY_SPACE_COMMAND"),_i=Ee("KEY_BACKSPACE_COMMAND"),sl=Ee("KEY_ESCAPE_COMMAND"),Jl=Ee("KEY_DELETE_COMMAND"),es=Ee("KEY_TAB_COMMAND"),G1=Ee("INSERT_TAB_COMMAND"),d_=Ee("INDENT_CONTENT_COMMAND"),Hd=Ee("OUTDENT_CONTENT_COMMAND"),Oa=Ee("DROP_COMMAND"),g_=Ee("FORMAT_ELEMENT_COMMAND"),Ra=Ee("DRAGSTART_COMMAND"),Mu=Ee("DRAGOVER_COMMAND"),X1=Ee("DRAGEND_COMMAND"),ka=Ee("COPY_COMMAND"),Ma=Ee("CUT_COMMAND"),Du=Ee("SELECT_ALL_COMMAND"),Z1=Ee("CLEAR_EDITOR_COMMAND"),Q1=Ee("CLEAR_HISTORY_COMMAND"),Da=Ee("CAN_REDO_COMMAND"),La=Ee("CAN_UNDO_COMMAND"),Lu=Ee("FOCUS_COMMAND"),zu=Ee("BLUR_COMMAND"),h_=Ee("KEY_MODIFIER_COMMAND"),Br=Object.freeze({}),Kd=30,Id=[["keydown",function(r,e){if(za=r.timeStamp,p_=r.key,!e.isComposing()&&!_e(e,jd,r)&&r.key!=null){if(Yd&&bb(r))return An(e,()=>{Bu(e,Vd)}),Yd=!1,void(Vd="");if(function(t){return it(t,"ArrowRight",{shiftKey:"any"})}(r))_e(e,Ta,r);else if(function(t){return it(t,"ArrowRight",Pr)}(r))_e(e,Y1,r);else if(function(t){return it(t,"ArrowLeft",{shiftKey:"any"})}(r))_e(e,wa,r);else if(function(t){return it(t,"ArrowLeft",Pr)}(r))_e(e,V1,r);else if(function(t){return it(t,"ArrowUp",{altKey:"any",shiftKey:"any"})}(r))_e(e,Na,r);else if(function(t){return it(t,"ArrowDown",{altKey:"any",shiftKey:"any"})}(r))_e(e,Aa,r);else if(function(t){return it(t,"Enter",{altKey:"any",ctrlKey:"any",metaKey:"any",shiftKey:!0})}(r))$a=!0,_e(e,yi,r);else if(function(t){return t.key===" "}(r))_e(e,ku,r);else if(function(t){return _r&&it(t,"o",{ctrlKey:!0})}(r))r.preventDefault(),$a=!0,_e(e,gi,!0);else if(function(t){return it(t,"Enter",{altKey:"any",ctrlKey:"any",metaKey:"any"})}(r))$a=!1,_e(e,yi,r);else if(function(t){return it(t,"Backspace",{shiftKey:"any"})||_r&&it(t,"h",{ctrlKey:!0})}(r))bb(r)?_e(e,_i,r):(r.preventDefault(),_e(e,lr,!0));else if(function(t){return t.key==="Escape"}(r))_e(e,sl,r);else if(function(t){return it(t,"Delete",{})||_r&&it(t,"d",{ctrlKey:!0})}(r))(function(t){return t.key==="Delete"})(r)?_e(e,Jl,r):(r.preventDefault(),_e(e,lr,!1));else if(function(t){return it(t,"Backspace",_b)}(r))r.preventDefault(),_e(e,ll,!0);else if(function(t){return it(t,"Delete",_b)}(r))r.preventDefault(),_e(e,ll,!1);else if(function(t){return _r&&it(t,"Backspace",{metaKey:!0})}(r))r.preventDefault(),_e(e,mi,!0);else if(function(t){return _r&&(it(t,"Delete",{metaKey:!0})||it(t,"k",{ctrlKey:!0}))}(r))r.preventDefault(),_e(e,mi,!1);else if(function(t){return it(t,"b",Pr)}(r))r.preventDefault(),_e(e,pn,"bold");else if(function(t){return it(t,"u",Pr)}(r))r.preventDefault(),_e(e,pn,"underline");else if(function(t){return it(t,"i",Pr)}(r))r.preventDefault(),_e(e,pn,"italic");else if(function(t){return it(t,"Tab",{shiftKey:"any"})}(r))_e(e,es,r);else if(function(t){return it(t,"z",Pr)}(r))r.preventDefault(),_e(e,Bd,void 0);else if(function(t){return _r?it(t,"z",{metaKey:!0,shiftKey:!0}):it(t,"y",{ctrlKey:!0})||it(t,"z",{ctrlKey:!0,shiftKey:!0})}(r))r.preventDefault(),_e(e,Ud,void 0);else{const t=e._editorState._selection;t===null||I(t)?vb(r)&&(r.preventDefault(),_e(e,Du,r)):function(l){return it(l,"c",Pr)}(r)?(r.preventDefault(),_e(e,ka,r)):function(l){return it(l,"x",Pr)}(r)?(r.preventDefault(),_e(e,Ma,r)):vb(r)&&(r.preventDefault(),_e(e,Du,r))}(function(t){return t.ctrlKey||t.shiftKey||t.altKey||t.metaKey})(r)&&_e(e,h_,r)}}],["pointerdown",function(r,e){const t=r.target,l=r.pointerType;or(t)&&l!=="touch"&&l!=="pen"&&r.button===0&&An(e,()=>{ab(t)||(qd=!0)})}],["compositionstart",function(r,e){An(e,()=>{const t=V();if(I(t)&&!e.isComposing()){const l=t.anchor,s=t.anchor.getNode();Pt(l.key),(r.timeStamp<za+Kd||l.type==="element"||!t.isCollapsed()||s.getFormat()!==t.format||se(s)&&s.getStyle()!==t.style)&&_e(e,pi,A1)}})}],["compositionend",function(r,e){el?Fa=!0:Zl||!va&&!bu?An(e,()=>{Bu(e,r.data)}):(Yd=!0,Vd=r.data)}],["input",function(r,e){r.stopPropagation(),An(e,()=>{if(at(r.target)&&ab(r.target))return;const t=V(),l=r.data,s=x_(r);if(l!=null&&I(t)&&__(t,s,l,r.timeStamp,!1)){Fa&&(Bu(e,l),Fa=!1);const o=t.anchor.getNode(),u=Qt(Pn(e));if(u===null)return;const f=t.isBackward(),d=f?t.anchor.offset:t.focus.offset,g=f?t.focus.offset:t.anchor.offset;_u&&!t.isCollapsed()&&se(o)&&u.anchorNode!==null&&o.getTextContent().slice(0,d)+l+o.getTextContent().slice(d+g)===yb(u.anchorNode)||_e(e,pi,l);const p=l.length;el&&p>1&&r.inputType==="insertCompositionText"&&!e.isComposing()&&(t.anchor.offset-=p),va||Zl||bu||!e.isComposing()||(za=0,Pt(null))}else gg(!1,e,l!==null?l:void 0),Fa&&(Bu(e,l||void 0),Fa=!1);(function(){Zt();const o=_t();Jy(o)})()},{event:r}),ts=null}],["click",function(r,e){An(e,()=>{const t=V(),l=Qt(Pn(e)),s=ar();if(l){if(I(t)){const o=t.anchor,u=o.getNode();if(o.type==="element"&&o.offset===0&&t.isCollapsed()&&!Bt(u)&&Je().getChildrenSize()===1&&u.getTopLevelElementOrThrow().isEmpty()&&s!==null&&t.is(s))l.removeAllRanges(),t.dirty=!0;else if(r.detail===3&&!t.isCollapsed()&&u!==t.focus.getNode()){const f=function(d,g){let p=d;for(;p!==Je()&&p!=null;){if(g(p))return p;p=p.getParent()}return null}(u,d=>Q(d)&&!d.isInline());Q(f)&&f.select(0)}}else if(r.pointerType==="touch"||r.pointerType==="pen"){const o=l.anchorNode;(at(o)||Ir(o))&&Ye(Pu(s,l,e,r))}}_e(e,di,r)})}],["cut",Br],["copy",Br],["dragstart",Br],["dragover",Br],["dragend",Br],["paste",Br],["focus",Br],["blur",Br],["drop",Br]];_u&&Id.push(["beforeinput",(r,e)=>function(t,l){const s=t.inputType,o=x_(t);s==="deleteCompositionText"||el&&Cb(l)||s!=="insertCompositionText"&&An(l,()=>{const u=V();if(s==="deleteContentBackward"){if(u===null){const v=ar();if(!I(v))return;Ye(v.clone())}if(I(u)){const v=u.anchor.key===u.focus.key;if(f=t.timeStamp,p_==="MediaLast"&&f<za+Kd&&l.isComposing()&&v){if(Pt(null),za=0,setTimeout(()=>{An(l,()=>{Pt(null)})},Kd),I(u)){const _=u.anchor.getNode();_.markDirty(),se(_)||ge(142),S_(u,_)}}else{Pt(null),t.preventDefault();const _=u.anchor.getNode(),S=_.getTextContent(),x=_.canInsertTextAfter(),E=u.anchor.offset===0&&u.focus.offset===S.length;let C=Yy&&v&&!E&&x;if(C&&u.isCollapsed()&&(C=!Ke(mg(u.anchor,!0))),!C){_e(l,lr,!0);const T=V();Yy&&I(T)&&T.isCollapsed()&&(al=T,setTimeout(()=>al=null))}}return}}var f;if(!I(u))return;const d=t.data;ts!==null&&gg(!1,l,ts),u.dirty&&ts===null||!u.isCollapsed()||Bt(u.anchor.getNode())||o===null||u.applyDOMRange(o),ts=null;const g=u.anchor,p=u.focus,y=g.getNode(),b=p.getNode();if(s!=="insertText"&&s!=="insertTranspose")switch(t.preventDefault(),s){case"insertFromYank":case"insertFromDrop":case"insertReplacementText":_e(l,pi,t);break;case"insertFromComposition":Pt(null),_e(l,pi,t);break;case"insertLineBreak":Pt(null),_e(l,gi,!1);break;case"insertParagraph":Pt(null),$a&&!Zl?($a=!1,_e(l,gi,!1)):_e(l,hi,void 0);break;case"insertFromPaste":case"insertFromPasteAsQuotation":_e(l,Wl,t);break;case"deleteByComposition":(function(v,_){return v!==_||Q(v)||Q(_)||!ul(v)||!ul(_)})(y,b)&&_e(l,Ru,t);break;case"deleteByDrag":case"deleteByCut":_e(l,Ru,t);break;case"deleteContent":_e(l,lr,!1);break;case"deleteWordBackward":_e(l,ll,!0);break;case"deleteWordForward":_e(l,ll,!1);break;case"deleteHardLineBackward":case"deleteSoftLineBackward":_e(l,mi,!0);break;case"deleteContentForward":case"deleteHardLineForward":case"deleteSoftLineForward":_e(l,mi,!1);break;case"formatStrikeThrough":_e(l,pn,"strikethrough");break;case"formatBold":_e(l,pn,"bold");break;case"formatItalic":_e(l,pn,"italic");break;case"formatUnderline":_e(l,pn,"underline");break;case"historyUndo":_e(l,Bd,void 0);break;case"historyRedo":_e(l,Ud,void 0)}else{if(d===`
`)t.preventDefault(),_e(l,gi,!1);else if(d===$r)t.preventDefault(),_e(l,hi,void 0);else if(d==null&&t.dataTransfer){const v=t.dataTransfer.getData("text/plain");t.preventDefault(),u.insertRawText(v)}else d!=null&&__(u,o,d,t.timeStamp,!0)?(t.preventDefault(),_e(l,pi,d)):ts=d;m_=t.timeStamp}})}(r,e)]);let za=0,p_=null,m_=0,ts=null;const $u=new WeakMap;let Pd=!1,qd=!1,$a=!1,Fa=!1,Yd=!1,Vd="",al=null,y_=[0,"",0,"root",0];function __(r,e,t,l,s){const o=r.anchor,u=r.focus,f=o.getNode(),d=_t(),g=Qt(Pn(d)),p=g!==null?g.anchorNode:null,y=o.key,b=d.getElementByKey(y),v=t.length;return y!==u.key||!se(f)||(!s&&(!_u||m_<l+50)||f.isDirty()&&v<2||pb(t))&&o.offset!==u.offset&&!f.isComposing()||Kr(f)||f.isDirty()&&v>1||(s||!_u)&&b!==null&&!f.isComposing()&&p!==os(b)||g!==null&&e!==null&&(!e.collapsed||e.startContainer!==g.anchorNode||e.startOffset!==g.anchorOffset)||f.getFormat()!==r.format||f.getStyle()!==r.style||function(_,S){if(S.isSegmented())return!0;if(!_.isCollapsed())return!1;const x=_.anchor.offset,E=S.getParentOrThrow(),C=ul(S);return x===0?!S.canInsertTextBefore()||!E.canInsertTextBefore()&&!S.isComposing()||C||function(T){const O=T.getPreviousSibling();return(se(O)||Q(O)&&O.isInline())&&!O.canInsertTextAfter()}(S):x===S.getTextContentSize()&&(!S.canInsertTextAfter()||!E.canInsertTextAfter()&&!S.isComposing()||C)}(r,f)}function b_(r,e){return Ir(r)&&r.nodeValue!==null&&e!==0&&e!==r.nodeValue.length}function v_(r,e,t){const{anchorNode:l,anchorOffset:s,focusNode:o,focusOffset:u}=r;Pd&&(Pd=!1,b_(l,s)&&b_(o,u)&&!al)||An(e,()=>{if(!t)return void Ye(null);if(!Pa(e,l,o))return;let f=V();if(al&&I(f)&&f.isCollapsed()){const d=f.anchor,g=al.anchor;(d.key===g.key&&d.offset===g.offset+1||d.offset===1&&g.getNode().is(d.getNode().getPreviousSibling()))&&(f=al.clone(),Ye(f))}if(al=null,I(f)){const d=f.anchor,g=d.getNode();if(f.isCollapsed()){r.type==="Range"&&r.anchorNode===r.focusNode&&(f.dirty=!0);const p=Pn(e).event,y=p?p.timeStamp:performance.now(),[b,v,_,S,x]=y_,E=Je(),C=e.isComposing()===!1&&E.getTextContent()==="";if(y<x+200&&d.offset===_&&d.key===S)Fu(f,b,v);else if(d.type==="text")se(g)||ge(141),S_(f,g);else if(d.type==="element"&&!C){Q(g)||ge(259);const T=d.getNode();T.isEmpty()?function(O,N){const A=N.getTextFormat(),D=N.getTextStyle();Fu(O,A,D)}(f,T):Fu(f,0,"")}}else{const p=d.key,y=f.focus.key,b=f.getNodes(),v=b.length,_=f.isBackward(),S=_?u:s,x=_?s:u,E=_?y:p,C=_?p:y;let T=N1,O=!1;for(let N=0;N<v;N++){const A=b[N],D=A.getTextContentSize();if(se(A)&&D!==0&&!(N===0&&A.__key===E&&S===D||N===v-1&&A.__key===C&&x===0)&&(O=!0,T&=A.getFormat(),T===0))break}f.format=O?T:0}}_e(e,hn,void 0)})}function Fu(r,e,t){r.format===e&&r.style===t||(r.format=e,r.style=t,r.dirty=!0)}function S_(r,e){Fu(r,e.getFormat(),e.getStyle())}function x_(r){if(!r.getTargetRanges)return null;const e=r.getTargetRanges();return e.length===0?null:e[0]}function Bu(r,e){const t=r._compositionKey;if(Pt(null),t!==null&&e!=null){if(e===""){const l=Ge(t),s=os(r.getElementByKey(t));return void(s!==null&&s.nodeValue!==null&&se(l)&&hg(l,s.nodeValue,null,null,!0))}if(e[e.length-1]===`
`){const l=V();if(I(l)){const s=l.focus;return l.anchor.set(s.key,s.offset,s.type),void _e(r,yi,null)}}}gg(!0,r,e)}function C_(r){let e=r.__lexicalEventHandles;return e===void 0&&(e=[],r.__lexicalEventHandles=e),e}const ns=new Map;function E_(r){const e=Nw(r.target);if(e===null)return;const t=ob(e.anchorNode);if(t===null)return;qd&&(qd=!1,An(t,()=>{const d=ar(),g=e.anchorNode;(at(g)||Ir(g))&&Ye(Pu(d,e,t,r))}));const l=dg(t),s=l[l.length-1],o=s._key,u=ns.get(o),f=u||s;f!==t&&v_(e,f,!1),v_(e,t,!0),t!==s?ns.set(o,t):u&&ns.delete(o)}function T_(r){r._lexicalHandled=!0}function w_(r){return r._lexicalHandled===!0}function W1(r){const e=r.ownerDocument,t=$u.get(e);if(t===void 0)return;const l=t-1;l>=0||ge(164),$u.set(e,l),l===0&&e.removeEventListener("selectionchange",E_);const s=Wu(r);cg(s)?(function(u){if(u._parentEditor!==null){const f=dg(u),d=f[f.length-1]._key;ns.get(d)===u&&ns.delete(d)}else ns.delete(u._key)}(s),r.__lexicalEditor=null):s&&ge(198);const o=C_(r);for(let u=0;u<o.length;u++)o[u]();r.__lexicalEventHandles=[]}function Gd(r,e,t){Zt();const l=r.__key,s=r.getParent();if(s===null)return;const o=function(f){const d=V();if(!I(d)||!Q(f))return d;const{anchor:g,focus:p}=d,y=g.getNode(),b=p.getNode();return ic(y,f)&&g.set(f.__key,0,"element"),ic(b,f)&&p.set(f.__key,0,"element"),d}(r);let u=!1;if(I(o)&&e){const f=o.anchor,d=o.focus;f.key===l&&(Yu(f,r,s,r.getPreviousSibling(),r.getNextSibling()),u=!0),d.key===l&&(Yu(d,r,s,r.getPreviousSibling(),r.getNextSibling()),u=!0)}else rt(o)&&e&&r.isSelected()&&r.selectPrevious();if(I(o)&&e&&!u){const f=r.getIndexWithinParent();cl(r),qu(o,s,f,-1)}else cl(r);t||Ct(s)||s.canBeEmpty()||!s.isEmpty()||Gd(s,e),e&&o&&Bt(s)&&s.isEmpty()&&s.selectEnd()}class Uu{static getType(){ge(64,this.name)}static clone(e){ge(65,this.name)}afterCloneFrom(e){this.__parent=e.__parent,this.__next=e.__next,this.__prev=e.__prev,this.__state=e.__state}constructor(e){this.__type=this.constructor.getType(),this.__parent=null,this.__prev=null,this.__next=null,Object.defineProperty(this,"__state",{configurable:!0,enumerable:!1,value:void 0,writable:!0}),ub(this,e)}getType(){return this.__type}isInline(){ge(137,this.constructor.name)}isAttached(){let e=this.__key;for(;e!==null;){if(e==="root")return!0;const t=Ge(e);if(t===null)break;e=t.__parent}return!1}isSelected(e){const t=e||V();if(t==null)return!1;const l=t.getNodes().some(s=>s.__key===this.__key);if(se(this))return l;if(I(t)&&t.anchor.type==="element"&&t.focus.type==="element"){if(t.isCollapsed())return!1;const s=this.getParent();if(Ke(this)&&this.isInline()&&s){const o=t.isBackward()?t.focus:t.anchor;if(s.is(o.getNode())&&o.offset===s.getChildrenSize()&&this.is(s.getLastChild()))return!1}}return l}getKey(){return this.__key}getIndexWithinParent(){const e=this.getParent();if(e===null)return-1;let t=e.getFirstChild(),l=0;for(;t!==null;){if(this.is(t))return l;l++,t=t.getNextSibling()}return-1}getParent(){const e=this.getLatest().__parent;return e===null?null:Ge(e)}getParentOrThrow(){const e=this.getParent();return e===null&&ge(66,this.__key),e}getTopLevelElement(){let e=this;for(;e!==null;){const t=e.getParent();if(Ct(t))return Q(e)||e===this&&Ke(e)||ge(194),e;e=t}return null}getTopLevelElementOrThrow(){const e=this.getTopLevelElement();return e===null&&ge(67,this.__key),e}getParents(){const e=[];let t=this.getParent();for(;t!==null;)e.push(t),t=t.getParent();return e}getParentKeys(){const e=[];let t=this.getParent();for(;t!==null;)e.push(t.__key),t=t.getParent();return e}getPreviousSibling(){const e=this.getLatest().__prev;return e===null?null:Ge(e)}getPreviousSiblings(){const e=[],t=this.getParent();if(t===null)return e;let l=t.getFirstChild();for(;l!==null&&!l.is(this);)e.push(l),l=l.getNextSibling();return e}getNextSibling(){const e=this.getLatest().__next;return e===null?null:Ge(e)}getNextSiblings(){const e=[];let t=this.getNextSibling();for(;t!==null;)e.push(t),t=t.getNextSibling();return e}getCommonAncestor(e){const t=Q(this)?this:this.getParent(),l=Q(e)?e:e.getParent(),s=t&&l?ac(t,l):null;return s?s.commonAncestor:null}is(e){return e!=null&&this.__key===e.__key}isBefore(e){const t=ac(this,e);return t!==null&&(t.type==="descendant"||(t.type==="branch"?Rb(t)===-1:(t.type!=="same"&&t.type!=="ancestor"&&ge(279),!1)))}isParentOf(e){const t=ac(this,e);return t!==null&&t.type==="ancestor"}getNodesBetween(e){const t=this.isBefore(e),l=[],s=new Set;let o=this;for(;o!==null;){const u=o.__key;if(s.has(u)||(s.add(u),l.push(o)),o===e)break;const f=Q(o)?t?o.getFirstChild():o.getLastChild():null;if(f!==null){o=f;continue}const d=t?o.getNextSibling():o.getPreviousSibling();if(d!==null){o=d;continue}const g=o.getParentOrThrow();if(s.has(g.__key)||l.push(g),g===e)break;let p=null,y=g;do{if(y===null&&ge(68),p=t?y.getNextSibling():y.getPreviousSibling(),y=y.getParent(),y===null)break;p!==null||s.has(y.__key)||l.push(y)}while(p===null);o=p}return t||l.reverse(),l}isDirty(){const e=_t()._dirtyLeaves;return e!==null&&e.has(this.__key)}getLatest(){const e=Ge(this.__key);return e===null&&ge(113),e}getWritable(){Zt();const e=jr(),t=_t(),l=e._nodeMap,s=this.__key,o=this.getLatest(),u=t._cloneNotNeeded,f=V();if(f!==null&&f.setCachedNodes(null),u.has(s))return ec(o),o;const d=Tg(o);return u.add(s),ec(d),l.set(s,d),d}getTextContent(){return""}getTextContentSize(){return this.getTextContent().length}createDOM(e,t){ge(70)}updateDOM(e,t,l){ge(71)}exportDOM(e){return{element:this.createDOM(e._config,e)}}exportJSON(){const e=this.__state?this.__state.toJSON():void 0;return{type:this.__type,version:1,...e}}static importJSON(e){ge(18,this.name)}updateFromJSON(e){return function(t,l){const s=t.getWritable();return(l||s.__state)&&K1(t).updateFromJSON(l),s}(this,e.$)}static transform(){return null}remove(e){Gd(this,!0,e)}replace(e,t){Zt();let l=V();l!==null&&(l=l.clone()),_g(this,e);const s=this.getLatest(),o=this.__key,u=e.__key,f=e.getWritable(),d=this.getParentOrThrow().getWritable(),g=d.__size;cl(f);const p=s.getPreviousSibling(),y=s.getNextSibling(),b=s.__prev,v=s.__next,_=s.__parent;if(Gd(s,!1,!0),p===null?d.__first=u:p.getWritable().__next=u,f.__prev=b,y===null?d.__last=u:y.getWritable().__prev=u,f.__next=v,f.__parent=_,d.__size=g,t&&(Q(this)&&Q(f)||ge(139),this.getChildren().forEach(S=>{f.append(S)})),I(l)){Ye(l);const S=l.anchor,x=l.focus;S.key===o&&M_(S,f),x.key===o&&M_(x,f)}return vi()===o&&Pt(u),f}insertAfter(e,t=!0){Zt(),_g(this,e);const l=this.getWritable(),s=e.getWritable(),o=s.getParent(),u=V();let f=!1,d=!1;if(o!==null){const v=e.getIndexWithinParent();if(cl(s),I(u)){const _=o.__key,S=u.anchor,x=u.focus;f=S.type==="element"&&S.key===_&&S.offset===v+1,d=x.type==="element"&&x.key===_&&x.offset===v+1}}const g=this.getNextSibling(),p=this.getParentOrThrow().getWritable(),y=s.__key,b=l.__next;if(g===null?p.__last=y:g.getWritable().__prev=y,p.__size++,l.__next=y,s.__next=b,s.__prev=l.__key,s.__parent=l.__parent,t&&I(u)){const v=this.getIndexWithinParent();qu(u,p,v+1);const _=p.__key;f&&u.anchor.set(_,v+2,"element"),d&&u.focus.set(_,v+2,"element")}return e}insertBefore(e,t=!0){Zt(),_g(this,e);const l=this.getWritable(),s=e.getWritable(),o=s.__key;cl(s);const u=this.getPreviousSibling(),f=this.getParentOrThrow().getWritable(),d=l.__prev,g=this.getIndexWithinParent();u===null?f.__first=o:u.getWritable().__next=o,f.__size++,l.__prev=o,s.__prev=d,s.__next=l.__key,s.__parent=l.__parent;const p=V();return t&&I(p)&&qu(p,this.getParentOrThrow(),g),e}isParentRequired(){return!1}createParentElementNode(){return Ae()}selectStart(){return this.selectPrevious()}selectEnd(){return this.selectNext(0,0)}selectPrevious(e,t){Zt();const l=this.getPreviousSibling(),s=this.getParentOrThrow();if(l===null)return s.select(0,0);if(Q(l))return l.select();if(!se(l)){const o=l.getIndexWithinParent()+1;return s.select(o,o)}return l.select(e,t)}selectNext(e,t){Zt();const l=this.getNextSibling(),s=this.getParentOrThrow();if(l===null)return s.select();if(Q(l))return l.select(0,0);if(!se(l)){const o=l.getIndexWithinParent();return s.select(o,o)}return l.select(e,t)}markDirty(){this.getWritable()}reconcileObservedMutation(e,t){this.markDirty()}}class Ba extends Uu{static getType(){return"linebreak"}static clone(e){return new Ba(e.__key)}constructor(e){super(e)}getTextContent(){return`
`}createDOM(){return document.createElement("br")}updateDOM(){return!1}isInline(){return!0}static importDOM(){return{br:e=>function(t){const l=t.parentElement;if(l!==null&&lc(l)){const s=l.firstChild;if(s===t||s.nextSibling===t&&ju(s)){const o=l.lastChild;if(o===t||o.previousSibling===t&&ju(o))return!0}}return!1}(e)||function(t){const l=t.parentElement;if(l!==null&&lc(l)){const s=l.firstChild;if(s===t||s.nextSibling===t&&ju(s))return!1;const o=l.lastChild;if(o===t||o.previousSibling===t&&ju(o))return!0}return!1}(e)?null:{conversion:J1,priority:0}}}static importJSON(e){return In().updateFromJSON(e)}}function J1(r){return{node:In()}}function In(){return At(new Ba)}function Nn(r){return r instanceof Ba}function ju(r){return Ir(r)&&/^( |\t|\r?\n)+$/.test(r.textContent||"")}function Xd(r,e){return 16&e?"code":e&vd?"mark":32&e?"sub":64&e?"sup":null}function Zd(r,e){return 1&e?"strong":2&e?"em":"span"}function N_(r,e,t,l,s){const o=l.classList;let u=cs(s,"base");u!==void 0&&o.add(...u),u=cs(s,"underlineStrikethrough");let f=!1;const d=e&xu&&e&Su;u!==void 0&&(t&xu&&t&Su?(f=!0,d||o.add(...u)):d&&o.remove(...u));for(const g in ci){const p=ci[g];if(u=cs(s,g),u!==void 0)if(t&p){if(f&&(g==="underline"||g==="strikethrough")){e&p&&o.remove(...u);continue}e&p&&(!d||g!=="underline")&&g!=="strikethrough"||o.add(...u)}else e&p&&o.remove(...u)}}function A_(r,e,t){const l=e.firstChild,s=t.isComposing(),o=r+(s?Cu:"");if(l==null)e.textContent=o;else{const u=l.nodeValue;if(u!==o)if(s||el){const[f,d,g]=function(p,y){const b=p.length,v=y.length;let _=0,S=0;for(;_<b&&_<v&&p[_]===y[_];)_++;for(;S+_<b&&S+_<v&&p[b-S-1]===y[v-S-1];)S++;return[_,b-_-S,y.slice(_,v-S)]}(u,o);d!==0&&l.deleteData(f,d),l.insertData(f,g)}else l.nodeValue=o}}function O_(r,e,t,l,s,o){A_(s,r,e);const u=o.theme.text;u!==void 0&&N_(0,0,l,r,u)}function Hu(r,e){const t=document.createElement(e);return t.appendChild(r),t}class sr extends Uu{static getType(){return"text"}static clone(e){return new sr(e.__text,e.__key)}afterCloneFrom(e){super.afterCloneFrom(e),this.__text=e.__text,this.__format=e.__format,this.__style=e.__style,this.__mode=e.__mode,this.__detail=e.__detail}constructor(e="",t){super(t),this.__text=e,this.__format=0,this.__style="",this.__mode=0,this.__detail=0}getFormat(){return this.getLatest().__format}getDetail(){return this.getLatest().__detail}getMode(){const e=this.getLatest();return L1[e.__mode]}getStyle(){return this.getLatest().__style}isToken(){return this.getLatest().__mode===1}isComposing(){return this.__key===vi()}isSegmented(){return this.getLatest().__mode===2}isDirectionless(){return!!(1&this.getLatest().__detail)}isUnmergeable(){return!!(2&this.getLatest().__detail)}hasFormat(e){const t=ci[e];return!!(this.getFormat()&t)}isSimpleText(){return this.__type==="text"&&this.__mode===0}getTextContent(){return this.getLatest().__text}getFormatFlags(e,t){return Ju(this.getLatest().__format,e,t)}canHaveFormat(){return!0}isInline(){return!0}createDOM(e,t){const l=this.__format,s=Xd(0,l),o=Zd(0,l),u=s===null?o:s,f=document.createElement(u);let d=f;this.hasFormat("code")&&f.setAttribute("spellcheck","false"),s!==null&&(d=document.createElement(o),f.appendChild(d)),O_(d,this,0,l,this.__text,e);const g=this.__style;return g!==""&&(f.style.cssText=g),f}updateDOM(e,t,l){const s=this.__text,o=e.__format,u=this.__format,f=Xd(0,o),d=Xd(0,u),g=Zd(0,o),p=Zd(0,u);if((f===null?g:f)!==(d===null?p:d))return!0;if(f===d&&g!==p){const S=t.firstChild;S==null&&ge(48);const x=document.createElement(p);return O_(x,this,0,u,s,l),t.replaceChild(x,S),!1}let y=t;d!==null&&f!==null&&(y=t.firstChild,y==null&&ge(49)),A_(s,y,this);const b=l.theme.text;b!==void 0&&o!==u&&N_(0,o,u,y,b);const v=e.__style,_=this.__style;return v!==_&&(t.style.cssText=_),!1}static importDOM(){return{"#text":()=>({conversion:rw,priority:0}),b:()=>({conversion:tw,priority:0}),code:()=>({conversion:Ur,priority:0}),em:()=>({conversion:Ur,priority:0}),i:()=>({conversion:Ur,priority:0}),mark:()=>({conversion:Ur,priority:0}),s:()=>({conversion:Ur,priority:0}),span:()=>({conversion:ew,priority:0}),strong:()=>({conversion:Ur,priority:0}),sub:()=>({conversion:Ur,priority:0}),sup:()=>({conversion:Ur,priority:0}),u:()=>({conversion:Ur,priority:0})}}static importJSON(e){return Be().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setTextContent(e.text).setFormat(e.format).setDetail(e.detail).setMode(e.mode).setStyle(e.style)}exportDOM(e){let{element:t}=super.exportDOM(e);return at(t)||ge(132),t.style.whiteSpace="pre-wrap",this.hasFormat("lowercase")?t.style.textTransform="lowercase":this.hasFormat("uppercase")?t.style.textTransform="uppercase":this.hasFormat("capitalize")&&(t.style.textTransform="capitalize"),this.hasFormat("bold")&&(t=Hu(t,"b")),this.hasFormat("italic")&&(t=Hu(t,"i")),this.hasFormat("strikethrough")&&(t=Hu(t,"s")),this.hasFormat("underline")&&(t=Hu(t,"u")),{element:t}}exportJSON(){return{detail:this.getDetail(),format:this.getFormat(),mode:this.getMode(),style:this.getStyle(),text:this.getTextContent(),...super.exportJSON()}}selectionTransform(e,t){}setFormat(e){const t=this.getWritable();return t.__format=typeof e=="string"?ci[e]:e,t}setDetail(e){const t=this.getWritable();return t.__detail=typeof e=="string"?k1[e]:e,t}setStyle(e){const t=this.getWritable();return t.__style=e,t}toggleFormat(e){const t=Ju(this.getFormat(),e,null);return this.setFormat(t)}toggleDirectionless(){const e=this.getWritable();return e.__detail^=1,e}toggleUnmergeable(){const e=this.getWritable();return e.__detail^=2,e}setMode(e){const t=D1[e];if(this.__mode===t)return this;const l=this.getWritable();return l.__mode=t,l}setTextContent(e){if(this.__text===e)return this;const t=this.getWritable();return t.__text=e,t}select(e,t){Zt();let l=e,s=t;const o=V(),u=this.getTextContent(),f=this.__key;if(typeof u=="string"){const d=u.length;l===void 0&&(l=d),s===void 0&&(s=d)}else l=0,s=0;if(!I(o))return j_(f,l,f,s,"text","text");{const d=vi();d!==o.anchor.key&&d!==o.focus.key||Pt(f),o.setTextNodeRange(this,l,this,s)}return o}selectStart(){return this.select(0,0)}selectEnd(){const e=this.getTextContentSize();return this.select(e,e)}spliceText(e,t,l,s){const o=this.getWritable(),u=o.__text,f=l.length;let d=e;d<0&&(d=f+d,d<0&&(d=0));const g=V();if(s&&I(g)){const y=e+f;g.setTextNodeRange(o,y,o,y)}const p=u.slice(0,d)+l+u.slice(d+t);return o.__text=p,o}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}splitText(...e){Zt();const t=this.getLatest(),l=t.getTextContent();if(l==="")return[];const s=t.__key,o=vi(),u=l.length;e.sort((M,k)=>M-k),e.push(u);const f=[],d=e.length;for(let M=0,k=0;M<u&&k<=d;k++){const U=e[k];U>M&&(f.push(l.slice(M,U)),M=U)}const g=f.length;if(g===1)return[t];const p=f[0],y=t.getParent();let b;const v=t.getFormat(),_=t.getStyle(),S=t.__detail;let x=!1,E=null,C=null;const T=V();if(I(T)){const[M,k]=T.isBackward()?[T.focus,T.anchor]:[T.anchor,T.focus];M.type==="text"&&M.key===s&&(E=M),k.type==="text"&&k.key===s&&(C=k)}t.isSegmented()?(b=Be(p),b.__format=v,b.__style=_,b.__detail=S,x=!0):b=t.setTextContent(p);const O=[b];for(let M=1;M<g;M++){const k=Be(f[M]);k.__format=v,k.__style=_,k.__detail=S;const U=k.__key;o===s&&Pt(U),O.push(k)}const N=E?E.offset:null,A=C?C.offset:null;let D=0;for(const M of O){if(!E&&!C)break;const k=D+M.getTextContentSize();if(E!==null&&N!==null&&N<=k&&N>=D&&(E.set(M.getKey(),N-D,"text"),N<k&&(E=null)),C!==null&&A!==null&&A<=k&&A>=D){C.set(M.getKey(),A-D,"text");break}D=k}if(y!==null){(function(U){const P=U.getPreviousSibling(),J=U.getNextSibling();P!==null&&ec(P),J!==null&&ec(J)})(this);const M=y.getWritable(),k=this.getIndexWithinParent();x?(M.splice(k,0,O),this.remove()):M.splice(k,1,O),I(T)&&qu(T,y,k,g-1)}return O}mergeWithSibling(e){const t=e===this.getPreviousSibling();t||e===this.getNextSibling()||ge(50);const l=this.__key,s=e.__key,o=this.__text,u=o.length;vi()===s&&Pt(l);const f=V();if(I(f)){const y=f.anchor,b=f.focus;y!==null&&y.key===s&&K_(y,t,l,e,u),b!==null&&b.key===s&&K_(b,t,l,e,u)}const d=e.__text,g=t?d+o:o+d;this.setTextContent(g);const p=this.getWritable();return e.remove(),p}isTextEntity(){return!1}}function ew(r){return{forChild:Qd(r.style),node:null}}function tw(r){const e=r,t=e.style.fontWeight==="normal";return{forChild:Qd(e.style,t?void 0:"bold"),node:null}}const R_=new WeakMap;function nw(r){if(!at(r))return!1;if(r.nodeName==="PRE")return!0;const e=r.style.whiteSpace;return typeof e=="string"&&e.startsWith("pre")}function rw(r){const e=r;r.parentElement===null&&ge(129);let t=e.textContent||"";if(function(l){let s,o=l.parentNode;const u=[l];for(;o!==null&&(s=R_.get(o))===void 0&&!nw(o);)u.push(o),o=o.parentNode;const f=s===void 0?o:s;for(let d=0;d<u.length;d++)R_.set(u[d],f);return f}(e)!==null){const l=t.split(/(\r?\n|\t)/),s=[],o=l.length;for(let u=0;u<o;u++){const f=l[u];f===`
`||f===`\r
`?s.push(In()):f==="	"?s.push(rs()):f!==""&&s.push(Be(f))}return{node:s}}if(t=t.replace(/\r/g,"").replace(/[ \t\n]+/g," "),t==="")return{node:null};if(t[0]===" "){let l=e,s=!0;for(;l!==null&&(l=k_(l,!1))!==null;){const o=l.textContent||"";if(o.length>0){/[ \t\n]$/.test(o)&&(t=t.slice(1)),s=!1;break}}s&&(t=t.slice(1))}if(t[t.length-1]===" "){let l=e,s=!0;for(;l!==null&&(l=k_(l,!0))!==null;)if((l.textContent||"").replace(/^( |\t|\r?\n)+/,"").length>0){s=!1;break}s&&(t=t.slice(0,t.length-1))}return t===""?{node:null}:{node:Be(t)}}function k_(r,e){let t=r;for(;;){let l;for(;(l=e?t.nextSibling:t.previousSibling)===null;){const o=t.parentElement;if(o===null)return null;t=o}if(t=l,at(t)){const o=t.style.display;if(o===""&&!xg(t)||o!==""&&!o.startsWith("inline"))return null}let s=t;for(;(s=e?t.firstChild:t.lastChild)!==null;)t=s;if(Ir(t))return t;if(t.nodeName==="BR")return null}}const iw={code:"code",em:"italic",i:"italic",mark:"highlight",s:"strikethrough",strong:"bold",sub:"subscript",sup:"superscript",u:"underline"};function Ur(r){const e=iw[r.nodeName.toLowerCase()];return e===void 0?{node:null}:{forChild:Qd(r.style,e),node:null}}function Be(r=""){return At(new sr(r))}function se(r){return r instanceof sr}function Qd(r,e){const t=r.fontWeight,l=r.textDecoration.split(" "),s=t==="700"||t==="bold",o=l.includes("line-through"),u=r.fontStyle==="italic",f=l.includes("underline"),d=r.verticalAlign;return g=>(se(g)&&(s&&!g.hasFormat("bold")&&g.toggleFormat("bold"),o&&!g.hasFormat("strikethrough")&&g.toggleFormat("strikethrough"),u&&!g.hasFormat("italic")&&g.toggleFormat("italic"),f&&!g.hasFormat("underline")&&g.toggleFormat("underline"),d!=="sub"||g.hasFormat("subscript")||g.toggleFormat("subscript"),d!=="super"||g.hasFormat("superscript")||g.toggleFormat("superscript"),e&&!g.hasFormat(e)&&g.toggleFormat(e)),g)}class Ua extends sr{static getType(){return"tab"}static clone(e){return new Ua(e.__key)}constructor(e){super("	",e),this.__detail=2}static importDOM(){return null}createDOM(e){const t=super.createDOM(e),l=cs(e.theme,"tab");return l!==void 0&&t.classList.add(...l),t}static importJSON(e){return rs().updateFromJSON(e)}setTextContent(e){return e!=="	"&&e!==""&&ge(126),super.setTextContent("	")}spliceText(e,t,l,s){return l===""&&t===0||l==="	"&&t===1||ge(286),this}setDetail(e){return e!==2&&ge(127),this}setMode(e){return e!=="normal"&&ge(128),this}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}}function rs(){return At(new Ua)}function Ku(r){return r instanceof Ua}class lw{constructor(e,t,l){this._selection=null,this.key=e,this.offset=t,this.type=l}is(e){return this.key===e.key&&this.offset===e.offset&&this.type===e.type}isBefore(e){return this.key===e.key?this.offset<e.offset:Ob(sn(Sr(this,"next")),sn(Sr(e,"next")))<0}getNode(){const e=Ge(this.key);return e===null&&ge(20),e}set(e,t,l,s){const o=this._selection,u=this.key;s&&this.key===e&&this.offset===t&&this.type===l||(this.key=e,this.offset=t,this.type=l,ls()||(vi()===u&&Pt(e),o!==null&&(o.setCachedNodes(null),o.dirty=!0)))}}function mn(r,e,t){return new lw(r,e,t)}function Wd(r,e){let t=e.__key,l=r.offset,s="element";if(se(e)){s="text";const o=e.getTextContentSize();l>o&&(l=o)}else if(!Q(e)){const o=e.getNextSibling();if(se(o))t=o.__key,l=0,s="text";else{const u=e.getParent();u&&(t=u.__key,l=e.getIndexWithinParent()+1)}}r.set(t,l,s)}function M_(r,e){if(Q(e)){const t=e.getLastDescendant();Q(t)||se(t)?Wd(r,t):Wd(r,e)}else Wd(r,e)}class Iu{constructor(e){this._cachedNodes=null,this._nodes=e,this.dirty=!1}getCachedNodes(){return this._cachedNodes}setCachedNodes(e){this._cachedNodes=e}is(e){if(!rt(e))return!1;const t=this._nodes,l=e._nodes;return t.size===l.size&&Array.from(t).every(s=>l.has(s))}isCollapsed(){return!1}isBackward(){return!1}getStartEndPoints(){return null}add(e){this.dirty=!0,this._nodes.add(e),this._cachedNodes=null}delete(e){this.dirty=!0,this._nodes.delete(e),this._cachedNodes=null}clear(){this.dirty=!0,this._nodes.clear(),this._cachedNodes=null}has(e){return this._nodes.has(e)}clone(){return new Iu(new Set(this._nodes))}extract(){return this.getNodes()}insertRawText(e){}insertText(){}insertNodes(e){const t=this.getNodes(),l=t.length,s=t[l-1];let o;if(se(s))o=s.select();else{const u=s.getIndexWithinParent()+1;o=s.getParentOrThrow().select(u,u)}o.insertNodes(e);for(let u=0;u<l;u++)t[u].remove()}getNodes(){const e=this._cachedNodes;if(e!==null)return e;const t=this._nodes,l=[];for(const s of t){const o=Ge(s);o!==null&&l.push(o)}return ls()||(this._cachedNodes=l),l}getTextContent(){const e=this.getNodes();let t="";for(let l=0;l<e.length;l++)t+=e[l].getTextContent();return t}deleteNodes(){const e=this.getNodes();if((V()||ar())===this&&e[0]){const t=vt(e[0],"next");Mb(pl(t,t))}for(const t of e)t.remove()}}function I(r){return r instanceof ol}class ol{constructor(e,t,l,s){this.anchor=e,this.focus=t,e._selection=this,t._selection=this,this._cachedNodes=null,this.format=l,this.style=s,this.dirty=!1}getCachedNodes(){return this._cachedNodes}setCachedNodes(e){this._cachedNodes=e}is(e){return!!I(e)&&this.anchor.is(e.anchor)&&this.focus.is(e.focus)&&this.format===e.format&&this.style===e.style}isCollapsed(){return this.anchor.is(this.focus)}getNodes(){const e=this._cachedNodes;if(e!==null)return e;const t=function(l){const s=[],[o,u]=l.getTextSlices();o&&s.push(o.caret.origin);const f=new Set,d=new Set;for(const g of l)if(bn(g)){const{origin:p}=g;s.length===0?f.add(p):(d.add(p),s.push(p))}else{const{origin:p}=g;Q(p)&&d.has(p)||s.push(p)}if(u&&s.push(u.caret.origin),xi(l.focus)&&Q(l.focus.origin)&&l.focus.getNodeAtCaret()===null)for(let g=vn(l.focus.origin,"previous");bn(g)&&f.has(g.origin)&&!g.origin.isEmpty()&&g.origin.is(s[s.length-1]);g=Ga(g))f.delete(g.origin),s.pop();for(;s.length>1;){const g=s[s.length-1];if(!Q(g)||d.has(g)||g.isEmpty()||f.has(g))break;s.pop()}if(s.length===0&&l.isCollapsed()){const g=sn(l.anchor),p=sn(l.anchor.getFlipped()),y=v=>qr(v)?v.origin:v.getNodeAtCaret(),b=y(g)||y(p)||(l.anchor.getNodeAtCaret()?g.origin:p.origin);s.push(b)}return s}(zb(Db(this),"next"));return ls()||(this._cachedNodes=t),t}setTextNodeRange(e,t,l,s){this.anchor.set(e.__key,t,"text"),this.focus.set(l.__key,s,"text")}getTextContent(){const e=this.getNodes();if(e.length===0)return"";const t=e[0],l=e[e.length-1],s=this.anchor,o=this.focus,u=s.isBefore(o),[f,d]=Jd(this);let g="",p=!0;for(let y=0;y<e.length;y++){const b=e[y];if(Q(b)&&!b.isInline())p||(g+=`
`),p=!b.isEmpty();else if(p=!1,se(b)){let v=b.getTextContent();b===t?b===l?s.type==="element"&&o.type==="element"&&o.offset!==s.offset||(v=f<d?v.slice(f,d):v.slice(d,f)):v=u?v.slice(f):v.slice(d):b===l&&(v=u?v.slice(0,d):v.slice(0,f)),g+=v}else!Ke(b)&&!Nn(b)||b===l&&this.isCollapsed()||(g+=b.getTextContent())}return g}applyDOMRange(e){const t=_t(),l=t.getEditorState()._selection,s=U_(e.startContainer,e.startOffset,e.endContainer,e.endOffset,t,l);if(s===null)return;const[o,u]=s;this.anchor.set(o.key,o.offset,o.type,!0),this.focus.set(u.key,u.offset,u.type,!0),nl(this)}clone(){const e=this.anchor,t=this.focus;return new ol(mn(e.key,e.offset,e.type),mn(t.key,t.offset,t.type),this.format,this.style)}toggleFormat(e){this.format=Ju(this.format,e,null),this.dirty=!0}setStyle(e){this.style=e,this.dirty=!0}hasFormat(e){const t=ci[e];return!!(this.format&t)}insertRawText(e){const t=e.split(/(\r?\n|\t)/),l=[],s=t.length;for(let o=0;o<s;o++){const u=t[o];u===`
`||u===`\r
`?l.push(In()):u==="	"?l.push(rs()):l.push(Be(u))}this.insertNodes(l)}insertText(e){const t=this.anchor,l=this.focus,s=this.format,o=this.style;let u=t,f=l;!this.isCollapsed()&&l.isBefore(t)&&(u=l,f=t),u.type==="element"&&function(x,E,C,T){const O=x.getNode(),N=O.getChildAtIndex(x.offset),A=Be(),D=Bt(O)?Ae().append(A):A;A.setFormat(C),A.setStyle(T),N===null?O.append(D):N.insertBefore(D),x.is(E)&&E.set(A.__key,0,"text"),x.set(A.__key,0,"text")}(u,f,s,o),f.type==="element"&&ur(f,sn(Sr(f,"next")));const d=u.offset;let g=f.offset;const p=this.getNodes(),y=p.length;let b=p[0];se(b)||ge(26);const v=b.getTextContent().length,_=b.getParentOrThrow();let S=p[y-1];if(y===1&&f.type==="element"&&(g=v,f.set(u.key,g,"text")),this.isCollapsed()&&d===v&&(Kr(b)||!b.canInsertTextAfter()||!_.canInsertTextAfter()&&b.getNextSibling()===null)){let x=b.getNextSibling();if(se(x)&&x.canInsertTextBefore()&&!Kr(x)||(x=Be(),x.setFormat(s),x.setStyle(o),_.canInsertTextAfter()?b.insertAfter(x):_.insertAfter(x)),x.select(0,0),b=x,e!=="")return void this.insertText(e)}else if(this.isCollapsed()&&d===0&&(Kr(b)||!b.canInsertTextBefore()||!_.canInsertTextBefore()&&b.getPreviousSibling()===null)){let x=b.getPreviousSibling();if(se(x)&&!Kr(x)||(x=Be(),x.setFormat(s),_.canInsertTextBefore()?b.insertBefore(x):_.insertBefore(x)),x.select(),b=x,e!=="")return void this.insertText(e)}else if(b.isSegmented()&&d!==v){const x=Be(b.getTextContent());x.setFormat(s),b.replace(x),b=x}else if(!this.isCollapsed()&&e!==""){const x=S.getParent();if(!_.canInsertTextBefore()||!_.canInsertTextAfter()||Q(x)&&(!x.canInsertTextBefore()||!x.canInsertTextAfter()))return this.insertText(""),B_(this.anchor,this.focus,null),void this.insertText(e)}if(y===1){if(ul(b)){const T=Be(e);return T.select(),void b.replace(T)}const x=b.getFormat(),E=b.getStyle();if(d!==g||x===s&&E===o){if(Ku(b)){const T=Be(e);return T.setFormat(s),T.setStyle(o),T.select(),void b.replace(T)}}else{if(b.getTextContent()!==""){const T=Be(e);if(T.setFormat(s),T.setStyle(o),T.select(),d===0)b.insertBefore(T,!1);else{const[O]=b.splitText(d);O.insertAfter(T,!1)}return void(T.isComposing()&&this.anchor.type==="text"&&(this.anchor.offset-=e.length))}b.setFormat(s),b.setStyle(o)}const C=g-d;b=b.spliceText(d,C,e,!0),b.getTextContent()===""?b.remove():this.anchor.type==="text"&&(b.isComposing()?this.anchor.offset-=e.length:(this.format=x,this.style=E))}else{const x=new Set([...b.getParentKeys(),...S.getParentKeys()]),E=Q(b)?b:b.getParentOrThrow();let C=Q(S)?S:S.getParentOrThrow(),T=S;if(!E.is(C)&&C.isInline())do T=C,C=C.getParentOrThrow();while(C.isInline());if(f.type==="text"&&(g!==0||S.getTextContent()==="")||f.type==="element"&&S.getIndexWithinParent()<g)if(se(S)&&!ul(S)&&g!==S.getTextContentSize()){if(S.isSegmented()){const M=Be(S.getTextContent());S.replace(M),S=M}Bt(f.getNode())||f.type!=="text"||(S=S.spliceText(0,g,"")),x.add(S.__key)}else{const M=S.getParentOrThrow();M.canBeEmpty()||M.getChildrenSize()!==1?S.remove():M.remove()}else x.add(S.__key);const O=C.getChildren(),N=new Set(p),A=E.is(C),D=E.isInline()&&b.getNextSibling()===null?E:b;for(let M=O.length-1;M>=0;M--){const k=O[M];if(k.is(b)||Q(k)&&k.isParentOf(b))break;k.isAttached()&&(!N.has(k)||k.is(T)?A||D.insertAfter(k,!1):k.remove())}if(!A){let M=C,k=null;for(;M!==null;){const U=M.getChildren(),P=U.length;(P===0||U[P-1].is(k))&&(x.delete(M.__key),k=M),M=M.getParent()}}if(ul(b))if(d===v)b.select();else{const M=Be(e);M.select(),b.replace(M)}else b=b.spliceText(d,v-d,e,!0),b.getTextContent()===""?b.remove():b.isComposing()&&this.anchor.type==="text"&&(this.anchor.offset-=e.length);for(let M=1;M<y;M++){const k=p[M],U=k.__key;x.has(U)||k.remove()}}}removeText(){const e=V()===this;oc(this,Bw(Db(this))),e&&V()!==this&&Ye(this)}formatText(e,t=null){if(this.isCollapsed())return this.toggleFormat(e),void Pt(null);const l=this.getNodes(),s=[];for(const O of l)se(O)&&s.push(O);const o=O=>{l.forEach(N=>{if(Q(N)){const A=N.getFormatFlags(e,O);N.setTextFormat(A)}})},u=s.length;if(u===0)return this.toggleFormat(e),Pt(null),void o(t);const f=this.anchor,d=this.focus,g=this.isBackward(),p=g?d:f,y=g?f:d;let b=0,v=s[0],_=p.type==="element"?0:p.offset;if(p.type==="text"&&_===v.getTextContentSize()&&(b=1,v=s[1],_=0),v==null)return;const S=v.getFormatFlags(e,t);o(S);const x=u-1;let E=s[x];const C=y.type==="text"?y.offset:E.getTextContentSize();if(v.is(E)){if(_===C)return;if(Kr(v)||_===0&&C===v.getTextContentSize())v.setFormat(S);else{const O=v.splitText(_,C),N=_===0?O[0]:O[1];N.setFormat(S),p.type==="text"&&p.set(N.__key,0,"text"),y.type==="text"&&y.set(N.__key,C-_,"text")}return void(this.format=S)}_===0||Kr(v)||([,v]=v.splitText(_),_=0),v.setFormat(S);const T=E.getFormatFlags(e,S);C>0&&(C===E.getTextContentSize()||Kr(E)||([E]=E.splitText(C)),E.setFormat(T));for(let O=b+1;O<x;O++){const N=s[O],A=N.getFormatFlags(e,T);N.setFormat(A)}p.type==="text"&&p.set(v.__key,_,"text"),y.type==="text"&&y.set(E.__key,C,"text"),this.format=S|T}insertNodes(e){if(e.length===0)return;if(this.isCollapsed()||this.removeText(),this.anchor.key==="root"){this.insertParagraph();const _=V();return I(_)||ge(134),_.insertNodes(e)}const t=(this.isBackward()?this.focus:this.anchor).getNode(),l=Cg(t,Si),s=e[e.length-1];if(Q(l)&&"__language"in l){if("__language"in e[0])this.insertText(e[0].getTextContent());else{const _=rg(this);l.splice(_,0,e),s.selectEnd()}return}if(!e.some(_=>(Q(_)||Ke(_))&&!_.isInline())){Q(l)||ge(211,t.constructor.name,t.getType());const _=rg(this);return l.splice(_,0,e),void s.selectEnd()}const o=function(_){const S=Ae();let x=null;for(let E=0;E<_.length;E++){const C=_[E],T=Nn(C);if(T||Ke(C)&&C.isInline()||Q(C)&&C.isInline()||se(C)||C.isParentRequired()){if(x===null&&(x=C.createParentElementNode(),S.append(x),T))continue;x!==null&&x.append(C)}else S.append(C),x=null}return S}(e),u=o.getLastDescendant(),f=o.getChildren(),d=!Q(l)||!l.isEmpty()?this.insertParagraph():null,g=f[f.length-1];let p=f[0];var y;Q(y=p)&&Si(y)&&!y.isEmpty()&&Q(l)&&(!l.isEmpty()||l.canMergeWhenEmpty())&&(Q(l)||ge(211,t.constructor.name,t.getType()),l.append(...p.getChildren()),p=f[1]),p&&(l===null&&ge(212,t.constructor.name,t.getType()),function(_,S,x){const E=S.getParentOrThrow().getLastChild();let C=S;const T=[S];for(;C!==E;)C.getNextSibling()||ge(140),C=C.getNextSibling(),T.push(C);let O=_;for(const N of T)O=O.insertAfter(N)}(l,p));const b=Cg(u,Si);d&&Q(b)&&(d.canMergeWhenEmpty()||Si(g))&&(b.append(...d.getChildren()),d.remove()),Q(l)&&l.isEmpty()&&l.remove(),u.selectEnd();const v=Q(l)?l.getLastChild():null;Nn(v)&&b!==l&&v.remove()}insertParagraph(){if(this.anchor.key==="root"){const u=Ae();return Je().splice(this.anchor.offset,0,[u]),u.select(),u}const e=rg(this),t=Cg(this.anchor.getNode(),Si);Q(t)||ge(213);const l=t.getChildAtIndex(e),s=l?[l,...l.getNextSiblings()]:[],o=t.insertNewAfter(this,!1);return o?(o.append(...s),o.selectStart(),o):null}insertLineBreak(e){const t=In();if(this.insertNodes([t]),e){const l=t.getParentOrThrow(),s=t.getIndexWithinParent();l.select(s,s)}}extract(){const e=this.getNodes(),t=e.length,l=t-1,s=this.anchor,o=this.focus;let u=e[0],f=e[l];const[d,g]=Jd(this);if(t===0)return[];if(t===1){if(se(u)&&!this.isCollapsed()){const y=d>g?g:d,b=d>g?d:g,v=u.splitText(y,b),_=y===0?v[0]:v[1];return _!=null?[_]:[]}return[u]}const p=s.isBefore(o);if(se(u)){const y=p?d:g;y===u.getTextContentSize()?e.shift():y!==0&&([,u]=u.splitText(y),e[0]=u)}if(se(f)){const y=f.getTextContent().length,b=p?g:d;b===0?e.pop():b!==y&&([f]=f.splitText(b),e[l]=f)}return e}modify(e,t,l){if(P_(this,e,t,l))return;const s=e==="move",o=_t(),u=Qt(Pn(o));if(!u)return;const f=o._blockCursorElement,d=o._rootElement,g=this.focus.getNode();if(d===null||f===null||!Q(g)||g.isInline()||g.canBeEmpty()||vg(f,o,d),this.dirty){let p=fs(o,this.anchor.key),y=fs(o,this.focus.key);this.anchor.type==="text"&&(p=os(p)),this.focus.type==="text"&&(y=os(y)),p&&y&&I_(u,p,this.anchor.offset,y,this.focus.offset)}if(function(p,y,b,v){p.modify(y,b,v)}(u,e,t?"backward":"forward",l),u.rangeCount>0){const p=u.getRangeAt(0),y=this.anchor.getNode(),b=Bt(y)?y:Ew(y);if(this.applyDOMRange(p),this.dirty=!0,!s){const v=this.getNodes(),_=[];let S=!1;for(let x=0;x<v.length;x++){const E=v[x];ic(E,b)?_.push(E):S=!0}if(S&&_.length>0)if(t){const x=_[0];Q(x)?x.selectStart():x.getParentOrThrow().selectStart()}else{const x=_[_.length-1];Q(x)?x.selectEnd():x.getParentOrThrow().selectEnd()}u.anchorNode===p.startContainer&&u.anchorOffset===p.startOffset||function(x){const E=x.focus,C=x.anchor,T=C.key,O=C.offset,N=C.type;C.set(E.key,E.offset,E.type,!0),E.set(T,O,N,!0)}(this)}}l==="lineboundary"&&P_(this,e,t,l,"decorators")}forwardDeletion(e,t,l){if(!l&&(e.type==="element"&&Q(t)&&e.offset===t.getChildrenSize()||e.type==="text"&&e.offset===t.getTextContentSize())){const s=t.getParent(),o=t.getNextSibling()||(s===null?null:s.getNextSibling());if(Q(o)&&o.isShadowRoot())return!0}return!1}deleteCharacter(e){const t=this.isCollapsed();if(this.isCollapsed()){const l=this.anchor;let s=l.getNode();if(this.forwardDeletion(l,s,e))return;const o=Xa(Sr(l,e?"previous":"next"));if(o.getTextSlices().every(f=>f===null||f.distance===0)){let f={type:"initial"};for(const d of o.iterNodeCarets("shadowRoot"))if(bn(d)){if(!d.origin.isInline()){if(d.origin.isShadowRoot()){if(f.type==="merge-block")break;if(Q(o.anchor.origin)&&o.anchor.origin.isEmpty()){const g=sn(d);oc(this,pl(g,g)),o.anchor.origin.remove()}return}f.type!=="merge-next-block"&&f.type!=="merge-block"||(f={block:f.block,caret:d,type:"merge-block"})}}else{if(f.type==="merge-block")break;if(xi(d)){if(Q(d.origin)){if(d.origin.isInline()){if(!d.origin.isParentOf(o.anchor.origin))break}else f={block:d.origin,type:"merge-next-block"};continue}if(Ke(d.origin)){if(!d.origin.isIsolated())if(f.type==="merge-next-block"&&(d.origin.isKeyboardSelectable()||!d.origin.isInline())&&Q(o.anchor.origin)&&o.anchor.origin.isEmpty()){o.anchor.origin.remove();const g=tg();g.add(d.origin.getKey()),Ye(g)}else d.origin.remove();return}break}}if(f.type==="merge-block"){const{caret:d,block:g}=f;return oc(this,pl(!d.origin.isEmpty()&&g.isEmpty()?Za(vt(g,d.direction)):o.anchor,d)),this.removeText()}}const u=this.focus;if(this.modify("extend",e,"character"),this.isCollapsed()){if(e&&l.offset===0&&L_(this,l.getNode()))return}else{const f=u.type==="text"?u.getNode():null;if(s=l.type==="text"?l.getNode():null,f!==null&&f.isSegmented()){const d=u.offset,g=f.getTextContentSize();if(f.is(s)||e&&d!==g||!e&&d!==0)return void z_(f,e,d)}else if(s!==null&&s.isSegmented()){const d=l.offset,g=s.getTextContentSize();if(s.is(f)||e&&d!==0||!e&&d!==g)return void z_(s,e,d)}(function(d,g){const p=d.anchor,y=d.focus,b=p.getNode(),v=y.getNode();if(b===v&&p.type==="text"&&y.type==="text"){const _=p.offset,S=y.offset,x=_<S,E=x?_:S,C=x?S:_,T=C-1;E!==T&&function(O){return!(pb(O)||sw(O))}(b.getTextContent().slice(E,C))&&(g?y.set(y.key,T,y.type):p.set(p.key,T,p.type))}})(this,e)}}if(this.removeText(),e&&!t&&this.isCollapsed()&&this.anchor.type==="element"&&this.anchor.offset===0){const l=this.anchor.getNode();l.isEmpty()&&Bt(l.getParent())&&l.getPreviousSibling()===null&&L_(this,l)}}deleteLine(e){this.isCollapsed()&&this.modify("extend",e,"lineboundary"),this.isCollapsed()?this.deleteCharacter(e):this.removeText()}deleteWord(e){if(this.isCollapsed()){const t=this.anchor,l=t.getNode();if(this.forwardDeletion(t,l,e))return;this.modify("extend",e,"word")}this.removeText()}isBackward(){return this.focus.isBefore(this.anchor)}getStartEndPoints(){return[this.anchor,this.focus]}}function rt(r){return r instanceof Iu}function D_(r){const e=r.offset;if(r.type==="text")return e;const t=r.getNode();return e===t.getChildrenSize()?t.getTextContent().length:0}function Jd(r){const e=r.getStartEndPoints();if(e===null)return[0,0];const[t,l]=e;return t.type==="element"&&l.type==="element"&&t.key===l.key&&t.offset===l.offset?[0,0]:[D_(t),D_(l)]}function L_(r,e){for(let t=e;t;t=t.getParent()){if(Q(t)){if(t.collapseAtStart(r))return!0;if(Ct(t))break}if(t.getPreviousSibling())break}return!1}const sw=(()=>{try{const r=new RegExp("\\p{Emoji}","u"),e=r.test.bind(r);if(e("❤️")&&e("#️⃣")&&e("👍"))return e}catch{}return()=>!1})();function z_(r,e,t){const l=r,s=l.getTextContent().split(/(?=\s)/g),o=s.length;let u=0,f=0;for(let g=0;g<o;g++){const p=g===o-1;if(f=u,u+=s[g].length,e&&u===t||u>t||p){s.splice(g,1),p&&(f=void 0);break}}const d=s.join("").trim();d===""?l.remove():(l.setTextContent(d),l.select(f,f))}function $_(r,e,t,l){let s,o=e;if(at(r)){let u=!1;const f=r.childNodes,d=f.length,g=l._blockCursorElement;o===d&&(u=!0,o=d-1);let p=f[o],y=!1;if(p===g)p=f[o+1],y=!0;else if(g!==null){const b=g.parentNode;r===b&&e>Array.prototype.indexOf.call(b.children,g)&&o--}if(s=us(p),se(s))o=hb(s,u);else{let b=us(r);if(b===null)return null;if(Q(b)){const v=l.getElementByKey(b.getKey());v===null&&ge(214),[b,o]=b.getDOMSlot(v).resolveChildIndex(b,v,r,e),Q(b)||ge(215),u&&o>=b.getChildrenSize()&&(o=Math.max(0,b.getChildrenSize()-1));let S=b.getChildAtIndex(o);if(Q(S)&&function(x,E,C){const T=x.getParent();return C===null||T===null||!T.canBeEmpty()||T!==C.getNode()}(S,0,t)){const x=u?S.getLastDescendant():S.getFirstDescendant();x===null?b=S:(S=x,b=Q(S)?S:S.getParentOrThrow()),o=0}se(S)?(s=S,b=null,o=hb(S,u)):S!==b&&u&&!y&&(Q(b)||ge(216),o=Math.min(b.getChildrenSize(),o+1))}else{const v=b.getIndexWithinParent();o=e===0&&Ke(b)&&us(r)===b?v:v+1,b=b.getParentOrThrow()}if(Q(b))return mn(b.__key,o,"element")}}else s=us(r);return se(s)?mn(s.__key,o,"text"):null}function F_(r,e,t){const l=r.offset,s=r.getNode();if(l===0){const o=s.getPreviousSibling(),u=s.getParent();if(e){if((t||!e)&&o===null&&Q(u)&&u.isInline()){const f=u.getPreviousSibling();se(f)&&r.set(f.__key,f.getTextContent().length,"text")}}else Q(o)&&!t&&o.isInline()?r.set(o.__key,o.getChildrenSize(),"element"):se(o)&&r.set(o.__key,o.getTextContent().length,"text")}else if(l===s.getTextContent().length){const o=s.getNextSibling(),u=s.getParent();if(e&&Q(o)&&o.isInline())r.set(o.__key,0,"element");else if((t||e)&&o===null&&Q(u)&&u.isInline()&&!u.canInsertTextAfter()){const f=u.getNextSibling();se(f)&&r.set(f.__key,0,"text")}}}function B_(r,e,t){if(r.type==="text"&&e.type==="text"){const l=r.isBefore(e),s=r.is(e);F_(r,l,s),F_(e,!l,s),s&&e.set(r.key,r.offset,r.type);const o=_t();if(o.isComposing()&&o._compositionKey!==r.key&&I(t)){const u=t.anchor,f=t.focus;r.set(u.key,u.offset,u.type,!0),e.set(f.key,f.offset,f.type,!0)}}}function U_(r,e,t,l,s,o){if(r===null||t===null||!Pa(s,r,t))return null;const u=$_(r,e,I(o)?o.anchor:null,s);if(u===null)return null;const f=$_(t,l,I(o)?o.focus:null,s);if(f===null)return null;if(u.type==="element"&&f.type==="element"){const d=us(r),g=us(t);if(Ke(d)&&Ke(g))return null}return B_(u,f,o),[u,f]}function eg(r){return Q(r)&&!r.isInline()}function j_(r,e,t,l,s,o){const u=jr(),f=new ol(mn(r,e,s),mn(t,l,o),0,"");return f.dirty=!0,u._selection=f,f}function is(){const r=mn("root",0,"element"),e=mn("root",0,"element");return new ol(r,e,0,"")}function tg(){return new Iu(new Set)}function aw(r,e){return Pu(null,r,e,null)}function Pu(r,e,t,l){const s=t._window;if(s===null)return null;const o=l||s.event,u=o?o.type:void 0,f=u==="selectionchange",d=!Nd&&(f||u==="beforeinput"||u==="compositionstart"||u==="compositionend"||u==="click"&&o&&o.detail===3||u==="drop"||u===void 0);let g,p,y,b;if(I(r)&&!d)return r.clone();if(e===null)return null;if(g=e.anchorNode,p=e.focusNode,y=e.anchorOffset,b=e.focusOffset,f&&I(r)&&!Pa(t,g,p))return r.clone();const v=U_(g,y,p,b,t,r);if(v===null)return null;const[_,S]=v;return new ol(_,S,I(r)?r.format:0,I(r)?r.style:"")}function V(){return jr()._selection}function ar(){return _t()._editorState._selection}function qu(r,e,t,l=1){const s=r.anchor,o=r.focus,u=s.getNode(),f=o.getNode();if(!e.is(u)&&!e.is(f))return;const d=e.__key;if(r.isCollapsed()){const g=s.offset;if(t<=g&&l>0||t<g&&l<0){const p=Math.max(0,g+l);s.set(d,p,"element"),o.set(d,p,"element"),H_(r)}}else{const g=r.isBackward(),p=g?o:s,y=p.getNode(),b=g?s:o,v=b.getNode();if(e.is(y)){const _=p.offset;(t<=_&&l>0||t<_&&l<0)&&p.set(d,Math.max(0,_+l),"element")}if(e.is(v)){const _=b.offset;(t<=_&&l>0||t<_&&l<0)&&b.set(d,Math.max(0,_+l),"element")}}H_(r)}function H_(r){const e=r.anchor,t=e.offset,l=r.focus,s=l.offset,o=e.getNode(),u=l.getNode();if(r.isCollapsed()){if(!Q(o))return;const f=o.getChildrenSize(),d=t>=f,g=d?o.getChildAtIndex(f-1):o.getChildAtIndex(t);if(se(g)){let p=0;d&&(p=g.getTextContentSize()),e.set(g.__key,p,"text"),l.set(g.__key,p,"text")}}else{if(Q(o)){const f=o.getChildrenSize(),d=t>=f,g=d?o.getChildAtIndex(f-1):o.getChildAtIndex(t);if(se(g)){let p=0;d&&(p=g.getTextContentSize()),e.set(g.__key,p,"text")}}if(Q(u)){const f=u.getChildrenSize(),d=s>=f,g=d?u.getChildAtIndex(f-1):u.getChildAtIndex(s);if(se(g)){let p=0;d&&(p=g.getTextContentSize()),l.set(g.__key,p,"text")}}}}function Yu(r,e,t,l,s){let o=null,u=0,f=null;l!==null?(o=l.__key,se(l)?(u=l.getTextContentSize(),f="text"):Q(l)&&(u=l.getChildrenSize(),f="element")):s!==null&&(o=s.__key,se(s)?f="text":Q(s)&&(f="element")),o!==null&&f!==null?r.set(o,u,f):(u=e.getIndexWithinParent(),u===-1&&(u=t.getChildrenSize()),r.set(t.__key,u,"element"))}function K_(r,e,t,l,s){r.type==="text"?r.set(t,r.offset+(e?0:s),"text"):r.offset>l.getIndexWithinParent()&&r.set(r.key,r.offset-1,"element")}function I_(r,e,t,l,s){try{r.setBaseAndExtent(e,t,l,s)}catch{}}function ow(r,e,t,l,s,o,u){const f=l.anchorNode,d=l.focusNode,g=l.anchorOffset,p=l.focusOffset,y=document.activeElement;if(s.has(ib)&&y!==o||y!==null&&ug(y))return;if(!I(e))return void(r!==null&&Pa(t,f,d)&&l.removeAllRanges());const b=e.anchor,v=e.focus,_=b.key,S=v.key,x=fs(t,_),E=fs(t,S),C=b.offset,T=v.offset,O=e.format,N=e.style,A=e.isCollapsed();let D=x,M=E,k=!1;if(b.type==="text"){D=os(x);const le=b.getNode();k=le.getFormat()!==O||le.getStyle()!==N}else I(r)&&r.anchor.type==="text"&&(k=!0);var U,P,J,j,Y;if(v.type==="text"&&(M=os(E)),D!==null&&M!==null&&(A&&(r===null||k||I(r)&&(r.format!==O||r.style!==N))&&(U=O,P=N,J=C,j=_,Y=performance.now(),y_=[U,P,J,j,Y]),g!==C||p!==T||f!==D||d!==M||l.type==="Range"&&A||(y!==null&&o.contains(y)||o.focus({preventScroll:!0}),b.type==="element"))){if(I_(l,D,C,M,T),!s.has(gw)&&e.isCollapsed()&&o!==null&&o===document.activeElement){const le=I(e)&&e.anchor.type==="element"?D.childNodes[C]||null:l.rangeCount>0?l.getRangeAt(0):null;if(le!==null){let B;if(le instanceof Text){const X=document.createRange();X.selectNode(le),B=X.getBoundingClientRect()}else B=le.getBoundingClientRect();(function(X,H,re){const z=Eb(re),G=yg(z);if(z===null||G===null)return;let{top:ie,bottom:ue}=H,he=0,Ce=0,me=re;for(;me!==null;){const pe=me===z.body;if(pe)he=0,Ce=Pn(X).innerHeight;else{const $e=me.getBoundingClientRect();he=$e.top,Ce=$e.bottom}let ye=0;if(ie<he?ye=-(he-ie):ue>Ce&&(ye=ue-Ce),ye!==0)if(pe)G.scrollBy(0,ye);else{const $e=me.scrollTop;me.scrollTop+=ye;const Ve=me.scrollTop-$e;ie-=Ve,ue-=Ve}if(pe)break;me=qa(me)}})(t,B,o)}}Pd=!0}}function ng(r){let e=V()||ar();e===null&&(e=Je().selectEnd()),e.insertNodes(r)}function rg(r){let e=r;r.isCollapsed()||e.removeText();const t=V();I(t)&&(e=t),I(e)||ge(161);const l=e.anchor;let s=l.getNode(),o=l.offset;for(;!Si(s);){const u=s;if([s,o]=uw(s,o),u.is(s))break}return o}function uw(r,e){const t=r.getParent();if(!t){const s=Ae();return Je().append(s),s.select(),[Je(),0]}if(se(r)){const s=r.splitText(e);if(s.length===0)return[t,r.getIndexWithinParent()];const o=e===0?0:1;return[t,s[0].getIndexWithinParent()+o]}if(!Q(r)||e===0)return[t,r.getIndexWithinParent()];const l=r.getChildAtIndex(e);if(l){const s=new ol(mn(r.__key,e,"element"),mn(r.__key,e,"element"),0,""),o=r.insertNewAfter(s);o&&o.append(l,...l.getNextSiblings())}return[t,r.getIndexWithinParent()+1]}function P_(r,e,t,l,s="decorators-and-blocks"){if(e==="move"&&l==="character"&&!r.isCollapsed()){const[p,y]=t===r.isBackward()?[r.focus,r.anchor]:[r.anchor,r.focus];return y.set(p.key,p.offset,p.type),!0}const o=Sr(r.focus,t?"previous":"next"),u=l==="lineboundary",f=e==="move";let d=o,g=s==="decorators-and-blocks";if(!Mg(d)){for(const p of d){g=!1;const{origin:y}=p;if(!Ke(y)||y.isIsolated()||(d=p,!u||!y.isInline()))break}if(g)for(const p of Xa(o).iterNodeCarets(e==="extend"?"shadowRoot":"root")){if(bn(p))p.origin.isInline()||(d=p);else{if(Q(p.origin))continue;Ke(p.origin)&&!p.origin.isInline()&&(d=p)}break}}if(d===o)return!1;if(f&&!u&&Ke(d.origin)&&d.origin.isKeyboardSelectable()){const p=tg();return p.add(d.origin.getKey()),Ye(p),!0}return d=sn(d),f&&ur(r.anchor,d),ur(r.focus,d),g||!u}let $t=null,Ft=null,yn=!1,ig=!1,Vu=0;const q_={characterData:!0,childList:!0,subtree:!0};function ls(){return yn||$t!==null&&$t._readOnly}function Zt(){yn&&ge(13)}function Y_(){Vu>99&&ge(14)}function jr(){return $t===null&&ge(195,V_()),$t}function _t(){return Ft===null&&ge(196,V_()),Ft}function V_(){let r=0;const e=new Set,t=Qu.version;if(typeof window<"u")for(const s of document.querySelectorAll("[contenteditable]")){const o=Wu(s);if(cg(o))r++;else if(o){let u=String(o.constructor.version||"<0.17.1");u===t&&(u+=" (separately built, likely a bundler configuration issue)"),e.add(u)}}let l=` Detected on the page: ${r} compatible editor(s) with version ${t}`;return e.size&&(l+=` and incompatible editors with versions ${Array.from(e).join(", ")}`),l}function cw(){return Ft}function G_(r,e,t){const l=e.__type,s=function(f,d){const g=f._nodes.get(d);return g===void 0&&ge(30,d),g}(r,l);let o=t.get(l);o===void 0&&(o=Array.from(s.transforms),t.set(l,o));const u=o.length;for(let f=0;f<u&&(o[f](e),e.isAttached());f++);}function X_(r,e){return r!==void 0&&r.__key!==e&&r.isAttached()}function Z_(r,e){if(!e)return;const t=r._updateTags;let l=e;Array.isArray(e)||(l=[e]);for(const s of l)t.add(s)}function fw(r){return lg(r,_t()._nodes)}function lg(r,e){const t=r.type,l=e.get(t);l===void 0&&ge(17,t);const s=l.klass;r.type!==s.getType()&&ge(18,s.name);const o=s.importJSON(r),u=r.children;if(Q(o)&&Array.isArray(u))for(let f=0;f<u.length;f++){const d=lg(u[f],e);o.append(d)}return o}function Q_(r,e,t){const l=$t,s=yn,o=Ft;$t=e,yn=!0,Ft=r;try{return t()}finally{$t=l,yn=s,Ft=o}}function Hr(r,e){const t=r._pendingEditorState,l=r._rootElement,s=r._headless||l===null;if(t===null)return;const o=r._editorState,u=o._selection,f=t._selection,d=r._dirtyType!==tl,g=$t,p=yn,y=Ft,b=r._updating,v=r._observer;let _=null;if(r._pendingEditorState=null,r._editorState=t,!s&&d&&v!==null){Ft=r,$t=t,yn=!1,r._updating=!0;try{const A=r._dirtyType,D=r._dirtyElements,M=r._dirtyLeaves;v.disconnect(),_=q1(o,t,r,A,D,M)}catch(A){if(A instanceof Error&&r._onError(A),ig)throw A;return lb(r,null,l,t),e_(r),r._dirtyType=Ql,ig=!0,Hr(r,o),void(ig=!1)}finally{v.observe(l,q_),r._updating=b,$t=g,yn=p,Ft=y}}t._readOnly||(t._readOnly=!0);const S=r._dirtyLeaves,x=r._dirtyElements,E=r._normalizedNodes,C=r._updateTags,T=r._deferred;d&&(r._dirtyType=tl,r._cloneNotNeeded.clear(),r._dirtyLeaves=new Set,r._dirtyElements=new Map,r._normalizedNodes=new Set,r._updateTags=new Set),function(A,D){const M=A._decorators;let k=A._pendingDecorators||M;const U=D._nodeMap;let P;for(P in k)U.has(P)||(k===M&&(k=fb(A)),delete k[P])}(r,t);const O=s?null:Qt(Pn(r));if(r._editable&&O!==null&&(d||f===null||f.dirty)&&l!==null&&!C.has(hw)){Ft=r,$t=t;try{if(v!==null&&v.disconnect(),d||f===null||f.dirty){const A=r._blockCursorElement;A!==null&&vg(A,r,l),ow(u,f,r,O,C,l)}(function(A,D,M){let k=A._blockCursorElement;if(I(M)&&M.isCollapsed()&&M.anchor.type==="element"&&D.contains(document.activeElement)){const U=M.anchor,P=U.getNode(),J=U.offset;let j=!1,Y=null;if(J===P.getChildrenSize())bg(P.getChildAtIndex(J-1))&&(j=!0);else{const le=P.getChildAtIndex(J);if(le!==null&&bg(le)){const B=le.getPreviousSibling();(B===null||bg(B))&&(j=!0,Y=A.getElementByKey(le.__key))}}if(j){const le=A.getElementByKey(P.__key);return k===null&&(A._blockCursorElement=k=function(B){const X=B.theme,H=document.createElement("div");H.contentEditable="false",H.setAttribute("data-lexical-cursor","true");let re=X.blockCursor;if(re!==void 0){if(typeof re=="string"){const z=vu(re);re=X.blockCursor=z}re!==void 0&&H.classList.add(...re)}return H}(A._config)),D.style.caretColor="transparent",void(Y===null?le.appendChild(k):le.insertBefore(k,Y))}}k!==null&&vg(k,A,D)})(r,l,f)}finally{v!==null&&v.observe(l,q_),Ft=y,$t=g}}_!==null&&function(A,D,M,k,U){const P=Array.from(A._listeners.mutation),J=P.length;for(let j=0;j<J;j++){const[Y,le]=P[j],B=D.get(le);B!==void 0&&Y(B,{dirtyLeaves:k,prevEditorState:U,updateTags:M})}}(r,_,C,S,o),I(f)||f===null||u!==null&&u.is(f)||r.dispatchCommand(hn,void 0);const N=r._pendingDecorators;N!==null&&(r._decorators=N,r._pendingDecorators=null,ja("decorator",r,!0,N)),function(A,D,M){const k=db(D),U=db(M);k!==U&&ja("textcontent",A,!0,U)}(r,e||o,t),ja("update",r,!0,{dirtyElements:x,dirtyLeaves:S,editorState:t,mutatedNodes:_,normalizedNodes:E,prevEditorState:e||o,tags:C}),function(A,D){if(A._deferred=[],D.length!==0){const M=A._updating;A._updating=!0;try{for(let k=0;k<D.length;k++)D[k]()}finally{A._updating=M}}}(r,T),function(A){const D=A._updates;if(D.length!==0){const M=D.shift();if(M){const[k,U]=M;sg(A,k,U)}}}(r)}function ja(r,e,t,...l){const s=e._updating;e._updating=t;try{const o=Array.from(e._listeners[r]);for(let u=0;u<o.length;u++)o[u].apply(null,l)}finally{e._updating=s}}function W_(r,e){const t=r._updates;let l=e||!1;for(;t.length!==0;){const s=t.shift();if(s){const[o,u]=s;let f;if(u!==void 0){if(f=u.onUpdate,u.skipTransforms&&(l=!0),u.discrete){const d=r._pendingEditorState;d===null&&ge(191),d._flushSync=!0}f&&r._deferred.push(f),Z_(r,u.tag)}o()}}return l}function sg(r,e,t){const l=r._updateTags;let s,o=!1,u=!1;t!==void 0&&(s=t.onUpdate,Z_(r,t.tag),o=t.skipTransforms||!1,u=t.discrete||!1),s&&r._deferred.push(s);const f=r._editorState;let d=r._pendingEditorState,g=!1;(d===null||d._readOnly)&&(d=r._pendingEditorState=tb(d||f),g=!0),d._flushSync=u;const p=$t,y=yn,b=Ft,v=r._updating;$t=d,yn=!1,r._updating=!0,Ft=r;const _=r._headless||r.getRootElement()===null;try{g&&(_?f._selection!==null&&(d._selection=f._selection.clone()):d._selection=function(C,T){const O=C.getEditorState()._selection,N=Qt(Pn(C));return I(O)||O==null?Pu(O,N,C,T):O.clone()}(r,t&&t.event||null));const x=r._compositionKey;e(),o=W_(r,o),function(C,T){const O=T.getEditorState()._selection,N=C._selection;if(I(N)){const A=N.anchor,D=N.focus;let M;if(A.type==="text"&&(M=A.getNode(),M.selectionTransform(O,N)),D.type==="text"){const k=D.getNode();M!==k&&k.selectionTransform(O,N)}}}(d,r),r._dirtyType!==tl&&(o?function(C,T){const O=T._dirtyLeaves,N=C._nodeMap;for(const A of O){const D=N.get(A);se(D)&&D.isAttached()&&D.isSimpleText()&&!D.isUnmergeable()&&r_(D)}}(d,r):function(C,T){const O=T._dirtyLeaves,N=T._dirtyElements,A=C._nodeMap,D=vi(),M=new Map;let k=O,U=k.size,P=N,J=P.size;for(;U>0||J>0;){if(U>0){T._dirtyLeaves=new Set;for(const j of k){const Y=A.get(j);se(Y)&&Y.isAttached()&&Y.isSimpleText()&&!Y.isUnmergeable()&&r_(Y),Y!==void 0&&X_(Y,D)&&G_(T,Y,M),O.add(j)}if(k=T._dirtyLeaves,U=k.size,U>0){Vu++;continue}}T._dirtyLeaves=new Set,T._dirtyElements=new Map,P.delete("root")&&P.set("root",!0);for(const j of P){const Y=j[0],le=j[1];if(N.set(Y,le),!le)continue;const B=A.get(Y);B!==void 0&&X_(B,D)&&G_(T,B,M)}k=T._dirtyLeaves,U=k.size,P=T._dirtyElements,J=P.size,Vu++}T._dirtyLeaves=O,T._dirtyElements=N}(d,r),W_(r),function(C,T,O,N){const A=C._nodeMap,D=T._nodeMap,M=[];for(const[k]of N){const U=D.get(k);U!==void 0&&(U.isAttached()||(Q(U)&&Qy(U,k,A,D,M,N),A.has(k)||N.delete(k),M.push(k)))}for(const k of M)D.delete(k);for(const k of O){const U=D.get(k);U===void 0||U.isAttached()||(A.has(k)||O.delete(k),D.delete(k))}}(f,d,r._dirtyLeaves,r._dirtyElements)),x!==r._compositionKey&&(d._flushSync=!0);const E=d._selection;if(I(E)){const C=d._nodeMap,T=E.anchor.key,O=E.focus.key;C.get(T)!==void 0&&C.get(O)!==void 0||ge(19)}else rt(E)&&E._nodes.size===0&&(d._selection=null)}catch(x){return x instanceof Error&&r._onError(x),r._pendingEditorState=f,r._dirtyType=Ql,r._cloneNotNeeded.clear(),r._dirtyLeaves=new Set,r._dirtyElements.clear(),void Hr(r)}finally{$t=p,yn=y,Ft=b,r._updating=v,Vu=0}r._dirtyType!==tl||r._deferred.length>0||function(x,E){const C=E.getEditorState()._selection,T=x._selection;if(T!==null){if(T.dirty||!T.is(C))return!0}else if(C!==null)return!0;return!1}(d,r)?d._flushSync?(d._flushSync=!1,Hr(r)):g&&yw(()=>{Hr(r)}):(d._flushSync=!1,g&&(l.clear(),r._deferred=[],r._pendingEditorState=null))}function An(r,e,t){Ft===r&&t===void 0?e():sg(r,e,t)}class Ha{constructor(e,t,l){this.element=e,this.before=t||null,this.after=l||null}withBefore(e){return new Ha(this.element,e,this.after)}withAfter(e){return new Ha(this.element,this.before,e)}withElement(e){return this.element===e?this:new Ha(e,this.before,this.after)}insertChild(e){const t=this.before||this.getManagedLineBreak();return t!==null&&t.parentElement!==this.element&&ge(222),this.element.insertBefore(e,t),this}removeChild(e){return e.parentElement!==this.element&&ge(223),this.element.removeChild(e),this}replaceChild(e,t){return t.parentElement!==this.element&&ge(224),this.element.replaceChild(e,t),this}getFirstChild(){const e=this.after?this.after.nextSibling:this.element.firstChild;return e===this.before||e===this.getManagedLineBreak()?null:e}getManagedLineBreak(){return this.element.__lexicalLineBreak||null}setManagedLineBreak(e){if(e===null)this.removeManagedLineBreak();else{const t=e==="decorator"&&(Zl||va);this.insertManagedLineBreak(t)}}removeManagedLineBreak(){const e=this.getManagedLineBreak();if(e){const t=this.element,l=e.nodeName==="IMG"?e.nextSibling:null;l&&t.removeChild(l),t.removeChild(e),t.__lexicalLineBreak=void 0}}insertManagedLineBreak(e){const t=this.getManagedLineBreak();if(t){if(e===(t.nodeName==="IMG"))return;this.removeManagedLineBreak()}const l=this.element,s=this.before,o=document.createElement("br");if(l.insertBefore(o,s),e){const u=document.createElement("img");u.setAttribute("data-lexical-linebreak","true"),u.style.cssText="display: inline !important; border: 0px !important; margin: 0px !important;",u.alt="",l.insertBefore(u,o),l.__lexicalLineBreak=u}else l.__lexicalLineBreak=o}getFirstChildOffset(){let e=0;for(let t=this.after;t!==null;t=t.previousSibling)e++;return e}resolveChildIndex(e,t,l,s){if(l===this.element){const d=this.getFirstChildOffset();return[e,Math.min(d+e.getChildrenSize(),Math.max(d,s))]}const o=J_(t,l);o.push(s);const u=J_(t,this.element);let f=e.getIndexWithinParent();for(let d=0;d<u.length;d++){const g=o[d],p=u[d];if(g===void 0||g<p)break;if(g>p){f+=1;break}}return[e.getParentOrThrow(),f]}}function J_(r,e){const t=[];let l=e;for(;l!==r&&l!==null;l=l.parentNode){let s=0;for(let o=l.previousSibling;o!==null;o=o.previousSibling)s++;t.push(s)}return l!==r&&ge(225),t.reverse()}class _n extends Uu{constructor(e){super(e),this.__first=null,this.__last=null,this.__size=0,this.__format=0,this.__style="",this.__indent=0,this.__dir=null,this.__textFormat=0,this.__textStyle=""}afterCloneFrom(e){super.afterCloneFrom(e),this.__first=e.__first,this.__last=e.__last,this.__size=e.__size,this.__indent=e.__indent,this.__format=e.__format,this.__style=e.__style,this.__dir=e.__dir,this.__textFormat=e.__textFormat,this.__textStyle=e.__textStyle}getFormat(){return this.getLatest().__format}getFormatType(){const e=this.getFormat();return M1[e]||""}getStyle(){return this.getLatest().__style}getIndent(){return this.getLatest().__indent}getChildren(){const e=[];let t=this.getFirstChild();for(;t!==null;)e.push(t),t=t.getNextSibling();return e}getChildrenKeys(){const e=[];let t=this.getFirstChild();for(;t!==null;)e.push(t.__key),t=t.getNextSibling();return e}getChildrenSize(){return this.getLatest().__size}isEmpty(){return this.getChildrenSize()===0}isDirty(){const e=_t()._dirtyElements;return e!==null&&e.has(this.__key)}isLastChild(){const e=this.getLatest(),t=this.getParentOrThrow().getLastChild();return t!==null&&t.is(e)}getAllTextNodes(){const e=[];let t=this.getFirstChild();for(;t!==null;){if(se(t)&&e.push(t),Q(t)){const l=t.getAllTextNodes();e.push(...l)}t=t.getNextSibling()}return e}getFirstDescendant(){let e=this.getFirstChild();for(;Q(e);){const t=e.getFirstChild();if(t===null)break;e=t}return e}getLastDescendant(){let e=this.getLastChild();for(;Q(e);){const t=e.getLastChild();if(t===null)break;e=t}return e}getDescendantByIndex(e){const t=this.getChildren(),l=t.length;if(e>=l){const o=t[l-1];return Q(o)&&o.getLastDescendant()||o||null}const s=t[e];return Q(s)&&s.getFirstDescendant()||s||null}getFirstChild(){const e=this.getLatest().__first;return e===null?null:Ge(e)}getFirstChildOrThrow(){const e=this.getFirstChild();return e===null&&ge(45,this.__key),e}getLastChild(){const e=this.getLatest().__last;return e===null?null:Ge(e)}getLastChildOrThrow(){const e=this.getLastChild();return e===null&&ge(96,this.__key),e}getChildAtIndex(e){const t=this.getChildrenSize();let l,s;if(e<t/2){for(l=this.getFirstChild(),s=0;l!==null&&s<=e;){if(s===e)return l;l=l.getNextSibling(),s++}return null}for(l=this.getLastChild(),s=t-1;l!==null&&s>=e;){if(s===e)return l;l=l.getPreviousSibling(),s--}return null}getTextContent(){let e="";const t=this.getChildren(),l=t.length;for(let s=0;s<l;s++){const o=t[s];e+=o.getTextContent(),Q(o)&&s!==l-1&&!o.isInline()&&(e+=$r)}return e}getTextContentSize(){let e=0;const t=this.getChildren(),l=t.length;for(let s=0;s<l;s++){const o=t[s];e+=o.getTextContentSize(),Q(o)&&s!==l-1&&!o.isInline()&&(e+=$r.length)}return e}getDirection(){return this.getLatest().__dir}getTextFormat(){return this.getLatest().__textFormat}hasFormat(e){if(e!==""){const t=Zy[e];return!!(this.getFormat()&t)}return!1}hasTextFormat(e){const t=ci[e];return!!(this.getTextFormat()&t)}getFormatFlags(e,t){return Ju(this.getLatest().__textFormat,e,t)}getTextStyle(){return this.getLatest().__textStyle}select(e,t){Zt();const l=V();let s=e,o=t;const u=this.getChildrenSize();if(!this.canBeEmpty()){if(e===0&&t===0){const d=this.getFirstChild();if(se(d)||Q(d))return d.select(0,0)}else if(!(e!==void 0&&e!==u||t!==void 0&&t!==u)){const d=this.getLastChild();if(se(d)||Q(d))return d.select()}}s===void 0&&(s=u),o===void 0&&(o=u);const f=this.__key;return I(l)?(l.anchor.set(f,s,"element"),l.focus.set(f,o,"element"),l.dirty=!0,l):j_(f,s,f,o,"element","element")}selectStart(){const e=this.getFirstDescendant();return e?e.selectStart():this.select()}selectEnd(){const e=this.getLastDescendant();return e?e.selectEnd():this.select()}clear(){const e=this.getWritable();return this.getChildren().forEach(t=>t.remove()),e}append(...e){return this.splice(this.getChildrenSize(),0,e)}setDirection(e){const t=this.getWritable();return t.__dir=e,t}setFormat(e){return this.getWritable().__format=e!==""?Zy[e]:0,this}setStyle(e){return this.getWritable().__style=e||"",this}setTextFormat(e){const t=this.getWritable();return t.__textFormat=e,t}setTextStyle(e){const t=this.getWritable();return t.__textStyle=e,t}setIndent(e){return this.getWritable().__indent=e,this}splice(e,t,l){const s=l.length,o=this.getChildrenSize(),u=this.getWritable();e+t<=o||ge(226,String(e),String(t),String(o));const f=u.__key,d=[],g=[],p=this.getChildAtIndex(e+t);let y=null,b=o-t+s;if(e!==0)if(e===o)y=this.getLastChild();else{const _=this.getChildAtIndex(e);_!==null&&(y=_.getPreviousSibling())}if(t>0){let _=y===null?this.getFirstChild():y.getNextSibling();for(let S=0;S<t;S++){_===null&&ge(100);const x=_.getNextSibling(),E=_.__key;cl(_.getWritable()),g.push(E),_=x}}let v=y;for(let _=0;_<s;_++){const S=l[_];v!==null&&S.is(v)&&(y=v=v.getPreviousSibling());const x=S.getWritable();x.__parent===f&&b--,cl(x);const E=S.__key;if(v===null)u.__first=E,x.__prev=null;else{const C=v.getWritable();C.__next=E,x.__prev=C.__key}S.__key===f&&ge(76),x.__parent=f,d.push(E),v=S}if(e+t===o)v!==null&&(v.getWritable().__next=null,u.__last=v.__key);else if(p!==null){const _=p.getWritable();if(v!==null){const S=v.getWritable();_.__prev=v.__key,S.__next=p.__key}else _.__prev=null}if(u.__size=b,g.length){const _=V();if(I(_)){const S=new Set(g),x=new Set(d),{anchor:E,focus:C}=_;eb(E,S,x)&&Yu(E,E.getNode(),this,y,p),eb(C,S,x)&&Yu(C,C.getNode(),this,y,p),b!==0||this.canBeEmpty()||Ct(this)||this.remove()}}return u}getDOMSlot(e){return new Ha(e)}exportDOM(e){const{element:t}=super.exportDOM(e);if(at(t)){const l=this.getIndent();l>0&&(t.style.paddingInlineStart=40*l+"px");const s=this.getDirection();s&&(t.dir=s)}return{element:t}}exportJSON(){const e={children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent(),...super.exportJSON()},t=this.getTextFormat(),l=this.getTextStyle();return t!==0&&(e.textFormat=t),l!==""&&(e.textStyle=l),e}updateFromJSON(e){return super.updateFromJSON(e).setFormat(e.format).setIndent(e.indent).setDirection(e.direction).setTextFormat(e.textFormat||0).setTextStyle(e.textStyle||"")}insertNewAfter(e,t){return null}canIndent(){return!0}collapseAtStart(e){return!1}excludeFromCopy(e){return!1}canReplaceWith(e){return!0}canInsertAfter(e){return!0}canBeEmpty(){return!0}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}isInline(){return!1}isShadowRoot(){return!1}canMergeWith(e){return!1}extractWithChild(e,t,l){return!1}canMergeWhenEmpty(){return!1}reconcileObservedMutation(e,t){const l=this.getDOMSlot(e);let s=l.getFirstChild();for(let o=this.getFirstChild();o;o=o.getNextSibling()){const u=t.getElementByKey(o.getKey());u!==null&&(s==null?(l.insertChild(u),s=u):s!==u&&l.replaceChild(u,s),s=s.nextSibling)}}}function Q(r){return r instanceof _n}function eb(r,e,t){let l=r.getNode();for(;l;){const s=l.__key;if(e.has(s)&&!t.has(s))return!0;l=l.getParent()}return!1}class Gu extends Uu{decorate(e,t){ge(47)}isIsolated(){return!1}isInline(){return!0}isKeyboardSelectable(){return!0}}function Ke(r){return r instanceof Gu}class Ka extends _n{static getType(){return"root"}static clone(){return new Ka}constructor(){super("root"),this.__cachedText=null}getTopLevelElementOrThrow(){ge(51)}getTextContent(){const e=this.__cachedText;return!ls()&&_t()._dirtyType!==tl||e===null?super.getTextContent():e}remove(){ge(52)}replace(e){ge(53)}insertBefore(e){ge(54)}insertAfter(e){ge(55)}updateDOM(e,t){return!1}splice(e,t,l){for(const s of l)Q(s)||Ke(s)||ge(282);return super.splice(e,t,l)}static importJSON(e){return Je().updateFromJSON(e)}collapseAtStart(){return!0}}function Bt(r){return r instanceof Ka}function tb(r){return new Xu(new Map(r._nodeMap))}function ag(){return new Xu(new Map([["root",new Ka]]))}function nb(r){const e=r.exportJSON(),t=r.constructor;if(e.type!==t.getType()&&ge(130,t.name),Q(r)){const l=e.children;Array.isArray(l)||ge(59,t.name);const s=r.getChildren();for(let o=0;o<s.length;o++){const u=nb(s[o]);l.push(u)}}return e}class Xu{constructor(e,t){this._nodeMap=e,this._selection=t||null,this._flushSync=!1,this._readOnly=!1}isEmpty(){return this._nodeMap.size===1&&this._selection===null}read(e,t){return Q_(t&&t.editor||null,this,e)}clone(e){const t=new Xu(this._nodeMap,e===void 0?this._selection:e);return t._readOnly=!0,t}toJSON(){return Q_(null,this,()=>({root:nb(Je())}))}}const Zu="historic",dw="history-push",ss="history-merge",rb="paste",ib="collaboration",gw="skip-scroll-into-view",hw="skip-dom-selection";class og extends _n{static getType(){return"artificial"}createDOM(e){return document.createElement("div")}}class Ia extends _n{static getType(){return"paragraph"}static clone(e){return new Ia(e.__key)}createDOM(e){const t=document.createElement("p"),l=cs(e.theme,"paragraph");return l!==void 0&&t.classList.add(...l),t}updateDOM(e,t,l){return!1}static importDOM(){return{p:e=>({conversion:pw,priority:0})}}exportDOM(e){const{element:t}=super.exportDOM(e);if(at(t)){this.isEmpty()&&t.append(document.createElement("br"));const l=this.getFormatType();l&&(t.style.textAlign=l)}return{element:t}}static importJSON(e){return Ae().updateFromJSON(e)}exportJSON(){return{...super.exportJSON(),textFormat:this.getTextFormat(),textStyle:this.getTextStyle()}}insertNewAfter(e,t){const l=Ae();l.setTextFormat(e.format),l.setTextStyle(e.style);const s=this.getDirection();return l.setDirection(s),l.setFormat(this.getFormatType()),l.setStyle(this.getStyle()),this.insertAfter(l,t),l}collapseAtStart(){const e=this.getChildren();if(e.length===0||se(e[0])&&e[0].getTextContent().trim()===""){if(this.getNextSibling()!==null)return this.selectNext(),this.remove(),!0;if(this.getPreviousSibling()!==null)return this.selectPrevious(),this.remove(),!0}return!1}}function pw(r){const e=Ae();return r.style&&(e.setFormat(r.style.textAlign),wg(r,e)),{node:e}}function Ae(){return At(new Ia)}function On(r){return r instanceof Ia}const Te=0,De=1,as=2,bi=3,Rn=4;function lb(r,e,t,l){const s=r._keyToDOMMap;s.clear(),r._editorState=ag(),r._pendingEditorState=l,r._compositionKey=null,r._dirtyType=tl,r._cloneNotNeeded.clear(),r._dirtyLeaves=new Set,r._dirtyElements.clear(),r._normalizedNodes=new Set,r._updateTags=new Set,r._updates=[],r._blockCursorElement=null;const o=r._observer;o!==null&&(o.disconnect(),r._observer=null),e!==null&&(e.textContent=""),t!==null&&(t.textContent="",s.set("root",t))}function sb(r){const e=r||{},t=cw(),l=e.theme||{},s=r===void 0?t:e.parentEditor||null,o=e.disableEvents||!1,u=ag(),f=e.namespace||(s!==null?s._config.namespace:mb()),d=e.editorState,g=[Ka,sr,Ba,Ua,Ia,og,...e.nodes||[]],{onError:p,html:y}=e,b=e.editable===void 0||e.editable;let v;if(r===void 0&&t!==null)v=t._nodes;else{v=new Map;for(let S=0;S<g.length;S++){let x=g[S],E=null,C=null;if(typeof x!="function"){const A=x;x=A.replace,E=A.with,C=A.withKlass||null}const T=x.getType(),O=x.transform(),N=new Set;O!==null&&N.add(O),v.set(T,{exportDOM:y&&y.export?y.export.get(x):void 0,klass:x,replace:E,replaceWithKlass:C,transforms:N})}}const _=new Qu(u,s,v,{disableEvents:o,namespace:f,theme:l},p||console.error,function(S,x){const E=new Map,C=new Set,T=O=>{Object.keys(O).forEach(N=>{let A=E.get(N);A===void 0&&(A=[],E.set(N,A)),A.push(O[N])})};return S.forEach(O=>{const N=O.klass.importDOM;if(N==null||C.has(N))return;C.add(N);const A=N.call(O.klass);A!==null&&T(A)}),x&&T(x),E}(v,y?y.import:void 0),b,r);return d!==void 0&&(_._pendingEditorState=d,_._dirtyType=Ql),_}class Qu{constructor(e,t,l,s,o,u,f,d){this._createEditorArgs=d,this._parentEditor=t,this._rootElement=null,this._editorState=e,this._pendingEditorState=null,this._compositionKey=null,this._deferred=[],this._keyToDOMMap=new Map,this._updates=[],this._updating=!1,this._listeners={decorator:new Set,editable:new Set,mutation:new Map,root:new Set,textcontent:new Set,update:new Set},this._commands=new Map,this._config=s,this._nodes=l,this._decorators={},this._pendingDecorators=null,this._dirtyType=tl,this._cloneNotNeeded=new Set,this._dirtyLeaves=new Set,this._dirtyElements=new Map,this._normalizedNodes=new Set,this._updateTags=new Set,this._observer=null,this._key=mb(),this._onError=o,this._htmlConversions=u,this._editable=f,this._headless=t!==null&&t._headless,this._window=null,this._blockCursorElement=null}isComposing(){return this._compositionKey!=null}registerUpdateListener(e){const t=this._listeners.update;return t.add(e),()=>{t.delete(e)}}registerEditableListener(e){const t=this._listeners.editable;return t.add(e),()=>{t.delete(e)}}registerDecoratorListener(e){const t=this._listeners.decorator;return t.add(e),()=>{t.delete(e)}}registerTextContentListener(e){const t=this._listeners.textcontent;return t.add(e),()=>{t.delete(e)}}registerRootListener(e){const t=this._listeners.root;return e(this._rootElement,null),t.add(e),()=>{e(null,this._rootElement),t.delete(e)}}registerCommand(e,t,l){l===void 0&&ge(35);const s=this._commands;s.has(e)||s.set(e,[new Set,new Set,new Set,new Set,new Set]);const o=s.get(e);o===void 0&&ge(36,String(e));const u=o[l];return u.add(t),()=>{u.delete(t),o.every(f=>f.size===0)&&s.delete(e)}}registerMutationListener(e,t,l){const s=this.resolveRegisteredNodeAfterReplacements(this.getRegisteredNode(e)).klass,o=this._listeners.mutation;o.set(t,s);const u=l&&l.skipInitialization;return u!==void 0&&u||this.initializeMutationListener(t,s),()=>{o.delete(t)}}getRegisteredNode(e){const t=this._nodes.get(e.getType());return t===void 0&&ge(37,e.name),t}resolveRegisteredNodeAfterReplacements(e){for(;e.replaceWithKlass;)e=this.getRegisteredNode(e.replaceWithKlass);return e}initializeMutationListener(e,t){const l=this._editorState,s=Eg(l).get(t.getType());if(!s)return;const o=new Map;for(const u of s.keys())o.set(u,"created");o.size>0&&e(o,{dirtyLeaves:new Set,prevEditorState:l,updateTags:new Set(["registerMutationListener"])})}registerNodeTransformToKlass(e,t){const l=this.getRegisteredNode(e);return l.transforms.add(t),l}registerNodeTransform(e,t){const l=this.registerNodeTransformToKlass(e,t),s=[l],o=l.replaceWithKlass;if(o!=null){const u=this.registerNodeTransformToKlass(o,t);s.push(u)}return function(u,f){const d=Eg(u.getEditorState()),g=[];for(const p of f){const y=d.get(p);y&&g.push(y)}g.length!==0&&u.update(()=>{for(const p of g)for(const y of p.keys()){const b=Ge(y);b&&b.markDirty()}},u._pendingEditorState===null?{tag:ss}:void 0)}(this,s.map(u=>u.klass.getType())),()=>{s.forEach(u=>u.transforms.delete(t))}}hasNode(e){return this._nodes.has(e.getType())}hasNodes(e){return e.every(this.hasNode.bind(this))}dispatchCommand(e,t){return _e(this,e,t)}getDecorators(){return this._decorators}getRootElement(){return this._rootElement}getKey(){return this._key}setRootElement(e){const t=this._rootElement;if(e!==t){const l=cs(this._config.theme,"root"),s=this._pendingEditorState||this._editorState;if(this._rootElement=e,lb(this,t,e,s),t!==null&&(this._config.disableEvents||W1(t),l!=null&&t.classList.remove(...l)),e!==null){const o=yg(e),u=e.style;u.userSelect="text",u.whiteSpace="pre-wrap",u.wordBreak="break-word",e.setAttribute("data-lexical-editor","true"),this._window=o,this._dirtyType=Ql,e_(this),this._updateTags.add(ss),Hr(this),this._config.disableEvents||function(f,d){const g=f.ownerDocument,p=$u.get(g);(p===void 0||p<1)&&g.addEventListener("selectionchange",E_),$u.set(g,(p||0)+1),f.__lexicalEditor=d;const y=C_(f);for(let b=0;b<Id.length;b++){const[v,_]=Id[b],S=typeof _=="function"?x=>{w_(x)||(T_(x),(d.isEditable()||v==="click")&&_(x,d))}:x=>{if(w_(x))return;T_(x);const E=d.isEditable();switch(v){case"cut":return E&&_e(d,Ma,x);case"copy":return _e(d,ka,x);case"paste":return E&&_e(d,Wl,x);case"dragstart":return E&&_e(d,Ra,x);case"dragover":return E&&_e(d,Mu,x);case"dragend":return E&&_e(d,X1,x);case"focus":return E&&_e(d,Lu,x);case"blur":return E&&_e(d,zu,x);case"drop":return E&&_e(d,Oa,x)}};f.addEventListener(v,S),y.push(()=>{f.removeEventListener(v,S)})}}(e,this),l!=null&&e.classList.add(...l)}else this._window=null,this._updateTags.add(ss),Hr(this);ja("root",this,!1,e,t)}}getElementByKey(e){return this._keyToDOMMap.get(e)||null}getEditorState(){return this._editorState}setEditorState(e,t){e.isEmpty()&&ge(38);let l=e;l._readOnly&&(l=tb(e),l._selection=e._selection?e._selection.clone():null),Jy(this);const s=this._pendingEditorState,o=this._updateTags,u=t!==void 0?t.tag:null;s===null||s.isEmpty()||(u!=null&&o.add(u),Hr(this)),this._pendingEditorState=l,this._dirtyType=Ql,this._dirtyElements.set("root",!1),this._compositionKey=null,u!=null&&o.add(u),this._updating||Hr(this)}parseEditorState(e,t){return function(l,s,o){const u=ag(),f=$t,d=yn,g=Ft,p=s._dirtyElements,y=s._dirtyLeaves,b=s._cloneNotNeeded,v=s._dirtyType;s._dirtyElements=new Map,s._dirtyLeaves=new Set,s._cloneNotNeeded=new Set,s._dirtyType=0,$t=u,yn=!1,Ft=s;try{const _=s._nodes;lg(l.root,_),o&&o(),u._readOnly=!0}catch(_){_ instanceof Error&&s._onError(_)}finally{s._dirtyElements=p,s._dirtyLeaves=y,s._cloneNotNeeded=b,s._dirtyType=v,$t=f,yn=d,Ft=g}return u}(typeof e=="string"?JSON.parse(e):e,this,t)}read(e){return Hr(this),this.getEditorState().read(e,{editor:this})}update(e,t){(function(l,s,o){l._updating?l._updates.push([s,o]):sg(l,s,o)})(this,e,t)}focus(e,t={}){const l=this._rootElement;l!==null&&(l.setAttribute("autocapitalize","off"),An(this,()=>{const s=V(),o=Je();s!==null?s.dirty||Ye(s.clone()):o.getChildrenSize()!==0&&(t.defaultSelection==="rootStart"?o.selectStart():o.selectEnd()),Sw("focus"),xw(()=>{l.removeAttribute("autocapitalize"),e&&e()})}),this._pendingEditorState===null&&l.removeAttribute("autocapitalize"))}blur(){const e=this._rootElement;e!==null&&e.blur();const t=Qt(this._window);t!==null&&t.removeAllRanges()}isEditable(){return this._editable}setEditable(e){this._editable!==e&&(this._editable=e,ja("editable",this,!0,e))}toJSON(){return{editorState:this._editorState.toJSON()}}}Qu.version="0.32.1+prod.esm";let mw=1;const yw=typeof queueMicrotask=="function"?queueMicrotask:r=>{Promise.resolve().then(r)};function ab(r){return Ke(qt(r))}function ug(r){const e=document.activeElement;if(!at(e))return!1;const t=e.nodeName;return Ke(qt(r))&&(t==="INPUT"||t==="TEXTAREA"||e.contentEditable==="true"&&Wu(e)==null)}function Pa(r,e,t){const l=r.getRootElement();try{return l!==null&&l.contains(e)&&l.contains(t)&&e!==null&&!ug(e)&&ob(e)===r}catch{return!1}}function cg(r){return r instanceof Qu}function ob(r){let e=r;for(;e!=null;){const t=Wu(e);if(cg(t))return t;e=qa(e)}return null}function Wu(r){return r?r.__lexicalEditor:null}function ul(r){return Ku(r)||r.isToken()}function Kr(r){return ul(r)||r.isSegmented()}function Ir(r){return or(r)&&r.nodeType===S1}function _w(r){return or(r)&&r.nodeType===x1}function os(r){let e=r;for(;e!=null;){if(Ir(e))return e;e=e.firstChild}return null}function Ju(r,e,t){const l=ci[e];if(t!==null&&(r&l)==(t&l))return r;let s=r^l;return e==="subscript"?s&=-65:e==="superscript"?s&=-33:e==="lowercase"?(s&=-513,s&=-1025):e==="uppercase"?(s&=-257,s&=-1025):e==="capitalize"&&(s&=-257,s&=-513),s}function fg(r){return se(r)||Nn(r)||Ke(r)}function ub(r,e){if(e!=null)return void(r.__key=e);Zt(),Y_();const t=_t(),l=jr(),s=""+mw++;l._nodeMap.set(s,r),Q(r)?t._dirtyElements.set(s,!0):t._dirtyLeaves.add(s),t._cloneNotNeeded.add(s),t._dirtyType=Vy,r.__key=s}function cl(r){const e=r.getParent();if(e!==null){const t=r.getWritable(),l=e.getWritable(),s=r.getPreviousSibling(),o=r.getNextSibling(),u=o!==null?o.__key:null,f=s!==null?s.__key:null,d=s!==null?s.getWritable():null,g=o!==null?o.getWritable():null;s===null&&(l.__first=u),o===null&&(l.__last=f),d!==null&&(d.__next=u),g!==null&&(g.__prev=f),t.__prev=null,t.__next=null,t.__parent=null,l.__size--}}function ec(r){Y_();const e=r.getLatest(),t=e.__parent,l=jr(),s=_t(),o=l._nodeMap,u=s._dirtyElements;t!==null&&function(d,g,p){let y=d;for(;y!==null;){if(p.has(y))return;const b=g.get(y);if(b===void 0)break;p.set(y,!1),y=b.__parent}}(t,o,u);const f=e.__key;s._dirtyType=Vy,Q(r)?u.set(f,!0):s._dirtyLeaves.add(f)}function Pt(r){Zt();const e=_t(),t=e._compositionKey;if(r!==t){if(e._compositionKey=r,t!==null){const l=Ge(t);l!==null&&l.getWritable()}if(r!==null){const l=Ge(r);l!==null&&l.getWritable()}}}function vi(){return ls()?null:_t()._compositionKey}function Ge(r,e){const t=(e||jr())._nodeMap.get(r);return t===void 0?null:t}function cb(r,e){const t=tc(r,_t());return t!==void 0?Ge(t,e):null}function tc(r,e){return r[`__lexicalKey_${e._key}`]}function qt(r,e){let t=r;for(;t!=null;){const l=cb(t,e);if(l!==null)return l;t=qa(t)}return null}function fb(r){const e=r._decorators,t=Object.assign({},e);return r._pendingDecorators=t,t}function db(r){return r.read(()=>Je().getTextContent())}function Je(){return gb(jr())}function gb(r){return r._nodeMap.get("root")}function Ye(r){Zt();const e=jr();r!==null&&(r.dirty=!0,r.setCachedNodes(null)),e._selection=r}function us(r){const e=_t(),t=function(l,s){let o=l;for(;o!=null;){const u=tc(o,s);if(u!==void 0)return u;o=qa(o)}return null}(r,e);return t===null?r===e.getRootElement()?Ge("root"):null:Ge(t)}function hb(r,e){return e?r.getTextContentSize():0}function pb(r){return/[\uD800-\uDBFF][\uDC00-\uDFFF]/g.test(r)}function dg(r){const e=[];let t=r;for(;t!==null;)e.push(t),t=t._parentEditor;return e}function mb(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substring(0,5)}function yb(r){return Ir(r)?r.nodeValue:null}function gg(r,e,t){const l=Qt(Pn(e));if(l===null)return;const s=l.anchorNode;let{anchorOffset:o,focusOffset:u}=l;if(s!==null){let f=yb(s);const d=qt(s);if(f!==null&&se(d)){if(f===Cu&&t){const g=t.length;f=t,o=g,u=g}f!==null&&hg(d,f,o,u,r)}}}function hg(r,e,t,l,s){let o=r;if(o.isAttached()&&(s||!o.isDirty())){const u=o.isComposing();let f=e;(u||s)&&e[e.length-1]===Cu&&(f=e.slice(0,-1));const d=o.getTextContent();if(s||f!==d){if(f===""){if(Pt(null),va||Zl||bu)o.remove();else{const S=_t();setTimeout(()=>{S.update(()=>{o.isAttached()&&o.remove()})},20)}return}const g=o.getParent(),p=ar(),y=o.getTextContentSize(),b=vi(),v=o.getKey();if(o.isToken()||b!==null&&v===b&&!u||I(p)&&(g!==null&&!g.canInsertTextBefore()&&p.anchor.offset===0||p.anchor.key===r.__key&&p.anchor.offset===0&&!o.canInsertTextBefore()&&!u||p.focus.key===r.__key&&p.focus.offset===y&&!o.canInsertTextAfter()&&!u))return void o.markDirty();const _=V();if(!I(_)||t===null||l===null)return void o.setTextContent(f);if(_.setTextNodeRange(o,t,o,l),o.isSegmented()){const S=Be(o.getTextContent());o.replace(S),o=S}o.setTextContent(f)}}}function nc(r,e,t){const l=e[t]||!1;return l==="any"||l===r[t]}function bw(r,e){return nc(r,e,"altKey")&&nc(r,e,"ctrlKey")&&nc(r,e,"shiftKey")&&nc(r,e,"metaKey")}function it(r,e,t){return bw(r,t)&&r.key.toLowerCase()===e.toLowerCase()}const Pr={ctrlKey:!_r,metaKey:_r},_b={altKey:_r,ctrlKey:!_r};function bb(r){return r.key==="Backspace"}function vb(r){return it(r,"a",Pr)}function Sb(r){const e=Je();if(I(r)){const t=r.anchor,l=r.focus,s=t.getNode().getTopLevelElementOrThrow().getParentOrThrow();return t.set(s.getKey(),0,"element"),l.set(s.getKey(),s.getChildrenSize(),"element"),nl(r),r}{const t=e.select(0,e.getChildrenSize());return Ye(nl(t)),t}}function cs(r,e){r.__lexicalClassNameCache===void 0&&(r.__lexicalClassNameCache={});const t=r.__lexicalClassNameCache,l=t[e];if(l!==void 0)return l;const s=r[e];if(typeof s=="string"){const o=vu(s);return t[e]=o,o}return s}function pg(r,e,t,l,s){if(t.size===0)return;const o=l.__type,u=l.__key,f=e.get(o);f===void 0&&ge(33,o);const d=f.klass;let g=r.get(d);g===void 0&&(g=new Map,r.set(d,g));const p=g.get(u),y=p==="destroyed"&&s==="created";(p===void 0||y)&&g.set(u,y?"updated":s)}function vw(r){const e=r.getType(),t=jr();if(t._readOnly){const o=Eg(t).get(e);return o?Array.from(o.values()):[]}const l=t._nodeMap,s=[];for(const[,o]of l)o instanceof r&&o.__type===e&&o.isAttached()&&s.push(o);return s}function xb(r,e,t){const l=r.getParent();let s=t,o=r;return l!==null&&(e&&t===0?(s=o.getIndexWithinParent(),o=l):e||t!==o.getChildrenSize()||(s=o.getIndexWithinParent()+1,o=l)),o.getChildAtIndex(e?s-1:s)}function mg(r,e){const t=r.offset;if(r.type==="element")return xb(r.getNode(),e,t);{const l=r.getNode();if(e&&t===0||!e&&t===l.getTextContentSize()){const s=e?l.getPreviousSibling():l.getNextSibling();return s===null?xb(l.getParentOrThrow(),e,l.getIndexWithinParent()+(e?0:1)):s}}return null}function Cb(r){const e=Pn(r).event,t=e&&e.inputType;return t==="insertFromPaste"||t==="insertFromPasteAsQuotation"}function _e(r,e,t){return function(l,s,o){const u=dg(l);for(let f=4;f>=0;f--)for(let d=0;d<u.length;d++){const g=u[d],p=g._commands.get(s);if(p!==void 0){const y=p[f];if(y!==void 0){const b=Array.from(y),v=b.length;let _=!1;if(An(g,()=>{for(let S=0;S<v;S++)if(b[S](o,l))return void(_=!0)}),_)return _}}}return!1}(r,e,t)}function rc(r){return!Bt(r)&&!r.isLastChild()&&!r.isInline()}function fs(r,e){const t=r._keyToDOMMap.get(e);return t===void 0&&ge(75,e),t}function qa(r){const e=r.assignedSlot||r.parentElement;return Sg(e)?e.host:e}function Eb(r){return _w(r)?r:at(r)?r.ownerDocument:null}function Sw(r){Zt(),_t()._updateTags.add(r)}function xw(r){Zt(),_t()._deferred.push(r)}function ic(r,e){let t=r.getParent();for(;t!==null;){if(t.is(e))return!0;t=t.getParent()}return!1}function yg(r){const e=Eb(r);return e?e.defaultView:null}function Pn(r){const e=r._window;return e===null&&ge(78),e}function Cw(r){return Q(r)&&r.isInline()||Ke(r)&&r.isInline()}function Ew(r){let e=r.getParentOrThrow();for(;e!==null;){if(Ct(e))return e;e=e.getParentOrThrow()}return e}function Ct(r){return Bt(r)||Q(r)&&r.isShadowRoot()}function Tw(r){const e=r.constructor.clone(r);return ub(e,null),e}function At(r){const e=_t(),t=r.constructor.getType(),l=e._nodes.get(t);l===void 0&&ge(200,r.constructor.name,t);const{replace:s,replaceWithKlass:o}=l;if(s!==null){const u=s(r),f=u.constructor;return o!==null?u instanceof o||ge(201,o.name,o.getType(),f.name,f.getType(),r.constructor.name,t):u instanceof r.constructor&&f!==r.constructor||ge(202,f.name,f.getType(),r.constructor.name,t),u.__key===r.__key&&ge(203,r.constructor.name,t,f.name,f.getType()),u}return r}function _g(r,e){!Bt(r.getParent())||Q(e)||Ke(e)||ge(99)}function ww(r){const e=Ge(r);return e===null&&ge(63,r),e}function bg(r){return(Ke(r)||Q(r)&&!r.canBeEmpty())&&!r.isInline()}function vg(r,e,t){t.style.removeProperty("caret-color"),e._blockCursorElement=null;const l=r.parentElement;l!==null&&l.removeChild(r)}function Qt(r){return rr?(r||window).getSelection():null}function Nw(r){const e=yg(r);return e?e.getSelection():null}function Tb(r){return at(r)&&r.tagName==="A"}function at(r){return or(r)&&r.nodeType===v1}function or(r){return typeof r=="object"&&r!==null&&"nodeType"in r&&typeof r.nodeType=="number"}function Sg(r){return or(r)&&r.nodeType===C1}function xg(r){const e=new RegExp(/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|mark|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var|#text)$/,"i");return r.nodeName.match(e)!==null}function lc(r){const e=new RegExp(/^(address|article|aside|blockquote|canvas|dd|div|dl|dt|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|header|hr|li|main|nav|noscript|ol|p|pre|section|table|td|tfoot|ul|video)$/,"i");return r.nodeName.match(e)!==null}function Si(r){if(Ke(r)&&!r.isInline())return!0;if(!Q(r)||Ct(r))return!1;const e=r.getFirstChild(),t=e===null||Nn(e)||se(e)||e.isInline();return!r.isInline()&&r.canBeEmpty()!==!1&&t}function Cg(r,e){let t=r;for(;t!==null&&t.getParent()!==null&&!e(t);)t=t.getParentOrThrow();return e(t)?t:null}function Ya(){return _t()}const wb=new WeakMap,Aw=new Map;function Eg(r){if(!r._readOnly&&r.isEmpty())return Aw;r._readOnly||ge(192);let e=wb.get(r);return e||(e=function(t){const l=new Map;for(const[s,o]of t._nodeMap){const u=o.__type;let f=l.get(u);f||(f=new Map,l.set(u,f)),f.set(s,o)}return l}(r),wb.set(r,e)),e}function Tg(r){const e=r.constructor.clone(r);return e.afterCloneFrom(r),e}function wg(r,e){const t=parseInt(r.style.paddingInlineStart,10)||0,l=Math.round(t/40);e.setIndent(l)}function Ow(r){r.__lexicalUnmanaged=!0}function Rw(r){return r.__lexicalUnmanaged===!0}const kw={next:"previous",previous:"next"};class Ng{constructor(e){this.origin=e}[Symbol.iterator](){return Rg({hasNext:xi,initial:this.getAdjacentCaret(),map:e=>e,step:e=>e.getAdjacentCaret()})}getAdjacentCaret(){return vt(this.getNodeAtCaret(),this.direction)}getSiblingCaret(){return vt(this.origin,this.direction)}remove(){const e=this.getNodeAtCaret();return e&&e.remove(),this}replaceOrInsert(e,t){const l=this.getNodeAtCaret();return e.is(this.origin)||e.is(l)||(l===null?this.insert(e):l.replace(e,t)),this}splice(e,t,l="next"){const s=l===this.direction?t:Array.from(t).reverse();let o=this;const u=this.getParentAtCaret(),f=new Map;for(let d=o.getAdjacentCaret();d!==null&&f.size<e;d=d.getAdjacentCaret()){const g=d.origin.getWritable();f.set(g.getKey(),g)}for(const d of s){if(f.size>0){const g=o.getNodeAtCaret();if(g){if(f.delete(g.getKey()),f.delete(d.getKey()),!(g.is(d)||o.origin.is(d))){const p=d.getParent();p&&p.is(u)&&d.remove(),g.replace(d)}}else g===null&&ge(263,Array.from(f).join(" "))}else o.insert(d);o=vt(d,this.direction)}for(const d of f.values())d.remove();return this}}class Va extends Ng{constructor(){super(...arguments);nr(this,"type","child")}getLatest(){const t=this.origin.getLatest();return t===this.origin?this:vn(t,this.direction)}getParentCaret(t="root"){return vt(Ag(this.getParentAtCaret(),t),this.direction)}getFlipped(){const t=fl(this.direction);return vt(this.getNodeAtCaret(),t)||vn(this.origin,t)}getParentAtCaret(){return this.origin}getChildCaret(){return this}isSameNodeCaret(t){return t instanceof Va&&this.direction===t.direction&&this.origin.is(t.origin)}isSamePointCaret(t){return this.isSameNodeCaret(t)}}const Mw={root:Bt,shadowRoot:Ct};function fl(r){return kw[r]}function Ag(r,e="root"){return Mw[e](r)?null:r}class dl extends Ng{constructor(){super(...arguments);nr(this,"type","sibling")}getLatest(){const t=this.origin.getLatest();return t===this.origin?this:vt(t,this.direction)}getSiblingCaret(){return this}getParentAtCaret(){return this.origin.getParent()}getChildCaret(){return Q(this.origin)?vn(this.origin,this.direction):null}getParentCaret(t="root"){return vt(Ag(this.getParentAtCaret(),t),this.direction)}getFlipped(){const t=fl(this.direction);return vt(this.getNodeAtCaret(),t)||vn(this.origin.getParentOrThrow(),t)}isSamePointCaret(t){return t instanceof dl&&this.direction===t.direction&&this.origin.is(t.origin)}isSameNodeCaret(t){return(t instanceof dl||t instanceof gl)&&this.direction===t.direction&&this.origin.is(t.origin)}}class gl extends Ng{constructor(t,l){super(t);nr(this,"type","text");this.offset=l}getLatest(){const t=this.origin.getLatest();return t===this.origin?this:hl(t,this.direction,this.offset)}getParentAtCaret(){return this.origin.getParent()}getChildCaret(){return null}getParentCaret(t="root"){return vt(Ag(this.getParentAtCaret(),t),this.direction)}getFlipped(){return hl(this.origin,fl(this.direction),this.offset)}isSamePointCaret(t){return t instanceof gl&&this.direction===t.direction&&this.origin.is(t.origin)&&this.offset===t.offset}isSameNodeCaret(t){return(t instanceof dl||t instanceof gl)&&this.direction===t.direction&&this.origin.is(t.origin)}getSiblingCaret(){return vt(this.origin,this.direction)}}function qr(r){return r instanceof gl}function xi(r){return r instanceof dl}function bn(r){return r instanceof Va}const Dw={next:class extends gl{constructor(){super(...arguments);nr(this,"direction","next")}getNodeAtCaret(){return this.origin.getNextSibling()}insert(e){return this.origin.insertAfter(e),this}},previous:class extends gl{constructor(){super(...arguments);nr(this,"direction","previous")}getNodeAtCaret(){return this.origin.getPreviousSibling()}insert(e){return this.origin.insertBefore(e),this}}},Lw={next:class extends dl{constructor(){super(...arguments);nr(this,"direction","next")}getNodeAtCaret(){return this.origin.getNextSibling()}insert(e){return this.origin.insertAfter(e),this}},previous:class extends dl{constructor(){super(...arguments);nr(this,"direction","previous")}getNodeAtCaret(){return this.origin.getPreviousSibling()}insert(e){return this.origin.insertBefore(e),this}}},zw={next:class extends Va{constructor(){super(...arguments);nr(this,"direction","next")}getNodeAtCaret(){return this.origin.getFirstChild()}insert(e){return this.origin.splice(0,0,[e]),this}},previous:class extends Va{constructor(){super(...arguments);nr(this,"direction","previous")}getNodeAtCaret(){return this.origin.getLastChild()}insert(e){return this.origin.splice(this.origin.getChildrenSize(),0,[e]),this}}};function vt(r,e){return r?new Lw[e](r):null}function hl(r,e,t){return r?new Dw[e](r,ds(r,t)):null}function ds(r,e){const t=r.getTextContentSize();let l=e==="next"?t:e==="previous"?0:e;return(l<0||l>t)&&(function(s,...o){const u=new URL("https://lexical.dev/docs/error"),f=new URLSearchParams;f.append("code",s);for(const d of o)f.append("v",d);u.search=f.toString(),console.warn(`Minified Lexical warning #${s}; visit ${u.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}(284,String(e),String(t),r.getKey()),l=l<0?0:t),l}function Nb(r,e){return new Fw(r,e)}function vn(r,e){return Q(r)?new zw[e](r):null}function $w(r){return r&&r.getChildCaret()||r}function Ga(r){return r&&$w(r.getAdjacentCaret())}class Og{constructor(e,t,l){nr(this,"type","node-caret-range");this.anchor=e,this.focus=t,this.direction=l}getLatest(){const e=this.anchor.getLatest(),t=this.focus.getLatest();return e===this.anchor&&t===this.focus?this:new Og(e,t,this.direction)}isCollapsed(){return this.anchor.isSamePointCaret(this.focus)}getTextSlices(){const e=s=>{const o=this[s].getLatest();return qr(o)?function(u,f){const{direction:d,origin:g}=u,p=ds(g,f==="focus"?fl(d):d);return Nb(u,p-u.offset)}(o,s):null},t=e("anchor"),l=e("focus");if(t&&l){const{caret:s}=t,{caret:o}=l;if(s.isSameNodeCaret(o))return[Nb(s,o.offset-s.offset),null]}return[t,l]}iterNodeCarets(e="root"){const t=qr(this.anchor)?this.anchor.getSiblingCaret():this.anchor.getLatest(),l=this.focus.getLatest(),s=qr(l),o=u=>u.isSameNodeCaret(l)?null:Ga(u)||u.getParentCaret(e);return Rg({hasNext:u=>u!==null&&!(s&&l.isSameNodeCaret(u)),initial:t.isSameNodeCaret(l)?null:o(t),map:u=>u,step:o})}[Symbol.iterator](){return this.iterNodeCarets("root")}}class Fw{constructor(e,t){nr(this,"type","slice");this.caret=e,this.distance=t}getSliceIndices(){const{distance:e,caret:{offset:t}}=this,l=t+e;return l<t?[l,t]:[t,l]}getTextContent(){const[e,t]=this.getSliceIndices();return this.caret.origin.getTextContent().slice(e,t)}getTextContentSize(){return Math.abs(this.distance)}removeTextSlice(){const{caret:{origin:e,direction:t}}=this,[l,s]=this.getSliceIndices(),o=e.getTextContent();return hl(e.setTextContent(o.slice(0,l)+o.slice(s)),t,l)}}function Xa(r){return pl(r,vt(Je(),r.direction))}function Ab(r){return pl(r,r)}function pl(r,e){return r.direction!==e.direction&&ge(265),new Og(r,e,r.direction)}function Rg(r){const{initial:e,hasNext:t,step:l,map:s}=r;let o=e;return{[Symbol.iterator](){return this},next(){if(!t(o))return{done:!0,value:void 0};const u={done:!1,value:s(o)};return o=l(o),u}}}function Ob(r,e){const t=ac(r.origin,e.origin);switch(t===null&&ge(275,r.origin.getKey(),e.origin.getKey()),t.type){case"same":{const l=r.type==="text",s=e.type==="text";return l&&s?function(o,u){return Math.sign(o-u)}(r.offset,e.offset):r.type===e.type?0:l?-1:s?1:r.type==="child"?-1:1}case"ancestor":return r.type==="child"?-1:1;case"descendant":return e.type==="child"?1:-1;case"branch":return Rb(t)}}function Rb(r){const{a:e,b:t}=r,l=e.__key,s=t.__key;let o=e,u=t;for(;o&&u;o=o.getNextSibling(),u=u.getNextSibling()){if(o.__key===s)return-1;if(u.__key===l)return 1}return o===null?1:-1}function sc(r,e){return e.is(r)}function kb(r){return Q(r)?[r.getLatest(),null]:[r.getParent(),r.getLatest()]}function ac(r,e){if(r.is(e))return{commonAncestor:r,type:"same"};const t=new Map;for(let[l,s]=kb(r);l;s=l,l=l.getParent())t.set(l,s);for(let[l,s]=kb(e);l;s=l,l=l.getParent()){const o=t.get(l);if(o!==void 0)return o===null?(sc(r,l)||ge(276),{commonAncestor:l,type:"ancestor"}):s===null?(sc(e,l)||ge(277),{commonAncestor:l,type:"descendant"}):((Q(o)||sc(r,o))&&(Q(s)||sc(e,s))&&l.is(o.getParent())&&l.is(s.getParent())||ge(278),{a:o,b:s,commonAncestor:l,type:"branch"})}return null}function Sr(r,e){const{type:t,key:l,offset:s}=r,o=ww(r.key);return t==="text"?(se(o)||ge(266,o.getType(),l),hl(o,e,s)):(Q(o)||ge(267,o.getType(),l),Uw(o,r.offset,e))}function ur(r,e){const{origin:t,direction:l}=e,s=l==="next";qr(e)?r.set(t.getKey(),e.offset,"text"):xi(e)?se(t)?r.set(t.getKey(),ds(t,l),"text"):r.set(t.getParentOrThrow().getKey(),t.getIndexWithinParent()+(s?1:0),"element"):(bn(e)&&Q(t)||ge(268),r.set(t.getKey(),s?0:t.getChildrenSize(),"element"))}function Mb(r){const e=V(),t=I(e)?e:is();return oc(t,r),Ye(t),t}function oc(r,e){ur(r.anchor,e.anchor),ur(r.focus,e.focus)}function Db(r){const{anchor:e,focus:t}=r,l=Sr(e,"next"),s=Sr(t,"next"),o=Ob(l,s)<=0?"next":"previous";return pl(Yr(l,o),Yr(s,o))}function Za(r){const{direction:e,origin:t}=r,l=vt(t,fl(e)).getNodeAtCaret();return l?vt(l,e):vn(t.getParentOrThrow(),e)}function Lb(r,e="root"){const t=[r];for(let l=bn(r)?r.getParentCaret(e):r.getSiblingCaret();l!==null;l=l.getParentCaret(e))t.push(Za(l));return t}function kg(r){return!!r&&r.origin.isAttached()}function Bw(r,e="removeEmptySlices"){if(r.isCollapsed())return r;const t="root",l="next";let s=e;const o=zb(r,l),u=Lb(o.anchor,t),f=Lb(o.focus.getFlipped(),t),d=new Set,g=[];for(const _ of o.iterNodeCarets(t))if(bn(_))d.add(_.origin.getKey());else if(xi(_)){const{origin:S}=_;Q(S)&&!d.has(S.getKey())||g.push(S)}for(const _ of g)_.remove();for(const _ of o.getTextSlices()){if(!_)continue;const{origin:S}=_.caret,x=S.getTextContentSize(),E=Za(vt(S,l)),C=S.getMode();if(Math.abs(_.distance)===x&&s==="removeEmptySlices"||C==="token"&&_.distance!==0)E.remove();else if(_.distance!==0){s="removeEmptySlices";let T=_.removeTextSlice();const O=_.caret.origin;if(C==="segmented"){const N=T.origin,A=Be(N.getTextContent()).setStyle(N.getStyle()).setFormat(N.getFormat());E.replaceOrInsert(A),T=hl(A,l,T.offset)}O.is(u[0].origin)&&(u[0]=T),O.is(f[0].origin)&&(f[0]=T.getFlipped())}}let p,y;for(const _ of u)if(kg(_)){p=sn(_);break}for(const _ of f)if(kg(_)){y=sn(_);break}const b=function(_,S,x){if(!_||!S)return null;const E=_.getParentAtCaret(),C=S.getParentAtCaret();if(!E||!C)return null;const T=E.getParents().reverse();T.push(E);const O=C.getParents().reverse();O.push(C);const N=Math.min(T.length,O.length);let A;for(A=0;A<N&&T[A]===O[A];A++);const D=(U,P)=>{let J;for(let j=A;j<U.length;j++){const Y=U[j];if(Ct(Y))return;!J&&P(Y)&&(J=Y)}return J},M=D(T,Si),k=M&&D(O,U=>x.has(U.getKey())&&Si(U));return M&&k?[M,k]:null}(p,y,d);if(b){const[_,S]=b;vn(_,"previous").splice(0,S.getChildren()),S.remove()}const v=[p,y,...u,...f].find(kg);if(v)return Ab(Yr(sn(v),r.direction));ge(269,JSON.stringify(u.map(_=>_.origin.__key)))}function sn(r){const e=function(s){let o=s;for(;bn(o);){const u=Ga(o);if(!bn(u))break;o=u}return o}(r.getLatest()),{direction:t}=e;if(se(e.origin))return qr(e)?e:hl(e.origin,t,t);const l=e.getAdjacentCaret();return xi(l)&&se(l.origin)?hl(l.origin,t,fl(t)):e}function Mg(r){return qr(r)&&r.offset!==ds(r.origin,r.direction)}function Yr(r,e){return r.direction===e?r:r.getFlipped()}function zb(r,e){return r.direction===e?r:pl(Yr(r.focus,e),Yr(r.anchor,e))}function Uw(r,e,t){let l=vn(r,"next");for(let s=0;s<e;s++){const o=l.getAdjacentCaret();if(o===null)break;l=o}return Yr(l,t)}function jw(r){const{origin:e,offset:t,direction:l}=r;if(t===ds(e,l))return r.getSiblingCaret();if(t===ds(e,fl(l)))return Za(r.getSiblingCaret());const[s]=e.splitText(t);return se(s)||ge(281),Yr(vt(s,"next"),l)}function Hw(r,e){return!0}function Kw(r,{$copyElementNode:e=Tw,$splitTextPointCaretNext:t=jw,rootMode:l="shadowRoot",$shouldSplit:s=Hw}={}){if(qr(r))return t(r);const o=r.getParentCaret(l);if(o){const{origin:u}=o;if(bn(r)&&(!u.canBeEmpty()||!s(u,"first")))return Za(o);const f=function(d){const g=[];for(let p=d.getAdjacentCaret();p;p=p.getAdjacentCaret())g.push(p.origin);return g}(r);(f.length>0||u.canBeEmpty()&&s(u,"last"))&&o.insert(e(u).splice(0,0,f))}return o}const $b=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,Iw=$b?L.useLayoutEffect:L.useEffect,uc={tag:ss};function Pw({initialConfig:r,children:e}){const t=L.useMemo(()=>{const{theme:l,namespace:s,nodes:o,onError:u,editorState:f,html:d}=r,g=y1(null,l),p=sb({editable:r.editable,html:d,namespace:s,nodes:o,onError:y=>u(y,p),theme:l});return function(y,b){if(b!==null){if(b===void 0)y.update(()=>{const v=Je();if(v.isEmpty()){const _=Ae();v.append(_);const S=$b?document.activeElement:null;(V()!==null||S!==null&&S===y.getRootElement())&&_.select()}},uc);else if(b!==null)switch(typeof b){case"string":{const v=y.parseEditorState(b);y.setEditorState(v,uc);break}case"object":y.setEditorState(b,uc);break;case"function":y.update(()=>{Je().isEmpty()&&b(y)},uc)}}}(p,f),[p,g]},[]);return Iw(()=>{const l=r.editable,[s]=t;s.setEditable(l===void 0||l)},[]),$.jsx(Py.Provider,{value:t,children:e})}const qw=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?L.useLayoutEffect:L.useEffect;function Yw(r){return{initialValueFn:()=>r.isEditable(),subscribe:e=>r.registerEditableListener(e)}}function Dg(){return function(r){const[e]=Fe(),t=L.useMemo(()=>r(e),[e,r]),[l,s]=L.useState(()=>t.initialValueFn()),o=L.useRef(l);return qw(()=>{const{initialValueFn:u,subscribe:f}=t,d=u();return o.current!==d&&(o.current=d,s(d)),f(g=>{o.current=g,s(g)})},[t,r]),l}(Yw)}function Vw(){return Je().getTextContent()}function Gw(r,e=!0){if(r)return!1;let t=Vw();return e&&(t=t.trim()),t===""}function Xw(r){if(!Gw(r,!1))return!1;const e=Je().getChildren(),t=e.length;if(t>1)return!1;for(let l=0;l<t;l++){const s=e[l];if(Ke(s))return!1;if(Q(s)){if(!On(s)||s.__indent!==0)return!1;const o=s.getChildren(),u=o.length;for(let f=0;f<u;f++){const d=o[l];if(!se(d))return!1}}}return!0}function Lg(r){return()=>Xw(r)}function Fb(r,...e){const t=new URL("https://lexical.dev/docs/error"),l=new URLSearchParams;l.append("code",r);for(const s of e)l.append("v",s);throw t.search=l.toString(),Error(`Minified Lexical error #${r}; visit ${t.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}const zg=new Map;function Bb(r){const e={};if(!r)return e;const t=r.split(";");for(const l of t)if(l!==""){const[s,o]=l.split(/:([^]+)/);s&&o&&(e[s.trim()]=o.trim())}return e}function Ub(r){let e=zg.get(r);return e===void 0&&(e=Bb(r),zg.set(r,e)),e}function jb(r,e){const t=r.getStartEndPoints();if(e.isSelected(r)&&!Kr(e)&&t!==null){const[l,s]=t,o=r.isBackward(),u=l.getNode(),f=s.getNode(),d=e.is(u),g=e.is(f);if(d||g){const[p,y]=Jd(r),b=u.is(f),v=e.is(o?f:u),_=e.is(o?u:f);let S,x=0;b?(x=p>y?y:p,S=p>y?p:y):v?(x=o?y:p,S=void 0):_&&(x=0,S=o?p:y),e.__text=e.__text.slice(x,S)}}return e}function cc(r){if(r.type==="text")return r.offset===r.getNode().getTextContentSize();const e=r.getNode();return Q(e)||Fb(177),r.offset===e.getChildrenSize()}function Zw(r){const e=r.getStyle(),t=Bb(e);zg.set(e,t)}function Hb(r){return r.getNode().isAttached()}function Qw(r){let e=r;for(;e!==null&&!Ct(e);){const t=e.getLatest(),l=e.getParent();t.getChildrenSize()===0&&e.remove(!0),e=l}}function Ci(r,e,t=null){const l=r.getStartEndPoints(),s=l?l[0]:null,o=r.getNodes(),u=o.length;if(s!==null&&(u===0||u===1&&s.type==="element"&&s.getNode().getChildrenSize()===0)){const g=s.type==="text"?s.getNode().getParentOrThrow():s.getNode(),p=g.getChildren();let y=e();return y.setFormat(g.getFormatType()),y.setIndent(g.getIndent()),p.forEach(b=>y.append(b)),t&&(y=t.append(y)),void g.replace(y)}let f=null,d=[];for(let g=0;g<u;g++){const p=o[g];Ct(p)?($g(r,d,d.length,e,t),d=[],f=p):f===null||f!==null&&ic(p,f)?d.push(p):($g(r,d,d.length,e,t),d=[p])}$g(r,d,d.length,e,t)}function $g(r,e,t,l,s=null){if(e.length===0)return;const o=e[0],u=new Map,f=[];let d=Q(o)?o:o.getParentOrThrow();d.isInline()&&(d=d.getParentOrThrow());let g=!1;for(;d!==null;){const _=d.getPreviousSibling();if(_!==null){d=_,g=!0;break}if(d=d.getParentOrThrow(),Ct(d))break}const p=new Set;for(let _=0;_<t;_++){const S=e[_];Q(S)&&S.getChildrenSize()===0&&p.add(S.getKey())}const y=new Set;for(let _=0;_<t;_++){const S=e[_];let x=S.getParent();if(x!==null&&x.isInline()&&(x=x.getParent()),x!==null&&fg(S)&&!y.has(S.getKey())){const E=x.getKey();if(u.get(E)===void 0){const C=l();C.setFormat(x.getFormatType()),C.setIndent(x.getIndent()),f.push(C),u.set(E,C),x.getChildren().forEach(T=>{C.append(T),y.add(T.getKey()),Q(T)&&T.getChildrenKeys().forEach(O=>y.add(O))}),Qw(x)}}else if(p.has(S.getKey())){Q(S)||Fb(179);const E=l();E.setFormat(S.getFormatType()),E.setIndent(S.getIndent()),f.push(E),S.remove(!0)}}if(s!==null)for(let _=0;_<f.length;_++){const S=f[_];s.append(S)}let b=null;if(Ct(d))if(g)if(s!==null)d.insertAfter(s);else for(let _=f.length-1;_>=0;_--){const S=f[_];d.insertAfter(S)}else{const _=d.getFirstChild();if(Q(_)&&(d=_),_===null)if(s)d.append(s);else for(let S=0;S<f.length;S++){const x=f[S];d.append(x),b=x}else if(s!==null)_.insertBefore(s);else for(let S=0;S<f.length;S++){const x=f[S];_.insertBefore(x),b=x}}else if(s)d.insertAfter(s);else for(let _=f.length-1;_>=0;_--){const S=f[_];d.insertAfter(S),b=S}const v=ar();I(v)&&Hb(v.anchor)&&Hb(v.focus)?Ye(v.clone()):b!==null?b.selectEnd():r.dirty=!0}function Kb(r){const e=r.anchor.getNode(),t=Bt(e)?e:e.getParentOrThrow(),l=Ya().getElementByKey(t.getKey());if(l===null)return!1;const s=l.ownerDocument.defaultView;return s===null?!1:s.getComputedStyle(l).writingMode==="vertical-rl"}function fc(r,e){const t=Kb(r)?!e:e,l=Sr(r.focus,t?"previous":"next");if(Mg(l))return!1;for(const s of Xa(l)){if(bn(s))return!s.origin.isInline();if(!Q(s.origin)){if(Ke(s.origin))return!0;break}}return!1}function Ww(r,e,t,l){r.modify(e?"extend":"move",t,l)}function Jw(r){const e=r.anchor.getNode();return(Bt(e)?e:e.getParentOrThrow()).getDirection()==="rtl"}function dc(r,e,t){const l=Jw(r);let s;s=Kb(r)||l?!t:t,Ww(r,e,s,"character")}function Ib(r,...e){const t=new URL("https://lexical.dev/docs/error"),l=new URLSearchParams;l.append("code",r);for(const s of e)l.append("v",s);throw t.search=l.toString(),Error(`Minified Lexical error #${r}; visit ${t.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}const gc=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,eN=gc&&"documentMode"in document?document.documentMode:null,tN=gc&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent);!(!gc||!("InputEvent"in window)||eN)&&"getTargetRanges"in new window.InputEvent("input");function Pb(...r){const e=[];for(const t of r)if(t&&typeof t=="string")for(const[l]of t.matchAll(/\S+/g))e.push(l);return e}function mt(...r){return()=>{for(let e=r.length-1;e>=0;e--)r[e]();r.length=0}}const nN=gc,rN=tN;function Et(r,...e){const t=Pb(...e);t.length>0&&r.classList.add(...t)}function xr(r,...e){const t=Pb(...e);t.length>0&&r.classList.remove(...t)}function qb(r,e){for(const t of e)if(r.type.startsWith(t))return!0;return!1}function iN(r,e){const t=r[Symbol.iterator]();return new Promise((l,s)=>{const o=[],u=()=>{const{done:f,value:d}=t.next();if(f)return l(o);const g=new FileReader;g.addEventListener("error",s),g.addEventListener("load",()=>{const p=g.result;typeof p=="string"&&o.push({file:d,result:p}),u()}),qb(d,e)?g.readAsDataURL(d):u()};u()})}function lN(r){return r?r.getAdjacentCaret():null}function Yb(r,e){let t=r;for(;t!=null;){if(t instanceof e)return t;t=t.getParent()}return null}function sN(r){const e=ze(r,t=>Q(t)&&!t.isInline());return Q(e)||Ib(4,r.__key),e}const ze=(r,e)=>{let t=r;for(;t!==Je()&&t!=null;){if(e(t))return t;t=t.getParent()}return null};function Vb(r){const e=V()||ar();let t;if(I(e))t=Sr(e.focus,"next");else{if(e!=null){const u=e.getNodes(),f=u[u.length-1];f&&(t=vt(f,"next"))}t=t||vn(Je(),"previous").getFlipped().insert(Ae())}const l=aN(r,t),s=Ga(l),o=bn(s)?sn(s):l;return Mb(Ab(o)),r.getLatest()}function aN(r,e,t){let l=Yr(e,"next");for(let s=l;s;s=Kw(s,t))l=s;return qr(l)&&Ib(283),l.insert(r.isInline()?Ae().append(r):r),Yr(vt(r.getLatest(),"next"),e.direction)}function oN(r,e){const t=e();return r.replace(t),t.append(r),t}function cr(r,e){return r!==null&&Object.getPrototypeOf(r).constructor.name===e.name}function uN(r,e){vn(r,"next").insert(e)}let Fg=!(rN||!nN)&&void 0;function ml(r){let e=1;if(function(){if(Fg===void 0){const t=document.createElement("div");t.style.cssText="position: absolute; opacity: 0; width: 100px; left: -1000px;",document.body.appendChild(t);const l=t.getBoundingClientRect();t.style.setProperty("zoom","2"),Fg=t.getBoundingClientRect().width===l.width,document.body.removeChild(t)}return Fg}())for(;r;)e*=Number(window.getComputedStyle(r).getPropertyValue("zoom")),r=r.parentElement;return e}function Gb(r,e){return Xb(r,e,null)}function Xb(r,e,t){let l=!1;for(const s of Qb(r))e(s)?t!==null&&t(s):(l=!0,Q(s)&&Xb(s,e,t||(o=>s.insertAfter(o))),s.remove());return l}function Zb(r,e){const t=[],l=Array.from(r).reverse();for(let s=l.pop();s!==void 0;s=l.pop())if(e(s))t.push(s);else if(Q(s))for(const o of Qb(s))l.push(o);return t}function Qb(r){return cN(vn(r,"previous"))}function cN(r){return Rg({hasNext:xi,initial:r.getAdjacentCaret(),map:e=>e.origin.getLatest(),step:e=>e.getAdjacentCaret()})}var kn=vy();function Wb(r){const e=window.location.origin,t=l=>{if(l.origin!==e)return;const s=r.getRootElement();if(document.activeElement!==s)return;const o=l.data;if(typeof o=="string"){let u;try{u=JSON.parse(o)}catch{return}if(u&&u.protocol==="nuanria_messaging"&&u.type==="request"){const f=u.payload;if(f&&f.functionId==="makeChanges"){const d=f.args;if(d){const[g,p,y,b,v,_]=d;r.update(()=>{const S=V();if(I(S)){const x=S.anchor;let E=x.getNode(),C=0,T=0;if(se(E)&&g>=0&&p>=0&&(C=g,T=g+p,S.setTextNodeRange(E,C,E,T)),C===T&&y===""||(S.insertRawText(y),E=x.getNode()),se(E)){C=b,T=b+v;const O=E.getTextContentSize();C=C>O?O:C,T=T>O?O:T,S.setTextNodeRange(E,C,E,T)}l.stopImmediatePropagation()}})}}}}};return window.addEventListener("message",t,!0),()=>{window.removeEventListener("message",t,!0)}}function fN(r,e){const t=e.body?e.body.childNodes:[];let l=[];const s=[];for(let o=0;o<t.length;o++){const u=t[o];if(!ev.has(u.nodeName)){const f=tv(u,r,s,!1);f!==null&&(l=l.concat(f))}}return function(o){for(const u of o)u.getNextSibling()instanceof og&&u.insertAfter(In());for(const u of o){const f=u.getChildren();for(const d of f)u.insertBefore(d);u.remove()}}(s),l}function dN(r,e){if(typeof document>"u"||typeof window>"u"&&global.window===void 0)throw new Error("To use $generateHtmlFromNodes in headless mode please initialize a headless browser implementation such as JSDom before calling this function.");const t=document.createElement("div"),l=Je().getChildren();for(let s=0;s<l.length;s++)Jb(r,l[s],t,e);return t.innerHTML}function Jb(r,e,t,l=null){let s=l===null||e.isSelected(l);const o=Q(e)&&e.excludeFromCopy("html");let u=e;if(l!==null){let v=Tg(e);v=se(v)&&l!==null?jb(l,v):v,u=v}const f=Q(u)?u.getChildren():[],d=r._nodes.get(u.getType());let g;g=d&&d.exportDOM!==void 0?d.exportDOM(r,u):u.exportDOM(r);const{element:p,after:y}=g;if(!p)return!1;const b=document.createDocumentFragment();for(let v=0;v<f.length;v++){const _=f[v],S=Jb(r,_,b,l);!s&&Q(e)&&S&&e.extractWithChild(_,l,"html")&&(s=!0)}if(s&&!o){if((at(p)||Sg(p))&&p.append(b),t.append(p),y){const v=y.call(u,p);v&&(Sg(p)?p.replaceChildren(v):p.replaceWith(v))}}else t.append(b);return s}const ev=new Set(["STYLE","SCRIPT"]);function tv(r,e,t,l,s=new Map,o){let u=[];if(ev.has(r.nodeName))return u;let f=null;const d=function(_,S){const{nodeName:x}=_,E=S._htmlConversions.get(x.toLowerCase());let C=null;if(E!==void 0)for(const T of E){const O=T(_);O!==null&&(C===null||(C.priority||0)<=(O.priority||0))&&(C=O)}return C!==null?C.conversion:null}(r,e),g=d?d(r):null;let p=null;if(g!==null){p=g.after;const _=g.node;if(f=Array.isArray(_)?_[_.length-1]:_,f!==null){for(const[,S]of s)if(f=S(f,o),!f)break;f&&u.push(...Array.isArray(_)?_:[f])}g.forChild!=null&&s.set(r.nodeName,g.forChild)}const y=r.childNodes;let b=[];const v=(f==null||!Ct(f))&&(f!=null&&eg(f)||l);for(let _=0;_<y.length;_++)b.push(...tv(y[_],e,t,v,new Map(s),f));return p!=null&&(b=p(b)),lc(r)&&(b=gN(r,b,v?()=>{const _=new og;return t.push(_),_}:Ae)),f==null?b.length>0?u=u.concat(b):lc(r)&&function(_){return _.nextSibling==null||_.previousSibling==null?!1:xg(_.nextSibling)&&xg(_.previousSibling)}(r)&&(u=u.concat(In())):Q(f)&&f.append(...b),u}function gN(r,e,t){const l=r.style.textAlign,s=[];let o=[];for(let u=0;u<e.length;u++){const f=e[u];if(eg(f))l&&!f.getFormat()&&f.setFormat(l),s.push(f);else if(o.push(f),u===e.length-1||u<e.length-1&&eg(e[u+1])){const d=t();d.setFormat(l),d.append(...o),s.push(d),o=[]}}return s}function hc(r,...e){const t=new URL("https://lexical.dev/docs/error"),l=new URLSearchParams;l.append("code",r);for(const s of e)l.append("v",s);throw t.search=l.toString(),Error(`Minified Lexical error #${r}; visit ${t.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function nv(r,e=V()){return e==null&&hc(166),I(e)&&e.isCollapsed()||e.getNodes().length===0?"":dN(r,e)}function hN(r,e=V()){return e==null&&hc(166),I(e)&&e.isCollapsed()||e.getNodes().length===0?null:JSON.stringify(pN(r,e))}function rv(r,e){const t=r.getData("text/plain")||r.getData("text/uri-list");t!=null&&e.insertRawText(t)}function iv(r,e,t){const l=r.getData("application/x-lexical-editor");if(l)try{const f=JSON.parse(l);if(f.namespace===t._config.namespace&&Array.isArray(f.nodes))return lv(t,mN(f.nodes),e)}catch{}const s=r.getData("text/html"),o=r.getData("text/plain");if(s&&o!==s)try{const f=new DOMParser().parseFromString(function(d){return window.trustedTypes&&window.trustedTypes.createPolicy?window.trustedTypes.createPolicy("lexical",{createHTML:g=>g}).createHTML(d):d}(s),"text/html");return lv(t,fN(t,f),e)}catch{}const u=o||r.getData("text/uri-list");if(u!=null)if(I(e)){const f=u.split(/(\r?\n|\t)/);f[f.length-1]===""&&f.pop();for(let d=0;d<f.length;d++){const g=V();if(I(g)){const p=f[d];p===`
`||p===`\r
`?g.insertParagraph():p==="	"?g.insertNodes([rs()]):g.insertText(p)}}}else e.insertRawText(u)}function lv(r,e,t){r.dispatchCommand(Fd,{nodes:e,selection:t})||t.insertNodes(e)}function sv(r,e,t,l=[]){let s=e===null||t.isSelected(e);const o=Q(t)&&t.excludeFromCopy("html");let u=t;if(e!==null){let g=Tg(t);g=se(g)&&e!==null?jb(e,g):g,u=g}const f=Q(u)?u.getChildren():[],d=function(g){const p=g.exportJSON(),y=g.constructor;if(p.type!==y.getType()&&hc(58,y.name),Q(g)){const b=p.children;Array.isArray(b)||hc(59,y.name)}return p}(u);if(se(u)){const g=u.__text;g.length>0?d.text=g:s=!1}for(let g=0;g<f.length;g++){const p=f[g],y=sv(r,e,p,d.children);!s&&Q(t)&&y&&t.extractWithChild(p,e,"clone")&&(s=!0)}if(s&&!o)l.push(d);else if(Array.isArray(d.children))for(let g=0;g<d.children.length;g++){const p=d.children[g];l.push(p)}return s}function pN(r,e){const t=[],l=Je().getChildren();for(let s=0;s<l.length;s++)sv(r,e,l[s],t);return{namespace:r._config.namespace,nodes:t}}function mN(r){const e=[];for(let t=0;t<r.length;t++){const l=r[t],s=fw(l);se(s)&&Zw(s),e.push(s)}return e}let gs=null;async function Bg(r,e,t){if(gs!==null)return!1;if(e!==null)return new Promise((g,p)=>{r.update(()=>{g(av(r,e,t))})});const l=r.getRootElement(),s=r._window||window,o=window.document,u=Qt(s);if(l===null||u===null)return!1;const f=o.createElement("span");f.style.cssText="position: fixed; top: -1000px;",f.append(o.createTextNode("#")),l.append(f);const d=new Range;return d.setStart(f,0),d.setEnd(f,1),u.removeAllRanges(),u.addRange(d),new Promise((g,p)=>{const y=r.registerCommand(ka,b=>(cr(b,ClipboardEvent)&&(y(),gs!==null&&(window.clearTimeout(gs),gs=null),g(av(r,b,t))),!0),Rn);gs=window.setTimeout(()=>{y(),gs=null,g(!1)},50),o.execCommand("copy"),f.remove()})}function av(r,e,t){if(t===void 0){const s=Qt(r._window);if(!s)return!1;const o=s.anchorNode,u=s.focusNode;if(o!==null&&u!==null&&!Pa(r,o,u))return!1;const f=V();if(f===null)return!1;t=ov(f)}e.preventDefault();const l=e.clipboardData;return l!==null&&(_N(l,t),!0)}const yN=[["text/html",nv],["application/x-lexical-editor",hN]];function ov(r=V()){const e={"text/plain":r?r.getTextContent():""};if(r){const t=Ya();for(const[l,s]of yN){const o=s(t,r);o!==null&&(e[l]=o)}}return e}function _N(r,e){for(const t in e){const l=e[t];l!==void 0&&r.setData(t,l)}}function uv(r,e){if(document.caretRangeFromPoint!==void 0){const t=document.caretRangeFromPoint(r,e);return t===null?null:{node:t.startContainer,offset:t.startOffset}}if(document.caretPositionFromPoint!=="undefined"){const t=document.caretPositionFromPoint(r,e);return t===null?null:{node:t.offsetNode,offset:t.offset}}return null}const hs=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,bN=hs&&"documentMode"in document?document.documentMode:null,vN=!(!hs||!("InputEvent"in window)||bN)&&"getTargetRanges"in new window.InputEvent("input"),SN=hs&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),cv=hs&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,xN=hs&&/^(?=.*Chrome).*/i.test(navigator.userAgent),CN=hs&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!xN,Ug=Ee("DRAG_DROP_PASTE_FILE");let pc=class mT extends _n{static getType(){return"quote"}static clone(e){return new mT(e.__key)}createDOM(e){const t=document.createElement("blockquote");return Et(t,e.theme.quote),t}updateDOM(e,t){return!1}static importDOM(){return{blockquote:e=>({conversion:EN,priority:0})}}exportDOM(e){const{element:t}=super.exportDOM(e);if(at(t)){this.isEmpty()&&t.append(document.createElement("br"));const l=this.getFormatType();l&&(t.style.textAlign=l);const s=this.getDirection();s&&(t.dir=s)}return{element:t}}static importJSON(e){return Qa().updateFromJSON(e)}insertNewAfter(e,t){const l=Ae(),s=this.getDirection();return l.setDirection(s),this.insertAfter(l,t),l}collapseAtStart(){const e=Ae();return this.getChildren().forEach(t=>e.append(t)),this.replace(e),!0}canMergeWhenEmpty(){return!0}};function Qa(){return At(new pc)}function jg(r){return r instanceof pc}let mc=class yT extends _n{static getType(){return"heading"}static clone(e){return new yT(e.__tag,e.__key)}constructor(e,t){super(t),this.__tag=e}getTag(){return this.__tag}setTag(e){const t=this.getWritable();return this.__tag=e,t}createDOM(e){const t=this.__tag,l=document.createElement(t),s=e.theme.heading;if(s!==void 0){const o=s[t];Et(l,o)}return l}updateDOM(e,t,l){return e.__tag!==this.__tag}static importDOM(){return{h1:e=>({conversion:ps,priority:0}),h2:e=>({conversion:ps,priority:0}),h3:e=>({conversion:ps,priority:0}),h4:e=>({conversion:ps,priority:0}),h5:e=>({conversion:ps,priority:0}),h6:e=>({conversion:ps,priority:0}),p:e=>{const t=e.firstChild;return t!==null&&fv(t)?{conversion:()=>({node:null}),priority:3}:null},span:e=>fv(e)?{conversion:t=>({node:Wt("h1")}),priority:3}:null}}exportDOM(e){const{element:t}=super.exportDOM(e);if(at(t)){this.isEmpty()&&t.append(document.createElement("br"));const l=this.getFormatType();l&&(t.style.textAlign=l);const s=this.getDirection();s&&(t.dir=s)}return{element:t}}static importJSON(e){return Wt(e.tag).updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setTag(e.tag)}exportJSON(){return{...super.exportJSON(),tag:this.getTag()}}insertNewAfter(e,t=!0){const l=e?e.anchor.offset:0,s=this.getLastDescendant(),o=!s||e&&e.anchor.key===s.getKey()&&l===s.getTextContentSize()||!e?Ae():Wt(this.getTag()),u=this.getDirection();if(o.setDirection(u),this.insertAfter(o,t),l===0&&!this.isEmpty()&&e){const f=Ae();f.select(),this.replace(f,!0)}return o}collapseAtStart(){const e=this.isEmpty()?Ae():Wt(this.getTag());return this.getChildren().forEach(t=>e.append(t)),this.replace(e),!0}extractWithChild(){return!0}};function fv(r){return r.nodeName.toLowerCase()==="span"&&r.style.fontSize==="26pt"}function ps(r){const e=r.nodeName.toLowerCase();let t=null;return e!=="h1"&&e!=="h2"&&e!=="h3"&&e!=="h4"&&e!=="h5"&&e!=="h6"||(t=Wt(e),r.style!==null&&(wg(r,t),t.setFormat(r.style.textAlign))),{node:t}}function EN(r){const e=Qa();return r.style!==null&&(e.setFormat(r.style.textAlign),wg(r,e)),{node:e}}function Wt(r="h1"){return At(new mc(r))}function dv(r){return r instanceof mc}function ms(r){let e=null;if(cr(r,DragEvent)?e=r.dataTransfer:cr(r,ClipboardEvent)&&(e=r.clipboardData),e===null)return[!1,[],!1];const t=e.types,l=t.includes("Files"),s=t.includes("text/html")||t.includes("text/plain");return[l,Array.from(e.files),s]}function gv(r){const e=V();if(!I(e))return!1;const t=new Set,l=e.getNodes();for(let s=0;s<l.length;s++){const o=l[s],u=o.getKey();if(t.has(u))continue;const f=ze(o,g=>Q(g)&&!g.isInline());if(f===null)continue;const d=f.getKey();f.canIndent()&&!t.has(d)&&(t.add(d),r(f))}return t.size>0}function hv(r){const e=qt(r);return Ke(e)}function Hg(r){for(const e of["lowercase","uppercase","capitalize"])r.hasFormat(e)&&r.toggleFormat(e)}function TN(r){return mt(r.registerCommand(di,e=>{const t=V();return!!rt(t)&&(t.clear(),!0)},Te),r.registerCommand(lr,e=>{const t=V();return I(t)?(t.deleteCharacter(e),!0):!!rt(t)&&(t.deleteNodes(),!0)},Te),r.registerCommand(ll,e=>{const t=V();return!!I(t)&&(t.deleteWord(e),!0)},Te),r.registerCommand(mi,e=>{const t=V();return!!I(t)&&(t.deleteLine(e),!0)},Te),r.registerCommand(pi,e=>{const t=V();if(typeof e=="string")t!==null&&t.insertText(e);else{if(t===null)return!1;const l=e.dataTransfer;if(l!=null)iv(l,t,r);else if(I(t)){const s=e.data;return s&&t.insertText(s),!0}}return!0},Te),r.registerCommand(Ru,()=>{const e=V();return!!I(e)&&(e.removeText(),!0)},Te),r.registerCommand(pn,e=>{const t=V();return!!I(t)&&(t.formatText(e),!0)},Te),r.registerCommand(g_,e=>{const t=V();if(!I(t)&&!rt(t))return!1;const l=t.getNodes();for(const s of l){const o=ze(s,u=>Q(u)&&!u.isInline());o!==null&&o.setFormat(e)}return!0},Te),r.registerCommand(gi,e=>{const t=V();return!!I(t)&&(t.insertLineBreak(e),!0)},Te),r.registerCommand(hi,()=>{const e=V();return!!I(e)&&(e.insertParagraph(),!0)},Te),r.registerCommand(G1,()=>(ng([rs()]),!0),Te),r.registerCommand(d_,()=>gv(e=>{const t=e.getIndent();e.setIndent(t+1)}),Te),r.registerCommand(Hd,()=>gv(e=>{const t=e.getIndent();t>0&&e.setIndent(Math.max(0,t-1))}),Te),r.registerCommand(Na,e=>{const t=V();if(rt(t)){const l=t.getNodes();if(l.length>0)return l[0].selectPrevious(),!0}else if(I(t)){const l=mg(t.focus,!0);if(!e.shiftKey&&Ke(l)&&!l.isIsolated()&&!l.isInline())return l.selectPrevious(),e.preventDefault(),!0}return!1},Te),r.registerCommand(Aa,e=>{const t=V();if(rt(t)){const l=t.getNodes();if(l.length>0)return l[0].selectNext(0,0),!0}else if(I(t)){if(function(s){const o=s.focus;return o.key==="root"&&o.offset===Je().getChildrenSize()}(t))return e.preventDefault(),!0;const l=mg(t.focus,!1);if(!e.shiftKey&&Ke(l)&&!l.isIsolated()&&!l.isInline())return l.selectNext(),e.preventDefault(),!0}return!1},Te),r.registerCommand(wa,e=>{const t=V();if(rt(t)){const l=t.getNodes();if(l.length>0)return e.preventDefault(),l[0].selectPrevious(),!0}if(!I(t))return!1;if(fc(t,!0)){const l=e.shiftKey;return e.preventDefault(),dc(t,l,!0),!0}return!1},Te),r.registerCommand(Ta,e=>{const t=V();if(rt(t)){const s=t.getNodes();if(s.length>0)return e.preventDefault(),s[0].selectNext(0,0),!0}if(!I(t))return!1;const l=e.shiftKey;return!!fc(t,!1)&&(e.preventDefault(),dc(t,l,!1),!0)},Te),r.registerCommand(_i,e=>{if(hv(e.target))return!1;const t=V();if(I(t)){if(function(l){if(!l.isCollapsed())return!1;const{anchor:s}=l;if(s.offset!==0)return!1;const o=s.getNode();if(Bt(o))return!1;const u=sN(o);return u.getIndent()>0&&(u.is(o)||o.is(u.getFirstDescendant()))}(t))return e.preventDefault(),r.dispatchCommand(Hd,void 0);if(cv&&navigator.language==="ko-KR")return!1}else if(!rt(t))return!1;return e.preventDefault(),r.dispatchCommand(lr,!0)},Te),r.registerCommand(Jl,e=>{if(hv(e.target))return!1;const t=V();return!(!I(t)&&!rt(t))&&(e.preventDefault(),r.dispatchCommand(lr,!1))},Te),r.registerCommand(yi,e=>{const t=V();if(!I(t))return!1;if(Hg(t),e!==null){if((cv||SN||CN)&&vN)return!1;if(e.preventDefault(),e.shiftKey)return r.dispatchCommand(gi,!1)}return r.dispatchCommand(hi,void 0)},Te),r.registerCommand(sl,()=>{const e=V();return!!I(e)&&(r.blur(),!0)},Te),r.registerCommand(Oa,e=>{const[,t]=ms(e);if(t.length>0){const s=uv(e.clientX,e.clientY);if(s!==null){const{offset:o,node:u}=s,f=qt(u);if(f!==null){const d=is();if(se(f))d.anchor.set(f.getKey(),o,"text"),d.focus.set(f.getKey(),o,"text");else{const p=f.getParentOrThrow().getKey(),y=f.getIndexWithinParent()+1;d.anchor.set(p,y,"element"),d.focus.set(p,y,"element")}const g=nl(d);Ye(g)}r.dispatchCommand(Ug,t)}return e.preventDefault(),!0}const l=V();return!!I(l)},Te),r.registerCommand(Ra,e=>{const[t]=ms(e),l=V();return!(t&&!I(l))},Te),r.registerCommand(Mu,e=>{const[t]=ms(e),l=V();if(t&&!I(l))return!1;const s=uv(e.clientX,e.clientY);if(s!==null){const o=qt(s.node);Ke(o)&&e.preventDefault()}return!0},Te),r.registerCommand(Du,()=>(Sb(),!0),Te),r.registerCommand(ka,e=>(Bg(r,cr(e,ClipboardEvent)?e:null),!0),Te),r.registerCommand(Ma,e=>(async function(t,l){await Bg(l,cr(t,ClipboardEvent)?t:null),l.update(()=>{const s=V();I(s)?s.removeText():rt(s)&&s.getNodes().forEach(o=>o.remove())})}(e,r),!0),Te),r.registerCommand(Wl,e=>{const[,t,l]=ms(e);return t.length>0&&!l?(r.dispatchCommand(Ug,t),!0):or(e.target)&&ug(e.target)?!1:V()!==null&&(function(s,o){s.preventDefault(),o.update(()=>{const u=V(),f=cr(s,InputEvent)||cr(s,KeyboardEvent)?null:s.clipboardData;f!=null&&u!==null&&iv(f,u,o)},{tag:rb})}(e,r),!0)},Te),r.registerCommand(ku,e=>{const t=V();return I(t)&&Hg(t),!1},Te),r.registerCommand(es,e=>{const t=V();return I(t)&&Hg(t),!1},Te))}const Kg=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?L.useLayoutEffect:L.useEffect;function pv(r){return r.getEditorState().read(Lg(r.isComposing()))}function wN({contentEditable:r,placeholder:e=null,ErrorBoundary:t}){const[l]=Fe(),s=function(o,u){const[f,d]=L.useState(()=>o.getDecorators());return Kg(()=>o.registerDecoratorListener(g=>{kn.flushSync(()=>{d(g)})}),[o]),L.useEffect(()=>{d(o.getDecorators())},[o]),L.useMemo(()=>{const g=[],p=Object.keys(f);for(let y=0;y<p.length;y++){const b=p[y],v=$.jsx(u,{onError:S=>o._onError(S),children:$.jsx(L.Suspense,{fallback:null,children:f[b]})}),_=o.getElementByKey(b);_!==null&&g.push(kn.createPortal(v,_,b))}return g},[u,f,o])}(l,t);return function(o){Kg(()=>mt(TN(o),Wb(o)),[o])}(l),$.jsxs($.Fragment,{children:[r,$.jsx(NN,{content:e}),s]})}function NN({content:r}){const[e]=Fe(),t=function(s){const[o,u]=L.useState(()=>pv(s));return Kg(()=>{function f(){const d=pv(s);u(d)}return f(),mt(s.registerUpdateListener(()=>{f()}),s.registerEditableListener(()=>{f()}))},[s]),o}(e),l=Dg();return t?typeof r=="function"?r(l):r:null}const ys=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,AN=ys&&"documentMode"in document?document.documentMode:null,ON=!(!ys||!("InputEvent"in window)||AN)&&"getTargetRanges"in new window.InputEvent("input"),RN=ys&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),mv=ys&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,kN=ys&&/^(?=.*Chrome).*/i.test(navigator.userAgent),MN=ys&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!kN;function yv(r,e){e.update(()=>{if(r!==null){const t=cr(r,KeyboardEvent)?null:r.clipboardData,l=V();if(l!==null&&t!=null){r.preventDefault();const s=nv(e);s!==null&&t.setData("text/html",s),t.setData("text/plain",l.getTextContent())}}})}function DN(r){return mt(r.registerCommand(lr,e=>{const t=V();return!!I(t)&&(t.deleteCharacter(e),!0)},Te),r.registerCommand(ll,e=>{const t=V();return!!I(t)&&(t.deleteWord(e),!0)},Te),r.registerCommand(mi,e=>{const t=V();return!!I(t)&&(t.deleteLine(e),!0)},Te),r.registerCommand(pi,e=>{const t=V();if(!I(t))return!1;if(typeof e=="string")t.insertText(e);else{const l=e.dataTransfer;if(l!=null)rv(l,t);else{const s=e.data;s&&t.insertText(s)}}return!0},Te),r.registerCommand(Ru,()=>{const e=V();return!!I(e)&&(e.removeText(),!0)},Te),r.registerCommand(gi,e=>{const t=V();return!!I(t)&&(t.insertLineBreak(e),!0)},Te),r.registerCommand(hi,()=>{const e=V();return!!I(e)&&(e.insertLineBreak(),!0)},Te),r.registerCommand(wa,e=>{const t=V();if(!I(t))return!1;const l=e,s=l.shiftKey;return!!fc(t,!0)&&(l.preventDefault(),dc(t,s,!0),!0)},Te),r.registerCommand(Ta,e=>{const t=V();if(!I(t))return!1;const l=e,s=l.shiftKey;return!!fc(t,!1)&&(l.preventDefault(),dc(t,s,!1),!0)},Te),r.registerCommand(_i,e=>{const t=V();return!!I(t)&&(!mv||navigator.language!=="ko-KR")&&(e.preventDefault(),r.dispatchCommand(lr,!0))},Te),r.registerCommand(Jl,e=>{const t=V();return!!I(t)&&(e.preventDefault(),r.dispatchCommand(lr,!1))},Te),r.registerCommand(yi,e=>{const t=V();if(!I(t))return!1;if(e!==null){if((mv||RN||MN)&&ON)return!1;e.preventDefault()}return r.dispatchCommand(gi,!1)},Te),r.registerCommand(Du,()=>(Sb(),!0),Te),r.registerCommand(ka,e=>{const t=V();return!!I(t)&&(yv(e,r),!0)},Te),r.registerCommand(Ma,e=>{const t=V();return!!I(t)&&(function(l,s){yv(l,s),s.update(()=>{const o=V();I(o)&&o.removeText()})}(e,r),!0)},Te),r.registerCommand(Wl,e=>{const t=V();return!!I(t)&&(function(l,s){l.preventDefault(),s.update(()=>{const o=V(),u=cr(l,ClipboardEvent)?l.clipboardData:null;u!=null&&I(o)&&rv(u,o)},{tag:rb})}(e,r),!0)},Te),r.registerCommand(Oa,e=>{const t=V();return!!I(t)&&(e.preventDefault(),!0)},Te),r.registerCommand(Ra,e=>{const t=V();return!!I(t)&&(e.preventDefault(),!0)},Te))}const Ig=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?L.useLayoutEffect:L.useEffect;function _v(r){return r.getEditorState().read(Lg(r.isComposing()))}function LN({contentEditable:r,placeholder:e=null,ErrorBoundary:t}){const[l]=Fe(),s=function(o,u){const[f,d]=L.useState(()=>o.getDecorators());return Ig(()=>o.registerDecoratorListener(g=>{kn.flushSync(()=>{d(g)})}),[o]),L.useEffect(()=>{d(o.getDecorators())},[o]),L.useMemo(()=>{const g=[],p=Object.keys(f);for(let y=0;y<p.length;y++){const b=p[y],v=$.jsx(u,{onError:S=>o._onError(S),children:$.jsx(L.Suspense,{fallback:null,children:f[b]})}),_=o.getElementByKey(b);_!==null&&g.push(kn.createPortal(v,_,b))}return g},[u,f,o])}(l,t);return function(o){Ig(()=>mt(DN(o),Wb(o)),[o])}(l),$.jsxs($.Fragment,{children:[r,$.jsx(zN,{content:e}),s]})}function zN({content:r}){const[e]=Fe(),t=function(s){const[o,u]=L.useState(()=>_v(s));return Ig(()=>{function f(){const d=_v(s);u(d)}return f(),mt(s.registerUpdateListener(()=>{f()}),s.registerEditableListener(()=>{f()}))},[s]),o}(e),l=Dg();return t?typeof r=="function"?r(l):r:null}function Pg(r,e){return Pg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,l){return t.__proto__=l,t},Pg(r,e)}var bv={error:null},$N=function(r){var e,t;function l(){for(var o,u=arguments.length,f=new Array(u),d=0;d<u;d++)f[d]=arguments[d];return(o=r.call.apply(r,[this].concat(f))||this).state=bv,o.resetErrorBoundary=function(){for(var g,p=arguments.length,y=new Array(p),b=0;b<p;b++)y[b]=arguments[b];o.props.onReset==null||(g=o.props).onReset.apply(g,y),o.reset()},o}t=r,(e=l).prototype=Object.create(t.prototype),e.prototype.constructor=e,Pg(e,t),l.getDerivedStateFromError=function(o){return{error:o}};var s=l.prototype;return s.reset=function(){this.setState(bv)},s.componentDidCatch=function(o,u){var f,d;(f=(d=this.props).onError)==null||f.call(d,o,u)},s.componentDidUpdate=function(o,u){var f,d,g,p,y=this.state.error,b=this.props.resetKeys;y!==null&&u.error!==null&&((g=o.resetKeys)===void 0&&(g=[]),(p=b)===void 0&&(p=[]),g.length!==p.length||g.some(function(v,_){return!Object.is(v,p[_])}))&&((f=(d=this.props).onResetKeysChange)==null||f.call(d,o.resetKeys,b),this.reset())},s.render=function(){var o=this.state.error,u=this.props,f=u.fallbackRender,d=u.FallbackComponent,g=u.fallback;if(o!==null){var p={error:o,resetErrorBoundary:this.resetErrorBoundary};if(L.isValidElement(g))return g;if(typeof f=="function")return f(p);if(d)return L.createElement(d,p);throw new Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return this.props.children},l}(L.Component);function FN({children:r,onError:e}){return $.jsx($N,{fallback:$.jsx("div",{style:{border:"1px solid #f00",color:"#f00",padding:"8px"},children:"An error was thrown."}),onError:e,children:r})}const vv=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?L.useLayoutEffect:L.useEffect;function BN({editor:r,ariaActiveDescendant:e,ariaAutoComplete:t,ariaControls:l,ariaDescribedBy:s,ariaErrorMessage:o,ariaExpanded:u,ariaInvalid:f,ariaLabel:d,ariaLabelledBy:g,ariaMultiline:p,ariaOwns:y,ariaRequired:b,autoCapitalize:v,className:_,id:S,role:x="textbox",spellCheck:E=!0,style:C,tabIndex:T,"data-testid":O,...N},A){const[D,M]=L.useState(r.isEditable()),k=L.useCallback(P=>{P&&P.ownerDocument&&P.ownerDocument.defaultView?r.setRootElement(P):r.setRootElement(null)},[r]),U=L.useMemo(()=>function(...P){return J=>{P.forEach(j=>{typeof j=="function"?j(J):j!=null&&(j.current=J)})}}(A,k),[k,A]);return vv(()=>(M(r.isEditable()),r.registerEditableListener(P=>{M(P)})),[r]),$.jsx("div",{"aria-activedescendant":D?e:void 0,"aria-autocomplete":D?t:"none","aria-controls":D?l:void 0,"aria-describedby":s,...o!=null?{"aria-errormessage":o}:{},"aria-expanded":D&&x==="combobox"?!!u:void 0,...f!=null?{"aria-invalid":f}:{},"aria-label":d,"aria-labelledby":g,"aria-multiline":p,"aria-owns":D?y:void 0,"aria-readonly":!D||void 0,"aria-required":b,autoCapitalize:v,className:_,contentEditable:D,"data-testid":O,id:S,ref:U,role:D?x:void 0,spellCheck:E,style:C,tabIndex:T,...N})}const UN=L.forwardRef(BN);function Sv(r){return r.getEditorState().read(Lg(r.isComposing()))}const jN=L.forwardRef(HN);function HN(r,e){const{placeholder:t,...l}=r,[s]=Fe();return $.jsxs($.Fragment,{children:[$.jsx(UN,{editor:s,...l,ref:e}),t!=null&&$.jsx(KN,{editor:s,content:t})]})}function KN({content:r,editor:e}){const t=function(u){const[f,d]=L.useState(()=>Sv(u));return vv(()=>{function g(){const p=Sv(u);d(p)}return g(),mt(u.registerUpdateListener(()=>{g()}),u.registerEditableListener(()=>{g()}))},[u]),f}(e),[l,s]=L.useState(e.isEditable());if(L.useLayoutEffect(()=>(s(e.isEditable()),e.registerEditableListener(u=>{s(u)})),[e]),!t)return null;let o=null;return typeof r=="function"?o=r(l):r!==null&&(o=r),o===null?null:$.jsx("div",{"aria-hidden":!0,children:o})}function IN({defaultSelection:r}){const[e]=Fe();return L.useEffect(()=>{e.focus(()=>{const t=document.activeElement,l=e.getRootElement();l===null||t!==null&&l.contains(t)||l.focus({preventScroll:!0})},{defaultSelection:r})},[r,e]),null}const yc=0,qg=1,Yg=2,fr=0,PN=1,xv=2,qN=3,YN=4;function VN(r,e,t,l,s){if(r===null||t.size===0&&l.size===0&&!s)return fr;const o=e._selection,u=r._selection;if(s)return PN;if(!(I(o)&&I(u)&&u.isCollapsed()&&o.isCollapsed()))return fr;const f=function(E,C,T){const O=E._nodeMap,N=[];for(const A of C){const D=O.get(A);D!==void 0&&N.push(D)}for(const[A,D]of T){if(!D)continue;const M=O.get(A);M===void 0||Bt(M)||N.push(M)}return N}(e,t,l);if(f.length===0)return fr;if(f.length>1){const E=e._nodeMap,C=E.get(o.anchor.key),T=E.get(u.anchor.key);return C&&T&&!r._nodeMap.has(C.__key)&&se(C)&&C.__text.length===1&&o.anchor.offset===1?xv:fr}const d=f[0],g=r._nodeMap.get(d.__key);if(!se(g)||!se(d)||g.__mode!==d.__mode)return fr;const p=g.__text,y=d.__text;if(p===y)return fr;const b=o.anchor,v=u.anchor;if(b.key!==v.key||b.type!=="text")return fr;const _=b.offset,S=v.offset,x=y.length-p.length;return x===1&&S===_-1?xv:x===-1&&S===_+1?qN:x===-1&&S===_?YN:fr}function GN(r,e){let t=Date.now(),l=fr;return(s,o,u,f,d,g)=>{const p=Date.now();if(g.has(Zu))return l=fr,t=p,Yg;const y=VN(s,o,f,d,r.isComposing()),b=(()=>{const v=u===null||u.editor===r,_=g.has(dw);if(!_&&v&&g.has(ss))return yc;if(s===null)return qg;const S=o._selection;return f.size>0||d.size>0?_===!1&&y!==fr&&y===l&&p<t+e&&v||f.size===1&&function(x,E,C){const T=E._nodeMap.get(x),O=C._nodeMap.get(x),N=E._selection,A=C._selection;return!(I(N)&&I(A)&&N.anchor.type==="element"&&N.focus.type==="element"&&A.anchor.type==="text"&&A.focus.type==="text"||!se(T)||!se(O)||T.__parent!==O.__parent)&&JSON.stringify(E.read(()=>T.exportJSON()))===JSON.stringify(C.read(()=>O.exportJSON()))}(Array.from(f)[0],s,o)?yc:qg:S!==null?yc:Yg})();return t=p,l=y,b}}function Cv(r){r.undoStack=[],r.redoStack=[],r.current=null}function XN(r,e,t){const l=GN(r,t);return mt(r.registerCommand(Bd,()=>(function(o,u){const f=u.redoStack,d=u.undoStack;if(d.length!==0){const g=u.current,p=d.pop();g!==null&&(f.push(g),o.dispatchCommand(Da,!0)),d.length===0&&o.dispatchCommand(La,!1),u.current=p||null,p&&p.editor.setEditorState(p.editorState,{tag:Zu})}}(r,e),!0),Te),r.registerCommand(Ud,()=>(function(o,u){const f=u.redoStack,d=u.undoStack;if(f.length!==0){const g=u.current;g!==null&&(d.push(g),o.dispatchCommand(La,!0));const p=f.pop();f.length===0&&o.dispatchCommand(Da,!1),u.current=p||null,p&&p.editor.setEditorState(p.editorState,{tag:Zu})}}(r,e),!0),Te),r.registerCommand(Z1,()=>(Cv(e),!1),Te),r.registerCommand(Q1,()=>(Cv(e),r.dispatchCommand(Da,!1),r.dispatchCommand(La,!1),!0),Te),r.registerUpdateListener(({editorState:o,prevEditorState:u,dirtyLeaves:f,dirtyElements:d,tags:g})=>{const p=e.current,y=e.redoStack,b=e.undoStack,v=p===null?null:p.editorState;if(p!==null&&o===v)return;const _=l(u,o,p,f,d,g);if(_===qg)y.length!==0&&(e.redoStack=[],r.dispatchCommand(Da,!1)),p!==null&&(b.push({...p}),r.dispatchCommand(La,!0));else if(_===Yg)return;e.current={editor:r,editorState:o}}))}function ZN(){return{current:null,redoStack:[],undoStack:[]}}function QN({delay:r,externalHistoryState:e}){const[t]=Fe();return function(l,s,o=1e3){const u=L.useMemo(()=>s||ZN(),[s]);L.useEffect(()=>XN(l,u,o),[o,l,u])}(t,e,r),null}const Vg=/^(\d+(?:\.\d+)?)px$/,ot={BOTH:3,COLUMN:2,NO_STATUS:0,ROW:1};class dr extends _n{static getType(){return"tablecell"}static clone(e){return new dr(e.__headerState,e.__colSpan,e.__width,e.__key)}afterCloneFrom(e){super.afterCloneFrom(e),this.__rowSpan=e.__rowSpan,this.__backgroundColor=e.__backgroundColor,this.__verticalAlign=e.__verticalAlign}static importDOM(){return{td:e=>({conversion:Ev,priority:0}),th:e=>({conversion:Ev,priority:0})}}static importJSON(e){return qn().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setHeaderStyles(e.headerState).setColSpan(e.colSpan||1).setRowSpan(e.rowSpan||1).setWidth(e.width||void 0).setBackgroundColor(e.backgroundColor||null).setVerticalAlign(e.verticalAlign||void 0)}constructor(e=ot.NO_STATUS,t=1,l,s){super(s),this.__colSpan=t,this.__rowSpan=1,this.__headerState=e,this.__width=l,this.__backgroundColor=null,this.__verticalAlign=void 0}createDOM(e){const t=document.createElement(this.getTag());return this.__width&&(t.style.width=`${this.__width}px`),this.__colSpan>1&&(t.colSpan=this.__colSpan),this.__rowSpan>1&&(t.rowSpan=this.__rowSpan),this.__backgroundColor!==null&&(t.style.backgroundColor=this.__backgroundColor),Gg(this.__verticalAlign)&&(t.style.verticalAlign=this.__verticalAlign),Et(t,e.theme.tableCell,this.hasHeader()&&e.theme.tableCellHeader),t}exportDOM(e){const t=super.exportDOM(e);if(at(t.element)){const l=t.element;l.setAttribute("data-temporary-table-cell-lexical-key",this.getKey()),l.style.border="1px solid black",this.__colSpan>1&&(l.colSpan=this.__colSpan),this.__rowSpan>1&&(l.rowSpan=this.__rowSpan),l.style.width=`${this.getWidth()||75}px`,l.style.verticalAlign=this.getVerticalAlign()||"top",l.style.textAlign="start",this.__backgroundColor===null&&this.hasHeader()&&(l.style.backgroundColor="#f2f3f5")}return t}exportJSON(){return{...super.exportJSON(),...Gg(this.__verticalAlign)&&{verticalAlign:this.__verticalAlign},backgroundColor:this.getBackgroundColor(),colSpan:this.__colSpan,headerState:this.__headerState,rowSpan:this.__rowSpan,width:this.getWidth()}}getColSpan(){return this.getLatest().__colSpan}setColSpan(e){const t=this.getWritable();return t.__colSpan=e,t}getRowSpan(){return this.getLatest().__rowSpan}setRowSpan(e){const t=this.getWritable();return t.__rowSpan=e,t}getTag(){return this.hasHeader()?"th":"td"}setHeaderStyles(e,t=ot.BOTH){const l=this.getWritable();return l.__headerState=e&t|l.__headerState&~t,l}getHeaderStyles(){return this.getLatest().__headerState}setWidth(e){const t=this.getWritable();return t.__width=e,t}getWidth(){return this.getLatest().__width}getBackgroundColor(){return this.getLatest().__backgroundColor}setBackgroundColor(e){const t=this.getWritable();return t.__backgroundColor=e,t}getVerticalAlign(){return this.getLatest().__verticalAlign}setVerticalAlign(e){const t=this.getWritable();return t.__verticalAlign=e||void 0,t}toggleHeaderStyle(e){const t=this.getWritable();return(t.__headerState&e)===e?t.__headerState-=e:t.__headerState+=e,t}hasHeaderState(e){return(this.getHeaderStyles()&e)===e}hasHeader(){return this.getLatest().__headerState!==ot.NO_STATUS}updateDOM(e){return e.__headerState!==this.__headerState||e.__width!==this.__width||e.__colSpan!==this.__colSpan||e.__rowSpan!==this.__rowSpan||e.__backgroundColor!==this.__backgroundColor||e.__verticalAlign!==this.__verticalAlign}isShadowRoot(){return!0}collapseAtStart(){return!0}canBeEmpty(){return!1}canIndent(){return!1}}function Gg(r){return r==="middle"||r==="bottom"}function Ev(r){const e=r,t=r.nodeName.toLowerCase();let l;Vg.test(e.style.width)&&(l=parseFloat(e.style.width));const s=qn(t==="th"?ot.ROW:ot.NO_STATUS,e.colSpan,l);s.__rowSpan=e.rowSpan;const o=e.style.backgroundColor;o!==""&&(s.__backgroundColor=o);const u=e.style.verticalAlign;Gg(u)&&(s.__verticalAlign=u);const f=e.style,d=(f&&f.textDecoration||"").split(" "),g=f.fontWeight==="700"||f.fontWeight==="bold",p=d.includes("line-through"),y=f.fontStyle==="italic",b=d.includes("underline");return{after:v=>{const _=[];let S=null;const x=()=>{if(S){const E=S.getFirstChild();Nn(E)&&S.getChildrenSize()===1&&E.remove()}};for(const E of v)Cw(E)||se(E)||Nn(E)?(se(E)&&(g&&E.toggleFormat("bold"),p&&E.toggleFormat("strikethrough"),y&&E.toggleFormat("italic"),b&&E.toggleFormat("underline")),S?S.append(E):(S=Ae().append(E),_.push(S))):(_.push(E),x(),S=null);return x(),_.length===0&&_.push(Ae()),_},node:s}}function qn(r=ot.NO_STATUS,e=1,t){return At(new dr(r,e,t))}function ve(r){return r instanceof dr}const Tv=Ee("INSERT_TABLE_COMMAND");function we(r,...e){const t=new URL("https://lexical.dev/docs/error"),l=new URLSearchParams;l.append("code",r);for(const s of e)l.append("v",s);throw t.search=l.toString(),Error(`Minified Lexical error #${r}; visit ${t.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}class yl extends _n{static getType(){return"tablerow"}static clone(e){return new yl(e.__height,e.__key)}static importDOM(){return{tr:e=>({conversion:WN,priority:0})}}static importJSON(e){return _s().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setHeight(e.height)}constructor(e,t){super(t),this.__height=e}exportJSON(){const e=this.getHeight();return{...super.exportJSON(),...e===void 0?void 0:{height:e}}}createDOM(e){const t=document.createElement("tr");return this.__height&&(t.style.height=`${this.__height}px`),Et(t,e.theme.tableRow),t}extractWithChild(e,t,l){return l==="html"}isShadowRoot(){return!0}setHeight(e){const t=this.getWritable();return t.__height=e,t}getHeight(){return this.getLatest().__height}updateDOM(e){return e.__height!==this.__height}canBeEmpty(){return!1}canIndent(){return!1}}function WN(r){const e=r;let t;return Vg.test(e.style.height)&&(t=parseFloat(e.style.height)),{after:l=>Zb(l,ve),node:_s(t)}}function _s(r){return At(new yl(r))}function tt(r){return r instanceof yl}const Xg=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,JN=Xg&&"documentMode"in document?document.documentMode:null,wv=Xg&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent);function eA(r,e,t=!0){const l=Ec();for(let s=0;s<r;s++){const o=_s();for(let u=0;u<e;u++){let f=ot.NO_STATUS;typeof t=="object"?(s===0&&t.rows&&(f|=ot.ROW),u===0&&t.columns&&(f|=ot.COLUMN)):t&&(s===0&&(f|=ot.ROW),u===0&&(f|=ot.COLUMN));const d=qn(f),g=Ae();g.append(Be()),d.append(g),o.append(d)}l.append(o)}return l}function tA(r){const e=ze(r,t=>ve(t));return ve(e)?e:null}function Nv(r){const e=ze(r,t=>tt(t));if(tt(e))return e;throw new Error("Expected table cell to be inside of table row.")}function bs(r){const e=ze(r,t=>ht(t));if(ht(e))return e;throw new Error("Expected table cell to be inside of table.")}function nA(r){const e=Nv(r);return bs(e).getChildren().findIndex(t=>t.is(e))}function rA(r){return Nv(r).getChildren().findIndex(e=>e.is(r))}Xg&&"InputEvent"in window&&!JN&&new window.InputEvent("input");const Zg=(r,e)=>r===ot.BOTH||r===e?e:ot.NO_STATUS;function iA(r=!0){const e=V();I(e)||Ie(e)||we(188);const t=e.anchor.getNode(),l=e.focus.getNode(),[s]=Tt(t),[o,,u]=Tt(l),[,f,d]=Jt(u,o,s),{startRow:g}=d,{startRow:p}=f;return r?Qg(g+s.__rowSpan>p+o.__rowSpan?s:o,!0):Qg(p<g?o:s,!1)}const lA=iA;function Qg(r,e=!0){const[,,t]=Tt(r),[l,s]=Jt(t,r,r),o=l[0].length,{startRow:u}=s;let f=null;if(e){const d=u+r.__rowSpan-1,g=l[d],p=_s();for(let b=0;b<o;b++){const{cell:v,startRow:_}=g[b];if(_+v.__rowSpan-1<=d){const S=g[b].cell.__headerState,x=Zg(S,ot.COLUMN);p.append(qn(x).append(Ae()))}else v.setRowSpan(v.__rowSpan+1)}const y=t.getChildAtIndex(d);tt(y)||we(256),y.insertAfter(p),f=p}else{const d=u,g=l[d],p=_s();for(let b=0;b<o;b++){const{cell:v,startRow:_}=g[b];if(_===d){const S=g[b].cell.__headerState,x=Zg(S,ot.COLUMN);p.append(qn(x).append(Ae()))}else v.setRowSpan(v.__rowSpan+1)}const y=t.getChildAtIndex(d);tt(y)||we(257),y.insertBefore(p),f=p}return f}function sA(r=!0){const e=V();I(e)||Ie(e)||we(188);const t=e.anchor.getNode(),l=e.focus.getNode(),[s]=Tt(t),[o,,u]=Tt(l),[,f,d]=Jt(u,o,s),{startColumn:g}=d,{startColumn:p}=f;return r?Wg(g+s.__colSpan>p+o.__colSpan?s:o,!0):Wg(p<g?o:s,!1)}const aA=sA;function Wg(r,e=!0,t=!0){const[,,l]=Tt(r),[s,o]=Jt(l,r,r),u=s.length,{startColumn:f}=o,d=e?f+r.__colSpan-1:f-1,g=l.getFirstChild();tt(g)||we(120);let p=null;function y(_=ot.NO_STATUS){const S=qn(_).append(Ae());return p===null&&(p=S),S}let b=g;e:for(let _=0;_<u;_++){if(_!==0){const N=b.getNextSibling();tt(N)||we(121),b=N}const S=s[_],x=S[d<0?0:d].cell.__headerState,E=Zg(x,ot.ROW);if(d<0){Jg(b,y(E));continue}const{cell:C,startColumn:T,startRow:O}=S[d];if(T+C.__colSpan-1<=d){let N=C,A=O,D=d;for(;A!==_&&N.__rowSpan>1;){if(D-=C.__colSpan,!(D>=0)){b.append(y(E));continue e}{const{cell:M,startRow:k}=S[D];N=M,A=k}}N.insertAfter(y(E))}else C.setColSpan(C.__colSpan+1)}p!==null&&t&&Wa(p);const v=l.getColWidths();if(v){const _=[...v],S=d<0?0:d,x=_[S];_.splice(S,0,x),l.setColWidths(_)}return p}function oA(){const r=V();I(r)||Ie(r)||we(188);const[e,t]=r.isBackward()?[r.focus.getNode(),r.anchor.getNode()]:[r.anchor.getNode(),r.focus.getNode()],[l,,s]=Tt(e),[o]=Tt(t),[u,f,d]=Jt(s,l,o),{startRow:g}=f,{startRow:p}=d,y=p+o.__rowSpan-1;if(u.length===y-g+1)return void s.remove();const b=u[0].length,v=u[y+1],_=s.getChildAtIndex(y+1);for(let S=y;S>=g;S--){for(let E=b-1;E>=0;E--){const{cell:C,startRow:T,startColumn:O}=u[S][E];if(O===E){if(T<g||T+C.__rowSpan-1>y){const N=Math.max(T,g),A=Math.min(C.__rowSpan+T-1,y),D=N<=A?A-N+1:0;C.setRowSpan(C.__rowSpan-D)}if(T>=g&&T+C.__rowSpan-1>y&&S===y){_===null&&we(122);let N=null;for(let A=0;A<E;A++){const D=v[A],M=D.cell;D.startRow===S+1&&(N=M),M.__colSpan>1&&(A+=M.__colSpan-1)}N===null?Jg(_,C):N.insertAfter(C)}}}const x=s.getChildAtIndex(S);tt(x)||we(206,String(S)),x.remove()}if(v!==void 0){const{cell:S}=v[0];Wa(S)}else{const S=u[g-1],{cell:x}=S[0];Wa(x)}}const uA=oA;function cA(){const r=V();I(r)||Ie(r)||we(188);const e=r.anchor.getNode(),t=r.focus.getNode(),[l,,s]=Tt(e),[o]=Tt(t),[u,f,d]=Jt(s,l,o),{startColumn:g}=f,{startRow:p,startColumn:y}=d,b=Math.min(g,y),v=Math.max(g+l.__colSpan-1,y+o.__colSpan-1),_=v-b+1;if(u[0].length===v-b+1)return s.selectPrevious(),void s.remove();const S=u.length;for(let T=0;T<S;T++)for(let O=b;O<=v;O++){const{cell:N,startColumn:A}=u[T][O];if(A<b){if(O===b){const D=b-A;N.setColSpan(N.__colSpan-Math.min(_,N.__colSpan-D))}}else if(A+N.__colSpan-1>v){if(O===v){const D=v-A+1;N.setColSpan(N.__colSpan-D)}}else N.remove()}const x=u[p],E=g>y?x[g+l.__colSpan]:x[y+o.__colSpan];if(E!==void 0){const{cell:T}=E;Wa(T)}else{const T=y<g?x[y-1]:x[g-1],{cell:O}=T;Wa(O)}const C=s.getColWidths();if(C){const T=[...C];T.splice(b,_),s.setColWidths(T)}}const fA=cA;function Wa(r){const e=r.getFirstDescendant();e==null?r.selectStart():e.getParentOrThrow().selectStart()}function Jg(r,e){const t=r.getFirstChild();t!==null?t.insertBefore(e):r.append(e)}function dA(r){if(r.length===0)return null;const e=bs(r[0]),[t]=Ei(e,null,null);let l=1/0,s=-1/0,o=1/0,u=-1/0;const f=new Set;for(const v of t)for(const _ of v){if(!_||!_.cell)continue;const S=_.cell.getKey();if(!f.has(S)&&r.some(x=>x.is(_.cell))){f.add(S);const x=_.startRow,E=_.startColumn,C=_.cell.__rowSpan||1,T=_.cell.__colSpan||1;l=Math.min(l,x),s=Math.max(s,x+C-1),o=Math.min(o,E),u=Math.max(u,E+T-1)}}if(l===1/0||o===1/0)return null;const d=s-l+1,g=u-o+1,p=t[l][o];if(!p.cell)return null;const y=p.cell;y.setColSpan(g),y.setRowSpan(d);const b=new Set([y.getKey()]);for(let v=l;v<=s;v++)for(let _=o;_<=u;_++){const S=t[v][_];if(!S.cell)continue;const x=S.cell,E=x.getKey();b.has(E)||(b.add(E),gA(x)||y.append(...x.getChildren()),x.remove())}return y.getChildrenSize()===0&&y.append(Ae()),y}function gA(r){if(r.getChildrenSize()!==1)return!1;const e=r.getFirstChildOrThrow();return!(!On(e)||!e.isEmpty())}function hA(){const r=V();I(r)||Ie(r)||we(188);const e=r.anchor.getNode(),t=ze(e,ve);return ve(t)||we(148),Av(t)}function Av(r){const[e,t,l]=Tt(r),s=e.__colSpan,o=e.__rowSpan;if(s===1&&o===1)return;const[u,f]=Jt(l,e,e),{startColumn:d,startRow:g}=f,p=e.__headerState&ot.COLUMN,y=Array.from({length:s},(_,S)=>{let x=p;for(let E=0;x!==0&&E<u.length;E++)x&=u[E][S+d].cell.__headerState;return x}),b=e.__headerState&ot.ROW,v=Array.from({length:o},(_,S)=>{let x=b;for(let E=0;x!==0&&E<u[0].length;E++)x&=u[S+g][E].cell.__headerState;return x});if(s>1){for(let _=1;_<s;_++)e.insertAfter(qn(y[_]|v[0]).append(Ae()));e.setColSpan(1)}if(o>1){let _;for(let S=1;S<o;S++){const x=g+S,E=u[x];_=(_||t).getNextSibling(),tt(_)||we(125);let C=null;for(let T=0;T<d;T++){const O=E[T],N=O.cell;O.startRow===x&&(C=N),N.__colSpan>1&&(T+=N.__colSpan-1)}if(C===null)for(let T=s-1;T>=0;T--)Jg(_,qn(y[T]|v[S]).append(Ae()));else for(let T=s-1;T>=0;T--)C.insertAfter(qn(y[T]|v[S]).append(Ae()))}e.setRowSpan(1)}}function Jt(r,e,t){const[l,s,o]=Ei(r,e,t);return s===null&&we(207),o===null&&we(208),[l,s,o]}function Ei(r,e,t){const l=[];let s=null,o=null;function u(d){let g=l[d];return g===void 0&&(l[d]=g=[]),g}const f=r.getChildren();for(let d=0;d<f.length;d++){const g=f[d];tt(g)||we(209);const p=u(d);for(let y=g.getFirstChild(),b=0;y!=null;y=y.getNextSibling()){for(ve(y)||we(147);p[b]!==void 0;)b++;const v={cell:y,startColumn:b,startRow:d},{__rowSpan:_,__colSpan:S}=y;for(let x=0;x<_&&!(d+x>=f.length);x++){const E=u(d+x);for(let C=0;C<S;C++)E[b+C]=v}e!==null&&s===null&&e.is(y)&&(s=v),t!==null&&o===null&&t.is(y)&&(o=v)}}return[l,s,o]}function Tt(r){let e;if(r instanceof dr)e=r;else if("__type"in r){const s=ze(r,ve);ve(s)||we(148),e=s}else{const s=ze(r.getNode(),ve);ve(s)||we(148),e=s}const t=e.getParent();tt(t)||we(149);const l=t.getParent();return ht(l)||we(210),[e,t,l]}function _c(r,e,t){let l,s=Math.min(e.startColumn,t.startColumn),o=Math.min(e.startRow,t.startRow),u=Math.max(e.startColumn+e.cell.__colSpan-1,t.startColumn+t.cell.__colSpan-1),f=Math.max(e.startRow+e.cell.__rowSpan-1,t.startRow+t.cell.__rowSpan-1);do{l=!1;for(let d=0;d<r.length;d++)for(let g=0;g<r[0].length;g++){const p=r[d][g];if(!p)continue;const y=p.startColumn+p.cell.__colSpan-1,b=p.startRow+p.cell.__rowSpan-1,v=p.startColumn<=u&&y>=s,_=p.startRow<=f&&b>=o;if(v&&_){const S=Math.min(s,p.startColumn),x=Math.max(u,y),E=Math.min(o,p.startRow),C=Math.max(f,b);S===s&&x===u&&E===o&&C===f||(s=S,u=x,o=E,f=C,l=!0)}}}while(l);return{maxColumn:u,maxRow:f,minColumn:s,minRow:o}}function Ov(r){const[e,,t]=Tt(r),l=t.getChildren(),s=l.length,o=l[0].getChildren().length,u=new Array(s);for(let f=0;f<s;f++)u[f]=new Array(o);for(let f=0;f<s;f++){const d=l[f].getChildren();let g=0;for(let p=0;p<d.length;p++){for(;u[f][g];)g++;const y=d[p],b=y.__rowSpan||1,v=y.__colSpan||1;for(let _=0;_<b;_++)for(let S=0;S<v;S++)u[f+_][g+S]=y;if(e===y)return{colSpan:v,columnIndex:g,rowIndex:f,rowSpan:b};g+=v}}return null}function Rv(r){const[[e,t,l,s],[o,u,f,d]]=["anchor","focus"].map(g=>{const p=r[g].getNode(),y=ze(p,ve);ve(y)||we(238,g,p.getKey(),p.getType());const b=y.getParent();tt(b)||we(239,g);const v=b.getParent();return ht(v)||we(240,g),[p,y,b,v]});return s.is(d)||we(241),{anchorCell:t,anchorNode:e,anchorRow:l,anchorTable:s,focusCell:u,focusNode:o,focusRow:f,focusTable:d}}let kv=class _T{constructor(e,t,l){this.anchor=t,this.focus=l,t._selection=this,l._selection=this,this._cachedNodes=null,this.dirty=!1,this.tableKey=e}getStartEndPoints(){return[this.anchor,this.focus]}isValid(){return this.tableKey!=="root"&&this.anchor.key!=="root"&&this.anchor.type==="element"&&this.focus.key!=="root"&&this.focus.type==="element"}isBackward(){return this.focus.isBefore(this.anchor)}getCachedNodes(){return this._cachedNodes}setCachedNodes(e){this._cachedNodes=e}is(e){return Ie(e)&&this.tableKey===e.tableKey&&this.anchor.is(e.anchor)&&this.focus.is(e.focus)}set(e,t,l){this.dirty=this.dirty||e!==this.tableKey||t!==this.anchor.key||l!==this.focus.key,this.tableKey=e,this.anchor.key=t,this.focus.key=l,this._cachedNodes=null}clone(){return new _T(this.tableKey,mn(this.anchor.key,this.anchor.offset,this.anchor.type),mn(this.focus.key,this.focus.offset,this.focus.type))}isCollapsed(){return!1}extract(){return this.getNodes()}insertRawText(e){}insertText(){}hasFormat(e){let t=0;this.getNodes().filter(ve).forEach(s=>{const o=s.getFirstChild();On(o)&&(t|=o.getTextFormat())});const l=ci[e];return!!(t&l)}insertNodes(e){const t=this.focus.getNode();Q(t)||we(151),nl(t.select(0,t.getChildrenSize())).insertNodes(e)}getShape(){const{anchorCell:e,focusCell:t}=Rv(this),l=Ov(e);l===null&&we(153);const s=Ov(t);s===null&&we(155);const o=Math.min(l.columnIndex,s.columnIndex),u=Math.max(l.columnIndex+l.colSpan-1,s.columnIndex+s.colSpan-1),f=Math.min(l.rowIndex,s.rowIndex),d=Math.max(l.rowIndex+l.rowSpan-1,s.rowIndex+s.rowSpan-1);return{fromX:Math.min(o,u),fromY:Math.min(f,d),toX:Math.max(o,u),toY:Math.max(f,d)}}getNodes(){if(!this.isValid())return[];const e=this._cachedNodes;if(e!==null)return e;const{anchorTable:t,anchorCell:l,focusCell:s}=Rv(this),o=s.getParents()[1];if(o!==t){if(t.isParentOf(s)){const x=o.getParent();x==null&&we(159),this.set(this.tableKey,s.getKey(),x.getKey())}else{const x=t.getParent();x==null&&we(158),this.set(this.tableKey,x.getKey(),s.getKey())}return this.getNodes()}const[u,f,d]=Jt(t,l,s),{minColumn:g,maxColumn:p,minRow:y,maxRow:b}=_c(u,f,d),v=new Map([[t.getKey(),t]]);let _=null;for(let x=y;x<=b;x++)for(let E=g;E<=p;E++){const{cell:C}=u[x][E],T=C.getParent();tt(T)||we(160),T!==_&&(v.set(T.getKey(),T),_=T),v.has(C.getKey())||mA(C,O=>{v.set(O.getKey(),O)})}const S=Array.from(v.values());return ls()||(this._cachedNodes=S),S}getTextContent(){const e=this.getNodes().filter(l=>ve(l));let t="";for(let l=0;l<e.length;l++){const s=e[l],o=s.__parent,u=(e[l+1]||{}).__parent;t+=s.getTextContent()+(u!==o?`
`:"	")}return t}};function Ie(r){return r instanceof kv}function Mv(){const r=mn("root",0,"element"),e=mn("root",0,"element");return new kv("root",r,e)}function pA(r,e,t){r.getKey(),e.getKey(),t.getKey();const l=V(),s=Ie(l)?l.clone():Mv();return s.set(r.getKey(),e.getKey(),t.getKey()),s}function mA(r,e){const t=[[r]];for(let l=t.at(-1);l!==void 0&&t.length>0;l=t.at(-1)){const s=l.pop();s===void 0?t.pop():e(s)!==!1&&Q(s)&&t.push(s.getChildren())}}function Dv(r,e=Ya()){const t=Ge(r);ht(t)||we(231,r);const l=_l(t,e.getElementByKey(r));return l===null&&we(232,r),{tableElement:l,tableNode:t}}let yA=class{constructor(e,t){this.isHighlightingCells=!1,this.anchorX=-1,this.anchorY=-1,this.focusX=-1,this.focusY=-1,this.listenersToRemove=new Set,this.tableNodeKey=t,this.editor=e,this.table={columns:0,domRows:[],rows:0},this.tableSelection=null,this.anchorCellNodeKey=null,this.focusCellNodeKey=null,this.anchorCell=null,this.focusCell=null,this.hasHijackedSelectionStyles=!1,this.isSelecting=!1,this.pointerType=null,this.shouldCheckSelection=!1,this.abortController=new AbortController,this.listenerOptions={signal:this.abortController.signal},this.nextFocus=null,this.trackTable()}getTable(){return this.table}removeListeners(){this.abortController.abort("removeListeners"),Array.from(this.listenersToRemove).forEach(e=>e()),this.listenersToRemove.clear()}$lookup(){return Dv(this.tableNodeKey,this.editor)}trackTable(){const e=new MutationObserver(t=>{this.editor.getEditorState().read(()=>{let l=!1;for(let u=0;u<t.length;u++){const f=t[u].target.nodeName;if(f==="TABLE"||f==="TBODY"||f==="THEAD"||f==="TR"){l=!0;break}}if(!l)return;const{tableNode:s,tableElement:o}=this.$lookup();this.table=Ss(s,o)},{editor:this.editor})});this.editor.getEditorState().read(()=>{const{tableNode:t,tableElement:l}=this.$lookup();this.table=Ss(t,l),e.observe(l,{attributes:!0,childList:!0,subtree:!0})},{editor:this.editor})}$clearHighlight(){const e=this.editor;this.isHighlightingCells=!1,this.anchorX=-1,this.anchorY=-1,this.focusX=-1,this.focusY=-1,this.tableSelection=null,this.anchorCellNodeKey=null,this.focusCellNodeKey=null,this.anchorCell=null,this.focusCell=null,this.hasHijackedSelectionStyles=!1,this.$enableHighlightStyle();const{tableNode:t,tableElement:l}=this.$lookup();vc(e,Ss(t,l),null),V()!==null&&(Ye(null),e.dispatchCommand(hn,void 0))}$enableHighlightStyle(){const e=this.editor,{tableElement:t}=this.$lookup();xr(t,e._config.theme.tableSelection),t.classList.remove("disable-selection"),this.hasHijackedSelectionStyles=!1}$disableHighlightStyle(){const{tableElement:e}=this.$lookup();Et(e,this.editor._config.theme.tableSelection),this.hasHijackedSelectionStyles=!0}$updateTableTableSelection(e){if(e!==null){e.tableKey!==this.tableNodeKey&&we(233,e.tableKey,this.tableNodeKey);const t=this.editor;this.tableSelection=e,this.isHighlightingCells=!0,this.$disableHighlightStyle(),this.updateDOMSelection(),vc(t,this.table,this.tableSelection)}else this.$clearHighlight()}setShouldCheckSelection(){this.shouldCheckSelection=!0}getAndClearShouldCheckSelection(){return!!this.shouldCheckSelection&&(this.shouldCheckSelection=!1,!0)}setNextFocus(e){this.nextFocus=e}getAndClearNextFocus(){const{nextFocus:e}=this;return e!==null&&(this.nextFocus=null),e}updateDOMSelection(){if(this.anchorCell!==null&&this.focusCell!==null){const e=Qt(this.editor._window);e&&e.rangeCount>0&&e.removeAllRanges()}}$setFocusCellForSelection(e,t=!1){const l=this.editor,{tableNode:s}=this.$lookup(),o=e.x,u=e.y;if(this.focusCell=e,this.isHighlightingCells||this.anchorX===o&&this.anchorY===u&&!t){if(o===this.focusX&&u===this.focusY)return!1}else this.isHighlightingCells=!0,this.$disableHighlightStyle();if(this.focusX=o,this.focusY=u,this.isHighlightingCells){const f=lh(s,e.elem);if(this.tableSelection!=null&&this.anchorCellNodeKey!=null&&f!==null)return this.focusCellNodeKey=f.getKey(),this.tableSelection=pA(s,this.$getAnchorTableCellOrThrow(),f),Ye(this.tableSelection),l.dispatchCommand(hn,void 0),vc(l,this.table,this.tableSelection),!0}return!1}$getAnchorTableCell(){return this.anchorCellNodeKey?Ge(this.anchorCellNodeKey):null}$getAnchorTableCellOrThrow(){const e=this.$getAnchorTableCell();return e===null&&we(234),e}$getFocusTableCell(){return this.focusCellNodeKey?Ge(this.focusCellNodeKey):null}$getFocusTableCellOrThrow(){const e=this.$getFocusTableCell();return e===null&&we(235),e}$setAnchorCellForSelection(e){this.isHighlightingCells=!1,this.anchorCell=e,this.anchorX=e.x,this.anchorY=e.y;const{tableNode:t}=this.$lookup(),l=lh(t,e.elem);if(l!==null){const s=l.getKey();this.tableSelection=this.tableSelection!=null?this.tableSelection.clone():Mv(),this.anchorCellNodeKey=s}}$formatCells(e){const t=V();Ie(t)||we(236);const l=is(),s=l.anchor,o=l.focus,u=t.getNodes().filter(ve);u.length>0||we(237);const f=u[0].getFirstChild(),d=On(f)?f.getFormatFlags(e,null):null;u.forEach(g=>{s.set(g.getKey(),0,"element"),o.set(g.getKey(),g.getChildrenSize(),"element"),l.formatText(e,d)}),Ye(t),this.editor.dispatchCommand(hn,void 0)}$clearText(){const{editor:e}=this,t=Ge(this.tableNodeKey);if(!ht(t))throw new Error("Expected TableNode.");const l=V();Ie(l)||we(253);const s=l.getNodes().filter(ve),o=t.getFirstChild(),u=t.getLastChild();if(s.length>0&&o!==null&&u!==null&&tt(o)&&tt(u)&&s[0]===o.getFirstChild()&&s[s.length-1]===u.getLastChild()){t.selectPrevious();const f=t.getParent();return t.remove(),void(Bt(f)&&f.isEmpty()&&e.dispatchCommand(hi,void 0))}s.forEach(f=>{if(Q(f)){const d=Ae(),g=Be();d.append(g),f.append(d),f.getChildren().forEach(p=>{p!==d&&p.remove()})}}),vc(e,this.table,null),Ye(null),e.dispatchCommand(hn,void 0)}};const eh="__lexicalTableSelection",_A=r=>!(1&~r.buttons);function vs(r){return at(r)&&r.nodeName==="TABLE"}function _l(r,e){if(!e)return e;const t=vs(e)?e:r.getDOMSlot(e).element;return t.nodeName!=="TABLE"&&we(245,e.nodeName),t}function th(r){return r._window}function Ja(r,e){for(let t=e,l=null;t!==null;t=t.getParent()){if(r.is(t))return l;ve(t)&&(l=t)}return null}const bA=[[Aa,"down"],[Na,"up"],[wa,"backward"],[Ta,"forward"]],vA=[ll,mi,lr],SA=[_i,Jl];function xA(r,e,t,l){const s=t.getRootElement(),o=th(t);s!==null&&o!==null||we(246);const u=new yA(t,r.getKey()),f=_l(r,e);(function(v,_){nh(v)!==null&&we(205),v[eh]=_})(f,u),u.listenersToRemove.add(()=>function(v,_){nh(v)===_&&delete v[eh]}(f,u));const d=v=>{if(u.pointerType=v.pointerType,v.button!==0||!or(v.target)||!o)return;const _=bc(v.target);_!==null&&t.update(()=>{const S=ar();if(wv&&v.shiftKey&&Cr(S,r)&&(I(S)||Ie(S))){const x=S.anchor.getNode(),E=Ja(r,S.anchor.getNode());E?(u.$setAnchorCellForSelection(bl(u,E)),u.$setFocusCellForSelection(_),Vr(v)):(r.isBefore(x)?r.selectStart():r.selectEnd()).anchor.set(S.anchor.key,S.anchor.offset,S.anchor.type)}else u.$setAnchorCellForSelection(_)}),(()=>{if(u.isSelecting)return;const S=()=>{u.isSelecting=!1,o.removeEventListener("pointerup",S),o.removeEventListener("pointermove",x)},x=E=>{if(!_A(E)&&u.isSelecting)return u.isSelecting=!1,o.removeEventListener("pointerup",S),void o.removeEventListener("pointermove",x);if(!or(E.target))return;let C=null;const T=!(wv||f.contains(E.target));if(T)C=Lv(f,E.target);else for(const O of document.elementsFromPoint(E.clientX,E.clientY))if(C=Lv(f,O),C)break;!C||u.focusCell!==null&&C.elem===u.focusCell.elem||(u.setNextFocus({focusCell:C,override:T}),t.dispatchCommand(hn,void 0))};u.isSelecting=!0,o.addEventListener("pointerup",S,u.listenerOptions),o.addEventListener("pointermove",x,u.listenerOptions)})()};f.addEventListener("pointerdown",d,u.listenerOptions),u.listenersToRemove.add(()=>{f.removeEventListener("pointerdown",d)});const g=v=>{v.detail>=3&&or(v.target)&&bc(v.target)!==null&&v.preventDefault()};f.addEventListener("mousedown",g,u.listenerOptions),u.listenersToRemove.add(()=>{f.removeEventListener("mousedown",g)});const p=v=>{const _=v.target;v.button===0&&or(_)&&t.update(()=>{const S=V();Ie(S)&&S.tableKey===u.tableNodeKey&&s.contains(_)&&u.$clearHighlight()})};o.addEventListener("pointerdown",p,u.listenerOptions),u.listenersToRemove.add(()=>{o.removeEventListener("pointerdown",p)});for(const[v,_]of bA)u.listenersToRemove.add(t.registerCommand(v,S=>Bv(t,S,_,r,u),bi));u.listenersToRemove.add(t.registerCommand(sl,v=>{const _=V();if(Ie(_)){const S=Ja(r,_.focus.getNode());if(S!==null)return Vr(v),S.selectEnd(),!0}return!1},bi));const y=v=>()=>{const _=V();if(!Cr(_,r))return!1;if(Ie(_))return u.$clearText(),!0;if(I(_)){if(!ve(Ja(r,_.anchor.getNode())))return!1;const S=_.anchor.getNode(),x=_.focus.getNode(),E=r.isParentOf(S),C=r.isParentOf(x);if(E&&!C||C&&!E)return u.$clearText(),!0;const T=ze(_.anchor.getNode(),N=>Q(N)),O=T&&ze(T,N=>Q(N)&&ve(N.getParent()));if(!Q(O)||!Q(T))return!1;if(v===mi&&O.getPreviousSibling()===null)return!0}return!1};for(const v of vA)u.listenersToRemove.add(t.registerCommand(v,y(v),Rn));const b=v=>{const _=V();if(!Ie(_)&&!I(_))return!1;const S=r.isParentOf(_.anchor.getNode());if(S!==r.isParentOf(_.focus.getNode())){const x=S?"anchor":"focus",E=S?"focus":"anchor",{key:C,offset:T,type:O}=_[E];return r[_[x].isBefore(_[E])?"selectPrevious":"selectNext"]()[E].set(C,T,O),!1}return!!Cr(_,r)&&!!Ie(_)&&(v&&(v.preventDefault(),v.stopPropagation()),u.$clearText(),!0)};for(const v of SA)u.listenersToRemove.add(t.registerCommand(v,b,Rn));return u.listenersToRemove.add(t.registerCommand(Ma,v=>{const _=V();if(_){if(!Ie(_)&&!I(_))return!1;Bg(t,cr(v,ClipboardEvent)?v:null,ov(_));const S=b(v);return I(_)?(_.removeText(),!0):S}return!1},Rn)),u.listenersToRemove.add(t.registerCommand(pn,v=>{const _=V();if(!Cr(_,r))return!1;if(Ie(_))return u.$formatCells(v),!0;if(I(_)){const S=ze(_.anchor.getNode(),x=>ve(x));if(!ve(S))return!1}return!1},Rn)),u.listenersToRemove.add(t.registerCommand(g_,v=>{const _=V();if(!Ie(_)||!Cr(_,r))return!1;const S=_.anchor.getNode(),x=_.focus.getNode();if(!ve(S)||!ve(x))return!1;if(function(k,U){if(Ie(k)){const P=k.anchor.getNode(),J=k.focus.getNode();if(U&&P&&J){const[j]=Jt(U,P,J);return P.getKey()===j[0][0].cell.getKey()&&J.getKey()===j[j.length-1].at(-1).cell.getKey()}}return!1}(_,r))return r.setFormat(v),!0;const[E,C,T]=Jt(r,S,x),O=Math.max(C.startRow+C.cell.__rowSpan-1,T.startRow+T.cell.__rowSpan-1),N=Math.max(C.startColumn+C.cell.__colSpan-1,T.startColumn+T.cell.__colSpan-1),A=Math.min(C.startRow,T.startRow),D=Math.min(C.startColumn,T.startColumn),M=new Set;for(let k=A;k<=O;k++)for(let U=D;U<=N;U++){const P=E[k][U].cell;if(M.has(P))continue;M.add(P),P.setFormat(v);const J=P.getChildren();for(let j=0;j<J.length;j++){const Y=J[j];Q(Y)&&!Y.isInline()&&Y.setFormat(v)}}return!0},Rn)),u.listenersToRemove.add(t.registerCommand(pi,v=>{const _=V();if(!Cr(_,r))return!1;if(Ie(_))return u.$clearHighlight(),!1;if(I(_)){const S=ze(_.anchor.getNode(),x=>ve(x));if(!ve(S))return!1;if(typeof v=="string"){const x=jv(t,_,r);if(x)return Uv(x,r,[Be(v)]),!0}}return!1},Rn)),l&&u.listenersToRemove.add(t.registerCommand(es,v=>{const _=V();if(!I(_)||!_.isCollapsed()||!Cr(_,r))return!1;const S=eo(_.anchor.getNode());return!(S===null||!r.is(Cs(S)))&&(Vr(v),function(x,E){const C=E==="next"?"getNextSibling":"getPreviousSibling",T=E==="next"?"getFirstChild":"getLastChild",O=x[C]();if(Q(O))return O.selectEnd();const N=ze(x,tt);N===null&&we(247);for(let D=N[C]();tt(D);D=D[C]()){const M=D[T]();if(Q(M))return M.selectEnd()}const A=ze(N,ht);A===null&&we(248),E==="next"?A.selectNext():A.selectPrevious()}(S,v.shiftKey?"previous":"next"),!0)},Rn)),u.listenersToRemove.add(t.registerCommand(Lu,v=>r.isSelected(),bi)),u.listenersToRemove.add(t.registerCommand(Fd,v=>{const{nodes:_,selection:S}=v,x=S.getStartEndPoints(),E=Ie(S),C=I(S)&&ze(S.anchor.getNode(),pe=>ve(pe))!==null&&ze(S.focus.getNode(),pe=>ve(pe))!==null||E;if(_.length!==1||!ht(_[0])||!C||x===null)return!1;const[T,O]=x,[N,A,D]=Tt(T),M=ze(O.getNode(),pe=>ve(pe));if(!(ve(N)&&ve(M)&&tt(A)&&ht(D)))return!1;const k=_[0],[U,P,J]=Jt(D,N,M),[j]=Ei(k,null,null),Y=U.length,le=Y>0?U[0].length:0;let B=P.startRow,X=P.startColumn,H=j.length,re=H>0?j[0].length:0;if(E){const pe=_c(U,P,J),ye=pe.maxRow-pe.minRow+1,$e=pe.maxColumn-pe.minColumn+1;B=pe.minRow,X=pe.minColumn,H=Math.min(H,ye),re=Math.min(re,$e)}let z=!1;const G=Math.min(Y,B+H)-1,ie=Math.min(le,X+re)-1,ue=new Set;for(let pe=B;pe<=G;pe++)for(let ye=X;ye<=ie;ye++){const $e=U[pe][ye];ue.has($e.cell.getKey())||$e.cell.__rowSpan===1&&$e.cell.__colSpan===1||(Av($e.cell),ue.add($e.cell.getKey()),z=!0)}let[he]=Ei(D.getWritable(),null,null);const Ce=H-Y+B;for(let pe=0;pe<Ce;pe++)Qg(he[Y-1][0].cell);const me=re-le+X;for(let pe=0;pe<me;pe++)Wg(he[0][le-1].cell,!0,!1);[he]=Ei(D.getWritable(),null,null);for(let pe=B;pe<B+H;pe++)for(let ye=X;ye<X+re;ye++){const $e=pe-B,Ve=ye-X,ne=j[$e][Ve];if(ne.startRow!==$e||ne.startColumn!==Ve)continue;const fe=ne.cell;if(fe.__rowSpan!==1||fe.__colSpan!==1){const xe=[],nt=Math.min(pe+fe.__rowSpan,B+H)-1,Xe=Math.min(ye+fe.__colSpan,X+re)-1;for(let en=pe;en<=nt;en++)for(let un=ye;un<=Xe;un++){const cn=he[en][un];xe.push(cn.cell)}dA(xe),z=!0}const{cell:de}=he[pe][ye],Se=de.getChildren();fe.getChildren().forEach(xe=>{se(xe)&&Ae().append(xe),de.append(xe)}),Se.forEach(xe=>xe.remove())}if(E&&z){const[pe]=Ei(D.getWritable(),null,null);pe[P.startRow][P.startColumn].cell.selectEnd()}return!0},Rn)),u.listenersToRemove.add(t.registerCommand(hn,()=>{const v=V(),_=ar(),S=u.getAndClearNextFocus();if(S!==null){const{focusCell:x}=S;if(Ie(v)&&v.tableKey===u.tableNodeKey)return(x.x!==u.focusX||x.y!==u.focusY)&&(u.$setFocusCellForSelection(x),!0);if(x!==u.anchorCell&&Cr(v,r))return u.$setFocusCellForSelection(x),!0}if(u.getAndClearShouldCheckSelection()&&I(_)&&I(v)&&v.isCollapsed()){const x=v.anchor.getNode(),E=r.getFirstChild(),C=eo(x);if(C!==null&&tt(E)){const T=E.getFirstChild();if(ve(T)&&r.is(ze(C,O=>O.is(r)||O.is(T))))return T.selectStart(),!0}}if(I(v)){const{anchor:x,focus:E}=v,C=x.getNode(),T=E.getNode(),O=eo(C),N=eo(T),A=!(!O||!r.is(Cs(O))),D=!(!N||!r.is(Cs(N))),M=A!==D,k=A&&D,U=v.isBackward();if(M){const P=v.clone();if(D){const[J]=Jt(r,N,N),j=J[0][0].cell,Y=J[J.length-1].at(-1).cell;P.focus.set(U?j.getKey():Y.getKey(),U?j.getChildrenSize():Y.getChildrenSize(),"element")}else if(A){const[J]=Jt(r,O,O),j=J[0][0].cell,Y=J[J.length-1].at(-1).cell;P.anchor.set(U?Y.getKey():j.getKey(),U?Y.getChildrenSize():0,"element")}Ye(P),zv(t,u)}else if(k&&(O.is(N)||(u.$setAnchorCellForSelection(bl(u,O)),u.$setFocusCellForSelection(bl(u,N),!0)),u.pointerType==="touch"&&v.isCollapsed()&&I(_)&&_.isCollapsed())){const P=eo(_.anchor.getNode());P&&!P.is(N)&&(u.$setAnchorCellForSelection(bl(u,P)),u.$setFocusCellForSelection(bl(u,N),!0),u.pointerType=null)}}else if(v&&Ie(v)&&v.is(_)&&v.tableKey===r.getKey()){const x=Qt(o);if(x&&x.anchorNode&&x.focusNode){const E=qt(x.focusNode),C=E&&!r.isParentOf(E),T=qt(x.anchorNode),O=T&&r.isParentOf(T);if(C&&O&&x.rangeCount>0){const N=aw(x,t);N&&(N.anchor.set(r.getKey(),v.isBackward()?r.getChildrenSize():0,"element"),x.removeAllRanges(),Ye(N))}}}return v&&!v.is(_)&&(Ie(v)||Ie(_))&&u.tableSelection&&!u.tableSelection.is(_)?(Ie(v)&&v.tableKey===u.tableNodeKey?u.$updateTableTableSelection(v):!Ie(v)&&Ie(_)&&_.tableKey===u.tableNodeKey&&u.$updateTableTableSelection(null),!1):(u.hasHijackedSelectionStyles&&!r.isSelected()?function(x,E){E.$enableHighlightStyle(),rh(E.table,C=>{const T=C.elem;C.highlighted=!1,Fv(x,C),T.getAttribute("style")||T.removeAttribute("style")})}(t,u):!u.hasHijackedSelectionStyles&&r.isSelected()&&zv(t,u),!1)},Rn)),u.listenersToRemove.add(t.registerCommand(hi,()=>{const v=V();if(!I(v)||!v.isCollapsed()||!Cr(v,r))return!1;const _=jv(t,v,r);return!!_&&(Uv(_,r),!0)},Rn)),u}function nh(r){return r[eh]||null}function bc(r){let e=r;for(;e!=null;){const t=e.nodeName;if(t==="TD"||t==="TH"){const l=e._cell;return l===void 0?null:l}e=e.parentNode}return null}function Lv(r,e){if(!r.contains(e))return null;let t=null;for(let l=e;l!=null;l=l.parentNode){if(l===r)return t;const s=l.nodeName;s!=="TD"&&s!=="TH"||(t=l._cell||null)}return null}function Ss(r,e){const t=[],l={columns:0,domRows:t,rows:0};let s=_l(r,e).querySelector("tr"),o=0,u=0;for(t.length=0;s!=null;){const f=s.nodeName;if(f==="TD"||f==="TH"){const p={elem:s,hasBackgroundColor:s.style.backgroundColor!=="",highlighted:!1,x:o,y:u};s._cell=p;let y=t[u];y===void 0&&(y=t[u]=[]),y[o]=p}else{const p=s.firstChild;if(p!=null){s=p;continue}}const d=s.nextSibling;if(d!=null){o++,s=d;continue}const g=s.parentNode;if(g!=null){const p=g.nextSibling;if(p==null)break;u++,o=0,s=p}}return l.columns=o+1,l.rows=u+1,l}function vc(r,e,t){const l=new Set(t?t.getNodes():[]);rh(e,(s,o)=>{const u=s.elem;l.has(o)?(s.highlighted=!0,$v(r,s)):(s.highlighted=!1,Fv(r,s),u.getAttribute("style")||u.removeAttribute("style"))})}function rh(r,e){const{domRows:t}=r;for(let l=0;l<t.length;l++){const s=t[l];if(s)for(let o=0;o<s.length;o++){const u=s[o];if(!u)continue;const f=qt(u.elem);f!==null&&e(u,f,{x:o,y:l})}}}function zv(r,e){e.$disableHighlightStyle(),rh(e.table,t=>{t.highlighted=!0,$v(r,t)})}const CA=(r,e,t,l,s)=>{const o=s==="forward";switch(s){case"backward":case"forward":return t!==(o?r.table.columns-1:0)?xc(e.getCellNodeFromCordsOrThrow(t+(o?1:-1),l,r.table),o):l!==(o?r.table.rows-1:0)?xc(e.getCellNodeFromCordsOrThrow(o?0:r.table.columns-1,l+(o?1:-1),r.table),o):o?e.selectNext():e.selectPrevious(),!0;case"up":return l!==0?xc(e.getCellNodeFromCordsOrThrow(t,l-1,r.table),!1):e.selectPrevious(),!0;case"down":return l!==r.table.rows-1?xc(e.getCellNodeFromCordsOrThrow(t,l+1,r.table),!0):e.selectNext(),!0;default:return!1}};function ih(r,e){let t,l;if(e.startColumn===r.minColumn)t="minColumn";else{if(e.startColumn+e.cell.__colSpan-1!==r.maxColumn)return null;t="maxColumn"}if(e.startRow===r.minRow)l="minRow";else{if(e.startRow+e.cell.__rowSpan-1!==r.maxRow)return null;l="maxRow"}return[t,l]}function Sc([r,e]){return[r==="minColumn"?"maxColumn":"minColumn",e==="minRow"?"maxRow":"minRow"]}function xs(r,e,[t,l]){const s=e[l],o=r[s];o===void 0&&we(250,l,String(s));const u=e[t],f=o[u];return f===void 0&&we(250,t,String(u)),f}function EA(r,e,t,l,s){const o=_c(e,t,l),u=function(A,D){const{minColumn:M,maxColumn:k,minRow:U,maxRow:P}=D;let J=1,j=1,Y=1,le=1;const B=A[U],X=A[P];for(let H=M;H<=k;H++)J=Math.max(J,B[H].cell.__rowSpan),le=Math.max(le,X[H].cell.__rowSpan);for(let H=U;H<=P;H++)j=Math.max(j,A[H][M].cell.__colSpan),Y=Math.max(Y,A[H][k].cell.__colSpan);return{bottomSpan:le,leftSpan:j,rightSpan:Y,topSpan:J}}(e,o),{topSpan:f,leftSpan:d,bottomSpan:g,rightSpan:p}=u,y=function(A,D){const M=ih(A,D);return M===null&&we(249,D.cell.getKey()),M}(o,t),[b,v]=Sc(y);let _=o[b],S=o[v];s==="forward"?_+=b==="maxColumn"?1:d:s==="backward"?_-=b==="minColumn"?1:p:s==="down"?S+=v==="maxRow"?1:f:s==="up"&&(S-=v==="minRow"?1:g);const x=e[S];if(x===void 0)return!1;const E=x[_];if(E===void 0)return!1;const[C,T]=function(A,D,M){const k=_c(A,D,M),U=ih(k,D);if(U)return[xs(A,k,U),xs(A,k,Sc(U))];const P=ih(k,M);if(P)return[xs(A,k,Sc(P)),xs(A,k,P)];const J=["minColumn","minRow"];return[xs(A,k,J),xs(A,k,Sc(J))]}(e,t,E),O=bl(r,C.cell),N=bl(r,T.cell);return r.$setAnchorCellForSelection(O),r.$setFocusCellForSelection(N,!0),!0}function Cr(r,e){if(I(r)||Ie(r)){const t=e.isParentOf(r.anchor.getNode()),l=e.isParentOf(r.focus.getNode());return t&&l}return!1}function xc(r,e){e?r.selectStart():r.selectEnd()}function $v(r,e){const t=e.elem,l=r._config.theme;ve(qt(t))||we(131),Et(t,l.tableCellSelected)}function Fv(r,e){const t=e.elem;ve(qt(t))||we(131);const l=r._config.theme;xr(t,l.tableCellSelected)}function eo(r){const e=ze(r,ve);return ve(e)?e:null}function Cs(r){const e=ze(r,ht);return ht(e)?e:null}function TA(r,e,t,l,s,o,u){const f=Sr(t.focus,s?"previous":"next");if(Mg(f))return!1;let d=f;for(const x of Xa(f).iterNodeCarets("shadowRoot")){if(!xi(x)||!Q(x.origin))return!1;d=x}const g=d.getParentAtCaret();if(!ve(g))return!1;const p=g,y=function(x){for(const E of Xa(x).iterNodeCarets("root")){const{origin:C}=E;if(ve(C)){if(bn(E))return vn(C,x.direction)}else if(!tt(C))break}return null}(vt(p,d.direction)),b=ze(p,ht);if(!b||!b.is(o))return!1;const v=r.getElementByKey(p.getKey()),_=bc(v);if(!v||!_)return!1;const S=NA(r,b);if(u.table=S,y)if(l==="extend"){const x=bc(r.getElementByKey(y.origin.getKey()));if(!x)return!1;u.$setAnchorCellForSelection(_),u.$setFocusCellForSelection(x,!0)}else{const x=sn(y);ur(t.anchor,x),ur(t.focus,x)}else if(l==="extend")u.$setAnchorCellForSelection(_),u.$setFocusCellForSelection(_,!0);else{const x=function(E){const C=Ga(E);return bn(C)?sn(C):E}(vt(b,f.direction));ur(t.anchor,x),ur(t.focus,x)}return Vr(e),!0}function Bv(r,e,t,l,s){if((t==="up"||t==="down")&&function(u){const f=u.getRootElement();return f?f.hasAttribute("aria-controls")&&f.getAttribute("aria-controls")==="typeahead-menu":!1}(r))return!1;const o=V();if(!Cr(o,l)){if(I(o)){if(t==="backward"){if(o.focus.offset>0)return!1;const u=function(d){for(let g=d,p=d;p!==null;g=p,p=p.getParent())if(Q(p)){if(p!==g&&p.getFirstChild()!==g)return null;if(!p.isInline())return p}return null}(o.focus.getNode());if(!u)return!1;const f=u.getPreviousSibling();return!!ht(f)&&(Vr(e),e.shiftKey?o.focus.set(f.getParentOrThrow().getKey(),f.getIndexWithinParent(),"element"):f.selectEnd(),!0)}if(e.shiftKey&&(t==="up"||t==="down")){const u=o.focus.getNode();if(!o.isCollapsed()&&(t==="up"&&!o.isBackward()||t==="down"&&o.isBackward())){let f=ze(u,b=>ht(b));if(ve(f)&&(f=ze(f,ht)),f!==l||!f)return!1;const d=t==="down"?f.getNextSibling():f.getPreviousSibling();if(!d)return!1;let g=0;t==="up"&&Q(d)&&(g=d.getChildrenSize());let p=d;t==="up"&&Q(d)&&(p=d.getLastChild()||d,g=se(p)?p.getTextContentSize():0);const y=o.clone();return y.focus.set(p.getKey(),g,se(p)?"text":"element"),Ye(y),Vr(e),!0}if(Ct(u)){const f=t==="up"?o.getNodes()[o.getNodes().length-1]:o.getNodes()[0];if(f&&Ja(l,f)!==null){const d=l.getFirstDescendant(),g=l.getLastDescendant();if(!d||!g)return!1;const[p]=Tt(d),[y]=Tt(g),b=l.getCordsFromCellNode(p,s.table),v=l.getCordsFromCellNode(y,s.table),_=l.getDOMCellFromCordsOrThrow(b.x,b.y,s.table),S=l.getDOMCellFromCordsOrThrow(v.x,v.y,s.table);return s.$setAnchorCellForSelection(_),s.$setFocusCellForSelection(S,!0),!0}return!1}{let f=ze(u,g=>Q(g)&&!g.isInline());if(ve(f)&&(f=ze(f,ht)),!f)return!1;const d=t==="down"?f.getNextSibling():f.getPreviousSibling();if(ht(d)&&s.tableNodeKey===d.getKey()){const g=d.getFirstDescendant(),p=d.getLastDescendant();if(!g||!p)return!1;const[y]=Tt(g),[b]=Tt(p),v=o.clone();return v.focus.set((t==="up"?y:b).getKey(),t==="up"?0:b.getChildrenSize(),"element"),Vr(e),Ye(v),!0}}}}return t==="down"&&Cc(r)&&s.setShouldCheckSelection(),!1}if(I(o)){if(t==="backward"||t==="forward")return TA(r,e,o,e.shiftKey?"extend":"move",t==="backward",l,s);if(o.isCollapsed()){const{anchor:u,focus:f}=o,d=ze(u.getNode(),ve),g=ze(f.getNode(),ve);if(!ve(d)||!d.is(g))return!1;const p=Cs(d);if(p!==l&&p!=null){const E=_l(p,r.getElementByKey(p.getKey()));if(E!=null)return s.table=Ss(p,E),Bv(r,e,t,p,s)}const y=r.getElementByKey(d.__key),b=r.getElementByKey(u.key);if(b==null||y==null)return!1;let v;if(u.type==="element")v=b.getBoundingClientRect();else{const E=Qt(th(r));if(E===null||E.rangeCount===0)return!1;v=E.getRangeAt(0).getBoundingClientRect()}const _=t==="up"?d.getFirstChild():d.getLastChild();if(_==null)return!1;const S=r.getElementByKey(_.__key);if(S==null)return!1;const x=S.getBoundingClientRect();if(t==="up"?x.top>v.top-v.height:v.bottom+v.height>x.bottom){Vr(e);const E=l.getCordsFromCellNode(d,s.table);if(!e.shiftKey)return CA(s,l,E.x,E.y,t);{const C=l.getDOMCellFromCordsOrThrow(E.x,E.y,s.table);s.$setAnchorCellForSelection(C),s.$setFocusCellForSelection(C,!0)}return!0}}}else if(Ie(o)){const{anchor:u,focus:f}=o,d=ze(u.getNode(),ve),g=ze(f.getNode(),ve),[p]=o.getNodes();ht(p)||we(251);const y=_l(p,r.getElementByKey(p.getKey()));if(!ve(d)||!ve(g)||!ht(p)||y==null)return!1;s.$updateTableTableSelection(o);const b=Ss(p,y),v=l.getCordsFromCellNode(d,b),_=l.getDOMCellFromCordsOrThrow(v.x,v.y,b);if(s.$setAnchorCellForSelection(_),Vr(e),e.shiftKey){const[S,x,E]=Jt(l,d,g);return EA(s,S,x,E,t)}return g.selectEnd(),!0}return!1}function Vr(r){r.preventDefault(),r.stopImmediatePropagation(),r.stopPropagation()}function Uv(r,e,t){const l=Ae();r==="first"?e.insertBefore(l):e.insertAfter(l),l.append(...t||[]),l.selectEnd()}function jv(r,e,t){const l=t.getParent();if(!l)return;const s=Qt(th(r));if(!s)return;const o=s.anchorNode,u=r.getElementByKey(l.getKey()),f=_l(t,r.getElementByKey(t.getKey()));if(!o||!u||!f||!u.contains(o)||f.contains(o))return;const d=ze(e.anchor.getNode(),C=>ve(C));if(!d)return;const g=ze(d,C=>ht(C));if(!ht(g)||!g.is(t))return;const[p,y]=Jt(t,d,d),b=p[0][0],v=p[p.length-1][p[0].length-1],{startRow:_,startColumn:S}=y,x=_===b.startRow&&S===b.startColumn,E=_===v.startRow&&S===v.startColumn;return x?"first":E?"last":void 0}function bl(r,e){const{tableNode:t}=r.$lookup(),l=t.getCordsFromCellNode(e,r.table);return t.getDOMCellFromCordsOrThrow(l.x,l.y,r.table)}function lh(r,e,t){return Ja(r,qt(e,t))}function Hv(r,e,t){if(!e.theme.tableAlignment)return;const l=[],s=[];for(const o of["center","right"]){const u=e.theme.tableAlignment[o];u&&(o===t?s:l).push(u)}xr(r,...l),Et(r,...s)}const sh=new WeakSet;function Cc(r=Ya()){return sh.has(r)}function wA(r,e){e?sh.add(r):sh.delete(r)}class Er extends _n{static getType(){return"table"}getColWidths(){return this.getLatest().__colWidths}setColWidths(e){const t=this.getWritable();return t.__colWidths=e,t}static clone(e){return new Er(e.__key)}afterCloneFrom(e){super.afterCloneFrom(e),this.__colWidths=e.__colWidths,this.__rowStriping=e.__rowStriping,this.__frozenColumnCount=e.__frozenColumnCount,this.__frozenRowCount=e.__frozenRowCount}static importDOM(){return{table:e=>({conversion:AA,priority:1})}}static importJSON(e){return Ec().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setRowStriping(e.rowStriping||!1).setFrozenColumns(e.frozenColumnCount||0).setFrozenRows(e.frozenRowCount||0).setColWidths(e.colWidths)}constructor(e){super(e),this.__rowStriping=!1,this.__frozenColumnCount=0,this.__frozenRowCount=0}exportJSON(){return{...super.exportJSON(),colWidths:this.getColWidths(),frozenColumnCount:this.__frozenColumnCount?this.__frozenColumnCount:void 0,frozenRowCount:this.__frozenRowCount?this.__frozenRowCount:void 0,rowStriping:this.__rowStriping?this.__rowStriping:void 0}}extractWithChild(e,t,l){return l==="html"}getDOMSlot(e){const t=vs(e)?e:e.querySelector("table");return vs(t)||we(229),super.getDOMSlot(e).withElement(t).withAfter(t.querySelector("colgroup"))}createDOM(e,t){const l=document.createElement("table");this.__style&&(l.style.cssText=this.__style);const s=document.createElement("colgroup");if(l.appendChild(s),Ow(s),Et(l,e.theme.table),this.updateTableElement(null,l,e),Cc(t)){const o=document.createElement("div"),u=e.theme.tableScrollableWrapper;return u?Et(o,u):o.style.cssText="overflow-x: auto;",o.appendChild(l),this.updateTableWrapper(null,o,l,e),o}return l}updateTableWrapper(e,t,l,s){this.__frozenColumnCount!==(e?e.__frozenColumnCount:0)&&function(o,u,f,d){d>0?(Et(o,f.theme.tableFrozenColumn),u.setAttribute("data-lexical-frozen-column","true")):(xr(o,f.theme.tableFrozenColumn),u.removeAttribute("data-lexical-frozen-column"))}(t,l,s,this.__frozenColumnCount),this.__frozenRowCount!==(e?e.__frozenRowCount:0)&&function(o,u,f,d){d>0?(Et(o,f.theme.tableFrozenRow),u.setAttribute("data-lexical-frozen-row","true")):(xr(o,f.theme.tableFrozenRow),u.removeAttribute("data-lexical-frozen-row"))}(t,l,s,this.__frozenRowCount)}updateTableElement(e,t,l){this.__style!==(e?e.__style:"")&&(t.style.cssText=this.__style),this.__rowStriping!==(!!e&&e.__rowStriping)&&function(s,o,u){u?(Et(s,o.theme.tableRowStriping),s.setAttribute("data-lexical-row-striping","true")):(xr(s,o.theme.tableRowStriping),s.removeAttribute("data-lexical-row-striping"))}(t,l,this.__rowStriping),function(s,o,u,f){const d=s.querySelector("colgroup");if(!d)return;const g=[];for(let p=0;p<u;p++){const y=document.createElement("col"),b=f&&f[p];b&&(y.style.width=`${b}px`),g.push(y)}d.replaceChildren(...g)}(t,0,this.getColumnCount(),this.getColWidths()),Hv(t,l,this.getFormatType())}updateDOM(e,t,l){const s=this.getDOMSlot(t).element;return t===s===Cc()||(at(o=t)&&o.nodeName==="DIV"&&this.updateTableWrapper(e,t,s,l),this.updateTableElement(e,s,l),!1);var o}exportDOM(e){const t=super.exportDOM(e),{element:l}=t;return{after:s=>{if(t.after&&(s=t.after(s)),!vs(s)&&at(s)&&(s=s.querySelector("table")),!vs(s))return null;Hv(s,e._config,this.getFormatType());const[o]=Ei(this,null,null),u=new Map;for(const p of o)for(const y of p){const b=y.cell.getKey();u.has(b)||u.set(b,{colSpan:y.cell.getColSpan(),startColumn:y.startColumn})}const f=new Set;for(const p of s.querySelectorAll(":scope > tr > [data-temporary-table-cell-lexical-key]")){const y=p.getAttribute("data-temporary-table-cell-lexical-key");if(y){const b=u.get(y);if(p.removeAttribute("data-temporary-table-cell-lexical-key"),b){u.delete(y);for(let v=0;v<b.colSpan;v++)f.add(v+b.startColumn)}}}const d=s.querySelector(":scope > colgroup");if(d){const p=Array.from(s.querySelectorAll(":scope > colgroup > col")).filter((y,b)=>f.has(b));d.replaceChildren(...p)}const g=s.querySelectorAll(":scope > tr");if(g.length>0){const p=document.createElement("tbody");for(const y of g)p.appendChild(y);s.append(p)}return s},element:!vs(l)&&at(l)?l.querySelector("table"):l}}canBeEmpty(){return!1}isShadowRoot(){return!0}getCordsFromCellNode(e,t){const{rows:l,domRows:s}=t;for(let o=0;o<l;o++){const u=s[o];if(u!=null)for(let f=0;f<u.length;f++){const d=u[f];if(d==null)continue;const{elem:g}=d,p=lh(this,g);if(p!==null&&e.is(p))return{x:f,y:o}}}throw new Error("Cell not found in table.")}getDOMCellFromCords(e,t,l){const{domRows:s}=l,o=s[t];if(o==null)return null;const u=o[e<o.length?e:o.length-1];return u??null}getDOMCellFromCordsOrThrow(e,t,l){const s=this.getDOMCellFromCords(e,t,l);if(!s)throw new Error("Cell not found at cords.");return s}getCellNodeFromCords(e,t,l){const s=this.getDOMCellFromCords(e,t,l);if(s==null)return null;const o=qt(s.elem);return ve(o)?o:null}getCellNodeFromCordsOrThrow(e,t,l){const s=this.getCellNodeFromCords(e,t,l);if(!s)throw new Error("Node at cords not TableCellNode.");return s}getRowStriping(){return!!this.getLatest().__rowStriping}setRowStriping(e){const t=this.getWritable();return t.__rowStriping=e,t}setFrozenColumns(e){const t=this.getWritable();return t.__frozenColumnCount=e,t}getFrozenColumns(){return this.getLatest().__frozenColumnCount}setFrozenRows(e){const t=this.getWritable();return t.__frozenRowCount=e,t}getFrozenRows(){return this.getLatest().__frozenRowCount}canSelectBefore(){return!0}canIndent(){return!1}getColumnCount(){const e=this.getFirstChild();if(!e)return 0;let t=0;return e.getChildren().forEach(l=>{ve(l)&&(t+=l.getColSpan())}),t}}function NA(r,e){const t=r.getElementByKey(e.getKey());return t===null&&we(230),Ss(e,t)}function AA(r){const e=Ec();r.hasAttribute("data-lexical-row-striping")&&e.setRowStriping(!0),r.hasAttribute("data-lexical-frozen-column")&&e.setFrozenColumns(1),r.hasAttribute("data-lexical-frozen-row")&&e.setFrozenRows(1);const t=r.querySelector(":scope > colgroup");if(t){let l=[];for(const s of t.querySelectorAll(":scope > col")){let o=s.style.width||"";if(!Vg.test(o)&&(o=s.getAttribute("width")||"",!/^\d+$/.test(o))){l=void 0;break}l.push(parseFloat(o))}l&&e.setColWidths(l)}return{after:l=>Zb(l,tt),node:e}}function Ec(){return At(new Er)}function ht(r){return r instanceof Er}function OA({rows:r,columns:e,includeHeaders:t}){const l=V()||ar();if(!l||!I(l)||Cs(l.anchor.getNode()))return!1;const s=eA(Number(r),Number(e),t);Vb(s);const o=s.getFirstDescendant();return se(o)&&o.select(),!0}function RA(r){tt(r.getParent())?r.isEmpty()&&r.append(Ae()):r.remove()}function kA(r){ht(r.getParent())?Gb(r,ve):r.remove()}function MA(r){Gb(r,tt);const[e]=Ei(r,null,null),t=e.reduce((s,o)=>Math.max(s,o.length),0),l=r.getChildren();for(let s=0;s<e.length;++s){const o=l[s];if(!o)continue;tt(o)||we(254,o.constructor.name,o.getType());const u=e[s].reduce((f,d)=>d?1+f:f,0);if(u!==t)for(let f=u;f<t;++f){const d=qn();d.append(Ae()),o.append(d)}}}function DA(r){if(r.detail<3||!or(r.target))return!1;const e=qt(r.target);if(e===null)return!1;const t=ze(e,l=>Q(l)&&!l.isInline());return t===null?!1:!!ve(t.getParent())&&(t.select(0),!0)}function LA(r){return r.registerNodeTransform(dr,e=>{if(e.getColSpan()>1||e.getRowSpan()>1){const[,,t]=Tt(e),[l]=Jt(t,e,e),s=l.length,o=l[0].length;let u=t.getFirstChild();tt(u)||we(175);const f=[];for(let d=0;d<s;d++){d!==0&&(u=u.getNextSibling(),tt(u)||we(175));let g=null;for(let p=0;p<o;p++){const y=l[d][p],b=y.cell;if(y.startRow===d&&y.startColumn===p)g=b,f.push(b);else if(b.getColSpan()>1||b.getRowSpan()>1){ve(b)||we(176);const v=qn(b.__headerState);g!==null?g.insertAfter(v):uN(u,v)}}}for(const d of f)d.setColSpan(1),d.setRowSpan(1)}})}function zA(r,e=!0){const t=new Map,l=(o,u,f)=>{const d=_l(o,f),g=xA(o,d,r,e);t.set(u,[g,d])},s=r.registerMutationListener(Er,o=>{r.getEditorState().read(()=>{for(const[u,f]of o){const d=t.get(u);if(f==="created"||f==="updated"){const{tableNode:g,tableElement:p}=Dv(u);d===void 0?l(g,u,p):p!==d[1]&&(d[0].removeListeners(),t.delete(u),l(g,u,p))}else f==="destroyed"&&d!==void 0&&(d[0].removeListeners(),t.delete(u))}},{editor:r})},{skipInitialization:!1});return()=>{s();for(const[,[o]]of t)o.removeListeners()}}function $A(r){return r.hasNodes([Er])||we(255),mt(r.registerCommand(Tv,OA,Te),r.registerCommand(Fd,({nodes:e,selection:t})=>I(t)?Cs(t.anchor.getNode())!==null&&e.some(ht):!1,Te),r.registerCommand(di,DA,Te),r.registerNodeTransform(Er,MA),r.registerNodeTransform(yl,kA),r.registerNodeTransform(dr,RA))}function FA({hasCellMerge:r=!0,hasCellBackgroundColor:e=!0,hasTabHandler:t=!0,hasHorizontalScroll:l=!1}){const[s]=Fe();return L.useEffect(()=>{Cc(s)!==l&&(wA(s,l),s.registerNodeTransform(Er,()=>{})())},[s,l]),L.useEffect(()=>$A(s),[s]),L.useEffect(()=>zA(s,t),[s,t]),L.useEffect(()=>{if(!r)return LA(s)},[s,r]),L.useEffect(()=>{if(!e)return s.registerNodeTransform(dr,o=>{o.getBackgroundColor()!==null&&o.setBackgroundColor(null)})},[s,e,r]),null}function ah(r){const e=r.getShape();return{columns:e.toX-e.fromX+1,rows:e.toY-e.fromY+1}}function BA(r){const e=r.getNodes(),t=[];let l=null,s=null,o=0;for(let u=0;u<e.length;u++){const f=e[u];if(ve(f)){const d=f.getParentOrThrow();if(l!==d){if(s!==null&&o!==s)return!1;l!==null&&(s=o),l=d,o=0}const g=f.__colSpan;for(let p=0;p<g;p++)t[o+p]===void 0&&(t[o+p]=0),t[o+p]+=f.__rowSpan;o+=g}}return(s===null||o===s)&&t.every(u=>u===t[0])}function UA(){const r=V();if(I(r)&&!r.isCollapsed()||Ie(r)&&!r.anchor.is(r.focus)||!I(r)&&!Ie(r))return!1;const[e]=Tt(r.anchor);return e.__colSpan>1||e.__rowSpan>1}function Kv(r){if(r.getChildrenSize()!==1)return!1;const e=r.getFirstChildOrThrow();return!(!On(e)||!e.isEmpty())}function jA(r){const e=r.getLastDescendant();se(e)?e.select():Q(e)?e.selectEnd():e!==null&&e.selectNext()}function Iv(r){return r.getEditorState().read(()=>{const e=V();if(I(e)||Ie(e)){const[t]=Tt(e.anchor);if(ve(t))return t.getBackgroundColor()}return null})}function HA({onClose:r,tableCellNode:e,setIsMenuOpen:t,contextRef:l,cellMerge:s}){const[o]=Fe(),u=L.useRef(null),[f,d]=L.useState(e),[g,p]=L.useState({columns:1,rows:1}),[y,b]=L.useState(!1),[v,_]=L.useState(!1),[S,x]=L.useState(()=>Iv(o)||""),{t:E}=zr();L.useEffect(()=>o.registerMutationListener(dr,j=>{j.get(f.getKey())==="updated"&&(o.getEditorState().read(()=>{d(f.getLatest())}),x(Iv(o)||""))}),[o,f]),L.useEffect(()=>{o.getEditorState().read(()=>{const j=V();if(Ie(j)){const Y=ah(j);p(ah(j)),b(BA(j)&&(Y.columns>1||Y.rows>1))}_(UA())})},[o]),L.useEffect(()=>{const j=l.current,Y=u.current,le=o.getRootElement();if(j!=null&&Y!=null&&le!=null){const B=le.getBoundingClientRect(),X=j.getBoundingClientRect();Y.style.opacity="1";const H=Y.getBoundingClientRect(),re=5;let z=X.right+re;if(z+H.width>window.innerWidth||z+H.width>B.right){const ie=X.left-H.width-re;z=(ie<0?re:ie)+window.pageXOffset}Y.style.left=`${z+window.pageXOffset}px`;let G=X.top;if(G+H.height>window.innerHeight){const ie=X.bottom-H.height;G=ie<0?re:ie}Y.style.top=`${G}px`}},[l,u,o]),L.useEffect(()=>{function j(Y){u.current!=null&&l.current!=null&&!u.current.contains(Y.target)&&!l.current.contains(Y.target)&&t(!1)}return window.addEventListener("click",j),()=>window.removeEventListener("click",j)},[t,l]);const C=L.useCallback(()=>{o.update(()=>{if(f.isAttached()){const Y=bs(f),le=o.getElementByKey(Y.getKey());if(!le)throw new Error("Expected to find tableElement in DOM");const B=nh(le);B!==null&&B.$clearHighlight(),Y.markDirty(),d(f.getLatest())}Je().selectStart()})},[o,f]),T=()=>{o.update(()=>{const j=V();if(Ie(j)){const{columns:Y,rows:le}=ah(j),B=j.getNodes();let X=null;for(let H=0;H<B.length;H++){const re=B[H];if(ve(re))if(X===null){re.setColSpan(Y).setRowSpan(le),X=re;const z=Kv(re);let G;z&&On(G=re.getFirstChild())&&G.remove()}else ve(X)&&(Kv(re)||X.append(...re.getChildren()),re.remove())}X!==null&&(X.getChildrenSize()===0&&X.append(Ae()),jA(X)),r()}})},O=()=>{o.update(()=>{hA()})},N=L.useCallback(j=>{o.update(()=>{lA(j),r()})},[o,r]),A=L.useCallback(j=>{o.update(()=>{for(let Y=0;Y<g.columns;Y++)aA(j);r()})},[o,r,g.columns]),D=L.useCallback(()=>{o.update(()=>{uA(),r()})},[o,r]),M=L.useCallback(()=>{o.update(()=>{bs(f).remove(),C(),r()})},[o,f,C,r]),k=L.useCallback(()=>{o.update(()=>{fA(),r()})},[o,r]),U=L.useCallback(()=>{o.update(()=>{const j=bs(f),Y=nA(f),le=j.getChildren();if(Y>=le.length||Y<0)throw new Error("Expected table cell to be inside of table row.");const B=le[Y];if(!tt(B))throw new Error("Expected table row");B.getChildren().forEach(X=>{if(!ve(X))throw new Error("Expected table cell");X.toggleHeaderStyle(ot.ROW)}),C(),r()})},[o,f,C,r]),P=L.useCallback(()=>{o.update(()=>{const j=bs(f),Y=rA(f),le=j.getChildren(),B=Math.max(...le.map(X=>X.getChildren().length));if(Y>=B||Y<0)throw new Error("Expected table cell to be inside of table row.");for(let X=0;X<le.length;X++){const H=le[X];if(!tt(H))throw new Error("Expected table row");const re=H.getChildren();if(Y>=re.length)continue;const z=re[Y];if(!ve(z))throw new Error("Expected table cell");z.toggleHeaderStyle(ot.COLUMN)}C(),r()})},[o,f,C,r]);L.useCallback(j=>{o.update(()=>{const Y=V();if(I(Y)||Ie(Y)){const[le]=Tt(Y.anchor);if(ve(le)&&le.setBackgroundColor(j),Ie(Y)){const B=Y.getNodes();for(let X=0;X<B.length;X++){const H=B[X];ve(H)&&H.setBackgroundColor(j)}}}})},[o]);let J=null;return s&&(y?J=$.jsx("button",{type:"button",className:"item",onClick:()=>T(),"data-test-id":"table-merge-cells",children:"Merge cells"}):v&&(J=$.jsx("button",{type:"button",className:"item",onClick:()=>O(),"data-test-id":"table-unmerge-cells",children:"Unmerge cells"}))),kn.createPortal($.jsxs("div",{className:"lexical-dropdown",ref:u,onClick:j=>{j.stopPropagation()},children:[J,$.jsx("button",{type:"button",className:"item",onClick:()=>N(!1),"data-test-id":"table-insert-row-above",children:$.jsxs("span",{className:"text",children:[E("Insert")," ",E("rows",{count:g.rows})," ",E("above")]})}),$.jsx("button",{type:"button",className:"item",onClick:()=>N(!0),"data-test-id":"table-insert-row-below",children:$.jsxs("span",{className:"text",children:[E("Insert")," ",E("rows",{count:g.rows})," ",E("below")]})}),$.jsx("hr",{}),$.jsx("button",{type:"button",className:"item",onClick:()=>A(!1),"data-test-id":"table-insert-column-before",children:$.jsxs("span",{className:"text",children:[E("Insert")," ",E("cols",{count:g.columns})," ",E("left")]})}),$.jsx("button",{type:"button",className:"item",onClick:()=>A(!0),"data-test-id":"table-insert-column-after",children:$.jsxs("span",{className:"text",children:[E("Insert")," ",E("cols",{count:g.columns})," ",E("right")]})}),$.jsx("hr",{}),$.jsx("button",{type:"button",className:"item",onClick:()=>k(),"data-test-id":"table-delete-columns",children:$.jsx("span",{className:"text",children:E("Delete column")})}),$.jsx("button",{type:"button",className:"item",onClick:()=>D(),"data-test-id":"table-delete-rows",children:$.jsx("span",{className:"text",children:E("Delete row")})}),$.jsx("button",{type:"button",className:"item",onClick:()=>M(),"data-test-id":"table-delete",children:$.jsx("span",{className:"text",children:E("Delete table")})}),$.jsx("hr",{}),$.jsx("button",{type:"button",className:"item",onClick:()=>U(),children:$.jsxs("span",{className:"text",children:[(f.__headerState&ot.ROW)===ot.ROW?E("Remove"):E("Add")," ",E("row header")]})}),$.jsx("button",{type:"button",className:"item",onClick:()=>P(),"data-test-id":"table-column-header",children:$.jsxs("span",{className:"text",children:[(f.__headerState&ot.COLUMN)===ot.COLUMN?E("Remove"):E("Add")," ",E("column header")]})})]}),document.body)}function KA({anchorElem:r,cellMerge:e}){const[t]=Fe(),l=L.useRef(null),s=L.useRef(null),[o,u]=L.useState(!1),[f,d]=L.useState(null),g=L.useCallback(()=>{const y=l.current,b=V(),v=window.getSelection(),_=document.activeElement;if(b==null||y==null){d(null);return}const S=t.getRootElement();if(I(b)&&S!==null&&v!==null&&S.contains(v.anchorNode)){const x=tA(b.anchor.getNode());if(x==null){d(null);return}if(t.getElementByKey(x.getKey())==null){d(null);return}d(x)}else _||d(null)},[t]);L.useEffect(()=>t.registerUpdateListener(()=>{t.getEditorState().read(()=>{g()})})),L.useEffect(()=>{const y=l.current;if(y!=null&&f!=null){const b=t.getElementByKey(f.getKey());if(b!=null){const v=b.getBoundingClientRect(),_=y.getBoundingClientRect(),S=r.getBoundingClientRect(),x=v.top-S.top+4,E=v.right-_.width-10-S.left;y.style.opacity="1",y.style.transform=`translate(${E}px, ${x}px)`}else y.style.opacity="0",y.style.transform="translate(-10000px, -10000px)"}},[l,f,t,r]);const p=L.useRef(f);return L.useEffect(()=>{p.current!==f&&u(!1),p.current=f},[p,f]),$.jsx("div",{className:"table-cell-action-button-container",ref:l,children:f!=null&&$.jsxs($.Fragment,{children:[$.jsx("button",{type:"button",className:"table-cell-action-button chevron-down",onClick:y=>{y.stopPropagation(),u(!o)},ref:s,children:$.jsx("i",{className:"chevron-down"})}),o&&$.jsx(HA,{contextRef:s,setIsMenuOpen:u,onClose:()=>u(!1),tableCellNode:f,cellMerge:e})]})})}function IA({anchorElem:r=document.body,cellMerge:e=!1}){const t=Dg();return kn.createPortal(t?$.jsx(KA,{anchorElem:r,cellMerge:e}):null,r)}function Tr(r,...e){const t=new URL("https://lexical.dev/docs/error"),l=new URLSearchParams;l.append("code",r);for(const s of e)l.append("v",s);throw t.search=l.toString(),Error(`Minified Lexical error #${r}; visit ${t.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function oh(r){let e=1,t=r.getParent();for(;t!=null;){if(Qe(t)){const l=t.getParent();if(ke(l)){e++,t=l.getParent();continue}Tr(40)}return e}return e}function uh(r){let e=r.getParent();ke(e)||Tr(40);let t=e;for(;t!==null;)t=t.getParent(),ke(t)&&(e=t);return e}function Pv(r){let e=[];const t=r.getChildren().filter(Qe);for(let l=0;l<t.length;l++){const s=t[l],o=s.getFirstChild();ke(o)?e=e.concat(Pv(o)):e.push(s)}return e}function wr(r){return Qe(r)&&ke(r.getFirstChild())}function qv(r){return Sn().append(r)}function Yv(r,e){return Qe(r)&&(e.length===0||e.length===1&&r.is(e[0])&&r.getChildrenSize()===0)}function Vv(r){const e=V();if(e!==null){let t=e.getNodes();if(I(e)){const s=e.getStartEndPoints();s===null&&Tr(143);const[o]=s,u=o.getNode(),f=u.getParent();if(Ct(u)){const d=u.getFirstChild();if(d)t=d.selectStart().getNodes();else{const g=Ae();u.append(g),t=g.select().getNodes()}}else if(Yv(u,t)){const d=an(r);if(Ct(f)){u.replace(d);const g=Sn();Q(u)&&(g.setFormat(u.getFormatType()),g.setIndent(u.getIndent())),d.append(g)}else if(Qe(u)){const g=u.getParentOrThrow();vl(d,g.getChildren()),g.replace(d)}return}}const l=new Set;for(let s=0;s<t.length;s++){const o=t[s];if(Q(o)&&o.isEmpty()&&!Qe(o)&&!l.has(o.getKey())){Gv(o,r);continue}let u=fg(o)?o.getParent():Qe(o)&&o.isEmpty()?o:null;for(;u!=null;){const f=u.getKey();if(ke(u)){if(!l.has(f)){const d=an(r);vl(d,u.getChildren()),u.replace(d),l.add(f)}break}{const d=u.getParent();if(Ct(d)&&!l.has(f)){l.add(f),Gv(u,r);break}u=d}}}}}function vl(r,e){r.splice(r.getChildrenSize(),0,e)}function Gv(r,e){if(ke(r))return r;const t=r.getPreviousSibling(),l=r.getNextSibling(),s=Sn();let o;if(vl(s,r.getChildren()),ke(t)&&e===t.getListType())t.append(s),ke(l)&&e===l.getListType()&&(vl(t,l.getChildren()),l.remove()),o=t;else if(ke(l)&&e===l.getListType())l.getFirstChildOrThrow().insertBefore(s),o=l;else{const u=an(e);u.append(s),r.replace(u),o=u}return s.setFormat(r.getFormatType()),s.setIndent(r.getIndent()),r.remove(),o}function ch(r,e){const t=r.getLastChild(),l=e.getFirstChild();t&&l&&wr(t)&&wr(l)&&(ch(t.getFirstChild(),l.getFirstChild()),l.remove());const s=e.getChildren();s.length>0&&r.append(...s),e.remove()}function PA(){const r=V();if(I(r)){const e=new Set,t=r.getNodes(),l=r.anchor.getNode();if(Yv(l,t))e.add(uh(l));else for(let s=0;s<t.length;s++){const o=t[s];if(fg(o)){const u=Yb(o,Ti);u!=null&&e.add(uh(u))}}for(const s of e){let o=s;const u=Pv(s);for(const f of u){const d=Ae().setTextStyle(r.style).setTextFormat(r.format);vl(d,f.getChildren()),o.insertAfter(d),o=d,f.__key===r.anchor.key&&ur(r.anchor,sn(vn(d,"next"))),f.__key===r.focus.key&&ur(r.focus,sn(vn(d,"next"))),f.remove()}s.remove()}}}function qA(r){const e=new Set;if(wr(r)||e.has(r.getKey()))return;const t=r.getParent(),l=r.getNextSibling(),s=r.getPreviousSibling();if(wr(l)&&wr(s)){const o=s.getFirstChild();if(ke(o)){o.append(r);const u=l.getFirstChild();ke(u)&&(vl(o,u.getChildren()),l.remove(),e.add(l.getKey()))}}else if(wr(l)){const o=l.getFirstChild();if(ke(o)){const u=o.getFirstChild();u!==null&&u.insertBefore(r)}}else if(wr(s)){const o=s.getFirstChild();ke(o)&&o.append(r)}else if(ke(t)){const o=Sn().setTextFormat(r.getTextFormat()).setTextStyle(r.getTextStyle()),u=an(t.getListType()).setTextFormat(t.getTextFormat()).setTextStyle(t.getTextStyle());o.append(u),u.append(r),s?s.insertAfter(o):l?l.insertBefore(o):t.append(o)}}function YA(r){if(wr(r))return;const e=r.getParent(),t=e?e.getParent():void 0;if(ke(t?t.getParent():void 0)&&Qe(t)&&ke(e)){const l=e?e.getFirstChild():void 0,s=e?e.getLastChild():void 0;if(r.is(l))t.insertBefore(r),e.isEmpty()&&t.remove();else if(r.is(s))t.insertAfter(r),e.isEmpty()&&t.remove();else{const o=e.getListType(),u=Sn(),f=an(o);u.append(f),r.getPreviousSiblings().forEach(p=>f.append(p));const d=Sn(),g=an(o);d.append(g),vl(g,r.getNextSiblings()),t.insertBefore(u),t.insertAfter(d),t.replace(r)}}}function VA(){const r=V();if(!I(r)||!r.isCollapsed())return!1;const e=r.anchor.getNode();if(!Qe(e)||e.getChildrenSize()!==0)return!1;const t=uh(e),l=e.getParent();ke(l)||Tr(40);const s=l.getParent();let o;if(Ct(s))o=Ae(),t.insertAfter(o);else{if(!Qe(s))return!1;o=Sn(),s.insertAfter(o)}o.setTextStyle(r.style).setTextFormat(r.format).select();const u=e.getNextSiblings();if(u.length>0){const f=an(l.getListType());if(Qe(o)){const d=Sn();d.append(f),o.insertAfter(d)}else o.insertAfter(f);f.append(...u)}return function(f){let d=f;for(;d.getNextSibling()==null&&d.getPreviousSibling()==null;){const g=d.getParent();if(g==null||!Qe(g)&&!ke(g))break;d=g}d.remove()}(e),!0}function Tc(...r){const e=[];for(const t of r)if(t&&typeof t=="string")for(const[l]of t.matchAll(/\S+/g))e.push(l);return e}let Ti=class bT extends _n{static getType(){return"listitem"}static clone(e){return new bT(e.__value,e.__checked,e.__key)}constructor(e,t,l){super(l),this.__value=e===void 0?1:e,this.__checked=t}createDOM(e){const t=document.createElement("li");return this.updateListItemDOM(null,t,e),t}updateListItemDOM(e,t,l){const s=this.getParent();ke(s)&&s.getListType()==="check"&&function(f,d,g,p){ke(d.getFirstChild())?(f.removeAttribute("role"),f.removeAttribute("tabIndex"),f.removeAttribute("aria-checked")):(f.setAttribute("role","checkbox"),f.setAttribute("tabIndex","-1"),g&&d.__checked===g.__checked||f.setAttribute("aria-checked",d.getChecked()?"true":"false"))}(t,this,e),t.value=this.__value,function(f,d,g){const p=[],y=[],b=d.list,v=b?b.listitem:void 0;let _;if(b&&b.nested&&(_=b.nested.listitem),v!==void 0&&p.push(...Tc(v)),b){const S=g.getParent(),x=ke(S)&&S.getListType()==="check",E=g.getChecked();x&&!E||y.push(b.listitemUnchecked),x&&E||y.push(b.listitemChecked),x&&p.push(E?b.listitemChecked:b.listitemUnchecked)}if(_!==void 0){const S=Tc(_);g.getChildren().some(x=>ke(x))?p.push(...S):y.push(...S)}y.length>0&&xr(f,...y),p.length>0&&Et(f,...p)}(t,l.theme,this);const o=e?e.__style:"",u=this.__style;o!==u&&(u===""?t.removeAttribute("style"):t.style.cssText=u),function(f,d,g){const p=Ub(d.__textStyle);for(const y in p)f.style.setProperty(`--listitem-marker-${y}`,p[y]);if(g)for(const y in Ub(g.__textStyle))y in p||f.style.removeProperty(`--listitem-marker-${y}`)}(t,this,e)}updateDOM(e,t,l){const s=t;return this.updateListItemDOM(e,s,l),!1}static transform(){return e=>{if(Qe(e)||Tr(144),e.__checked==null)return;const t=e.getParent();ke(t)&&t.getListType()!=="check"&&e.getChecked()!=null&&e.setChecked(void 0)}}static importDOM(){return{li:()=>({conversion:GA,priority:0})}}static importJSON(e){return Sn().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setValue(e.value).setChecked(e.checked)}exportDOM(e){const t=this.createDOM(e._config),l=this.getFormatType();l&&(t.style.textAlign=l);const s=this.getDirection();return s&&(t.dir=s),{element:t}}exportJSON(){return{...super.exportJSON(),checked:this.getChecked(),value:this.getValue()}}append(...e){for(let t=0;t<e.length;t++){const l=e[t];if(Q(l)&&this.canMergeWith(l)){const s=l.getChildren();this.append(...s),l.remove()}else super.append(l)}return this}replace(e,t){if(Qe(e))return super.replace(e);this.setIndent(0);const l=this.getParentOrThrow();if(!ke(l))return e;if(l.__first===this.getKey())l.insertBefore(e);else if(l.__last===this.getKey())l.insertAfter(e);else{const s=an(l.getListType());let o=this.getNextSibling();for(;o;){const u=o;o=o.getNextSibling(),s.append(u)}l.insertAfter(e),e.insertAfter(s)}return t&&(Q(e)||Tr(139),this.getChildren().forEach(s=>{e.append(s)})),this.remove(),l.getChildrenSize()===0&&l.remove(),e}insertAfter(e,t=!0){const l=this.getParentOrThrow();if(ke(l)||Tr(39),Qe(e))return super.insertAfter(e,t);const s=this.getNextSiblings();if(l.insertAfter(e,t),s.length!==0){const o=an(l.getListType());s.forEach(u=>o.append(u)),e.insertAfter(o,t)}return e}remove(e){const t=this.getPreviousSibling(),l=this.getNextSibling();super.remove(e),t&&l&&wr(t)&&wr(l)&&(ch(t.getFirstChild(),l.getFirstChild()),l.remove())}insertNewAfter(e,t=!0){const l=Sn().updateFromJSON(this.exportJSON()).setChecked(!this.getChecked()&&void 0);return this.insertAfter(l,t),l}collapseAtStart(e){const t=Ae();this.getChildren().forEach(u=>t.append(u));const l=this.getParentOrThrow(),s=l.getParentOrThrow(),o=Qe(s);if(l.getChildrenSize()===1)if(o)l.remove(),s.select();else{l.insertBefore(t),l.remove();const u=e.anchor,f=e.focus,d=t.getKey();u.type==="element"&&u.getNode().is(this)&&u.set(d,u.offset,"element"),f.type==="element"&&f.getNode().is(this)&&f.set(d,f.offset,"element")}else l.insertBefore(t),this.remove();return!0}getValue(){return this.getLatest().__value}setValue(e){const t=this.getWritable();return t.__value=e,t}getChecked(){const e=this.getLatest();let t;const l=this.getParent();return ke(l)&&(t=l.getListType()),t==="check"?!!e.__checked:void 0}setChecked(e){const t=this.getWritable();return t.__checked=e,t}toggleChecked(){const e=this.getWritable();return e.setChecked(!e.__checked)}getIndent(){const e=this.getParent();if(e===null||!this.isAttached())return this.getLatest().__indent;let t=e.getParentOrThrow(),l=0;for(;Qe(t);)t=t.getParentOrThrow().getParentOrThrow(),l++;return l}setIndent(e){typeof e!="number"&&Tr(117),(e=Math.floor(e))>=0||Tr(199);let t=this.getIndent();for(;t!==e;)t<e?(qA(this),t++):(YA(this),t--);return this}canInsertAfter(e){return Qe(e)}canReplaceWith(e){return Qe(e)}canMergeWith(e){return Qe(e)||On(e)}extractWithChild(e,t){if(!I(t))return!1;const l=t.anchor.getNode(),s=t.focus.getNode();return this.isParentOf(l)&&this.isParentOf(s)&&this.getTextContent().length===t.getTextContent().length}isParentRequired(){return!0}createParentElementNode(){return an("bullet")}canMergeWhenEmpty(){return!0}};function GA(r){if(r.classList.contains("task-list-item")){for(const t of r.children)if(t.tagName==="INPUT")return XA(t)}const e=r.getAttribute("aria-checked");return{node:Sn(e==="true"||e!=="false"&&void 0)}}function XA(r){return r.getAttribute("type")!=="checkbox"?{node:null}:{node:Sn(r.hasAttribute("checked"))}}function Sn(r){return At(new Ti(void 0,r))}function Qe(r){return r instanceof Ti}let wi=class vT extends _n{static getType(){return"list"}static clone(e){const t=e.__listType||Qv[e.__tag];return new vT(t,e.__start,e.__key)}constructor(e="number",t=1,l){super(l);const s=Qv[e]||e;this.__listType=s,this.__tag=s==="number"?"ol":"ul",this.__start=t}getTag(){return this.__tag}setListType(e){const t=this.getWritable();return t.__listType=e,t.__tag=e==="number"?"ol":"ul",t}getListType(){return this.__listType}getStart(){return this.__start}setStart(e){const t=this.getWritable();return t.__start=e,t}createDOM(e,t){const l=this.__tag,s=document.createElement(l);return this.__start!==1&&s.setAttribute("start",String(this.__start)),s.__lexicalListType=this.__listType,Xv(s,e.theme,this),s}updateDOM(e,t,l){return e.__tag!==this.__tag||(Xv(t,l.theme,this),!1)}static transform(){return e=>{ke(e)||Tr(163),function(t){const l=t.getNextSibling();ke(l)&&t.getListType()===l.getListType()&&ch(t,l)}(e),function(t){const l=t.getListType()!=="check";let s=t.getStart();for(const o of t.getChildren())Qe(o)&&(o.getValue()!==s&&o.setValue(s),l&&o.getLatest().__checked!=null&&o.setChecked(void 0),ke(o.getFirstChild())||s++)}(e)}}static importDOM(){return{ol:()=>({conversion:Zv,priority:0}),ul:()=>({conversion:Zv,priority:0})}}static importJSON(e){return an().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setListType(e.listType).setStart(e.start)}exportDOM(e){const t=this.createDOM(e._config,e);return at(t)&&(this.__start!==1&&t.setAttribute("start",String(this.__start)),this.__listType==="check"&&t.setAttribute("__lexicalListType","check")),{element:t}}exportJSON(){return{...super.exportJSON(),listType:this.getListType(),start:this.getStart(),tag:this.getTag()}}canBeEmpty(){return!1}canIndent(){return!1}splice(e,t,l){let s=l;for(let o=0;o<l.length;o++){const u=l[o];Qe(u)||(s===l&&(s=[...l]),s[o]=Sn().append(!Q(u)||ke(u)||u.isInline()?u:Be(u.getTextContent())))}return super.splice(e,t,s)}extractWithChild(e){return Qe(e)}};function Xv(r,e,t){const l=[],s=[],o=e.list;if(o!==void 0){const u=o[`${t.__tag}Depth`]||[],f=oh(t)-1,d=f%u.length,g=u[d],p=o[t.__tag];let y;const b=o.nested,v=o.checklist;if(b!==void 0&&b.list&&(y=b.list),p!==void 0&&l.push(p),v!==void 0&&t.__listType==="check"&&l.push(v),g!==void 0){l.push(...Tc(g));for(let _=0;_<u.length;_++)_!==d&&s.push(t.__tag+_)}if(y!==void 0){const _=Tc(y);f>1?l.push(..._):s.push(..._)}}s.length>0&&xr(r,...s),l.length>0&&Et(r,...l)}function ZA(r){const e=[];for(let t=0;t<r.length;t++){const l=r[t];if(Qe(l)){e.push(l);const s=l.getChildren();s.length>1&&s.forEach(o=>{ke(o)&&e.push(qv(o))})}else e.push(qv(l))}return e}function Zv(r){const e=r.nodeName.toLowerCase();let t=null;return e==="ol"?t=an("number",r.start):e==="ul"&&(t=function(l){if(l.getAttribute("__lexicallisttype")==="check"||l.classList.contains("contains-task-list"))return!0;for(const s of l.childNodes)if(at(s)&&s.hasAttribute("aria-checked"))return!0;return!1}(r)?an("check"):an("bullet")),{after:ZA,node:t}}const Qv={ol:"number",ul:"bullet"};function an(r="number",e=1){return At(new wi(r,e))}function ke(r){return r instanceof wi}const fh=Ee("INSERT_UNORDERED_LIST_COMMAND"),dh=Ee("INSERT_ORDERED_LIST_COMMAND"),to=Ee("REMOVE_LIST_COMMAND");function QA(r){return mt(r.registerCommand(dh,()=>(Vv("number"),!0),De),r.registerCommand(fh,()=>(Vv("bullet"),!0),De),r.registerCommand(to,()=>(PA(),!0),De),r.registerCommand(hi,()=>VA(),De),r.registerNodeTransform(Ti,e=>{const t=e.getFirstChild();if(t){if(se(t)){const l=t.getStyle(),s=t.getFormat();e.getTextStyle()!==l&&e.setTextStyle(l),e.getTextFormat()!==s&&e.setTextFormat(s)}}else{const l=V();I(l)&&(l.style!==e.getTextStyle()||l.format!==e.getTextFormat())&&l.isCollapsed()&&e.is(l.anchor.getNode())&&e.setTextStyle(l.style).setTextFormat(l.format)}}),r.registerNodeTransform(sr,e=>{const t=e.getParent();if(Qe(t)&&e.is(t.getFirstChild())){const l=e.getStyle(),s=e.getFormat();l===t.getTextStyle()&&s===t.getTextFormat()||t.setTextStyle(l).setTextFormat(s)}}))}function WA(r){const e=t=>{const l=t.getParent();if(ke(t.getFirstChild())||!ke(l))return;const s=ze(t,o=>Qe(o)&&ke(o.getParent())&&Qe(o.getPreviousSibling()));if(s===null&&t.getIndent()>0)t.setIndent(0);else if(Qe(s)){const o=s.getPreviousSibling();if(Qe(o)){const u=function(d){let g=d,p=g.getFirstChild();for(;ke(p);){const y=p.getLastChild();if(!Qe(y))break;g=y,p=g.getFirstChild()}return g}(o),f=u.getParent();if(ke(f)){const d=oh(f);d+1<oh(l)&&t.setIndent(d)}}}};return r.registerNodeTransform(wi,t=>{const l=[t];for(;l.length>0;){const s=l.shift();if(ke(s)){for(const o of s.getChildren())if(Qe(o)){e(o);const u=o.getFirstChild();ke(u)&&l.push(u)}}}})}function Wv(r,e){return r.getEditorState().read(()=>{const t=Ge(e);return t!==null&&t.isSelected()})}function gh(r){const[e]=Fe(),[t,l]=L.useState(()=>Wv(e,r));return L.useEffect(()=>{let s=!0;const o=e.registerUpdateListener(()=>{s&&l(Wv(e,r))});return()=>{s=!1,o()}},[e,r]),[t,L.useCallback(s=>{e.update(()=>{let o=V();rt(o)||(o=tg(),Ye(o)),rt(o)&&(s?o.add(r):o.delete(r))})},[e,r]),L.useCallback(()=>{e.update(()=>{const s=V();rt(s)&&s.clear()})},[e])]}const Jv=Ee("INSERT_HORIZONTAL_RULE_COMMAND");function JA({nodeKey:r}){const[e]=Fe(),[t,l,s]=gh(r);return L.useEffect(()=>mt(e.registerCommand(di,o=>{const u=e.getElementByKey(r);return o.target===u&&(o.shiftKey||s(),l(!t),!0)},De)),[s,e,t,r,l]),L.useEffect(()=>{const o=e.getElementByKey(r),u=e._config.theme.hrSelected??"selected";o!==null&&(t?Et(o,u):xr(o,u))},[e,t,r]),null}let no=class ST extends Gu{static getType(){return"horizontalrule"}static clone(e){return new ST(e.__key)}static importJSON(e){return ro().updateFromJSON(e)}static importDOM(){return{hr:()=>({conversion:eO,priority:0})}}exportDOM(){return{element:document.createElement("hr")}}createDOM(e){const t=document.createElement("hr");return Et(t,e.theme.hr),t}getTextContent(){return`
`}isInline(){return!1}updateDOM(){return!1}decorate(){return $.jsx(JA,{nodeKey:this.__key})}};function eO(){return{node:ro()}}function ro(){return At(new no)}function e0(r){return r instanceof no}var hh={exports:{}},t0;function tO(){return t0||(t0=1,function(r){var e=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{};/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */var t=function(l){var s=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,o=0,u={},f={manual:l.Prism&&l.Prism.manual,disableWorkerMessageHandler:l.Prism&&l.Prism.disableWorkerMessageHandler,util:{encode:function C(T){return T instanceof d?new d(T.type,C(T.content),T.alias):Array.isArray(T)?T.map(C):T.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(C){return Object.prototype.toString.call(C).slice(8,-1)},objId:function(C){return C.__id||Object.defineProperty(C,"__id",{value:++o}),C.__id},clone:function C(T,O){O=O||{};var N,A;switch(f.util.type(T)){case"Object":if(A=f.util.objId(T),O[A])return O[A];N={},O[A]=N;for(var D in T)T.hasOwnProperty(D)&&(N[D]=C(T[D],O));return N;case"Array":return A=f.util.objId(T),O[A]?O[A]:(N=[],O[A]=N,T.forEach(function(M,k){N[k]=C(M,O)}),N);default:return T}},getLanguage:function(C){for(;C;){var T=s.exec(C.className);if(T)return T[1].toLowerCase();C=C.parentElement}return"none"},setLanguage:function(C,T){C.className=C.className.replace(RegExp(s,"gi"),""),C.classList.add("language-"+T)},currentScript:function(){if(typeof document>"u")return null;if(document.currentScript&&document.currentScript.tagName==="SCRIPT")return document.currentScript;try{throw new Error}catch(N){var C=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(N.stack)||[])[1];if(C){var T=document.getElementsByTagName("script");for(var O in T)if(T[O].src==C)return T[O]}return null}},isActive:function(C,T,O){for(var N="no-"+T;C;){var A=C.classList;if(A.contains(T))return!0;if(A.contains(N))return!1;C=C.parentElement}return!!O}},languages:{plain:u,plaintext:u,text:u,txt:u,extend:function(C,T){var O=f.util.clone(f.languages[C]);for(var N in T)O[N]=T[N];return O},insertBefore:function(C,T,O,N){N=N||f.languages;var A=N[C],D={};for(var M in A)if(A.hasOwnProperty(M)){if(M==T)for(var k in O)O.hasOwnProperty(k)&&(D[k]=O[k]);O.hasOwnProperty(M)||(D[M]=A[M])}var U=N[C];return N[C]=D,f.languages.DFS(f.languages,function(P,J){J===U&&P!=C&&(this[P]=D)}),D},DFS:function C(T,O,N,A){A=A||{};var D=f.util.objId;for(var M in T)if(T.hasOwnProperty(M)){O.call(T,M,T[M],N||M);var k=T[M],U=f.util.type(k);U==="Object"&&!A[D(k)]?(A[D(k)]=!0,C(k,O,null,A)):U==="Array"&&!A[D(k)]&&(A[D(k)]=!0,C(k,O,M,A))}}},plugins:{},highlightAll:function(C,T){f.highlightAllUnder(document,C,T)},highlightAllUnder:function(C,T,O){var N={callback:O,container:C,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};f.hooks.run("before-highlightall",N),N.elements=Array.prototype.slice.apply(N.container.querySelectorAll(N.selector)),f.hooks.run("before-all-elements-highlight",N);for(var A=0,D;D=N.elements[A++];)f.highlightElement(D,T===!0,N.callback)},highlightElement:function(C,T,O){var N=f.util.getLanguage(C),A=f.languages[N];f.util.setLanguage(C,N);var D=C.parentElement;D&&D.nodeName.toLowerCase()==="pre"&&f.util.setLanguage(D,N);var M=C.textContent,k={element:C,language:N,grammar:A,code:M};function U(J){k.highlightedCode=J,f.hooks.run("before-insert",k),k.element.innerHTML=k.highlightedCode,f.hooks.run("after-highlight",k),f.hooks.run("complete",k),O&&O.call(k.element)}if(f.hooks.run("before-sanity-check",k),D=k.element.parentElement,D&&D.nodeName.toLowerCase()==="pre"&&!D.hasAttribute("tabindex")&&D.setAttribute("tabindex","0"),!k.code){f.hooks.run("complete",k),O&&O.call(k.element);return}if(f.hooks.run("before-highlight",k),!k.grammar){U(f.util.encode(k.code));return}if(T&&l.Worker){var P=new Worker(f.filename);P.onmessage=function(J){U(J.data)},P.postMessage(JSON.stringify({language:k.language,code:k.code,immediateClose:!0}))}else U(f.highlight(k.code,k.grammar,k.language))},highlight:function(C,T,O){var N={code:C,grammar:T,language:O};if(f.hooks.run("before-tokenize",N),!N.grammar)throw new Error('The language "'+N.language+'" has no grammar.');return N.tokens=f.tokenize(N.code,N.grammar),f.hooks.run("after-tokenize",N),d.stringify(f.util.encode(N.tokens),N.language)},tokenize:function(C,T){var O=T.rest;if(O){for(var N in O)T[N]=O[N];delete T.rest}var A=new y;return b(A,A.head,C),p(C,A,T,A.head,0),_(A)},hooks:{all:{},add:function(C,T){var O=f.hooks.all;O[C]=O[C]||[],O[C].push(T)},run:function(C,T){var O=f.hooks.all[C];if(!(!O||!O.length))for(var N=0,A;A=O[N++];)A(T)}},Token:d};l.Prism=f;function d(C,T,O,N){this.type=C,this.content=T,this.alias=O,this.length=(N||"").length|0}d.stringify=function C(T,O){if(typeof T=="string")return T;if(Array.isArray(T)){var N="";return T.forEach(function(U){N+=C(U,O)}),N}var A={type:T.type,content:C(T.content,O),tag:"span",classes:["token",T.type],attributes:{},language:O},D=T.alias;D&&(Array.isArray(D)?Array.prototype.push.apply(A.classes,D):A.classes.push(D)),f.hooks.run("wrap",A);var M="";for(var k in A.attributes)M+=" "+k+'="'+(A.attributes[k]||"").replace(/"/g,"&quot;")+'"';return"<"+A.tag+' class="'+A.classes.join(" ")+'"'+M+">"+A.content+"</"+A.tag+">"};function g(C,T,O,N){C.lastIndex=T;var A=C.exec(O);if(A&&N&&A[1]){var D=A[1].length;A.index+=D,A[0]=A[0].slice(D)}return A}function p(C,T,O,N,A,D){for(var M in O)if(!(!O.hasOwnProperty(M)||!O[M])){var k=O[M];k=Array.isArray(k)?k:[k];for(var U=0;U<k.length;++U){if(D&&D.cause==M+","+U)return;var P=k[U],J=P.inside,j=!!P.lookbehind,Y=!!P.greedy,le=P.alias;if(Y&&!P.pattern.global){var B=P.pattern.toString().match(/[imsuy]*$/)[0];P.pattern=RegExp(P.pattern.source,B+"g")}for(var X=P.pattern||P,H=N.next,re=A;H!==T.tail&&!(D&&re>=D.reach);re+=H.value.length,H=H.next){var z=H.value;if(T.length>C.length)return;if(!(z instanceof d)){var G=1,ie;if(Y){if(ie=g(X,re,C,j),!ie||ie.index>=C.length)break;var me=ie.index,ue=ie.index+ie[0].length,he=re;for(he+=H.value.length;me>=he;)H=H.next,he+=H.value.length;if(he-=H.value.length,re=he,H.value instanceof d)continue;for(var Ce=H;Ce!==T.tail&&(he<ue||typeof Ce.value=="string");Ce=Ce.next)G++,he+=Ce.value.length;G--,z=C.slice(re,he),ie.index-=re}else if(ie=g(X,0,z,j),!ie)continue;var me=ie.index,pe=ie[0],ye=z.slice(0,me),$e=z.slice(me+pe.length),Ve=re+z.length;D&&Ve>D.reach&&(D.reach=Ve);var ne=H.prev;ye&&(ne=b(T,ne,ye),re+=ye.length),v(T,ne,G);var fe=new d(M,J?f.tokenize(pe,J):pe,le,pe);if(H=b(T,ne,fe),$e&&b(T,H,$e),G>1){var de={cause:M+","+U,reach:Ve};p(C,T,O,H.prev,re,de),D&&de.reach>D.reach&&(D.reach=de.reach)}}}}}}function y(){var C={value:null,prev:null,next:null},T={value:null,prev:C,next:null};C.next=T,this.head=C,this.tail=T,this.length=0}function b(C,T,O){var N=T.next,A={value:O,prev:T,next:N};return T.next=A,N.prev=A,C.length++,A}function v(C,T,O){for(var N=T.next,A=0;A<O&&N!==C.tail;A++)N=N.next;T.next=N,N.prev=T,C.length-=A}function _(C){for(var T=[],O=C.head.next;O!==C.tail;)T.push(O.value),O=O.next;return T}if(!l.document)return l.addEventListener&&(f.disableWorkerMessageHandler||l.addEventListener("message",function(C){var T=JSON.parse(C.data),O=T.language,N=T.code,A=T.immediateClose;l.postMessage(f.highlight(N,f.languages[O],O)),A&&l.close()},!1)),f;var S=f.util.currentScript();S&&(f.filename=S.src,S.hasAttribute("data-manual")&&(f.manual=!0));function x(){f.manual||f.highlightAll()}if(!f.manual){var E=document.readyState;E==="loading"||E==="interactive"&&S&&S.defer?document.addEventListener("DOMContentLoaded",x):window.requestAnimationFrame?window.requestAnimationFrame(x):window.setTimeout(x,16)}return f}(e);r.exports&&(r.exports=t),typeof gn<"u"&&(gn.Prism=t),t.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},t.languages.markup.tag.inside["attr-value"].inside.entity=t.languages.markup.entity,t.languages.markup.doctype.inside["internal-subset"].inside=t.languages.markup,t.hooks.add("wrap",function(l){l.type==="entity"&&(l.attributes.title=l.content.replace(/&amp;/,"&"))}),Object.defineProperty(t.languages.markup.tag,"addInlined",{value:function(s,o){var u={};u["language-"+o]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:t.languages[o]},u.cdata=/^<!\[CDATA\[|\]\]>$/i;var f={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:u}};f["language-"+o]={pattern:/[\s\S]+/,inside:t.languages[o]};var d={};d[s]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return s}),"i"),lookbehind:!0,greedy:!0,inside:f},t.languages.insertBefore("markup","cdata",d)}}),Object.defineProperty(t.languages.markup.tag,"addAttribute",{value:function(l,s){t.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+l+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[s,"language-"+s],inside:t.languages[s]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),t.languages.html=t.languages.markup,t.languages.mathml=t.languages.markup,t.languages.svg=t.languages.markup,t.languages.xml=t.languages.extend("markup",{}),t.languages.ssml=t.languages.xml,t.languages.atom=t.languages.xml,t.languages.rss=t.languages.xml,function(l){var s=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;l.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+s.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+s.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+s.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+s.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:s,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},l.languages.css.atrule.inside.rest=l.languages.css;var o=l.languages.markup;o&&(o.tag.addInlined("style","css"),o.tag.addAttribute("style","css"))}(t),t.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},t.languages.javascript=t.languages.extend("clike",{"class-name":[t.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),t.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,t.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:t.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:t.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:t.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:t.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:t.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),t.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:t.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),t.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),t.languages.markup&&(t.languages.markup.tag.addInlined("script","javascript"),t.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),t.languages.js=t.languages.javascript,function(){if(typeof t>"u"||typeof document>"u")return;Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var l="Loading…",s=function(S,x){return"✖ Error "+S+" while fetching file: "+x},o="✖ Error: File does not exist or is empty",u={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},f="data-src-status",d="loading",g="loaded",p="failed",y="pre[data-src]:not(["+f+'="'+g+'"]):not(['+f+'="'+d+'"])';function b(S,x,E){var C=new XMLHttpRequest;C.open("GET",S,!0),C.onreadystatechange=function(){C.readyState==4&&(C.status<400&&C.responseText?x(C.responseText):C.status>=400?E(s(C.status,C.statusText)):E(o))},C.send(null)}function v(S){var x=/^\s*(\d+)\s*(?:(,)\s*(?:(\d+)\s*)?)?$/.exec(S||"");if(x){var E=Number(x[1]),C=x[2],T=x[3];return C?T?[E,Number(T)]:[E,void 0]:[E,E]}}t.hooks.add("before-highlightall",function(S){S.selector+=", "+y}),t.hooks.add("before-sanity-check",function(S){var x=S.element;if(x.matches(y)){S.code="",x.setAttribute(f,d);var E=x.appendChild(document.createElement("CODE"));E.textContent=l;var C=x.getAttribute("data-src"),T=S.language;if(T==="none"){var O=(/\.(\w+)$/.exec(C)||[,"none"])[1];T=u[O]||O}t.util.setLanguage(E,T),t.util.setLanguage(x,T);var N=t.plugins.autoloader;N&&N.loadLanguages(T),b(C,function(A){x.setAttribute(f,g);var D=v(x.getAttribute("data-range"));if(D){var M=A.split(/\r\n?|\n/g),k=D[0],U=D[1]==null?M.length:D[1];k<0&&(k+=M.length),k=Math.max(0,Math.min(k-1,M.length)),U<0&&(U+=M.length),U=Math.max(0,Math.min(U,M.length)),A=M.slice(k,U).join(`
`),x.hasAttribute("data-start")||x.setAttribute("data-start",String(k+1))}E.textContent=A,t.highlightElement(E)},function(A){x.setAttribute(f,p),E.textContent=A})}}),t.plugins.fileHighlight={highlight:function(x){for(var E=(x||document).querySelectorAll(y),C=0,T;T=E[C++];)t.highlightElement(T)}};var _=!1;t.fileHighlight=function(){_||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),_=!0),t.plugins.fileHighlight.highlight.apply(this,arguments)}}()}(hh)),hh.exports}var nO=tO();const rO=Lr(nO);Prism.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},Prism.languages.javascript=Prism.languages.extend("clike",{"class-name":[Prism.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),Prism.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:Prism.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:Prism.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),Prism.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:Prism.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),Prism.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),Prism.languages.markup&&(Prism.languages.markup.tag.addInlined("script","javascript"),Prism.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),Prism.languages.js=Prism.languages.javascript,Prism.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},Prism.languages.markup.tag.inside["attr-value"].inside.entity=Prism.languages.markup.entity,Prism.languages.markup.doctype.inside["internal-subset"].inside=Prism.languages.markup,Prism.hooks.add("wrap",function(r){r.type==="entity"&&(r.attributes.title=r.content.replace(/&amp;/,"&"))}),Object.defineProperty(Prism.languages.markup.tag,"addInlined",{value:function(e,t){var l={};l["language-"+t]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:Prism.languages[t]},l.cdata=/^<!\[CDATA\[|\]\]>$/i;var s={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:l}};s["language-"+t]={pattern:/[\s\S]+/,inside:Prism.languages[t]};var o={};o[e]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return e}),"i"),lookbehind:!0,greedy:!0,inside:s},Prism.languages.insertBefore("markup","cdata",o)}}),Object.defineProperty(Prism.languages.markup.tag,"addAttribute",{value:function(r,e){Prism.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+r+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[e,"language-"+e],inside:Prism.languages[e]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),Prism.languages.html=Prism.languages.markup,Prism.languages.mathml=Prism.languages.markup,Prism.languages.svg=Prism.languages.markup,Prism.languages.xml=Prism.languages.extend("markup",{}),Prism.languages.ssml=Prism.languages.xml,Prism.languages.atom=Prism.languages.xml,Prism.languages.rss=Prism.languages.xml,function(r){var e=/(?:\\.|[^\\\n\r]|(?:\n|\r\n?)(?![\r\n]))/.source;function t(p){return p=p.replace(/<inner>/g,function(){return e}),RegExp(/((?:^|[^\\])(?:\\{2})*)/.source+"(?:"+p+")")}var l=/(?:\\.|``(?:[^`\r\n]|`(?!`))+``|`[^`\r\n]+`|[^\\|\r\n`])+/.source,s=/\|?__(?:\|__)+\|?(?:(?:\n|\r\n?)|(?![\s\S]))/.source.replace(/__/g,function(){return l}),o=/\|?[ \t]*:?-{3,}:?[ \t]*(?:\|[ \t]*:?-{3,}:?[ \t]*)+\|?(?:\n|\r\n?)/.source;r.languages.markdown=r.languages.extend("markup",{}),r.languages.insertBefore("markdown","prolog",{"front-matter-block":{pattern:/(^(?:\s*[\r\n])?)---(?!.)[\s\S]*?[\r\n]---(?!.)/,lookbehind:!0,greedy:!0,inside:{punctuation:/^---|---$/,"front-matter":{pattern:/\S+(?:\s+\S+)*/,alias:["yaml","language-yaml"],inside:r.languages.yaml}}},blockquote:{pattern:/^>(?:[\t ]*>)*/m,alias:"punctuation"},table:{pattern:RegExp("^"+s+o+"(?:"+s+")*","m"),inside:{"table-data-rows":{pattern:RegExp("^("+s+o+")(?:"+s+")*$"),lookbehind:!0,inside:{"table-data":{pattern:RegExp(l),inside:r.languages.markdown},punctuation:/\|/}},"table-line":{pattern:RegExp("^("+s+")"+o+"$"),lookbehind:!0,inside:{punctuation:/\||:?-{3,}:?/}},"table-header-row":{pattern:RegExp("^"+s+"$"),inside:{"table-header":{pattern:RegExp(l),alias:"important",inside:r.languages.markdown},punctuation:/\|/}}}},code:[{pattern:/((?:^|\n)[ \t]*\n|(?:^|\r\n?)[ \t]*\r\n?)(?: {4}|\t).+(?:(?:\n|\r\n?)(?: {4}|\t).+)*/,lookbehind:!0,alias:"keyword"},{pattern:/^```[\s\S]*?^```$/m,greedy:!0,inside:{"code-block":{pattern:/^(```.*(?:\n|\r\n?))[\s\S]+?(?=(?:\n|\r\n?)^```$)/m,lookbehind:!0},"code-language":{pattern:/^(```).+/,lookbehind:!0},punctuation:/```/}}],title:[{pattern:/\S.*(?:\n|\r\n?)(?:==+|--+)(?=[ \t]*$)/m,alias:"important",inside:{punctuation:/==+$|--+$/}},{pattern:/(^\s*)#.+/m,lookbehind:!0,alias:"important",inside:{punctuation:/^#+|#+$/}}],hr:{pattern:/(^\s*)([*-])(?:[\t ]*\2){2,}(?=\s*$)/m,lookbehind:!0,alias:"punctuation"},list:{pattern:/(^\s*)(?:[*+-]|\d+\.)(?=[\t ].)/m,lookbehind:!0,alias:"punctuation"},"url-reference":{pattern:/!?\[[^\]]+\]:[\t ]+(?:\S+|<(?:\\.|[^>\\])+>)(?:[\t ]+(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\)))?/,inside:{variable:{pattern:/^(!?\[)[^\]]+/,lookbehind:!0},string:/(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\))$/,punctuation:/^[\[\]!:]|[<>]/},alias:"url"},bold:{pattern:t(/\b__(?:(?!_)<inner>|_(?:(?!_)<inner>)+_)+__\b|\*\*(?:(?!\*)<inner>|\*(?:(?!\*)<inner>)+\*)+\*\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^..)[\s\S]+(?=..$)/,lookbehind:!0,inside:{}},punctuation:/\*\*|__/}},italic:{pattern:t(/\b_(?:(?!_)<inner>|__(?:(?!_)<inner>)+__)+_\b|\*(?:(?!\*)<inner>|\*\*(?:(?!\*)<inner>)+\*\*)+\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^.)[\s\S]+(?=.$)/,lookbehind:!0,inside:{}},punctuation:/[*_]/}},strike:{pattern:t(/(~~?)(?:(?!~)<inner>)+\2/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^~~?)[\s\S]+(?=\1$)/,lookbehind:!0,inside:{}},punctuation:/~~?/}},"code-snippet":{pattern:/(^|[^\\`])(?:``[^`\r\n]+(?:`[^`\r\n]+)*``(?!`)|`[^`\r\n]+`(?!`))/,lookbehind:!0,greedy:!0,alias:["code","keyword"]},url:{pattern:t(/!?\[(?:(?!\])<inner>)+\](?:\([^\s)]+(?:[\t ]+"(?:\\.|[^"\\])*")?\)|[ \t]?\[(?:(?!\])<inner>)+\])/.source),lookbehind:!0,greedy:!0,inside:{operator:/^!/,content:{pattern:/(^\[)[^\]]+(?=\])/,lookbehind:!0,inside:{}},variable:{pattern:/(^\][ \t]?\[)[^\]]+(?=\]$)/,lookbehind:!0},url:{pattern:/(^\]\()[^\s)]+/,lookbehind:!0},string:{pattern:/(^[ \t]+)"(?:\\.|[^"\\])*"(?=\)$)/,lookbehind:!0}}}}),["url","bold","italic","strike"].forEach(function(p){["url","bold","italic","strike","code-snippet"].forEach(function(y){p!==y&&(r.languages.markdown[p].inside.content.inside[y]=r.languages.markdown[y])})}),r.hooks.add("after-tokenize",function(p){if(p.language!=="markdown"&&p.language!=="md")return;function y(b){if(!(!b||typeof b=="string"))for(var v=0,_=b.length;v<_;v++){var S=b[v];if(S.type!=="code"){y(S.content);continue}var x=S.content[1],E=S.content[3];if(x&&E&&x.type==="code-language"&&E.type==="code-block"&&typeof x.content=="string"){var C=x.content.replace(/\b#/g,"sharp").replace(/\b\+\+/g,"pp");C=(/[a-z][\w-]*/i.exec(C)||[""])[0].toLowerCase();var T="language-"+C;E.alias?typeof E.alias=="string"?E.alias=[E.alias,T]:E.alias.push(T):E.alias=[T]}}}y(p.tokens)}),r.hooks.add("wrap",function(p){if(p.type==="code-block"){for(var y="",b=0,v=p.classes.length;b<v;b++){var _=p.classes[b],S=/language-(.+)/.exec(_);if(S){y=S[1];break}}var x=r.languages[y];if(x)p.content=r.highlight(g(p.content),x,y);else if(y&&y!=="none"&&r.plugins.autoloader){var E="md-"+new Date().valueOf()+"-"+Math.floor(Math.random()*1e16);p.attributes.id=E,r.plugins.autoloader.loadLanguages(y,function(){var C=document.getElementById(E);C&&(C.innerHTML=r.highlight(C.textContent,r.languages[y],y))})}}});var u=RegExp(r.languages.markup.tag.pattern.source,"gi"),f={amp:"&",lt:"<",gt:">",quot:'"'},d=String.fromCodePoint||String.fromCharCode;function g(p){var y=p.replace(u,"");return y=y.replace(/&(\w{1,8}|#x?[\da-f]{1,8});/gi,function(b,v){if(v=v.toLowerCase(),v[0]==="#"){var _;return v[1]==="x"?_=parseInt(v.slice(2),16):_=Number(v.slice(1)),d(_)}else{var S=f[v];return S||b}}),y}r.languages.md=r.languages.markdown}(Prism),Prism.languages.c=Prism.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|__attribute__|asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|inline|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|typeof|union|unsigned|void|volatile|while)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/}),Prism.languages.insertBefore("c","string",{char:{pattern:/'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n]){0,32}'/,greedy:!0}}),Prism.languages.insertBefore("c","string",{macro:{pattern:/(^[\t ]*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},Prism.languages.c.string],char:Prism.languages.c.char,comment:Prism.languages.c.comment,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:Prism.languages.c}}}}),Prism.languages.insertBefore("c","function",{constant:/\b(?:EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|__DATE__|__FILE__|__LINE__|__TIMESTAMP__|__TIME__|__func__|stderr|stdin|stdout)\b/}),delete Prism.languages.c.boolean,function(r){var e=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;r.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+e.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+e.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+e.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+e.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:e,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},r.languages.css.atrule.inside.rest=r.languages.css;var t=r.languages.markup;t&&(t.tag.addInlined("style","css"),t.tag.addAttribute("style","css"))}(Prism),Prism.languages.objectivec=Prism.languages.extend("c",{string:{pattern:/@?"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},keyword:/\b(?:asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|in|inline|int|long|register|return|self|short|signed|sizeof|static|struct|super|switch|typedef|typeof|union|unsigned|void|volatile|while)\b|(?:@interface|@end|@implementation|@protocol|@class|@public|@protected|@private|@property|@try|@catch|@finally|@throw|@synthesize|@dynamic|@selector)\b/,operator:/-[->]?|\+\+?|!=?|<<?=?|>>?=?|==?|&&?|\|\|?|[~^%?*\/@]/}),delete Prism.languages.objectivec["class-name"],Prism.languages.objc=Prism.languages.objectivec,Prism.languages.sql={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:--|\/\/|#).*)/,lookbehind:!0},variable:[{pattern:/@(["'`])(?:\\[\s\S]|(?!\1)[^\\])+\1/,greedy:!0},/@[\w.$]+/],string:{pattern:/(^|[^@\\])("|')(?:\\[\s\S]|(?!\2)[^\\]|\2\2)*\2/,greedy:!0,lookbehind:!0},identifier:{pattern:/(^|[^@\\])`(?:\\[\s\S]|[^`\\]|``)*`/,greedy:!0,lookbehind:!0,inside:{punctuation:/^`|`$/}},function:/\b(?:AVG|COUNT|FIRST|FORMAT|LAST|LCASE|LEN|MAX|MID|MIN|MOD|NOW|ROUND|SUM|UCASE)(?=\s*\()/i,keyword:/\b(?:ACTION|ADD|AFTER|ALGORITHM|ALL|ALTER|ANALYZE|ANY|APPLY|AS|ASC|AUTHORIZATION|AUTO_INCREMENT|BACKUP|BDB|BEGIN|BERKELEYDB|BIGINT|BINARY|BIT|BLOB|BOOL|BOOLEAN|BREAK|BROWSE|BTREE|BULK|BY|CALL|CASCADED?|CASE|CHAIN|CHAR(?:ACTER|SET)?|CHECK(?:POINT)?|CLOSE|CLUSTERED|COALESCE|COLLATE|COLUMNS?|COMMENT|COMMIT(?:TED)?|COMPUTE|CONNECT|CONSISTENT|CONSTRAINT|CONTAINS(?:TABLE)?|CONTINUE|CONVERT|CREATE|CROSS|CURRENT(?:_DATE|_TIME|_TIMESTAMP|_USER)?|CURSOR|CYCLE|DATA(?:BASES?)?|DATE(?:TIME)?|DAY|DBCC|DEALLOCATE|DEC|DECIMAL|DECLARE|DEFAULT|DEFINER|DELAYED|DELETE|DELIMITERS?|DENY|DESC|DESCRIBE|DETERMINISTIC|DISABLE|DISCARD|DISK|DISTINCT|DISTINCTROW|DISTRIBUTED|DO|DOUBLE|DROP|DUMMY|DUMP(?:FILE)?|DUPLICATE|ELSE(?:IF)?|ENABLE|ENCLOSED|END|ENGINE|ENUM|ERRLVL|ERRORS|ESCAPED?|EXCEPT|EXEC(?:UTE)?|EXISTS|EXIT|EXPLAIN|EXTENDED|FETCH|FIELDS|FILE|FILLFACTOR|FIRST|FIXED|FLOAT|FOLLOWING|FOR(?: EACH ROW)?|FORCE|FOREIGN|FREETEXT(?:TABLE)?|FROM|FULL|FUNCTION|GEOMETRY(?:COLLECTION)?|GLOBAL|GOTO|GRANT|GROUP|HANDLER|HASH|HAVING|HOLDLOCK|HOUR|IDENTITY(?:COL|_INSERT)?|IF|IGNORE|IMPORT|INDEX|INFILE|INNER|INNODB|INOUT|INSERT|INT|INTEGER|INTERSECT|INTERVAL|INTO|INVOKER|ISOLATION|ITERATE|JOIN|KEYS?|KILL|LANGUAGE|LAST|LEAVE|LEFT|LEVEL|LIMIT|LINENO|LINES|LINESTRING|LOAD|LOCAL|LOCK|LONG(?:BLOB|TEXT)|LOOP|MATCH(?:ED)?|MEDIUM(?:BLOB|INT|TEXT)|MERGE|MIDDLEINT|MINUTE|MODE|MODIFIES|MODIFY|MONTH|MULTI(?:LINESTRING|POINT|POLYGON)|NATIONAL|NATURAL|NCHAR|NEXT|NO|NONCLUSTERED|NULLIF|NUMERIC|OFF?|OFFSETS?|ON|OPEN(?:DATASOURCE|QUERY|ROWSET)?|OPTIMIZE|OPTION(?:ALLY)?|ORDER|OUT(?:ER|FILE)?|OVER|PARTIAL|PARTITION|PERCENT|PIVOT|PLAN|POINT|POLYGON|PRECEDING|PRECISION|PREPARE|PREV|PRIMARY|PRINT|PRIVILEGES|PROC(?:EDURE)?|PUBLIC|PURGE|QUICK|RAISERROR|READS?|REAL|RECONFIGURE|REFERENCES|RELEASE|RENAME|REPEAT(?:ABLE)?|REPLACE|REPLICATION|REQUIRE|RESIGNAL|RESTORE|RESTRICT|RETURN(?:ING|S)?|REVOKE|RIGHT|ROLLBACK|ROUTINE|ROW(?:COUNT|GUIDCOL|S)?|RTREE|RULE|SAVE(?:POINT)?|SCHEMA|SECOND|SELECT|SERIAL(?:IZABLE)?|SESSION(?:_USER)?|SET(?:USER)?|SHARE|SHOW|SHUTDOWN|SIMPLE|SMALLINT|SNAPSHOT|SOME|SONAME|SQL|START(?:ING)?|STATISTICS|STATUS|STRIPED|SYSTEM_USER|TABLES?|TABLESPACE|TEMP(?:ORARY|TABLE)?|TERMINATED|TEXT(?:SIZE)?|THEN|TIME(?:STAMP)?|TINY(?:BLOB|INT|TEXT)|TOP?|TRAN(?:SACTIONS?)?|TRIGGER|TRUNCATE|TSEQUAL|TYPES?|UNBOUNDED|UNCOMMITTED|UNDEFINED|UNION|UNIQUE|UNLOCK|UNPIVOT|UNSIGNED|UPDATE(?:TEXT)?|USAGE|USE|USER|USING|VALUES?|VAR(?:BINARY|CHAR|CHARACTER|YING)|VIEW|WAITFOR|WARNINGS|WHEN|WHERE|WHILE|WITH(?: ROLLUP|IN)?|WORK|WRITE(?:TEXT)?|YEAR)\b/i,boolean:/\b(?:FALSE|NULL|TRUE)\b/i,number:/\b0x[\da-f]+\b|\b\d+(?:\.\d*)?|\B\.\d+\b/i,operator:/[-+*\/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?|\b(?:AND|BETWEEN|DIV|ILIKE|IN|IS|LIKE|NOT|OR|REGEXP|RLIKE|SOUNDS LIKE|XOR)\b/i,punctuation:/[;[\]()`,.]/},function(r){var e=r.languages.powershell={comment:[{pattern:/(^|[^`])<#[\s\S]*?#>/,lookbehind:!0},{pattern:/(^|[^`])#.*/,lookbehind:!0}],string:[{pattern:/"(?:`[\s\S]|[^`"])*"/,greedy:!0,inside:null},{pattern:/'(?:[^']|'')*'/,greedy:!0}],namespace:/\[[a-z](?:\[(?:\[[^\]]*\]|[^\[\]])*\]|[^\[\]])*\]/i,boolean:/\$(?:false|true)\b/i,variable:/\$\w+\b/,function:[/\b(?:Add|Approve|Assert|Backup|Block|Checkpoint|Clear|Close|Compare|Complete|Compress|Confirm|Connect|Convert|ConvertFrom|ConvertTo|Copy|Debug|Deny|Disable|Disconnect|Dismount|Edit|Enable|Enter|Exit|Expand|Export|Find|ForEach|Format|Get|Grant|Group|Hide|Import|Initialize|Install|Invoke|Join|Limit|Lock|Measure|Merge|Move|New|Open|Optimize|Out|Ping|Pop|Protect|Publish|Push|Read|Receive|Redo|Register|Remove|Rename|Repair|Request|Reset|Resize|Resolve|Restart|Restore|Resume|Revoke|Save|Search|Select|Send|Set|Show|Skip|Sort|Split|Start|Step|Stop|Submit|Suspend|Switch|Sync|Tee|Test|Trace|Unblock|Undo|Uninstall|Unlock|Unprotect|Unpublish|Unregister|Update|Use|Wait|Watch|Where|Write)-[a-z]+\b/i,/\b(?:ac|cat|chdir|clc|cli|clp|clv|compare|copy|cp|cpi|cpp|cvpa|dbp|del|diff|dir|ebp|echo|epal|epcsv|epsn|erase|fc|fl|ft|fw|gal|gbp|gc|gci|gcs|gdr|gi|gl|gm|gp|gps|group|gsv|gu|gv|gwmi|iex|ii|ipal|ipcsv|ipsn|irm|iwmi|iwr|kill|lp|ls|measure|mi|mount|move|mp|mv|nal|ndr|ni|nv|ogv|popd|ps|pushd|pwd|rbp|rd|rdr|ren|ri|rm|rmdir|rni|rnp|rp|rv|rvpa|rwmi|sal|saps|sasv|sbp|sc|select|set|shcm|si|sl|sleep|sls|sort|sp|spps|spsv|start|sv|swmi|tee|trcm|type|write)\b/i],keyword:/\b(?:Begin|Break|Catch|Class|Continue|Data|Define|Do|DynamicParam|Else|ElseIf|End|Exit|Filter|Finally|For|ForEach|From|Function|If|InlineScript|Parallel|Param|Process|Return|Sequence|Switch|Throw|Trap|Try|Until|Using|Var|While|Workflow)\b/i,operator:{pattern:/(^|\W)(?:!|-(?:b?(?:and|x?or)|as|(?:Not)?(?:Contains|In|Like|Match)|eq|ge|gt|is(?:Not)?|Join|le|lt|ne|not|Replace|sh[lr])\b|-[-=]?|\+[+=]?|[*\/%]=?)/i,lookbehind:!0},punctuation:/[|{}[\];(),.]/};e.string[0].inside={function:{pattern:/(^|[^`])\$\((?:\$\([^\r\n()]*\)|(?!\$\()[^\r\n)])*\)/,lookbehind:!0,inside:e},boolean:e.boolean,variable:e.variable}}(Prism);var n0={},r0;function iO(){return r0||(r0=1,Prism.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0,greedy:!0},"string-interpolation":{pattern:/(?:f|fr|rf)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|br|rb)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|br|rb)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/m,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:_(?=\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:False|None|True)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?(?!\w)/i,operator:/[-+%=]=?|!=|:=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},Prism.languages.python["string-interpolation"].inside.interpolation.inside.rest=Prism.languages.python,Prism.languages.py=Prism.languages.python),n0}iO();var i0={},l0;function lO(){return l0||(l0=1,function(r){for(var e=/\/\*(?:[^*/]|\*(?!\/)|\/(?!\*)|<self>)*\*\//.source,t=0;t<2;t++)e=e.replace(/<self>/g,function(){return e});e=e.replace(/<self>/g,function(){return/[^\s\S]/.source}),r.languages.rust={comment:[{pattern:RegExp(/(^|[^\\])/.source+e),lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/b?"(?:\\[\s\S]|[^\\"])*"|b?r(#*)"(?:[^"]|"(?!\1))*"\1/,greedy:!0},char:{pattern:/b?'(?:\\(?:x[0-7][\da-fA-F]|u\{(?:[\da-fA-F]_*){1,6}\}|.)|[^\\\r\n\t'])'/,greedy:!0},attribute:{pattern:/#!?\[(?:[^\[\]"]|"(?:\\[\s\S]|[^\\"])*")*\]/,greedy:!0,alias:"attr-name",inside:{string:null}},"closure-params":{pattern:/([=(,:]\s*|\bmove\s*)\|[^|]*\||\|[^|]*\|(?=\s*(?:\{|->))/,lookbehind:!0,greedy:!0,inside:{"closure-punctuation":{pattern:/^\||\|$/,alias:"punctuation"},rest:null}},"lifetime-annotation":{pattern:/'\w+/,alias:"symbol"},"fragment-specifier":{pattern:/(\$\w+:)[a-z]+/,lookbehind:!0,alias:"punctuation"},variable:/\$\w+/,"function-definition":{pattern:/(\bfn\s+)\w+/,lookbehind:!0,alias:"function"},"type-definition":{pattern:/(\b(?:enum|struct|trait|type|union)\s+)\w+/,lookbehind:!0,alias:"class-name"},"module-declaration":[{pattern:/(\b(?:crate|mod)\s+)[a-z][a-z_\d]*/,lookbehind:!0,alias:"namespace"},{pattern:/(\b(?:crate|self|super)\s*)::\s*[a-z][a-z_\d]*\b(?:\s*::(?:\s*[a-z][a-z_\d]*\s*::)*)?/,lookbehind:!0,alias:"namespace",inside:{punctuation:/::/}}],keyword:[/\b(?:Self|abstract|as|async|await|become|box|break|const|continue|crate|do|dyn|else|enum|extern|final|fn|for|if|impl|in|let|loop|macro|match|mod|move|mut|override|priv|pub|ref|return|self|static|struct|super|trait|try|type|typeof|union|unsafe|unsized|use|virtual|where|while|yield)\b/,/\b(?:bool|char|f(?:32|64)|[ui](?:8|16|32|64|128|size)|str)\b/],function:/\b[a-z_]\w*(?=\s*(?:::\s*<|\())/,macro:{pattern:/\b\w+!/,alias:"property"},constant:/\b[A-Z_][A-Z_\d]+\b/,"class-name":/\b[A-Z]\w*\b/,namespace:{pattern:/(?:\b[a-z][a-z_\d]*\s*::\s*)*\b[a-z][a-z_\d]*\s*::(?!\s*<)/,inside:{punctuation:/::/}},number:/\b(?:0x[\dA-Fa-f](?:_?[\dA-Fa-f])*|0o[0-7](?:_?[0-7])*|0b[01](?:_?[01])*|(?:(?:\d(?:_?\d)*)?\.)?\d(?:_?\d)*(?:[Ee][+-]?\d+)?)(?:_?(?:f32|f64|[iu](?:8|16|32|64|size)?))?\b/,boolean:/\b(?:false|true)\b/,punctuation:/->|\.\.=|\.{1,3}|::|[{}[\];(),:]/,operator:/[-+*\/%!^]=?|=[=>]?|&[&=]?|\|[|=]?|<<?=?|>>?=?|[@?]/},r.languages.rust["closure-params"].inside.rest=r.languages.rust,r.languages.rust.attribute.inside.string=r.languages.rust.string}(Prism)),i0}lO(),Prism.languages.swift={comment:{pattern:/(^|[^\\:])(?:\/\/.*|\/\*(?:[^/*]|\/(?!\*)|\*(?!\/)|\/\*(?:[^*]|\*(?!\/))*\*\/)*\*\/)/,lookbehind:!0,greedy:!0},"string-literal":[{pattern:RegExp(/(^|[^"#])/.source+"(?:"+/"(?:\\(?:\((?:[^()]|\([^()]*\))*\)|\r\n|[^(])|[^\\\r\n"])*"/.source+"|"+/"""(?:\\(?:\((?:[^()]|\([^()]*\))*\)|[^(])|[^\\"]|"(?!""))*"""/.source+")"+/(?!["#])/.source),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\\($/,alias:"punctuation"},punctuation:/\\(?=[\r\n])/,string:/[\s\S]+/}},{pattern:RegExp(/(^|[^"#])(#+)/.source+"(?:"+/"(?:\\(?:#+\((?:[^()]|\([^()]*\))*\)|\r\n|[^#])|[^\\\r\n])*?"/.source+"|"+/"""(?:\\(?:#+\((?:[^()]|\([^()]*\))*\)|[^#])|[^\\])*?"""/.source+")\\2"),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\#+\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\#+\($/,alias:"punctuation"},string:/[\s\S]+/}}],directive:{pattern:RegExp(/#/.source+"(?:"+(/(?:elseif|if)\b/.source+"(?:[ 	]*"+/(?:![ \t]*)?(?:\b\w+\b(?:[ \t]*\((?:[^()]|\([^()]*\))*\))?|\((?:[^()]|\([^()]*\))*\))(?:[ \t]*(?:&&|\|\|))?/.source+")+")+"|"+/(?:else|endif)\b/.source+")"),alias:"property",inside:{"directive-name":/^#\w+/,boolean:/\b(?:false|true)\b/,number:/\b\d+(?:\.\d+)*\b/,operator:/!|&&|\|\||[<>]=?/,punctuation:/[(),]/}},literal:{pattern:/#(?:colorLiteral|column|dsohandle|file(?:ID|Literal|Path)?|function|imageLiteral|line)\b/,alias:"constant"},"other-directive":{pattern:/#\w+\b/,alias:"property"},attribute:{pattern:/@\w+/,alias:"atrule"},"function-definition":{pattern:/(\bfunc\s+)\w+/,lookbehind:!0,alias:"function"},label:{pattern:/\b(break|continue)\s+\w+|\b[a-zA-Z_]\w*(?=\s*:\s*(?:for|repeat|while)\b)/,lookbehind:!0,alias:"important"},keyword:/\b(?:Any|Protocol|Self|Type|actor|as|assignment|associatedtype|associativity|async|await|break|case|catch|class|continue|convenience|default|defer|deinit|didSet|do|dynamic|else|enum|extension|fallthrough|fileprivate|final|for|func|get|guard|higherThan|if|import|in|indirect|infix|init|inout|internal|is|isolated|lazy|left|let|lowerThan|mutating|none|nonisolated|nonmutating|open|operator|optional|override|postfix|precedencegroup|prefix|private|protocol|public|repeat|required|rethrows|return|right|safe|self|set|some|static|struct|subscript|super|switch|throw|throws|try|typealias|unowned|unsafe|var|weak|where|while|willSet)\b/,boolean:/\b(?:false|true)\b/,nil:{pattern:/\bnil\b/,alias:"constant"},"short-argument":/\$\d+\b/,omit:{pattern:/\b_\b/,alias:"keyword"},number:/\b(?:[\d_]+(?:\.[\de_]+)?|0x[a-f0-9_]+(?:\.[a-f0-9p_]+)?|0b[01_]+|0o[0-7_]+)\b/i,"class-name":/\b[A-Z](?:[A-Z_\d]*[a-z]\w*)?\b/,function:/\b[a-z_]\w*(?=\s*\()/i,constant:/\b(?:[A-Z_]{2,}|k[A-Z][A-Za-z_]+)\b/,operator:/[-+*/%=!<>&|^~?]+|\.[.\-+*/%=!<>&|^~?]+/,punctuation:/[{}[\]();,.:\\]/},Prism.languages.swift["string-literal"].forEach(function(r){r.inside.interpolation.inside=Prism.languages.swift});var s0={},a0;function sO(){return a0||(a0=1,function(r){r.languages.typescript=r.languages.extend("javascript",{"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|type)\s+)(?!keyof\b)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?:\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,lookbehind:!0,greedy:!0,inside:null},builtin:/\b(?:Array|Function|Promise|any|boolean|console|never|number|string|symbol|unknown)\b/}),r.languages.typescript.keyword.push(/\b(?:abstract|declare|is|keyof|readonly|require)\b/,/\b(?:asserts|infer|interface|module|namespace|type)\b(?=\s*(?:[{_$a-zA-Z\xA0-\uFFFF]|$))/,/\btype\b(?=\s*(?:[\{*]|$))/),delete r.languages.typescript.parameter,delete r.languages.typescript["literal-property"];var e=r.languages.extend("typescript",{});delete e["class-name"],r.languages.typescript["class-name"].inside=e,r.languages.insertBefore("typescript","function",{decorator:{pattern:/@[$\w\xA0-\uFFFF]+/,inside:{at:{pattern:/^@/,alias:"operator"},function:/^[\s\S]+/}},"generic-function":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\s*\()/,greedy:!0,inside:{function:/^#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:e}}}}),r.languages.ts=r.languages.typescript}(Prism)),s0}sO();var o0={},u0;function aO(){return u0||(u0=1,function(r){var e=/\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|open|opens|package|permits|private|protected|provides|public|record(?!\s*[(){}[\]<>=%~.:,;?+\-*/&|^])|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\b/,t=/(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,l={pattern:RegExp(/(^|[^\w.])/.source+t+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}},punctuation:/\./}};r.languages.java=r.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"/,lookbehind:!0,greedy:!0},"class-name":[l,{pattern:RegExp(/(^|[^\w.])/.source+t+/[A-Z]\w*(?=\s+\w+\s*[;,=()]|\s*(?:\[[\s,]*\]\s*)?::\s*new\b)/.source),lookbehind:!0,inside:l.inside},{pattern:RegExp(/(\b(?:class|enum|extends|implements|instanceof|interface|new|record|throws)\s+)/.source+t+/[A-Z]\w*\b/.source),lookbehind:!0,inside:l.inside}],keyword:e,function:[r.languages.clike.function,{pattern:/(::\s*)[a-z_]\w*/,lookbehind:!0}],number:/\b0b[01][01_]*L?\b|\b0x(?:\.[\da-f_p+-]+|[\da-f_]+(?:\.[\da-f_p+-]+)?)\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|--|\+\+|&&|\|\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,lookbehind:!0},constant:/\b[A-Z][A-Z_\d]+\b/}),r.languages.insertBefore("java","string",{"triple-quoted-string":{pattern:/"""[ \t]*[\r\n](?:(?:"|"")?(?:\\.|[^"\\]))*"""/,greedy:!0,alias:"string"},char:{pattern:/'(?:\\.|[^'\\\r\n]){1,6}'/,greedy:!0}}),r.languages.insertBefore("java","class-name",{annotation:{pattern:/(^|[^.])@\w+(?:\s*\.\s*\w+)*/,lookbehind:!0,alias:"punctuation"},generics:{pattern:/<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&))*>)*>)*>)*>/,inside:{"class-name":l,keyword:e,punctuation:/[<>(),.:]/,operator:/[?&|]/}},import:[{pattern:RegExp(/(\bimport\s+)/.source+t+/(?:[A-Z]\w*|\*)(?=\s*;)/.source),lookbehind:!0,inside:{namespace:l.inside.namespace,punctuation:/\./,operator:/\*/,"class-name":/\w+/}},{pattern:RegExp(/(\bimport\s+static\s+)/.source+t+/(?:\w+|\*)(?=\s*;)/.source),lookbehind:!0,alias:"static",inside:{namespace:l.inside.namespace,static:/\b\w+$/,punctuation:/\./,operator:/\*/,"class-name":/\w+/}}],namespace:{pattern:RegExp(/(\b(?:exports|import(?:\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\s+)(?!<keyword>)[a-z]\w*(?:\.[a-z]\w*)*\.?/.source.replace(/<keyword>/g,function(){return e.source})),lookbehind:!0,inside:{punctuation:/\./}}})}(Prism)),o0}aO();var c0={},f0;function oO(){return f0||(f0=1,function(r){var e=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|char8_t|class|co_await|co_return|co_yield|compl|concept|const|const_cast|consteval|constexpr|constinit|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|final|float|for|friend|goto|if|import|inline|int|int16_t|int32_t|int64_t|int8_t|long|module|mutable|namespace|new|noexcept|nullptr|operator|override|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|uint16_t|uint32_t|uint64_t|uint8_t|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,t=/\b(?!<keyword>)\w+(?:\s*\.\s*\w+)*\b/.source.replace(/<keyword>/g,function(){return e.source});r.languages.cpp=r.languages.extend("c",{"class-name":[{pattern:RegExp(/(\b(?:class|concept|enum|struct|typename)\s+)(?!<keyword>)\w+/.source.replace(/<keyword>/g,function(){return e.source})),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\b\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:e,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+(?:\.[\da-f']*)?|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/i,greedy:!0},operator:/>>=?|<<=?|->|--|\+\+|&&|\|\||[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:false|true)\b/}),r.languages.insertBefore("cpp","string",{module:{pattern:RegExp(/(\b(?:import|module)\s+)/.source+"(?:"+/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|<[^<>\r\n]*>/.source+"|"+/<mod-name>(?:\s*:\s*<mod-name>)?|:\s*<mod-name>/.source.replace(/<mod-name>/g,function(){return t})+")"),lookbehind:!0,greedy:!0,inside:{string:/^[<"][\s\S]+/,operator:/:/,punctuation:/\./}},"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),r.languages.insertBefore("cpp","keyword",{"generic-function":{pattern:/\b(?!operator\b)[a-z_]\w*\s*<(?:[^<>]|<[^<>]*>)*>(?=\s*\()/i,inside:{function:/^\w+/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:r.languages.cpp}}}}),r.languages.insertBefore("cpp","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}}),r.languages.insertBefore("cpp","class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:r.languages.extend("cpp",{})}}),r.languages.insertBefore("inside","double-colon",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i},r.languages.cpp["base-clause"])}(Prism)),c0}oO();const ph=globalThis.Prism||window.Prism,d0=r=>{try{return!!r&&ph.languages.hasOwnProperty(r)}catch{return!1}};function g0(r,e){for(const t of r.childNodes){if(at(t)&&t.tagName===e)return!0;g0(t,e)}return!1}const io="data-language",wc="data-highlight-language";let Nc=class xT extends _n{static getType(){return"code"}static clone(e){return new xT(e.__language,e.__key)}constructor(e,t){super(t),this.__language=e||void 0,this.__isSyntaxHighlightSupported=d0(e)}createDOM(e){const t=document.createElement("code");Et(t,e.theme.code),t.setAttribute("spellcheck","false");const l=this.getLanguage();return l&&(t.setAttribute(io,l),this.getIsSyntaxHighlightSupported()&&t.setAttribute(wc,l)),t}updateDOM(e,t,l){const s=this.__language,o=e.__language;return s?s!==o&&(t.setAttribute(io,s),this.__isSyntaxHighlightSupported&&t.setAttribute(wc,s)):o&&(t.removeAttribute(io),e.__isSyntaxHighlightSupported&&t.removeAttribute(wc)),!1}exportDOM(e){const t=document.createElement("pre");Et(t,e._config.theme.code),t.setAttribute("spellcheck","false");const l=this.getLanguage();return l&&(t.setAttribute(io,l),this.getIsSyntaxHighlightSupported()&&t.setAttribute(wc,l)),{element:t}}static importDOM(){return{code:e=>e.textContent!=null&&(/\r?\n/.test(e.textContent)||g0(e,"BR"))?{conversion:h0,priority:1}:null,div:()=>({conversion:uO,priority:1}),pre:()=>({conversion:h0,priority:0}),table:e=>mh(e)?{conversion:cO,priority:3}:null,td:e=>{const t=e,l=t.closest("table");return t.classList.contains("js-file-line")||l&&mh(l)?{conversion:p0,priority:3}:null},tr:e=>{const t=e.closest("table");return t&&mh(t)?{conversion:p0,priority:3}:null}}}static importJSON(e){return gr().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setLanguage(e.language)}exportJSON(){return{...super.exportJSON(),language:this.getLanguage()}}insertNewAfter(e,t=!0){const l=this.getChildren(),s=l.length;if(s>=2&&l[s-1].getTextContent()===`
`&&l[s-2].getTextContent()===`
`&&e.isCollapsed()&&e.anchor.key===this.__key&&e.anchor.offset===s){l[s-1].remove(),l[s-2].remove();const d=Ae();return this.insertAfter(d,t),d}const{anchor:o,focus:u}=e,f=(o.isBefore(u)?o:u).getNode();if(se(f)){let d=pO(f);const g=[];for(;;)if(Ku(d))g.push(rs()),d=d.getNextSibling();else{if(!_0(d))break;{let x=0;const E=d.getTextContent(),C=d.getTextContentSize();for(;x<C&&E[x]===" ";)x++;if(x!==0&&g.push(y0(" ".repeat(x))),x!==C)break;d=d.getNextSibling()}}const p=f.splitText(o.offset)[0],y=o.offset===0?0:1,b=p.getIndexWithinParent()+y,v=f.getParentOrThrow(),_=[In(),...g];v.splice(b,0,_);const S=g[g.length-1];S?S.select():o.offset===0?p.selectPrevious():p.getNextSibling().selectNext(0,0)}if(lo(f)){const{offset:d}=e.anchor;f.splice(d,0,[In()]),f.select(d+1,d+1)}return null}canIndent(){return!1}collapseAtStart(){const e=Ae();return this.getChildren().forEach(t=>e.append(t)),this.replace(e),!0}setLanguage(e){const t=this.getWritable();return t.__language=e||void 0,t.__isSyntaxHighlightSupported=d0(e),t}getLanguage(){return this.getLatest().__language}getIsSyntaxHighlightSupported(){return this.getLatest().__isSyntaxHighlightSupported}};function gr(r){return At(new Nc(r))}function lo(r){return r instanceof Nc}function h0(r){return{node:gr(r.getAttribute(io))}}function uO(r){const e=r,t=m0(e);return t||function(l){let s=l.parentElement;for(;s!==null;){if(m0(s))return!0;s=s.parentElement}return!1}(e)?{node:t?gr():null}:{node:null}}function cO(){return{node:gr()}}function p0(){return{node:null}}function m0(r){return r.style.fontFamily.match("monospace")!==null}function mh(r){return r.classList.contains("js-file-line-container")}const fO="javascript",dO=()=>fO,gO=()=>Object.keys(ph.languages).filter(r=>typeof ph.languages[r]!="function").sort();let yh=class CT extends sr{constructor(e="",t,l){super(e,l),this.__highlightType=t}static getType(){return"code-highlight"}static clone(e){return new CT(e.__text,e.__highlightType||void 0,e.__key)}getHighlightType(){return this.getLatest().__highlightType}setHighlightType(e){const t=this.getWritable();return t.__highlightType=e||void 0,t}canHaveFormat(){return!1}createDOM(e){const t=super.createDOM(e),l=_h(e.theme,this.__highlightType);return Et(t,l),t}updateDOM(e,t,l){const s=super.updateDOM(e,t,l),o=_h(l.theme,e.__highlightType),u=_h(l.theme,this.__highlightType);return o!==u&&(o&&xr(t,o),u&&Et(t,u)),s}static importJSON(e){return y0().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setHighlightType(e.highlightType)}exportJSON(){return{...super.exportJSON(),highlightType:this.getHighlightType()}}setFormat(e){return this}isParentRequired(){return!0}createParentElementNode(){return gr()}};function _h(r,e){return e&&r&&r.codeHighlight&&r.codeHighlight[e]}function y0(r="",e){return At(new yh(r,e))}function _0(r){return r instanceof yh}function hO(r,e){let t=r;for(let l=vt(r,e);l&&(_0(l.origin)||Ku(l.origin));l=lN(l))t=l.origin;return t}function pO(r){return hO(r,"previous")}const mO=new Set(["http:","https:","mailto:","sms:","tel:"]);class Ni extends _n{static getType(){return"link"}static clone(e){return new Ni(e.__url,{rel:e.__rel,target:e.__target,title:e.__title},e.__key)}constructor(e="",t={},l){super(l);const{target:s=null,rel:o=null,title:u=null}=t;this.__url=e,this.__target=s,this.__rel=o,this.__title=u}createDOM(e){const t=document.createElement("a");return this.updateLinkDOM(null,t,e),Et(t,e.theme.link),t}updateLinkDOM(e,t,l){if(Tb(t)){e&&e.__url===this.__url||(t.href=this.sanitizeUrl(this.__url));for(const s of["target","rel","title"]){const o=`__${s}`,u=this[o];e&&e[o]===u||(u?t[s]=u:t.removeAttribute(s))}}}updateDOM(e,t,l){return this.updateLinkDOM(e,t,l),!1}static importDOM(){return{a:e=>({conversion:yO,priority:1})}}static importJSON(e){return Sl().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setURL(e.url).setRel(e.rel||null).setTarget(e.target||null).setTitle(e.title||null)}sanitizeUrl(e){e=S0(e);try{const t=new URL(S0(e));if(!mO.has(t.protocol))return"about:blank"}catch{return e}return e}exportJSON(){return{...super.exportJSON(),rel:this.getRel(),target:this.getTarget(),title:this.getTitle(),url:this.getURL()}}getURL(){return this.getLatest().__url}setURL(e){const t=this.getWritable();return t.__url=e,t}getTarget(){return this.getLatest().__target}setTarget(e){const t=this.getWritable();return t.__target=e,t}getRel(){return this.getLatest().__rel}setRel(e){const t=this.getWritable();return t.__rel=e,t}getTitle(){return this.getLatest().__title}setTitle(e){const t=this.getWritable();return t.__title=e,t}insertNewAfter(e,t=!0){const l=Sl(this.__url,{rel:this.__rel,target:this.__target,title:this.__title});return this.insertAfter(l,t),l}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}canBeEmpty(){return!1}isInline(){return!0}extractWithChild(e,t,l){if(!I(t))return!1;const s=t.anchor.getNode(),o=t.focus.getNode();return this.isParentOf(s)&&this.isParentOf(o)&&t.getTextContent().length>0}isEmailURI(){return this.__url.startsWith("mailto:")}isWebSiteURI(){return this.__url.startsWith("https://")||this.__url.startsWith("http://")}}function yO(r){let e=null;if(Tb(r)){const t=r.textContent;(t!==null&&t!==""||r.children.length>0)&&(e=Sl(r.getAttribute("href")||"",{rel:r.getAttribute("rel"),target:r.getAttribute("target"),title:r.getAttribute("title")}))}return{node:e}}function Sl(r="",e){return At(new Ni(r,e))}function Dt(r){return r instanceof Ni}let Ac=class ET extends Ni{constructor(e="",t={},l){super(e,t,l),this.__isUnlinked=t.isUnlinked!==void 0&&t.isUnlinked!==null&&t.isUnlinked}static getType(){return"autolink"}static clone(e){return new ET(e.__url,{isUnlinked:e.__isUnlinked,rel:e.__rel,target:e.__target,title:e.__title},e.__key)}getIsUnlinked(){return this.__isUnlinked}setIsUnlinked(e){const t=this.getWritable();return t.__isUnlinked=e,t}createDOM(e){return this.__isUnlinked?document.createElement("span"):super.createDOM(e)}updateDOM(e,t,l){return super.updateDOM(e,t,l)||e.__isUnlinked!==this.__isUnlinked}static importJSON(e){return bh().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setIsUnlinked(e.isUnlinked||!1)}static importDOM(){return null}exportJSON(){return{...super.exportJSON(),isUnlinked:this.__isUnlinked}}insertNewAfter(e,t=!0){const l=this.getParentOrThrow().insertNewAfter(e,t);if(Q(l)){const s=bh(this.__url,{isUnlinked:this.__isUnlinked,rel:this.__rel,target:this.__target,title:this.__title});return l.append(s),s}return null}};function bh(r="",e){return At(new Ac(r,e))}function Yn(r){return r instanceof Ac}const on=Ee("TOGGLE_LINK_COMMAND");function b0(r,e){if(r.type==="element"){const t=r.getNode();return Q(t)||function(l,...s){const o=new URL("https://lexical.dev/docs/error"),u=new URLSearchParams;u.append("code",l);for(const f of s)u.append("v",f);throw o.search=u.toString(),Error(`Minified Lexical error #${l}; visit ${o.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}(252),t.getChildren()[r.offset+e]||null}return null}function vh(r,e={}){const{target:t,title:l}=e,s=e.rel===void 0?"noreferrer":e.rel,o=V();if(o===null||!I(o)&&!rt(o))return;if(rt(o)){const g=o.getNodes();return g.length===0?void 0:void g.forEach(p=>{if(r===null){const y=ze(p,b=>!Yn(b)&&Dt(b));y&&(y.insertBefore(p),y.getChildren().length===0&&y.remove())}else{const y=ze(p,b=>!Yn(b)&&Dt(b));if(y)y.setURL(r),t!==void 0&&y.setTarget(t),s!==void 0&&y.setRel(s);else{const b=Sl(r,{rel:s,target:t});p.insertBefore(b),b.append(p)}}})}const u=o.extract();if(r===null)return void u.forEach(g=>{const p=ze(g,y=>!Yn(y)&&Dt(y));if(p){const y=p.getChildren();for(let b=0;b<y.length;b++)p.insertBefore(y[b]);p.remove()}});const f=new Set,d=g=>{f.has(g.getKey())||(f.add(g.getKey()),g.setURL(r),t!==void 0&&g.setTarget(t),s!==void 0&&g.setRel(s),l!==void 0&&g.setTitle(l))};if(u.length===1){const g=v0(u[0],Dt);if(g!==null)return d(g)}(function(g){const p=V();if(!I(p))return g();const y=nl(p),b=y.isBackward(),v=b0(y.anchor,b?-1:0),_=b0(y.focus,b?0:-1);if(g(),v||_){const S=V();if(I(S)){const x=S.clone();if(v){const E=v.getParent();E&&x.anchor.set(E.getKey(),v.getIndexWithinParent()+(b?1:0),"element")}if(_){const E=_.getParent();E&&x.focus.set(E.getKey(),_.getIndexWithinParent()+(b?0:1),"element")}Ye(nl(x))}}})(()=>{let g=null;for(const p of u){if(!p.isAttached())continue;const y=v0(p,Dt);if(y){d(y);continue}if(Q(p)){if(!p.isInline())continue;if(Dt(p)){if(!(Yn(p)||g!==null&&g.getParentOrThrow().isParentOf(p))){d(p),g=p;continue}for(const v of p.getChildren())p.insertBefore(v);p.remove();continue}}const b=p.getPreviousSibling();Dt(b)&&b.is(g)?b.append(p):(g=Sl(r,{rel:s,target:t,title:l}),p.insertAfter(g),g.append(p))}})}function v0(r,e){let t=r;for(;t!==null&&t.getParent()!==null&&!e(t);)t=t.getParentOrThrow();return e(t)?t:null}const _O=/^\+?[0-9\s()-]{5,}$/;function S0(r){return r.match(/^[a-z][a-z0-9+.-]*:/i)||r.match(/^[/#.]/)?r:r.includes("@")?`mailto:${r}`:_O.test(r)?`tel:${r}`:`https://${r}`}function bO({hasStrictIndent:r=!1}){const[e]=Fe();return L.useEffect(()=>{if(!e.hasNodes([wi,Ti]))throw new Error("ListPlugin: ListNode and/or ListItemNode not registered on editor")},[e]),L.useEffect(()=>{if(r)return WA(e)},[e,r]),function(t){L.useEffect(()=>QA(t),[t])}(e),null}function vO(){const[r]=Fe();return L.useEffect(()=>r.registerCommand(Jv,e=>{const t=V();if(!I(t))return!1;if(t.focus.getNode()!==null){const l=ro();Vb(l)}return!0},Te),[r]),null}const SO=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?L.useLayoutEffect:L.useEffect;function xO({ignoreHistoryMergeTagChange:r=!0,ignoreSelectionChange:e=!1,onChange:t}){const[l]=Fe();return SO(()=>{if(t)return l.registerUpdateListener(({editorState:s,dirtyElements:o,dirtyLeaves:u,prevEditorState:f,tags:d})=>{e&&o.size===0&&u.size===0||r&&d.has(ss)||f.isEmpty()||t(s,l,d)})},[l,r,e,t]),null}function CO({onClose:r,children:e,title:t,closeOnClickOutside:l}){const s=L.useRef(null);return L.useEffect(()=>{s.current!==null&&s.current.focus()},[]),L.useEffect(()=>{let o=null;const u=g=>{g.key==="Escape"&&r()},f=g=>{const p=g.target;s.current!==null&&!s.current.contains(p)&&l&&r()},d=s.current;return d!==null&&(o=d.parentElement,o!==null&&o.addEventListener("click",f)),window.addEventListener("keydown",u),()=>{window.removeEventListener("keydown",u),o!==null&&(o==null||o.removeEventListener("click",f))}},[l,r]),$.jsx("div",{className:"Modal__overlay",role:"dialog",children:$.jsxs("div",{className:"Modal__modal",tabIndex:-1,ref:s,children:[$.jsx("h3",{className:"Modal__title",children:t}),$.jsx("button",{className:"Modal__closeButton circle","aria-label":"Close modal",type:"button",onClick:r,children:$.jsx("i",{className:"fas fa-times"})}),$.jsx("div",{className:"Modal__content",children:e})]})})}function EO({onClose:r,children:e,title:t,closeOnClickOutside:l=!1}){return kn.createPortal($.jsx(CO,{onClose:r,title:t,closeOnClickOutside:l,children:e}),document.body)}function TO(){const[r,e]=L.useState(null),t=L.useCallback(()=>{e(null)},[]),l=L.useMemo(()=>{if(r===null)return null;const{title:o,content:u,closeOnClickOutside:f}=r;return $.jsx(EO,{onClose:t,title:o,closeOnClickOutside:f,children:u})},[r,t]),s=L.useCallback((o,u,f=!1)=>{e({closeOnClickOutside:f,content:u(t),title:o})},[t]);return[l,s]}const wO=L.lazy(()=>Promise.resolve().then(()=>SM));function NO(r){return r.parentElement!=null&&r.parentElement.tagName==="LI"&&r.previousSibling===null&&r.getAttribute("aria-roledescription")==="checkbox"}function AO(r){const e=r;if(e.src.startsWith("file:///")||NO(e))return null;const{alt:t,src:l,width:s,height:o}=e;return{node:Oc({altText:t,height:o,src:l,width:s})}}class xl extends Gu{static getType(){return"image"}static clone(e){return new xl(e.__src,e.__altText,e.__maxWidth,e.__width,e.__height,e.__showCaption,e.__caption,e.__captionsEnabled,e.__key)}static importJSON(e){const{altText:t,height:l,width:s,maxWidth:o,caption:u,src:f,showCaption:d}=e,g=Oc({altText:t,height:l,maxWidth:o,showCaption:d,src:f,width:s}),p=g.__caption,y=p.parseEditorState(u.editorState);return y.isEmpty()||p.setEditorState(y),g}exportDOM(){const e=document.createElement("img");return e.setAttribute("src",this.__src),e.setAttribute("alt",this.__altText),e.setAttribute("width",this.__width.toString()),e.setAttribute("height",this.__height.toString()),{element:e}}static importDOM(){return{img:e=>({conversion:AO,priority:0})}}constructor(e,t,l,s,o,u,f,d,g){super(g),this.__src=e,this.__altText=t,this.__maxWidth=l,this.__width=s||"inherit",this.__height=o||"inherit",this.__showCaption=u||!1,this.__caption=f||sb({nodes:[]}),this.__captionsEnabled=d||d===void 0}exportJSON(){return{altText:this.getAltText(),caption:this.__caption.toJSON(),height:this.__height==="inherit"?0:this.__height,maxWidth:this.__maxWidth,showCaption:this.__showCaption,src:this.getSrc(),type:"image",version:1,width:this.__width==="inherit"?0:this.__width}}setWidthAndHeight(e,t){const l=this.getWritable();l.__width=e,l.__height=t}setShowCaption(e){const t=this.getWritable();t.__showCaption=e}createDOM(e){const t=document.createElement("span"),s=e.theme.image;return s!==void 0&&(t.className=s),t}updateDOM(){return!1}getSrc(){return this.__src}getAltText(){return this.__altText}decorate(){return $.jsx(L.Suspense,{fallback:null,children:$.jsx(wO,{src:this.__src,altText:this.__altText,width:this.__width,height:this.__height,maxWidth:this.__maxWidth,nodeKey:this.getKey(),showCaption:this.__showCaption,caption:this.__caption,captionsEnabled:this.__captionsEnabled,resizable:!0})})}}function Oc({altText:r,height:e,maxWidth:t=900,captionsEnabled:l,src:s,width:o,showCaption:u,caption:f,key:d}){return At(new xl(s,r,t,o,e,u,f,l,d))}function so(r){return r instanceof xl}function ao({children:r,onClick:e,disabled:t,title:l}){return $.jsx("button",{disabled:t,onClick:e,title:l,"aria-label":l,children:r})}function OO({children:r}){return $.jsx("div",{className:"DialogButtonsList",children:r})}function Sh({children:r}){return $.jsx("div",{className:"DialogActions",children:r})}function RO({accept:r,label:e,onChange:t}){return $.jsxs("div",{className:"Input__wrapper",children:[$.jsx("label",{className:"Input__label",children:e}),$.jsx("input",{type:"file",accept:r,className:"Input__input",onChange:l=>t(l.target.files)})]})}function xh({label:r,value:e,onChange:t,placeholder:l="",type:s="text"}){return $.jsxs("div",{className:"Input__wrapper",children:[$.jsx("label",{className:"Input__label",children:r}),$.jsx("input",{type:s,className:"Input__input",placeholder:l,value:e,onChange:o=>{t(o.target.value)}})]})}const kO=r=>(r||window).getSelection(),Rc={imageUploadUrl:"",imageUploadTaskUuid:""},kc=Ee("INSERT_IMAGE_COMMAND");function MO({onClick:r}){const{t:e}=zr(),[t,l]=L.useState(""),s=t==="";return $.jsxs($.Fragment,{children:[$.jsx(xh,{label:e("Image URL"),placeholder:"i.e. https://source.unsplash.com/random",onChange:l,value:t,"data-test-id":"image-modal-url-input"}),$.jsx(Sh,{children:$.jsx(ao,{"data-test-id":"image-modal-confirm-btn",disabled:s,onClick:()=>r({altText:"",src:t}),children:e("Confirm")})})]})}function DO({onClick:r}){const{t:e}=zr(),[t,l]=L.useState(null),s=t===null,o=()=>{if(!t)return;const u=new FormData;u.append("image[]",t[0],t[0].name),u.append("task_uuid",Rc.imageUploadTaskUuid),fetch(Rc.imageUploadUrl,{method:"post",body:u}).then(f=>f.json()).then(({data:f})=>{const d=Object.values(f)[0];r({altText:"",src:d})}).catch(f=>{console.error(f)})};return $.jsxs($.Fragment,{children:[$.jsx(RO,{label:e("Image Upload"),onChange:l,accept:"image/*","data-test-id":"image-modal-file-upload"}),$.jsx(Sh,{children:$.jsx(ao,{"data-test-id":"image-modal-file-upload-btn",disabled:s,onClick:o,children:e("Confirm")})})]})}function LO({activeEditor:r,onClose:e}){const{t}=zr(),[l,s]=L.useState(null),o=L.useRef(!1);L.useEffect(()=>{o.current=!1;const f=d=>{o.current=d.altKey};return document.addEventListener("keydown",f),()=>{document.removeEventListener("keydown",f)}},[r]);const u=f=>{r.dispatchCommand(kc,f),e()};return $.jsxs($.Fragment,{children:[!l&&$.jsxs(OO,{children:[$.jsx(ao,{"data-test-id":"image-modal-option-url",onClick:()=>s("url"),children:"URL"}),$.jsx(ao,{"data-test-id":"image-modal-option-file",onClick:()=>s("file"),children:t("File")})]}),l==="url"&&$.jsx(MO,{onClick:u}),l==="file"&&$.jsx(DO,{onClick:u})]})}function zO({imageUploadUrl:r,imageUploadTaskUuid:e,captionsEnabled:t}){Rc.imageUploadUrl=r,Rc.imageUploadTaskUuid=e;const[l]=Fe();return L.useEffect(()=>{if(!l.hasNodes([xl]))throw new Error("ImagesPlugin: ImageNode not registered on editor");return mt(l.registerCommand(kc,s=>{const o=Oc(s);return ng([o]),Ct(o.getParentOrThrow())&&oN(o,Ae).selectEnd(),!0},Te),l.registerCommand(Ra,s=>FO(s),bi),l.registerCommand(Mu,s=>BO(s),De),l.registerCommand(Oa,s=>UO(s,l),bi))},[t,l]),null}const $O="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",x0=document.createElement("img");x0.src=$O;function FO(r){const e=Ch();if(!e)return!1;const t=r.dataTransfer;return t?(t.setData("text/plain","_"),t.setDragImage(x0,0,0),t.setData("application/x-lexical-drag",JSON.stringify({data:{altText:e.__altText,caption:e.__caption,height:e.__height,key:e.getKey(),maxWidth:e.__maxWidth,showCaption:e.__showCaption,src:e.__src,width:e.__width},type:"image"})),!0):!1}function BO(r){return Ch()?(C0(r)||r.preventDefault(),!0):!1}function UO(r,e){const t=Ch();if(!t)return!1;const l=jO(r);if(!l)return!1;if(r.preventDefault(),C0(r)){const s=HO(r);t.remove();const o=is();s!=null&&o.applyDOMRange(s),Ye(o),e.dispatchCommand(kc,l)}return!0}function Ch(){const r=V();if(!rt(r))return null;const t=r.getNodes()[0];return so(t)?t:null}function jO(r){var s;const e=(s=r.dataTransfer)==null?void 0:s.getData("application/x-lexical-drag");if(!e)return null;const{type:t,data:l}=JSON.parse(e);return t!=="image"?null:l}function C0(r){const e=r.target;return!!(e&&e instanceof HTMLElement&&!e.closest("code, span.editor-image")&&e.parentElement&&e.parentElement.closest("div.ContentEditable__root"))}function HO(r){let e;const t=r.target,l=t==null?null:t.nodeType===9?t.defaultView:t.ownerDocument.defaultView,s=kO(l);if(document.caretRangeFromPoint)e=document.caretRangeFromPoint(r.clientX,r.clientY);else if(r.rangeParent&&s!==null)s.collapse(r.rangeParent,r.rangeOffset||0),e=s.getRangeAt(0);else throw Error("Cannot get the selection when dragging");return e}L.createContext({cellEditorConfig:null,cellEditorPlugins:null,set:()=>{}});function KO({activeEditor:r,onClose:e}){const[t,l]=L.useState("5"),[s,o]=L.useState("5"),[u,f]=L.useState(!0),{t:d}=zr();L.useEffect(()=>{const p=Number(t),y=Number(s);p&&p>0&&p<=500&&y&&y>0&&y<=50?f(!1):f(!0)},[t,s]);const g=()=>{r.dispatchCommand(Tv,{columns:s,rows:t,includeHeaders:{rows:!0,columns:!1}}),e()};return $.jsxs($.Fragment,{children:[$.jsx(xh,{placeholder:d("# of rows (1-500)"),label:d("Rows"),onChange:l,value:t,"data-test-id":"table-modal-rows",type:"number"}),$.jsx(xh,{placeholder:d("# of columns (1-50)"),label:d("Columns"),onChange:o,value:s,"data-test-id":"table-modal-columns",type:"number"}),$.jsx(Sh,{"data-test-id":"table-model-confirm-insert",children:$.jsx(ao,{disabled:u,onClick:g,children:d("Confirm")})})]})}const Eh=1,E0=new Set(["paragraph","quote","code","h1","h2","h3","h4","h5","ul","ol"]);function IO(){return $.jsx("div",{className:"divider"})}function PO({onChange:r,className:e,options:t,value:l}){return $.jsxs("select",{className:e,onChange:r,value:l,children:[$.jsx("option",{hidden:!0,value:""}),t.map(s=>$.jsx("option",{value:s,children:s},s))]})}function qO(r){const e=r.anchor,t=r.focus,l=r.anchor.getNode(),s=r.focus.getNode();return l===s?l:r.isBackward()?cc(t)?l:s:cc(e)?s:l}function YO(r){return r._parentEditor!==null}function Nr(r,e){return r.update(()=>{const t=Je();if(t.getChildrenSize()===0){const l=e();return t.append(l),l.select(),!0}return!1})}function VO({editor:r,blockType:e,toolbarRef:t,setShowBlockOptionsDropDown:l}){const s=L.useRef(null);L.useEffect(()=>{const v=t.current,_=s.current;if(v!==null&&_!==null){const{top:S,left:x}=v.getBoundingClientRect();_.style.top=`${S+40}px`,_.style.left=`${x}px`}},[s,t]),L.useEffect(()=>{const v=s.current,_=t.current;if(v!==null&&_!==null){const S=x=>{const E=x.target;!v.contains(E)&&!_.contains(E)&&l(!1)};return document.addEventListener("click",S),()=>{document.removeEventListener("click",S)}}},[s,l,t]);const o=()=>{e!=="paragraph"&&(Nr(r,()=>Ae())||r.update(()=>{const _=V();I(_)&&Ci(_,()=>Ae())})),l(!1)},u=()=>{e!=="h1"&&(Nr(r,()=>Wt("h1"))||r.update(()=>{const _=V();I(_)&&Ci(_,()=>Wt("h1"))})),l(!1)},f=()=>{e!=="h2"&&(Nr(r,()=>Wt("h2"))||r.update(()=>{const _=V();I(_)&&Ci(_,()=>Wt("h2"))})),l(!1)},d=()=>{e!=="h3"&&(Nr(r,()=>Wt("h3"))||r.update(()=>{const _=V();I(_)&&Ci(_,()=>Wt("h3"))})),l(!1)},g=()=>{e!=="h4"&&(Nr(r,()=>Wt("h4"))||r.update(()=>{const _=V();I(_)&&Ci(_,()=>Wt("h4"))})),l(!1)},p=()=>{e!=="h5"&&(Nr(r,()=>Wt("h5"))||r.update(()=>{const _=V();I(_)&&Ci(_,()=>Wt("h5"))})),l(!1)},y=()=>{e!=="quote"&&(Nr(r,()=>Qa())||r.update(()=>{const _=V();I(_)&&Ci(_,()=>Qa())})),l(!1)},b=()=>{e!=="code"&&(Nr(r,()=>gr())||r.update(()=>{const _=V();I(_)&&Ci(_,()=>gr())})),l(!1)};return $.jsxs("div",{className:"lexical-dropdown",ref:s,children:[$.jsxs("button",{className:"item",onClick:o,type:"button",children:[$.jsx("span",{className:"icon paragraph"}),$.jsx("span",{className:"text",children:ui("Normal")}),e==="paragraph"&&$.jsx("span",{className:"active"})]}),$.jsxs("button",{className:"item",onClick:u,type:"button",children:[$.jsx("span",{className:"icon h1"}),$.jsx("span",{className:"text",children:ui("H1 Heading")}),e==="h1"&&$.jsx("span",{className:"active"})]}),$.jsxs("button",{className:"item",onClick:f,type:"button",children:[$.jsx("span",{className:"icon h2"}),$.jsx("span",{className:"text",children:ui("H2 Heading")}),e==="h2"&&$.jsx("span",{className:"active"})]}),$.jsxs("button",{className:"item",onClick:d,type:"button",children:[$.jsx("span",{className:"icon h3"}),$.jsx("span",{className:"text",children:ui("H3 Heading")}),e==="h3"&&$.jsx("span",{className:"active"})]}),$.jsxs("button",{className:"item",onClick:g,type:"button",children:[$.jsx("span",{className:"icon h4"}),$.jsx("span",{className:"text",children:ui("H4 Heading")}),e==="h4"&&$.jsx("span",{className:"active"})]}),$.jsxs("button",{className:"item",onClick:p,type:"button",children:[$.jsx("span",{className:"icon h5"}),$.jsx("span",{className:"text",children:ui("H5 Heading")}),e==="h5"&&$.jsx("span",{className:"active"})]}),$.jsxs("button",{className:"item",onClick:y,type:"button",children:[$.jsx("span",{className:"icon quote"}),$.jsx("span",{className:"text",children:ui("Quote")}),e==="quote"&&$.jsx("span",{className:"active"})]}),$.jsxs("button",{className:"item",onClick:b,type:"button",children:[$.jsx("span",{className:"icon code"}),$.jsx("span",{className:"text",children:ui("Code Block")}),e==="code"&&$.jsx("span",{className:"active"})]})]})}function GO({setIsLinkEditMode:r,isShowImgButton:e}){const[t]=Fe(),[l,s]=L.useState(t),o=L.useRef(null),[u,f]=L.useState(!1),[d,g]=L.useState(!1),[p,y]=L.useState("paragraph"),[b,v]=L.useState(null),[_,S]=L.useState(!1),[x,E]=L.useState(""),[C,T]=L.useState(!1),[O,N]=L.useState(!1),[A,D]=L.useState(!1),[M,k]=L.useState(!1),[U,P]=L.useState(!1),[J,j]=L.useState(!1),[Y,le]=L.useState(!1),[B,X]=TO(),[H,re]=L.useState(()=>t.isEditable()),{t:z}=zr(),G=L.useCallback(()=>{var ye;const pe=V();if(I(pe)){if(l!==t&&YO(l)){const xe=l.getRootElement();le(!!((ye=xe==null?void 0:xe.parentElement)!=null&&ye.classList.contains("image-caption-container")))}else le(!1);const $e=pe.anchor.getNode(),Ve=$e.getKey()==="root"?$e:$e.getTopLevelElementOrThrow(),ne=Ve.getKey();if(l.getElementByKey(ne)!==null)if(v(ne),ke(Ve)){const xe=Yb($e,wi),nt=xe?xe.getTag():Ve.getTag();y(nt)}else{const xe=dv(Ve)?Ve.getTag():Ve.getType();y(xe),lo(Ve)&&E(Ve.getLanguage()||dO())}N(pe.hasFormat("bold")),D(pe.hasFormat("italic")),k(pe.hasFormat("underline")),P(pe.hasFormat("strikethrough")),j(pe.hasFormat("code"));const de=qO(pe),Se=de.getParent();Dt(Se)||Dt(de)?T(!0):T(!1)}else y("paragraph"),N(!1),D(!1),k(!1),P(!1),j(!1),T(!1),le(!1)},[l,t]);L.useEffect(()=>l.registerCommand(h_,pe=>{const ye=pe,{code:$e,ctrlKey:Ve,metaKey:ne,shiftKey:fe}=ye;return $e==="KeyK"&&(Ve||ne)?(ye.preventDefault(),C?(r(!1),l.dispatchCommand(on,null)):r(!0),!0):$e==="Digit7"&&(Ve||ne)&&fe?(ye.preventDefault(),p!=="ol"?l.dispatchCommand(dh):l.dispatchCommand(to),!0):$e==="Digit8"&&(Ve||ne)&&fe?(ye.preventDefault(),p!=="ul"?l.dispatchCommand(fh):l.dispatchCommand(to),!0):!1},as),[l,C,r,p]),L.useEffect(()=>mt(t.registerUpdateListener(({editorState:pe})=>{pe.read(()=>{G()})}),t.registerCommand(hn,(pe,ye)=>(s(ye),ye.getEditorState().read(()=>{G()}),!1),Eh),t.registerCommand(La,pe=>(f(pe),!1),Eh),t.registerCommand(Da,pe=>(g(pe),!1),Eh)),[t,G]);const ie=L.useMemo(()=>gO(),[]),ue=L.useCallback(pe=>{t.update(()=>{if(b!==null){const ye=Ge(b);lo(ye)&&ye.setLanguage(pe.target.value)}})},[t,b]),he=L.useCallback(()=>{C?(r(!1),l.dispatchCommand(on,null)):r(!0)},[l,C,r]),Ce=()=>{Nr(t,()=>Ae()),p!=="ul"?t.dispatchCommand(fh):t.dispatchCommand(to),S(!1)},me=()=>{Nr(t,()=>Ae()),p!=="ol"?t.dispatchCommand(dh):t.dispatchCommand(to),S(!1)};return $.jsxs("div",{className:"toolbar",ref:o,children:[$.jsxs($.Fragment,{children:[$.jsxs("button",{className:"toolbar-item block-controls",onClick:()=>S(!_),title:z("Block Format"),type:"button",children:[$.jsx("span",{className:"icon block-type "+(E0.has(p)?p:"paragraph")}),$.jsx("i",{className:"chevron-down"})]}),_&&kn.createPortal($.jsx(VO,{editor:t,blockType:E0.has(p)?p:"paragraph",toolbarRef:o,setShowBlockOptionsDropDown:S}),document.body),$.jsx(IO,{})]}),p==="code"?$.jsxs($.Fragment,{children:[$.jsx(PO,{className:"toolbar-item code-language",onChange:ue,options:ie,value:x}),$.jsx("i",{className:"chevron-down inside"})]}):$.jsxs($.Fragment,{children:[$.jsx("button",{onClick:()=>{t.dispatchCommand(pn,"bold")},className:"toolbar-item spaced "+(O?"active":""),title:z("Bold"),type:"button",children:$.jsx("i",{className:"format bold"})}),$.jsx("button",{onClick:()=>{t.dispatchCommand(pn,"italic")},className:"toolbar-item spaced "+(A?"active":""),title:z("Italic"),type:"button",children:$.jsx("i",{className:"format italic"})}),$.jsx("button",{onClick:()=>{t.dispatchCommand(pn,"underline")},className:"toolbar-item spaced "+(M?"active":""),title:z("Underline"),type:"button",children:$.jsx("i",{className:"format underline"})}),$.jsx("button",{onClick:()=>{t.dispatchCommand(pn,"strikethrough")},className:"toolbar-item spaced "+(U?"active":""),title:z("Strikethrough"),type:"button",children:$.jsx("i",{className:"format strikethrough"})}),$.jsx("button",{onClick:()=>{t.dispatchCommand(pn,"code")},className:"toolbar-item spaced "+(J?"active":""),title:z("Code"),type:"button",children:$.jsx("i",{className:"format code"})}),$.jsx("button",{onClick:he,className:"toolbar-item spaced "+(C?"active":""),title:z("Link"),type:"button",children:$.jsx("i",{className:"format link"})}),$.jsx("button",{onClick:Ce,className:"toolbar-item spaced "+(p==="ul"?"active":""),title:z("Bullet List"),type:"button",children:$.jsx("i",{className:"format ul"})}),$.jsx("button",{onClick:me,className:"toolbar-item spaced "+(p==="ol"?"active":""),title:z("Numbered List"),type:"button",children:$.jsx("i",{className:"format ol"})}),$.jsx("button",{onClick:()=>{X(z("Insert Table"),pe=>$.jsx(KO,{activeEditor:l,onClose:pe}))},className:"toolbar-item spaced",title:z("Table"),type:"button",children:$.jsx("i",{className:"format table"})}),e&&$.jsx("button",{onClick:()=>{X(z("Insert Image"),pe=>$.jsx(LO,{activeEditor:t,onClose:pe}))},className:"toolbar-item spaced "+(Y?"active":""),title:z("Image"),type:"button",children:$.jsx("i",{className:"format image"})}),$.jsx("button",{onClick:()=>{t.dispatchCommand(Jv,void 0)},className:"toolbar-item spaced",title:z("Horizontal Line"),type:"button",children:$.jsx("i",{className:"format rule"})})]}),B]})}const T0=["image/","image/heic","image/heif","image/gif","image/webp"];function XO({imageUploadUrl:r,imageUploadTaskUuid:e}){const[t]=Fe();return L.useEffect(()=>t.registerCommand(Ug,l=>((async()=>{const s=await iN(l,[T0].flatMap(o=>o));for(const{file:o,result:u}of s)if(qb(o,T0)){const f=new FormData;f.append("image[]",o,o.name),f.append("task_uuid",e),fetch(r,{method:"post",body:f}).then(d=>d.json()).then(({data:d})=>{const g=Object.values(d)[0];t.dispatchCommand(kc,{altText:o.name,src:g})}).catch(d=>{console.error(d)})}})(),!0),De),[t]),null}let w0=class{constructor(e,t){this._x=e,this._y=t}get x(){return this._x}get y(){return this._y}equals({x:e,y:t}){return this.x===e&&this.y===t}calcDeltaXTo({x:e}){return this.x-e}calcDeltaYTo({y:e}){return this.y-e}calcHorizontalDistanceTo(e){return Math.abs(this.calcDeltaXTo(e))}calcVerticalDistance(e){return Math.abs(this.calcDeltaYTo(e))}calcDistanceTo(e){return Math.sqrt(Math.pow(this.calcDeltaXTo(e),2)+Math.pow(this.calcDeltaYTo(e),2))}};class Cl{constructor(e,t,l,s){const[o,u]=t<=s?[t,s]:[s,t],[f,d]=e<=l?[e,l]:[l,e];this._top=o,this._right=d,this._left=f,this._bottom=u}get top(){return this._top}get right(){return this._right}get bottom(){return this._bottom}get left(){return this._left}get width(){return Math.abs(this._left-this._right)}get height(){return Math.abs(this._bottom-this._top)}equals({top:e,left:t,bottom:l,right:s}){return e===this._top&&l===this._bottom&&t===this._left&&s===this._right}contains(e){if(e instanceof w0){const{x:t,y:l}=e,s=l<this._top,o=l>this._bottom,u=t<this._left,f=t>this._right;return{reason:{isOnBottomSide:o,isOnLeftSide:u,isOnRightSide:f,isOnTopSide:s},result:!(s||o||u||f)}}{const{top:t,left:l,bottom:s,right:o}=e;return t>=this._top&&t<=this._bottom&&s>=this._top&&s<=this._bottom&&l>=this._left&&l<=this._right&&o>=this._left&&o<=this._right}}intersectsWith(e){const{left:t,top:l,width:s,height:o}=e,{left:u,top:f,width:d,height:g}=this;return(t+s>=u+d?t+s:u+d)-(t<=u?t:u)<=s+d&&(l+o>=f+g?l+o:f+g)-(l<=f?l:f)<=o+g}generateNewRect({left:e=this.left,top:t=this.top,right:l=this.right,bottom:s=this.bottom}){return new Cl(e,t,l,s)}static fromLTRB(e,t,l,s){return new Cl(e,t,l,s)}static fromLWTH(e,t,l,s){return new Cl(e,l,e+t,l+s)}static fromPoints(e,t){const{y:l,x:s}=e,{y:o,x:u}=t;return Cl.fromLTRB(s,l,u,o)}static fromDOM(e){const{top:t,width:l,left:s,height:o}=e.getBoundingClientRect();return Cl.fromLWTH(s,l,t,o)}}const Th=4,ZO=2,N0="application/x-lexical-drag-block",A0=28,QO=1,WO=-1,O0=0;let Mc=1/0;function R0(r){const e=(f,d)=>f?parseFloat(window.getComputedStyle(f)[d]):0,{marginTop:t,marginBottom:l}=window.getComputedStyle(r),s=e(r.previousElementSibling,"marginBottom"),o=e(r.nextElementSibling,"marginTop"),u=Math.max(parseFloat(t),s);return{marginBottom:Math.max(parseFloat(l),o),marginTop:u}}function wh(r,e,t,l=!1){const s=r.getBoundingClientRect(),o=function(f){return f.getEditorState().read(()=>Je().getChildrenKeys())}(e);let u=null;return e.getEditorState().read(()=>{if(l){const[p,y]=[e.getElementByKey(o[0]),e.getElementByKey(o[o.length-1])],[b,v]=[p!=null?p.getBoundingClientRect():void 0,y!=null?y.getBoundingClientRect():void 0];if(b&&v){const _=ml(p),S=ml(y);if(t.y/_<b.top?u=p:t.y/S>v.bottom&&(u=y),u)return}}let f=(d=o.length)===0?1/0:Mc>=0&&Mc<d?Mc:Math.floor(d/2);var d;let g=O0;for(;f>=0&&f<o.length;){const p=o[f],y=e.getElementByKey(p);if(y===null)break;const b=ml(y),v=new w0(t.x/b,t.y/b),_=Cl.fromDOM(y),{marginTop:S,marginBottom:x}=R0(y),E=_.generateNewRect({bottom:_.bottom+x,left:s.left,right:s.right,top:_.top-S}),{result:C,reason:{isOnTopSide:T,isOnBottomSide:O}}=E.contains(v);if(C){u=y,Mc=f;break}g===O0&&(g=T?WO:O?QO:1/0),f+=g}}),u}function JO(r,e,t,l,s,o,u,f,d){const g=e.parentElement,p=L.useRef(!1),[y,b]=L.useState(null),v=L.useCallback(_=>{b(_),d&&d(_)},[d]);return L.useEffect(()=>{function _(x){const E=x.target;if(!at(E))return void v(null);if(f(E))return;const C=wh(e,r,x);v(C)}function S(){v(null)}return g!=null&&(g.addEventListener("mousemove",_),g.addEventListener("mouseleave",S)),()=>{g!=null&&(g.removeEventListener("mousemove",_),g.removeEventListener("mouseleave",S))}},[g,e,r,f,v]),L.useEffect(()=>{t.current&&function(_,S,x){if(!_)return S.style.opacity="0",void(S.style.transform="translate(-10000px, -10000px)");const E=_.getBoundingClientRect(),C=window.getComputedStyle(_),T=S.getBoundingClientRect(),O=x.getBoundingClientRect();let N=parseInt(C.lineHeight,10);isNaN(N)&&(N=E.bottom-E.top);const A=E.top+(N-T.height)/2-O.top,D=Th;S.style.opacity="1",S.style.transform=`translate(${D}px, ${A}px)`}(y,t.current,e)},[e,y,t]),L.useEffect(()=>{function _(S){if(!p.current)return!1;const[x]=ms(S);if(x)return!1;const{pageY:E,target:C}=S;if(!at(C))return!1;const T=wh(e,r,S,!0),O=l.current;return T!==null&&O!==null&&(function(N,A,D,M){const{top:k,height:U}=A.getBoundingClientRect(),{top:P,width:J}=M.getBoundingClientRect(),{marginTop:j,marginBottom:Y}=R0(A);let le=k;D>=k?le+=U+Y/2:le-=j/2;const B=le-P-ZO,X=A0-Th;N.style.transform=`translate(${X}px, ${B}px)`,N.style.width=J-2*(A0-Th)+"px",N.style.opacity=".4"}(O,T,E/ml(C),e),S.preventDefault(),!0)}return mt(r.registerCommand(Mu,S=>_(S),De),r.registerCommand(Oa,S=>function(x){if(!p.current)return!1;const[E]=ms(x);if(E)return!1;const{target:C,dataTransfer:T,pageY:O}=x,N=T!=null?T.getData(N0):"",A=Ge(N);if(!A||!at(C))return!1;const D=wh(e,r,x,!0);if(!D)return!1;const M=qt(D);if(!M)return!1;if(M===A)return!0;const k=D.getBoundingClientRect().top;return O/ml(C)>=k?M.insertAfter(A):M.insertBefore(A),v(null),!0}(S),bi))},[e,r,l,v]),kn.createPortal($.jsxs($.Fragment,{children:[$.jsx("div",{draggable:!0,onDragStart:function(_){const S=_.dataTransfer;if(!S||!y)return;(function(E,C){const{transform:T}=C.style;C.style.transform="translateZ(0)",E.setDragImage(C,0,0),setTimeout(()=>{C.style.transform=T})})(S,y);let x="";r.update(()=>{const E=qt(y);E&&(x=E.getKey())}),p.current=!0,S.setData(N0,x)},onDragEnd:function(){var _;p.current=!1,(_=l.current)&&(_.style.opacity="0",_.style.transform="translate(-10000px, -10000px)")},children:s&&o}),u]}),e)}function eR({anchorElem:r=document.body,menuRef:e,targetLineRef:t,menuComponent:l,targetLineComponent:s,isOnMenu:o,onElementChanged:u}){const[f]=Fe();return JO(f,r,e,t,f._editable,l,s,o,u)}const tR="draggable-block-menu";function nR(r){return!!r.closest(`.${tR}`)}function rR({anchorElem:r=document.body}){const[e]=Fe(),t=L.useRef(null),l=L.useRef(null),[s,o]=L.useState(null),{t:u}=zr();function f(d){!s||!e||e.update(()=>{const g=qt(s);if(!g)return;const p=Ae();d.altKey||d.ctrlKey?g.insertBefore(p):g.insertAfter(p),p.select()})}return $.jsx(eR,{anchorElem:r,menuRef:t,targetLineRef:l,menuComponent:$.jsxs("div",{ref:t,className:"draggable-block-menu",children:[$.jsx("button",{title:u("Click to add below"),className:"icon icon-plus",onClick:f}),$.jsx("div",{className:"icon"})]}),targetLineComponent:$.jsx("div",{ref:l,className:"draggable-block-target-line"}),isOnMenu:nR,onElementChanged:o})}function iR({validateUrl:r,attributes:e}){const[t]=Fe();return L.useEffect(()=>{if(!t.hasNodes([Ni]))throw new Error("LinkPlugin: LinkNode not registered on editor");return mt(t.registerCommand(on,l=>{if(l===null)return vh(l),!0;if(typeof l=="string")return!(r!==void 0&&!r(l))&&(vh(l,e),!0);{const{url:s,target:o,rel:u,title:f}=l;return vh(s,{...e,rel:u,target:o,title:f}),!0}},De),r!==void 0?t.registerCommand(Wl,l=>{const s=V();if(!I(s)||s.isCollapsed()||!cr(l,ClipboardEvent)||l.clipboardData===null)return!1;const o=l.clipboardData.getData("text");return!!r(o)&&!s.getNodes().some(u=>Q(u))&&(t.dispatchCommand(on,{...e,url:o}),l.preventDefault(),!0)},De):()=>{})},[t,r,e]),null}const lR=new Set(["http:","https:","mailto:","sms:","tel:"]);function k0(r){try{const e=new URL(r);if(!lR.has(e.protocol))return"about:blank"}catch{return r}return r}const sR=new RegExp(/((([A-Za-z]{3,9}:(?:\/\/)?)(?:[-;:&=+$,\w\u00A0-\uFFFF]+@)?[\w\u00A0-\uFFFF.-]+|(?:www.|[-;:&=+$,\w\u00A0-\uFFFF]+@)[\w\u00A0-\uFFFF.-]+)((?:\/[+~%/.\w\u00A0-\uFFFF-_]*)?\??(?:[-+=&;%@.\w\u00A0-\uFFFF_]*)#?(?:[\w\u00A0-\uFFFF]*))?)/);function aR(r){return r===""||r==="https://"||sR.test(r)}function oR(){return $.jsx(iR,{validateUrl:aR})}function M0(r,e=t=>t){return t=>{const l=r.exec(t);return l===null?null:{index:l.index,length:l[0].length,text:l[0],url:e(l[0])}}}function D0(r,e){for(let t=0;t<e.length;t++){const l=e[t](r);if(l)return l}return null}const uR=/[.,;\s]/;function Dc(r){return uR.test(r)}function L0(r){return Dc(r[r.length-1])}function Nh(r){return Dc(r[0])}function z0(r){let e=r.getPreviousSibling();return Q(e)&&(e=e.getLastDescendant()),e===null||Nn(e)||se(e)&&L0(e.getTextContent())}function $0(r){let e=r.getNextSibling();return Q(e)&&(e=e.getFirstDescendant()),e===null||Nn(e)||se(e)&&Nh(e.getTextContent())}function cR(r,e,t,l){return(r>0?Dc(t[r-1]):z0(l[0]))?e<t.length?Dc(t[e]):$0(l[l.length-1]):!1}function fR(r,e,t){const l=[],s=[],o=[];let u=0,f=0;const d=[...r];for(;d.length>0;){const g=d[0],p=g.getTextContent().length,y=f;f+p<=e?(l.push(g),u+=p):y>=t?o.push(g):s.push(g),f+=p,d.shift()}return[u,l,s,o]}function dR(r,e,t,l){const s=bh(l.url,l.attributes);if(r.length===1){let o,u=r[0];e===0?[o,u]=u.splitText(t):[,o,u]=u.splitText(e,t);const f=Be(l.text);return f.setFormat(o.getFormat()),f.setDetail(o.getDetail()),f.setStyle(o.getStyle()),s.append(f),o.replace(s),u}if(r.length>1){const o=r[0];let u,f=o.getTextContent().length;e===0?u=o:[,u]=o.splitText(e);const d=[];let g;for(let v=1;v<r.length;v++){const _=r[v],S=_.getTextContent().length,x=f;if(x<t)if(f+S<=t)d.push(_);else{const[E,C]=_.splitText(t-x);d.push(E),g=C}f+=S}const p=V(),y=p?p.getNodes().find(se):void 0,b=Be(u.getTextContent());return b.setFormat(u.getFormat()),b.setDetail(u.getDetail()),b.setStyle(u.getStyle()),s.append(b,...d),y&&y===u&&(I(p)?b.select(p.anchor.offset,p.focus.offset):rt(p)&&b.select(0,b.getTextContent().length)),u.replace(s),g}}function Ah(r,e,t){const l=r.getChildren(),s=l.length;for(let d=0;d<s;d++){const g=l[d];if(!se(g)||!g.isSimpleText())return Lc(r),void t(null,r.getURL())}const o=r.getTextContent(),u=D0(o,e);if(u===null||u.text!==o||!z0(r)||!$0(r))return Lc(r),void t(null,r.getURL());const f=r.getURL();if(f!==u.url&&(r.setURL(u.url),t(u.url,f)),u.attributes){const d=r.getRel();d!==u.attributes.rel&&(r.setRel(u.attributes.rel||null),t(u.attributes.rel||null,d));const g=r.getTarget();g!==u.attributes.target&&(r.setTarget(u.attributes.target||null),t(u.attributes.target||null,g))}}function Lc(r){const e=r.getChildren();for(let t=e.length-1;t>=0;t--)r.insertAfter(e[t]);return r.remove(),e.map(t=>t.getLatest())}function gR(r,e,t){L.useEffect(()=>{r.hasNodes([Ac])||function(s,...o){const u=new URL("https://lexical.dev/docs/error"),f=new URLSearchParams;f.append("code",s);for(const d of o)f.append("v",d);throw u.search=f.toString(),Error(`Minified Lexical error #${s}; visit ${u.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}(77);const l=(s,o)=>{t&&t(s,o)};return mt(r.registerNodeTransform(sr,s=>{const o=s.getParentOrThrow(),u=s.getPreviousSibling();if(Yn(o)&&!o.getIsUnlinked())Ah(o,e,l);else if(!Dt(o)){if(s.isSimpleText()&&(Nh(s.getTextContent())||!Yn(u))){const f=function(d){const g=[d];let p=d.getNextSibling();for(;p!==null&&se(p)&&p.isSimpleText()&&(g.push(p),!/[\s]/.test(p.getTextContent()));)p=p.getNextSibling();return g}(s);(function(d,g,p){let y=[...d];const b=y.map(x=>x.getTextContent()).join("");let v,_=b,S=0;for(;(v=D0(_,g))&&v!==null;){const x=v.index,E=x+v.length;if(cR(S+x,S+E,b,y)){const[C,,T,O]=fR(y,S+x,S+E),N=dR(T,S+x-C,S+E-C,v);y=N?[N,...O]:O,p(v.url,null),S=0}else S+=E;_=_.substring(E)}})(f,e,l)}(function(f,d,g){const p=f.getPreviousSibling(),y=f.getNextSibling(),b=f.getTextContent();var v;!Yn(p)||p.getIsUnlinked()||Nh(b)&&(v=b,!(p.isEmailURI()?/^\.[a-zA-Z]{2,}/.test(v):/^\.[a-zA-Z0-9]{1,}/.test(v)))||(p.append(f),Ah(p,d,g),g(null,p.getURL())),!Yn(y)||y.getIsUnlinked()||L0(b)||(Lc(y),Ah(y,d,g),g(null,y.getURL()))})(s,e,l)}}),r.registerCommand(on,s=>{const o=V();return s!==null||!I(o)||o.extract().forEach(u=>{const f=u.getParent();if(Yn(f))return f.setIsUnlinked(!f.getIsUnlinked()),f.markDirty(),!0}),!1},De))},[r,e,t])}function hR({matchers:r,onChange:e}){const[t]=Fe();return gR(t,r,e),null}const pR=/((https?:\/\/|www\.)[a-zA-Z0-9-]+(\.[a-zA-Z0-9-]+)*(:\d+)?(\/[a-zA-Z0-9\-./?%&=]*)?)|([a-zA-Z0-9-]+(\.[a-zA-Z0-9-]+)*\.(com|net|org|edu|gov|mil|io|co|uk|de|ru|jp|fr|br|it|nl|pl|in|au|cn|es)(\:[0-9]{1,5})?(\/([\w#!:.?+=&%@!\-\/])*)?)/,mR=/(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))/,yR=[M0(pR,r=>r.startsWith("http")?r:`https://${r}`),M0(mR,r=>`mailto:${r}`)];function _R(){return $.jsx(hR,{matchers:yR})}function Oh(r){const e=r.anchor,t=r.focus,l=r.anchor.getNode(),s=r.focus.getNode();return l===s?l:r.isBackward()?cc(t)?l:s:cc(e)?l:s}const bR=10,vR=5;function F0(r,e,t,l=bR,s=vR){const o=t.parentElement;if(r===null||!o){e.style.opacity="0",e.style.transform="translate(-10000px, -10000px)";return}const u=e.getBoundingClientRect(),f=t.getBoundingClientRect(),d=o.getBoundingClientRect();let g=r.top-l,p=r.left-s;g<d.top&&(g+=u.height+r.height+l*2),p+u.width>d.right&&(p=d.right-u.width-s),g-=f.top,p-=f.left,e.style.opacity="1",e.style.transform=`translate(${p}px, ${g}px)`}function SR({editor:r,isLink:e,setIsLink:t,anchorElem:l,isLinkEditMode:s,setIsLinkEditMode:o,setIsManuallyClosing:u}){const f=L.useRef(null),d=L.useRef(null),[g,p]=L.useState(""),[y,b]=L.useState(""),[v,_]=L.useState(null),S=L.useCallback(()=>{var D,M;const C=V();if(I(C)){const k=Oh(C),U=ze(k,Dt);U?p(U.getURL()):Dt(k)?p(k.getURL()):p("")}const T=f.current,O=window.getSelection(),N=document.activeElement;if(T===null)return;const A=r.getRootElement();if(C!==null&&O!==null&&A!==null&&A.contains(O.anchorNode)&&r.isEditable()){const k=(M=(D=O.focusNode)==null?void 0:D.parentElement)==null?void 0:M.getBoundingClientRect();k&&(k.y+=40,F0(k,T,l))}else(!N||N.className!=="link-input")&&(A!==null&&F0(null,T,l),o(!1),p(""));return!0},[l,r,o]);L.useEffect(()=>{s&&(b(g),r.getEditorState().read(()=>{const C=V();if(I(C)&&!C.isCollapsed()){let T=function(U){if(!k){if(se(U)){const P=U.getTextContent();let J=0;for(;;){const j=P.indexOf(D,J);if(j===-1)break;if(I(C)&&U.getKey()===C.anchor.key&&j===C.anchor.offset&&j+D.length===C.focus.offset){k=!0;return}M++,J=j+1}}else if(U.getChildren){const P=U.getChildren();for(const J of P)if(T(J),k)return}}};const O=C.anchor.getNode(),N=O.getParent(),A=Je(),D=C.getTextContent();let M=0,k=!1;T(A),_({anchorKey:C.anchor.key,anchorOffset:C.anchor.offset,focusKey:C.focus.key,focusOffset:C.focus.offset,text:C.getTextContent(),parentKey:N?N.getKey():null,nodeTextContent:O.getTextContent(),globalOccurrenceIndex:M})}else _(null)}))},[s,g,r]),L.useEffect(()=>{const C=l.parentElement,T=()=>{r.getEditorState().read(()=>{S()})};return window.addEventListener("resize",T),C&&C.addEventListener("scroll",T),()=>{window.removeEventListener("resize",T),C&&C.removeEventListener("scroll",T)}},[l.parentElement,r,S]),L.useEffect(()=>mt(r.registerUpdateListener(({editorState:C})=>{C.read(()=>{S()})}),r.registerCommand(hn,()=>(S(),!0),De),r.registerCommand(sl,()=>e?(t(!1),!0):!1,bi)),[r,S,t,e]),L.useEffect(()=>{r.getEditorState().read(()=>{S()})},[r,S]),L.useEffect(()=>{s&&d.current&&d.current.focus()},[s,e]);const x=C=>{C.key==="Enter"?(C.preventDefault(),E()):C.key==="Escape"&&(C.preventDefault(),b(""),o(!1))},E=()=>{if(v!==null){let C=y.trim();if(C===""){b(""),o(!1),_(null);return}C.match(/^[a-z]+:/i)||(C="https://"+C);const T=k0(C);p(T),b(""),o(!1),r.update(()=>{try{let O=function(H,re){if(H.getKey&&H.getKey()===re)return H;if(H.getChildren){const z=H.getChildren();for(const G of z){const ie=O(G,re);if(ie)return ie}}return null},N=function(H,re){if(se(H)){const z=H.getTextContent();let G=0;for(;;){const ie=z.indexOf(k,G);if(ie===-1)break;if(re.value===le){H.select(ie,ie+k.length);const ue=V();if(I(ue))return r.dispatchCommand(on,T),setTimeout(()=>{r.getEditorState().read(()=>{const he=V();if(he&&I(he)){const Ce=he.anchor.getNode(),me=Ce.getParent();Dt(Ce)||Dt(me)||r.update(()=>{H.select(ie,ie+k.length);const ye=V();if(ye&&I(ye)){const $e=ye.getTextContent(),Ve=Sl(T),ne=Be($e);Ve.append(ne),ye.insertNodes([Ve])}})}})},100),!0}re.value++,G=ie+1}}else if(H.getChildren){const z=H.getChildren();for(const G of z)if(N(G,re))return!0}return!1},A=function(H){if(se(H)){const re=H.getTextContent(),z=H.getParent(),G=z?z.getKey():null;let ie=0;for(;;){const ue=re.indexOf(k,ie);if(ue===-1)break;if(H.getKey()===U&&Math.abs(ue-P)<=2){H.select(ue,ue+k.length);const he=V();if(I(he))return r.dispatchCommand(on,T),!0}else if(G===j&&re===Y){H.select(ue,ue+k.length);const he=V();if(I(he))return r.dispatchCommand(on,T),!0}else if(re===Y&&Math.abs(ue-P)<=2){H.select(ue,ue+k.length);const he=V();if(I(he))return r.dispatchCommand(on,T),!0}ie=ue+1}}else if(H.getChildren){const re=H.getChildren();for(const z of re)if(A(z))return!0}return!1},D=function(H){if(se(H)){const z=H.getTextContent().indexOf(k);if(z!==-1){H.select(z,z+k.length);const G=V();if(I(G))return r.dispatchCommand(on,T),!0}}else if(H.getChildren){const re=H.getChildren();for(const z of re)if(D(z))return!0}return!1};const M=Je(),k=v.text,U=v.anchorKey,P=v.anchorOffset,J=v.focusOffset,j=v.parentKey,Y=v.nodeTextContent,le=v.globalOccurrenceIndex,B=O(M,U);if(B&&se(B)&&B.getTextContent().substring(P,J)===k){B.select(P,J);const z=V();if(I(z)){r.dispatchCommand(on,T);return}}if(j){const H=O(M,j);if(H&&H.getChildren){const re=H.getChildren();for(const z of re)if(se(z)){const G=z.getTextContent();if(G===Y&&G.substring(P,J)===k){z.select(P,J);const ue=V();if(I(ue)){r.dispatchCommand(on,T);return}}}}}N(M,{value:0})||A(M)||D(M)||r.dispatchCommand(on,T)}catch{r.dispatchCommand(on,T)}setTimeout(()=>r.getEditorState().read(()=>S()),0)}),_(null)}};return $.jsx("div",{ref:f,className:"link-editor",children:!e&&!s?null:s?$.jsxs($.Fragment,{children:[$.jsx("input",{ref:d,className:"link-input",value:y,onChange:C=>{b(C.target.value)},onKeyDown:C=>{x(C)}}),$.jsxs("div",{children:[$.jsx("div",{className:"link-cancel",role:"button",tabIndex:0,onMouseDown:C=>C.preventDefault(),onClick:()=>{b(""),o(!1)}}),$.jsx("div",{className:"link-confirm",role:"button",tabIndex:0,onMouseDown:C=>C.preventDefault(),onClick:E})]})]}):$.jsxs("div",{className:"link-view",children:[$.jsx("a",{href:k0(g),target:"_blank",rel:"noopener noreferrer",children:g}),$.jsx("div",{className:"link-edit",role:"button",tabIndex:0,onMouseDown:C=>C.preventDefault(),onClick:()=>{b(g),o(!0)}}),$.jsx("div",{className:"link-trash",role:"button",tabIndex:0,onMouseDown:C=>C.preventDefault(),onClick:()=>{u(!0),r.dispatchCommand(on,null),o(!1),t(!1),setTimeout(()=>{u(!1)},200)}})]})})}function xR(r,e,t,l){const[s,o]=L.useState(r),[u,f]=L.useState(!1),[d,g]=L.useState(!1);return L.useEffect(()=>{function p(){if(d)return;if(t){f(!0);return}const y=V();if(I(y)){const b=Oh(y),v=ze(b,Dt),_=ze(b,Yn);if(!(v||_)){f(!1);return}const S=y.getNodes().filter(x=>!Nn(x)).find(x=>{const E=ze(x,Dt),C=ze(x,Yn);return v&&!v.is(E)||E&&!E.is(v)||_&&!_.is(C)||C&&!C.is(_)});f(!S)}}return mt(r.registerUpdateListener(({editorState:y})=>{y.read(()=>{p()})}),r.registerCommand(hn,(y,b)=>(p(),o(b),!1),Rn),r.registerCommand(di,y=>{const b=V();if(I(b)){const v=Oh(b),_=ze(v,Dt);if(Dt(_)&&(y.metaKey||y.ctrlKey))return window.open(_.getURL(),"_blank"),!0}return!1},De))},[r,d,t]),kn.createPortal($.jsx(SR,{editor:s,isLink:u,anchorElem:e,setIsLink:f,isLinkEditMode:t,setIsLinkEditMode:l,setIsManuallyClosing:g}),e)}function CR({anchorElem:r=document.body,isLinkEditMode:e,setIsLinkEditMode:t}){const[l]=Fe();return xR(l,r,e,t)}const ER={ltr:"ltr",rtl:"rtl",placeholder:"editor-placeholder",paragraph:"editor-paragraph",quote:"editor-quote",heading:{h1:"editor-heading-h1",h2:"editor-heading-h2",h3:"editor-heading-h3",h4:"editor-heading-h4",h5:"editor-heading-h5"},list:{nested:{listitem:"editor-nested-listitem"},ol:"editor-list-ol",ul:"editor-list-ul",listitem:"editor-listitem"},image:"editor-image",link:"editor-link",text:{bold:"editor-text-bold",italic:"editor-text-italic",overflowed:"editor-text-overflowed",hashtag:"editor-text-hashtag",underline:"editor-text-underline",strikethrough:"editor-text-strikethrough",underlineStrikethrough:"editor-text-underlineStrikethrough",code:"editor-text-code"},code:"editor-code",codeHighlight:{atrule:"editor-tokenAttr",attr:"editor-tokenAttr",boolean:"editor-tokenProperty",builtin:"editor-tokenSelector",cdata:"editor-tokenComment",char:"editor-tokenSelector",class:"editor-tokenFunction","class-name":"editor-tokenFunction",comment:"editor-tokenComment",constant:"editor-tokenProperty",deleted:"editor-tokenProperty",doctype:"editor-tokenComment",entity:"editor-tokenOperator",function:"editor-tokenFunction",important:"editor-tokenVariable",inserted:"editor-tokenSelector",keyword:"editor-tokenAttr",namespace:"editor-tokenVariable",number:"editor-tokenProperty",operator:"editor-tokenOperator",prolog:"editor-tokenComment",property:"editor-tokenProperty",punctuation:"editor-tokenPunctuation",regex:"editor-tokenVariable",selector:"editor-tokenSelector",string:"editor-tokenSelector",symbol:"editor-tokenProperty",tag:"editor-tokenProperty",url:"editor-tokenOperator",variable:"editor-tokenVariable"},hr:"editor-rule",table:"editor-table"},TR=`\\.,\\*\\?\\$\\|#{}\\(\\)\\^\\[\\]\\\\/!%'"~=<>_:;`,B0="startTransition",Rh=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,wR=Rh?L.useLayoutEffect:L.useEffect,U0=r=>{const e=document.getElementById("typeahead-menu");if(!e)return;const t=e.getBoundingClientRect();t.top+t.height>window.innerHeight&&e.scrollIntoView({block:"center"}),t.top<0&&e.scrollIntoView({block:"center"}),r.scrollIntoView({block:"nearest"})};function j0(r,e){const t=r.getBoundingClientRect(),l=e.getBoundingClientRect();return t.top>l.top&&t.top<l.bottom}function NR(r,e,t,l){const[s]=Fe();L.useEffect(()=>{if(e!=null&&r!=null){const o=s.getRootElement(),u=o!=null?function(y,b){let v=getComputedStyle(y);const _=v.position==="absolute",S=/(auto|scroll)/;if(v.position==="fixed")return document.body;for(let x=y;x=x.parentElement;)if(v=getComputedStyle(x),(!_||v.position!=="static")&&S.test(v.overflow+v.overflowY+v.overflowX))return x;return document.body}(o):document.body;let f=!1,d=j0(e,u);const g=function(){f||(window.requestAnimationFrame(function(){t(),f=!1}),f=!0);const y=j0(e,u);y!==d&&(d=y,l!=null&&l(y))},p=new ResizeObserver(t);return window.addEventListener("resize",t),document.addEventListener("scroll",g,{capture:!0,passive:!0}),p.observe(e),()=>{p.unobserve(e),window.removeEventListener("resize",t),document.removeEventListener("scroll",g,!0)}}},[e,s,l,t,r])}const H0=Ee("SCROLL_TYPEAHEAD_OPTION_INTO_VIEW_COMMAND");function AR({close:r,editor:e,anchorElementRef:t,resolution:l,options:s,menuRenderFn:o,onSelectOption:u,shouldSplitNodeWithQuery:f=!1,commandPriority:d=De,preselectFirstItem:g=!0}){const[p,y]=L.useState(null),b=l.match&&l.match.matchingString;L.useEffect(()=>{g&&y(0)},[b,g]);const v=L.useCallback(S=>{e.update(()=>{const x=l.match!=null&&f?function(E){const C=V();if(!I(C)||!C.isCollapsed())return null;const T=C.anchor;if(T.type!=="text")return null;const O=T.getNode();if(!O.isSimpleText())return null;const N=T.offset,A=O.getTextContent().slice(0,N),D=E.replaceableString.length,M=N-function(U,P,J){let j=J;for(let Y=j;Y<=P.length;Y++)U.slice(-Y)===P.substring(0,Y)&&(j=Y);return j}(A,E.matchingString,D);if(M<0)return null;let k;return M===0?[k]=O.splitText(N):[,k]=O.splitText(M,N),k}(l.match):null;u(S,x,r,l.match?l.match.matchingString:"")})},[e,f,l.match,u,r]),_=L.useCallback(S=>{const x=e.getRootElement();x!==null&&(x.setAttribute("aria-activedescendant","typeahead-item-"+S),y(S))},[e]);return L.useEffect(()=>()=>{const S=e.getRootElement();S!==null&&S.removeAttribute("aria-activedescendant")},[e]),wR(()=>{s===null?y(null):p===null&&g&&_(0)},[s,p,_,g]),L.useEffect(()=>mt(e.registerCommand(H0,({option:S})=>!(!S.ref||S.ref.current==null)&&(U0(S.ref.current),!0),d)),[e,_,d]),L.useEffect(()=>mt(e.registerCommand(Aa,S=>{const x=S;if(s!==null&&s.length){const E=p===null?0:p!==s.length-1?p+1:0;_(E);const C=s[E];C.ref!=null&&C.ref.current&&e.dispatchCommand(H0,{index:E,option:C}),x.preventDefault(),x.stopImmediatePropagation()}return!0},d),e.registerCommand(Na,S=>{const x=S;if(s!==null&&s.length){const E=p===null?s.length-1:p!==0?p-1:s.length-1;_(E);const C=s[E];C.ref!=null&&C.ref.current&&U0(C.ref.current),x.preventDefault(),x.stopImmediatePropagation()}return!0},d),e.registerCommand(sl,S=>{const x=S;return x.preventDefault(),x.stopImmediatePropagation(),r(),!0},d),e.registerCommand(es,S=>{const x=S;return s!==null&&p!==null&&s[p]!=null&&(x.preventDefault(),x.stopImmediatePropagation(),v(s[p]),!0)},d),e.registerCommand(yi,S=>s!==null&&p!==null&&s[p]!=null&&(S!==null&&(S.preventDefault(),S.stopImmediatePropagation()),v(s[p]),!0),d)),[v,r,e,s,p,_,d]),o(t,L.useMemo(()=>({options:s,selectOptionAndCleanUp:v,selectedIndex:p,setHighlightedIndex:y}),[v,p,s]),l.match?l.match.matchingString:"")}function K0(r,e){e!=null&&(r.className=e),r.setAttribute("aria-label","Typeahead menu"),r.setAttribute("role","listbox"),r.style.display="block",r.style.position="absolute"}function OR({options:r,onQueryChange:e,onSelectOption:t,onOpen:l,onClose:s,menuRenderFn:o,triggerFn:u,anchorClassName:f,commandPriority:d=De,parent:g,preselectFirstItem:p=!0,ignoreEntityBoundary:y=!1}){const[b]=Fe(),[v,_]=L.useState(null),S=function(C,T,O,N=Rh?document.body:void 0,A=!0){const[D]=Fe(),M=L.useRef(Rh?document.createElement("div"):null),k=L.useCallback(()=>{if(M.current===null||N===void 0)return;M.current.style.top=M.current.style.bottom;const J=D.getRootElement(),j=M.current,Y=j.firstChild;if(J!==null&&C!==null){const{left:le,top:B,width:X,height:H}=C.getRect(),re=M.current.offsetHeight;if(j.style.top=`${B+re+3+(A?window.pageYOffset:0)}px`,j.style.left=`${le+window.pageXOffset}px`,j.style.height=`${H}px`,j.style.width=`${X}px`,Y!==null){Y.style.top=`${B}`;const z=Y.getBoundingClientRect(),G=z.height,ie=z.width,ue=J.getBoundingClientRect();le+ie>ue.right&&(j.style.left=`${ue.right-ie+window.pageXOffset}px`),(B+G>window.innerHeight||B+G>ue.bottom)&&B-ue.top>G+H&&(j.style.top=`${B-G-H+(A?window.pageYOffset:0)}px`)}j.isConnected||(K0(j,O),N.append(j)),j.setAttribute("id","typeahead-menu"),M.current=j,J.setAttribute("aria-controls","typeahead-menu")}},[D,C,A,O,N]);L.useEffect(()=>{const J=D.getRootElement();return C!==null&&k(),()=>{J!==null&&J.removeAttribute("aria-controls");const j=M.current;j!==null&&j.isConnected&&(j.remove(),j.removeAttribute("id"))}},[D,k,C]);const U=L.useCallback(J=>{C!==null&&(J||T(null))},[C,T]);NR(C,M.current,k,U);const P=M.current;return P!=null&&(K0(P,O),N!=null&&N.append(P)),M}(v,_,f,g),x=L.useCallback(()=>{_(null),s!=null&&v!==null&&s()},[s,v]),E=L.useCallback(C=>{_(C),l!=null&&v===null&&l(C)},[l,v]);return L.useEffect(()=>{const C=b.registerUpdateListener(()=>{b.getEditorState().read(()=>{if(!b.isEditable())return void x();const T=b._window||window,O=T.document.createRange(),N=V(),A=function(k){let U=null;return k.getEditorState().read(()=>{const P=V();I(P)&&(U=function(J){const j=J.anchor;if(j.type!=="text")return null;const Y=j.getNode();if(!Y.isSimpleText())return null;const le=j.offset;return Y.getTextContent().slice(0,le)}(P))}),U}(b);if(!I(N)||!N.isCollapsed()||A===null||O===null)return void x();const D=u(A,b);if(e(D?D.matchingString:null),D!==null&&(y||!function(k,U){return U===0&&k.getEditorState().read(()=>{const P=V();if(I(P)){const J=P.anchor.getNode().getPreviousSibling();return se(J)&&J.isTextEntity()}return!1})}(b,D.leadOffset))&&function(U,P,J){const j=Qt(J);if(j===null||!j.isCollapsed)return!1;const Y=j.anchorNode,le=U,B=j.anchorOffset;if(Y==null||B==null)return!1;try{P.setStart(Y,le),P.setEnd(Y,B)}catch{return!1}return!0}(D.leadOffset,O,T)!==null)return M=()=>E({getRect:()=>O.getBoundingClientRect(),match:D}),void(B0 in cd?cd[B0](M):M());var M;x()})});return()=>{C()}},[b,u,e,v,x,E,y]),L.useEffect(()=>b.registerEditableListener(C=>{C||x()}),[b,x]),v===null||b===null||S.current===null?null:$.jsx(AR,{close:x,resolution:v,editor:b,anchorElementRef:S,options:r,menuRenderFn:o,shouldSplitNodeWithQuery:!0,onSelectOption:t,commandPriority:d,preselectFirstItem:p})}const Es=typeof window<"u"&&typeof window.document.createElement<"u",RR=Es&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,oo=Es&&window.matchMedia("(pointer: coarse)").matches,kR=Es?L.useLayoutEffect:L.useEffect,kh=()=>{const[r]=Fe(),[e,t]=L.useState(()=>Es?r.getRootElement()===document.activeElement:!1);return kR(()=>mt(r.registerCommand(Lu,()=>(t(!0),!1),as),r.registerCommand(zu,()=>(t(!1),!1),as)),[r]),e};function MR(r){const{value:e,trigger:t,data:l,className:s,classNameFocused:o,classNames:u,nodeKey:f,component:d}=r,[g]=Fe(),p=kh(),[y,b,v]=gh(f),_=L.useRef(null),S=t+e,x=L.useMemo(()=>{if(s){const D=[s];return y&&p&&o&&D.push(o),D.join(" ").trim()||void 0}return""},[y,s,o,p]),E=L.useCallback(D=>{if(y&&rt(V())){D.preventDefault();const M=Ge(f);El(M)&&M.remove()}return!1},[y,f]),C=L.useCallback(D=>{const M=Ge(f);if(!(M!=null&&M.isSelected()))return!1;let k=!1;const U=Fc(M);return Q(U)&&(U.selectEnd(),k=!0),se(U)&&(U.select(),k=!0),Ke(U)&&(U.selectNext(),k=!0),U===null&&(M.selectPrevious(),k=!0),k&&D.preventDefault(),k},[f]),T=L.useCallback(D=>{const M=Ge(f);if(!(M!=null&&M.isSelected()))return!1;let k=!1;const U=$c(M);return Q(U)&&(U.selectStart(),k=!0),se(U)&&(U.select(0,0),k=!0),Ke(U)&&(U.selectPrevious(),k=!0),U===null&&(M.selectNext(),k=!0),k&&D.preventDefault(),k},[f]),O=L.useCallback(D=>{var M;return D.target===_.current||!((M=_.current)===null||M===void 0)&&M.contains(D.target)?(D.shiftKey||v(),b(!0),!0):!1},[v,b]),N=L.useCallback(()=>{const D=Ge(f);if(!(D!=null&&D.isSelected()))return!1;const M=V();return rt(M)&&Ye(null),!1},[f]),A=L.useCallback(()=>RR&&y?(b(!1),!0):!1,[y,b]);return L.useEffect(()=>{const D=mt(g.registerCommand(di,O,De),g.registerCommand(Jl,E,De),g.registerCommand(_i,E,De),g.registerCommand(wa,C,De),g.registerCommand(Ta,T,De),g.registerCommand(zu,N,De),g.registerCommand(hn,A,De));return()=>{D()}},[g,C,T,O,E,N,A]),d?$.jsx(d,{ref:_,trigger:t,value:e,data:l,className:x,"data-beautiful-mention":S,children:S}):u?$.jsxs("span",{ref:_,className:y&&u.containerFocused?u.containerFocused:u.container,"data-beautiful-mention":S,children:[$.jsx("span",{className:u.trigger,children:t}),$.jsx("span",{className:u.value,children:e})]}):$.jsx("span",{ref:_,className:x,"data-beautiful-mention":S,children:S})}function DR(r){const e=r.getAttribute("data-lexical-beautiful-mention-trigger"),t=r.getAttribute("data-lexical-beautiful-mention-value");let l;const s=r.getAttribute("data-lexical-beautiful-mention-data");if(s)try{l=JSON.parse(s)}catch(o){console.warn("Failed to parse data attribute of beautiful mention node",o)}return e!=null&&t!==null?{node:uo(e,t,l)}:null}class Ai extends Gu{static getType(){return"beautifulMention"}static clone(e){return new Ai(e.__trigger,e.__value,e.__data,e.__key)}constructor(e,t,l,s){super(s),this.__trigger=e,this.__value=t,this.__data=l}createDOM(){return document.createElement("span")}updateDOM(){return!1}exportDOM(){const e=document.createElement("span");return e.setAttribute("data-lexical-beautiful-mention","true"),e.setAttribute("data-lexical-beautiful-mention-trigger",this.__trigger),e.setAttribute("data-lexical-beautiful-mention-value",this.__value),this.__data&&e.setAttribute("data-lexical-beautiful-mention-data",JSON.stringify(this.__data)),e.textContent=this.getTextContent(),{element:e}}static importDOM(){return{span:e=>e.hasAttribute("data-lexical-beautiful-mention")?{conversion:DR,priority:1}:null}}static importJSON(e){return uo(e.trigger,e.value,e.data)}exportJSON(){const e=this.__data;return Object.assign(Object.assign({trigger:this.__trigger,value:this.__value},e?{data:e}:{}),{type:"beautifulMention",version:1})}getTextContent(){const e=this.getLatest();return e.__trigger+e.__value}getTrigger(){return this.getLatest().__trigger}getValue(){return this.getLatest().__value}setValue(e){const t=this.getWritable();t.__value=e}getData(){return this.getLatest().__data}setData(e){const t=this.getWritable();t.__data=e}component(){return null}decorate(e,t){const{className:l,classNameFocused:s,classNames:o}=this.getCssClassesFromTheme(t);return $.jsx(MR,{nodeKey:this.getKey(),trigger:this.getTrigger(),value:this.getValue(),data:this.getData(),className:l,classNameFocused:s,classNames:o,component:this.component()})}getCssClassesFromTheme(e){var t;const l=e.theme.beautifulMentions||{},s=Object.entries(l).find(([p])=>new RegExp(p).test(this.__trigger)),o=(t=s==null?void 0:s[0])!==null&&t!==void 0?t:"",u=s==null?void 0:s[1],f=typeof u=="string"?u:void 0,d=f&&typeof l[o+"Focused"]=="string"?l[o+"Focused"]:void 0;return{className:f,classNameFocused:d,classNames:s&&typeof u!="string"?u:void 0}}}function uo(r,e,t){const l=new Ai(r,e,t);return At(l)}function El(r){return r instanceof Ai}const LR="​";class zc extends sr{static getType(){return"zeroWidth"}static clone(e){return new zc(e.__textContent,e.__key)}static importJSON(e){return zR()}constructor(e,t){super(LR,t),this.__textContent=e}exportJSON(){return Object.assign(Object.assign({},super.exportJSON()),{text:"",type:"zeroWidth"})}updateDOM(){return!1}static importDOM(){return null}exportDOM(e){return{element:null}}isTextEntity(){return!0}getTextContent(){return this.__textContent}}function zR(r=""){const e=new zc(r);return e.setMode("segmented"),At(e)}function Mh(r){return r instanceof zc}const $R=`\\.,\\*\\?\\$\\|#{}\\(\\)\\^\\[\\]\\\\/!%'"~=<>_:;`,FR="\\(",BR=r=>"(?:"+r.join("|")+")",I0=(r,e)=>(r.length===0?"":"(?!"+r.join("|")+")")+"[^\\s"+e+"]",UR=75;function Dh(r,e,t){return new RegExp(I0(e,t)).test(r)}function co(r,e){const t=V();if(!t||!I(t))return;const l=t.anchor,s=t.focus,[o]=t.getNodes();if(l.key!==s.key||l.offset!==s.offset||!o)return;const u=se(o)&&o.isSimpleText(),f=l.type,d=l.offset,g=Ar(o),p=d===0,y=g.length===d,b=g.charAt(d-1),v=g.charAt(d),_=Dh(b,r,e),S=Dh(v,r,e),x=/\s/.test(b),E=/\s/.test(v),C=Fc(o),T=$c(o),O=o.getParent(),N={node:o,type:f,offset:d,isTextNode:u,textContent:g,selection:t,prevNode:C,nextNode:T,parentNode:O,cursorAtStartOfNode:p,cursorAtEndOfNode:y,wordCharBeforeCursor:_,wordCharAfterCursor:S,spaceBeforeCursor:x,spaceAfterCursor:E};return u?Object.assign(Object.assign({},N),{isTextNode:!0,node:o}):Object.assign(Object.assign({},N),{isTextNode:!1,node:o})}function $c(r){let e=r.getNextSibling();for(;e!==null&&Mh(e);)e=e.getNextSibling();return e}function Fc(r){let e=r.getPreviousSibling();for(;e!==null&&Mh(e);)e=e.getPreviousSibling();return e}function Ar(r){return Mh(r)?"":r.getTextContent()}function jR(r,e){return typeof r=="string"||typeof r=="boolean"?r:e===null?!1:typeof r=="object"?r[e]:!1}function HR(r,e){return typeof r=="number"||r===!1?r:typeof r>"u"?5:e===null?!1:typeof r=="object"?r[e]:5}function KR(r){const e=r.getLastDescendant();return Q(e)||se(e)?e:Ke(e)?e.getParent():r}function Lh(){const r=Je(),e=KR(r),t=e==null?void 0:e.getKey(),l=Q(e)?e.getChildrenSize():se(e)?Ar(e).length:0,s=Q(e)?"element":"text";if(t){const o=is();o.anchor.set(t,l,s),o.focus.set(t,l,s),Ye(o)}}function fo(r){return r=r??Ya(),vw(Ai)}class zh{constructor(e,t,l){this.value=e,this.displayValue=t,this.data=l,this.key=l?JSON.stringify(Object.assign(Object.assign({},l),{value:e})):e,this.displayValue=t??e,this.ref={current:null},this.setRefElement=this.setRefElement.bind(this)}setRefElement(e){this.ref={current:e}}}function P0(r){const e=V();if(!I(e)||!e.isCollapsed())return null;const t=e.anchor;if(t.type!=="text")return null;const l=t.getNode();if(!l.isSimpleText())return null;const s=t.offset,o=Ar(l).slice(0,s),u=r.replaceableString.length,f=IR(o,r.matchingString,u),d=s-f;if(d<0)return null;let g;return d===0?[g]=l.splitText(s):[,g]=l.splitText(d,s),g}function IR(r,e,t){let l=t;for(let s=l;s<=e.length;s++)r.substring(-s)===e.substring(0,s)&&(l=s);return l}class Bc extends _n{static getType(){return"placeholder"}static clone(e){return new Bc(e.__textContent,e.__key)}constructor(e,t){super(t),this.__textContent=e}createDOM(e){const t=document.createElement("img");return t.style.display="inline",t.style.border="none",t.style.margin="0",t.style.height="1px",t.style.width="1px",t}updateDOM(){return!1}static importDOM(){return null}static importJSON(e){return PR()}isInline(){return!0}exportJSON(){return Object.assign(Object.assign({},super.exportJSON()),{type:"placeholder"})}getTextContent(){return""}}function PR(r=""){const e=new Bc(r);return At(e)}function qR(r){return r instanceof Bc}const q0=Ee("INSERT_MENTION_COMMAND"),Y0=Ee("REMOVE_MENTIONS_COMMAND"),V0=Ee("RENAME_MENTIONS_COMMAND"),G0=Ee("OPEN_MENTION_MENU_COMMAND");function X0(r,e,t,l){return Z0(r,e,t,void 0,void 0,l)}function YR(r,e,t,l,s,o){return Z0(r,e,t,l,s,o)}function Z0(r,e,t,l,s,o){const u=co(r,e);if(!u)return!1;const{node:f,selection:d,wordCharBeforeCursor:g,wordCharAfterCursor:p,cursorAtStartOfNode:y,cursorAtEndOfNode:b,prevNode:v,nextNode:_}=u,S=l?uo(t,l,s):Be(t),x=[];if(!(On(f)&&y)&&!se(f))return o&&x.push(Be(" ")),x.push(S),d.insertNodes(x),!0;let E=null;return o&&(g||y&&v!==null&&!se(v))&&x.push(Be(" ")),x.push(S),o&&(p||b&&_!==null&&!se(_))&&(E=Be(" "),x.push(E)),d.insertNodes(x),x.length>1&&(se(S)?S.select():E&&E.selectPrevious()),!0}function VR(r,e,t=!0){let l=!1,s=null,o=null;const u=fo();for(const f of u){const d=f.getTrigger()===r,g=f.getValue()===e;d&&(g||!e)&&(s=Fc(f),o=$c(f),f.remove(),l=!0,se(s)&&Ar(s).endsWith(" ")&&o&&Ar(o).startsWith(" ")&&s.setTextContent(Ar(s).slice(0,-1)),(o===null||qR(o))&&se(s)&&Ar(s).endsWith(" ")&&s.setTextContent(Ar(s).trimEnd()))}return l&&t?Q0(s,o):t||Ye(null),l}function GR(r,e,t,l=!0){const s=fo();let o=null;for(const u of s){const f=u.getTrigger()===r,d=u.getValue()===t;f&&(d||!t)&&(o=u,u.setValue(e))}if(o&&l){const u=Fc(o),f=$c(o);Q0(u,f),f&&se(f)?f.select(0,0):Lh()}else l||Ye(null);return o!==null}function Q0(r,e){e&&se(e)?e.select(0,0):r&&se(r)?r.select():Lh()}class $h extends zh{constructor(e,t,l,s={}){super(t,l,s),this.itemType=e,this.comboboxItem={itemType:e,value:t,displayValue:l,data:s},this.menuOption=new zh(t,l,s)}}function Fh(r){let e=null;return r.getEditorState().read(()=>{const t=V();I(t)&&(e=XR(t))}),e}function XR(r){const e=r.anchor;if(e.type!=="text")return null;const t=e.getNode();if(!t.isSimpleText())return null;const l=e.offset;return Ar(t).slice(0,l)}function ZR(r){return r.key.length===1&&!r.ctrlKey&&!r.altKey&&!r.metaKey&&!r.repeat}function QR(r,e,t){const[l]=Fe(),[s,o]=L.useState(e??null),[u,f]=L.useState(null);return L.useEffect(()=>{if(e){o(e);return}return l.registerRootListener(d=>{d&&o(d.parentElement)})},[l,e]),L.useEffect(()=>{if(!s)return;if(!r){u&&(u.remove(),f(null));return}const{height:d}=s.getBoundingClientRect(),g=u??document.createElement("div");g.style.position="absolute",g.style.left="0",g.style.right="0",g.style.paddingTop=`${d}px`,s.prepend(g),u||f(g);const p=new ResizeObserver(([y])=>{g.style.paddingTop=`${y.contentRect.height}px`});return p.observe(s),setTimeout(()=>{g.className=t??""}),()=>{p.disconnect(),s.removeChild(g)}},[s,r,u,t]),u}function WR(r,e){var t;const l=(t=r.split(/\s/).pop())!==null&&t!==void 0?t:r,s=r!==l?r.lastIndexOf(l):0;return e.some(u=>u.startsWith(l)&&u!==l)?{leadOffset:s,matchingString:l,replaceableString:l}:null}function JR(r){var e;const{onSelectOption:t,triggers:l,punctuation:s,autoSpace:o,loading:u,triggerFn:f,onQueryChange:d,onReset:g,comboboxAnchor:p,comboboxAnchorClassName:y,comboboxComponent:b="div",comboboxItemComponent:v="div",onComboboxOpen:_,onComboboxClose:S,onComboboxFocusChange:x,comboboxAdditionalItems:E=[],onComboboxItemSelect:C}=r,T=kh(),[O]=Fe(),[N,A]=L.useState(null),[D,M]=L.useState(null),[k,U]=L.useState(null),[P,J]=L.useState(null),j=r.options.length===0?"trigger":"value",Y=L.useMemo(()=>{const ne=E.map(fe=>new $h("additional",fe.value,fe.displayValue,fe.data));if(j==="trigger"){const fe=l.map(de=>new $h("trigger",de,de));return!P||fe.every(de=>!de.value.startsWith(P))?[...fe,...ne]:[...fe.filter(de=>de.value.startsWith(P)),...ne]}return[...r.options.map(fe=>new $h("value",fe.value,fe.displayValue,fe.data)),...ne]},[E,j,r.options,l,P]),[le,B]=L.useState((e=r.comboboxOpen)!==null&&e!==void 0?e:!1),X=QR(le,p,y),H=L.useCallback(ne=>{oo||A(ne)},[]),re=L.useCallback(ne=>{var fe;const Se=(fe=Y[ne].ref)===null||fe===void 0?void 0:fe.current;Se&&Se.scrollIntoView({block:"nearest"})},[Y]),z=L.useCallback((ne,fe)=>{if(!T)return!1;let de;return fe==="up"?N===null?de=Y.length-1:N===0?de=null:de=N-1:N===null?de=0:N===Y.length-1?de=null:de=N+1,H(de),de&&re(de),ne.preventDefault(),ne.stopImmediatePropagation(),!0},[T,N,Y.length,re,H]),G=L.useCallback(ne=>{H(ne),re(ne)},[re,H]),ie=L.useCallback(()=>{H(null)},[H]),ue=L.useCallback(ne=>{const fe=Y[ne];C==null||C(fe.comboboxItem),fe.itemType!=="additional"&&(O.update(()=>{const de=k?P0(k):null;t(fe.menuOption,de)}),U(null),d(null),J(null),H(null))},[Y,O,d,H,C,k,t]),he=L.useCallback(ne=>{const fe=Y[ne];C==null||C(fe.comboboxItem),fe.itemType!=="additional"&&(O.update(()=>{const de=D?P0(D):null;if(de){const Se=Be(fe.value);de.replace(Se),Se.select()}else X0(l,s,fe.value,o)}),M(null),J(null),H(0))},[Y,O,H,C,D,l,s,o]),Ce=L.useCallback(ne=>{j==="trigger"&&he(ne),j==="value"&&ue(ne)},[j,he,ue]),me=L.useCallback(ne=>{if(!T||N===null)return!1;let fe=!1;return j==="trigger"&&(fe=!0,he(N)),j==="value"&&(fe=!0,ue(N)),fe&&(ne.preventDefault(),ne.stopImmediatePropagation()),fe},[T,ue,he,j,N]),pe=L.useCallback(()=>{const ne=Fh(O),fe=ne?ne.substring(0,ne.length-1):void 0;return fe!=null&&fe.trim()||H(null),!1},[O,H]),ye=L.useCallback(ne=>{if(B(!0),!ZR(ne))return!1;const fe=Fh(O),Se=(fe===null?ne.key:fe+ne.key).trim();return Y.some(xe=>xe.displayValue.startsWith(Se)&&Se.length<=xe.displayValue.length)?H(0):j==="trigger"&&H(null),!1},[O,Y,j,H]),$e=L.useCallback(()=>(B(!0),!1),[]),Ve=L.useCallback(()=>(B(!1),P||(J(null),M(null),U(null)),!1),[P]);return L.useEffect(()=>mt(O.registerCommand(Aa,ne=>z(ne,"down"),De),O.registerCommand(Na,ne=>z(ne,"up"),De),O.registerCommand(yi,me,as),O.registerCommand(es,me,De),O.registerCommand(_i,pe,De),O.registerCommand(jd,ye,De),O.registerCommand(Lu,$e,as),O.registerCommand(di,()=>(le||B(!0),!1),De),O.registerCommand(sl,()=>(B(!1),!1),De)),[O,le,z,me,pe,ye,$e]),L.useEffect(()=>{const ne=()=>{O.getEditorState().read(()=>{const fe=Fh(O);if(fe===null){g(),M(null),U(null),d(null),J(null);return}const de=WR(fe,l);if(M(de),de){J(de.matchingString),U(null);return}const Se=f(fe,O);if(U(Se),d(Se?Se.matchingString:null),Se!=null&&Se.matchingString){J(Se.matchingString);return}J(null)})};return O.registerUpdateListener(ne)},[O,f,d,g,l]),L.useEffect(()=>{var ne;B((ne=r.comboboxOpen)!==null&&ne!==void 0?ne:!1)},[r.comboboxOpen]),L.useEffect(()=>{le?_==null||_():(A(null),S==null||S())},[_,S,le]),L.useEffect(()=>{N!==null&&Y[N]?x==null||x(Y[N].comboboxItem):x==null||x(null)},[N,Y,x]),L.useEffect(()=>{if(!Es)return;const ne=O.getRootElement(),fe=de=>{X&&!X.contains(de.target)&&ne&&!ne.contains(de.target)&&Ve()};return document.addEventListener("mousedown",fe),()=>{document.removeEventListener("mousedown",fe)}},[X,O,Ve]),!le||!X?null:kn.createPortal($.jsx(b,{loading:u,itemType:j,role:"menu","aria-activedescendant":N!==null&&Y[N]?Y[N].displayValue:"","aria-label":"Choose trigger and value","aria-hidden":!le,children:Y.map((ne,fe)=>$.jsx(v,{selected:fe===N,role:"menuitem","aria-selected":N===fe,"aria-label":`Choose ${ne.value}`,item:ne.comboboxItem,ref:ne.setRefElement,onClick:()=>{Ce(fe)},onMouseEnter:()=>{G(fe)},onMouseLeave:ie,onMouseDown:de=>{de.preventDefault()},children:ne.displayValue},ne.key))}),X)}function ek(r,e){const[t,l]=L.useState(r);return L.useEffect(()=>{const s=setTimeout(()=>{l(r)},e);return()=>{clearTimeout(s)}},[r,e]),t}function tk(r){const{queryString:e,trigger:t,searchDelay:l,items:s,onSearch:o,justSelectedAnOption:u}=r,f=ek(e,l),[d,g]=L.useState(!1),[p,y]=L.useState([]),[b,v]=L.useState(null);return L.useEffect(()=>{if(!s)return;if(t===null){y([]),v(null);return}const _=Object.entries(s).find(([x])=>new RegExp(x).test(t));if(!_)return;const S=e?_[1].filter(x=>(typeof x=="string"?x:x.value).toLowerCase().includes(e.toLowerCase())):[..._[1]];y(S),v(e)},[s,t,e]),L.useEffect(()=>{if(o){if(t===null||f===null){y([]),v(null);return}g(!0),v(f),o(t,u!=null&&u.current?"":f).then(_=>{y(_)}).finally(()=>{g(!1)}),u!=null&&u.current&&(u.current=!1)}},[f,o,t,u]),L.useMemo(()=>({loading:d,results:p,query:b}),[d,p,b])}var nk=function(r,e){var t={};for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&e.indexOf(l)<0&&(t[l]=r[l]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,l=Object.getOwnPropertySymbols(r);s<l.length;s++)e.indexOf(l[s])<0&&Object.prototype.propertyIsEnumerable.call(r,l[s])&&(t[l[s]]=r[l[s]]);return t};class Uc extends zh{constructor(e,t,l,s){super(t,l,s),this.trigger=e,this.menuItem={trigger:e,value:t,displayValue:l,data:s}}}const rk=r=>"(?:\\.[ |$]|\\s|["+r+"]|)";function ik(r,e,t,l){return new RegExp((e?`(^|\\s|${e})(`:"(^|\\s)(")+BR(r)+"((?:"+I0(r,t)+(l?rk(t):"")+"){0,"+UR+"}))$")}function W0(r,e,t,l,s){const o=ik(e,t,l,s).exec(r);if(o!==null){const u=o[1],f=o[2],d=o[3];if(f.length>=1)return{leadOffset:o.index+u.length,matchingString:d,replaceableString:f}}return null}function J0(r){const{items:e,onSearch:t,autoSpace:l=!0,searchDelay:s=r.onSearch?250:0,allowSpaces:o=!0,insertOnBlur:u=!0,menuComponent:f="ul",menuItemComponent:d="li",emptyComponent:g,menuAnchorClassName:p,showMentionsOnDelete:y,showCurrentMentionsAsSuggestions:b=!0,mentionEnclosure:v,onMenuOpen:_,onMenuClose:S,onMenuItemSelect:x,punctuation:E=$R,preTriggerChars:C=FR}=r,T=L.useRef(!1),O=kh(),N=L.useMemo(()=>{var ne;return(ne=r.triggers)!==null&&ne!==void 0?ne:Object.keys(e??{})},[r.triggers,e]),[A]=Fe(),[D,M]=L.useState(null),[k,U]=L.useState(null),{results:P,loading:J,query:j}=tk({queryString:D,searchDelay:s,trigger:k,items:e,onSearch:t,justSelectedAnOption:T}),Y=L.useRef(null),le=L.useRef(null),B=jR(r.creatable,k),X=HR(r.menuItemLimit,k),H=L.useMemo(()=>{if(!k)return[];let ne=P.map(de=>{if(typeof de=="string")return new Uc(k,de,de);{const{value:Se}=de,xe=nk(de,["value"]);return new Uc(k,Se,Se,xe)}});if(X!==!1&&X>0&&(ne=ne.slice(0,X)),(!t||!J&&j!==null)&&b&&A.getEditorState().read(()=>{const de=fo(A);for(const Se of de){const xe=Se.getValue(),nt=Se.getData();Se.getTrigger()===k&&(j===null||Se.getValue().startsWith(j))&&ne.every(Xe=>Xe.value!==xe)&&ne.push(new Uc(k,xe,xe,nt))}}),j&&ne.every(de=>de.displayValue!==j)){const de=typeof B=="string"?B.replace("{{name}}",j):typeof B>"u"||B?`Add "${j}"`:void 0;de&&ne.push(new Uc(k,j,de))}return ne},[P,t,J,j,A,k,B,X,b]),re=!!t&&!H.length&&!!D&&/\s+/.test(D),z=!!H.length||J&&!re,G=L.useCallback(()=>{U(null)},[]),ie=L.useCallback((ne,fe,de)=>{A.update(()=>{if(!k)return;const xe=!!B&&ne.value!==ne.displayValue&&v&&/\s/.test(ne.value)?v+ne.value+v:ne.value,nt=uo(k,xe,ne.data);if(fe){const Xe=fe.getNextSibling();if(fe.replace(nt),Xe instanceof sr){const en=Xe.getTextContent();!/\s/.test(en)&&xe.includes(en)&&Xe.remove()}}de==null||de(),T.current=!0})},[A,k,B,v]),ue=L.useCallback((ne,fe,de)=>{k&&(x==null||x({trigger:k,value:ne.value,displayValue:ne.displayValue,data:ne.data}),ie(ne,fe,de))},[ie,x,k]),he=L.useCallback(ne=>{const fe=W0(ne,N,C,E,o);if(fe){const{replaceableString:de,matchingString:Se}=fe,xe=de.lastIndexOf(Se),nt=xe===-1?de:de.substring(0,xe)+de.substring(xe+Se.length);if(U(nt||null),fe.replaceableString)return fe}else U(null);return null},[C,o,E,N]),Ce=L.useCallback((ne=!1)=>{if(!l)return;const fe=co(N,E);if(!fe)return;const{node:de,offset:Se,type:xe,parentNode:nt,isTextNode:Xe,textContent:en,prevNode:un,nextNode:cn,wordCharAfterCursor:fn,cursorAtStartOfNode:Ol,cursorAtEndOfNode:As}=fe;if(Xe&&Ol&&El(un)){de.insertBefore(Be(" "));return}if(El(de)&&un===null&&On(nt)&&xe==="element"&&Se===0){const Rl=Be(" ");de.insertBefore(Rl),Rl.selectStart();return}if(Xe&&As&&El(cn)){de.insertAfter(Be(" "));return}if(Xe&&ne&&fn){const Rl=en.substring(0,Se)+" "+en.substring(Se);de.setTextContent(Rl);return}El(de)&&cn===null&&de.insertAfter(Be(" "))},[E,N,l]),me=L.useCallback((ne=!1)=>{const fe=Y.current;let de=typeof fe=="number"?H[fe]:void 0;const Se=H.find(fn=>fn.value!==fn.displayValue);if(Se&&(oo||de===null)&&(de=Se),!de)return!1;const xe=co(N,E);if(!k||!(xe!=null&&xe.isTextNode))return!1;const nt=xe.node,Xe=Ar(nt),en=W0(Xe,N,C,E,o);if(en===null)return!1;const un=Xe.search(new RegExp(`${en.replaceableString}\\s?$`));if(un===-1)return!1;const cn=uo(k,de.value,de.data);if(A.update(()=>{nt.setTextContent(Xe.substring(0,un)),nt.insertAfter(cn),cn.selectNext()},{tag:"history-merge"}),ne){const fn=V();setTimeout(()=>{A.update(()=>{fn&&Ye(fn.clone())})})}return!0},[H,N,E,k,C,o,A]),pe=L.useCallback(()=>{const ne=V();if((!ne||rt(ne))&&le.current){const fe=le.current.clone();Ye(fe)}else ne||Lh();le.current&&(le.current=null)},[]),ye=L.useCallback(ne=>{if(!y)return!1;const fe=co(N,E);if(fe){const{node:de,prevNode:Se,offset:xe}=fe,nt=El(de)?de:El(Se)&&xe===0?Se:null;if(nt){const Xe=nt.getTrigger();return nt.replace(Be(Xe)),ne.preventDefault(),!0}}return!1},[y,N,E]),$e=L.useCallback(ne=>{var fe;const{key:de,metaKey:Se,ctrlKey:xe}=ne,nt=de.length===1,Xe=Dh(de,N,E),en=o&&/^\s$/.test(de);if(!nt||Se||xe)return!1;let un=de;const cn=co(N,E);if(cn!=null&&cn.isTextNode){const{textContent:Ol,offset:As}=cn;un=(((fe=Ol.substring(0,As).split(/\s+/).at(-1))!==null&&fe!==void 0?fe:"")+de).trim()}const fn=N.some(Ol=>un===Ol);return!Xe&&!fn&&!en||Ce(fn),!1},[Ce,E,N,o]),Ve=L.useCallback(ne=>{var fe;const de=(fe=ne.clipboardData)===null||fe===void 0?void 0:fe.getData("text/plain"),Se=de==null?void 0:de.charAt(0),xe=N.some(Xe=>Se===Xe),nt=Se&&new RegExp(`[\\s${E}]`).test(Se);return(xe||!nt)&&Ce(),!1},[Ce,N,E]);return L.useEffect(()=>{if(!A.hasNodes([Ai]))throw new Error("BeautifulMentionsPlugin: BeautifulMentionNode not registered on editor");return mt(A.registerCommand(hn,()=>{const ne=V();return ne&&!rt(ne)?le.current=ne:ne||(le.current=null),!1},De),A.registerCommand(jd,$e,De),A.registerCommand(_i,ye,De),A.registerCommand(zu,()=>u?me(!0):!1,De),A.registerCommand(ku,()=>!o&&B?me():!1,De),A.registerCommand(q0,({trigger:ne,value:fe,data:de,focus:Se=!0})=>{pe();const xe=YR(N,E,ne,fe,de,l);return Se||Ye(null),xe},De),A.registerCommand(Y0,({trigger:ne,value:fe,focus:de})=>{const Se=VR(ne,fe,de);return de||(le.current=null),Se},De),A.registerCommand(V0,({trigger:ne,newValue:fe,value:de,focus:Se})=>GR(ne,fe,de,Se),De),A.registerCommand(G0,({trigger:ne})=>(pe(),X0(N,E,ne,l)),De),A.registerCommand(Wl,Ve,De))},[A,N,E,l,o,u,B,O,me,$e,ye,Ve,pe]),L.useEffect(()=>{z&&O?_==null||_():S==null||S(),z&&!O&&G()},[_,S,z,O,G]),Es?r.combobox?$.jsx(JR,{options:H,loading:J,onQueryChange:M,onSelectOption:ie,onReset:()=>{U(null)},triggerFn:he,triggers:N,punctuation:E,creatable:B,comboboxOpen:r.comboboxOpen,comboboxAnchor:r.comboboxAnchor,comboboxAnchorClassName:r.comboboxAnchorClassName,comboboxComponent:r.comboboxComponent,comboboxItemComponent:r.comboboxItemComponent,comboboxAdditionalItems:r.comboboxAdditionalItems,onComboboxOpen:r.onComboboxOpen,onComboboxClose:r.onComboboxClose,onComboboxFocusChange:r.onComboboxFocusChange,onComboboxItemSelect:r.onComboboxItemSelect}):$.jsx(OR,{commandPriority:as,onQueryChange:M,onSelectOption:ue,triggerFn:he,options:H,anchorClassName:p,onClose:G,menuRenderFn:(ne,{selectedIndex:fe,selectOptionAndCleanUp:de,setHighlightedIndex:Se})=>(Y.current=fe,ne.current&&H.length===0&&j&&!J&&O&&g?kn.createPortal($.jsx(g,{}),ne.current):ne.current&&z?kn.createPortal($.jsx(f,{loading:J,role:"menu","aria-label":"Choose a mention","aria-hidden":!z,"aria-activedescendant":!oo&&fe!==null&&H[fe]?H[fe].displayValue:"",children:H.map((xe,nt)=>$.jsx(d,Object.assign({tabIndex:-1,selected:!oo&&fe===nt,ref:xe.setRefElement,role:"menuitem","aria-selected":!oo&&fe===nt,"aria-label":`Choose ${xe.value}`,item:xe.menuItem,itemValue:xe.value,label:xe.displayValue},xe.data,{onClick:()=>{Se(nt),de(xe)},onMouseDown:Xe=>{Xe.preventDefault()},onMouseEnter:()=>{Se(nt)},children:xe.displayValue}),xe.key))}),ne.current):null)}):null}function lk(){const[r]=Fe(),e=L.useCallback(f=>r.dispatchCommand(q0,f),[r]),t=L.useCallback(f=>r.dispatchCommand(Y0,f),[r]),l=L.useCallback(f=>r.dispatchCommand(V0,f),[r]),s=L.useCallback(({value:f,trigger:d})=>r.getEditorState().read(()=>{const g=fo(r);return f?g.some(p=>p.getTrigger()===d&&p.getValue()===f):g.some(p=>p.getTrigger()===d)}),[r]),o=L.useCallback(f=>r.dispatchCommand(G0,f),[r]);return{getMentions:L.useCallback(()=>r.getEditorState().read(()=>fo(r).map(f=>{const{trigger:d,value:g,data:p}=f.exportJSON();return{trigger:d,value:g,data:p}})),[r]),insertMention:e,removeMentions:t,renameMentions:l,hasMentions:s,openMentionMenu:o}}function Bh(...r){return r.filter(Boolean).join(" ")}function eS(r){return new DOMParser().parseFromString(r,"text/html").documentElement.textContent}const jc=r=>!r||typeof r!="string"?"":r.replace(/&nbsp;/g," ").replace(/&ZeroWidthSpace;/g,"​").replace(/&zwsp;/g,"​").replace(/&zwnj;/g,"‌").replace(/&zwj;/g,"‍").replace(/^[\s\u00A0\u1680\u2000-\u200F\u2028-\u202F\u205F\u3000\uFEFF]+|[\s\u00A0\u1680\u2000-\u200F\u2028-\u202F\u205F\u3000\uFEFF]+$/g,""),go=r=>!r||typeof r!="string"?"":r.replace(/[\s\u00A0\u1680\u2000-\u200F\u2028-\u202F\u205F\u3000\uFEFF]/g,"").toLowerCase(),sk=r=>!r||typeof r!="string"?r:r.replace(/&#32;/g," ").replace(/&#x20;/gi," ").replace(/&nbsp;/g," ").replace(/&#160;/g," ").replace(/&#xa0;/gi," "),ak=(r,e)=>{if(!r||!Array.isArray(r))return[];const t=new Map;return r.filter(l=>{const s=e(l),o=go(s);return o?t.has(o)?!1:(t.set(o,!0),!0):!1})};function ok({taskId:r,mentionsFetchUrlApi:e,mentionsFetchUrlWA:t}){const[l]=Fe(),s=L.useRef(new Map),o=L.useCallback(async(d,g,p)=>{if(!s.current.has(g)){s.current.set(g,!0);try{const y=await Uh("#",d,p,r,e,t),b=go(d),v=y.find(_=>go(_.value)===b);l.update(()=>{const _=Ge(g);if(_ instanceof Mn)if(v){const S=new Mn("#",v.value,v.data);_.replace(S)}else{const S=_.getData();if(S&&S.data&&S.data._pending_check){const x={...S,data:{...S.data,_pending_check:!1}},E=new Mn("#",_.getValue(),x);_.replace(E)}}})}catch(y){console.warn("Ошибка при проверке тега:",y),l.update(()=>{const b=Ge(g);if(b instanceof Mn){const v=b.getData();if(v&&v.data&&v.data._pending_check){const _={...v,data:{...v.data,_pending_check:!1}},S=new Mn("#",b.getValue(),_);b.replace(S)}}})}finally{s.current.delete(g)}}},[l,r,e,t]),u=L.useCallback((d,g,p,y=100)=>{setTimeout(()=>{o(d,g,p)},y)},[o]),f=L.useCallback(()=>{s.current.clear()},[]);return{validateTag:o,scheduleTagValidation:u,clearPendingValidations:f,isPending:L.useCallback(d=>s.current.has(d),[])}}const uk={"@":"Mention","#":"Mention"},ho={"@":"Mention__at","#":"Mention__hashtag"};class Mn extends Ai{static getType(){return"custom-beautifulMention"}static clone(e){return new Mn(e.__trigger,e.__data?e.__value:e.__value.at(0)!==e.__trigger?e.__trigger+e.__value:e.__value,e.__data,e.__key)}static importJSON(e){return new Mn(e.trigger,e.value,e.data)}getTextContent(){const e=this.getLatest();return e.__data&&e.__data.data&&e.__data.data.entity_type==="tag"&&e.__value.at(0)!==e.__trigger?e.__trigger+e.__value:e.__value}exportJSON(){const e=this.__data;return Object.assign(Object.assign({trigger:this.__trigger,value:this.__value},e?{data:e}:{}),{type:"custom-beautifulMention",version:1})}component(){return ck}decorate(e,t){return super.decorate(e,t)}}const ck=L.forwardRef(({trigger:r,value:e,data:t,children:l,...s},o)=>{let u=t?t.data.richMode?eS(t.data.entity_link_name):t.data.markdown_code:e;const f=t&&t.data.richMode?t.data.entity_type==="tag"?"#":t.data.entity_image?$.jsx("img",{src:t.data.entity_image,className:Bh("Mention__icon",["user","contact"].includes(t.data.entity_type)?"Mention__icon--rounded":"")}):"":"";return s.className=t?t.data.entity_type!=="tag"?ho["@"]:t.data._pending_check?`${ho["#"]} Mention__hashtag--pending`:ho["#"]:ho["#"],$.jsxs("div",{...s,ref:o,title:e,children:[f,u]})}),Uh=async(r,e,t,l,s,o)=>{const u=s?`${s}&term=${encodeURIComponent(r+e)}`:o?`?module=tasks&action=${r==="#"?"entityAutocomplete":"mentionAutocomplete"}&task_id=${l}&term=${e}`:"";try{const f=await fetch(u),{data:d}=await f.json(),g=d.filter(p=>p.entity_type==="tag"?!p.markdown_code.includes(" "):!0).map(p=>{if(p.entity_type==="tag"){const y=jc(p.markdown_code);return{value:y,data:{...p,markdown_code:y,richMode:t}}}return{value:p.markdown_code,data:{...p,richMode:t}}});return ak(g,p=>p.value)}catch{return[]}},fk=({controls:r})=>{const[e]=Fe(),{openMentionMenu:t}=lk(),l=r.querySelectorAll(".t-form-line-autocomplete-chip"),s=u=>{u.preventDefault()},o=u=>{u.preventDefault();const f=u.currentTarget.dataset.type==="at"?"@":"#";t({trigger:f})};L.useEffect(()=>(e.update(()=>{l.forEach(u=>{u.addEventListener("mousedown",s),u.addEventListener("click",o)})}),()=>{l.forEach(u=>{u.removeEventListener("mousedown",s),u.removeEventListener("click",o)})}))},dk=({taskId:r,mentionsFetchUrlApi:e,mentionsFetchUrlWA:t,isRichMode:l})=>{const[s]=Fe(),{scheduleTagValidation:o,clearPendingValidations:u}=ok({taskId:r,mentionsFetchUrlApi:e,mentionsFetchUrlWA:t}),f=()=>{const d=document.querySelector(".Menu.Menu--tag");return d?d.querySelector(".Menu__loading")?!0:d.querySelectorAll(".Menu__line").length===0:!1};return L.useEffect(()=>s.registerCommand(ku,d=>{const g=V();if(!I(g))return!1;const y=g.anchor.getNode().getTextContent(),b=g.anchor.offset,v=y.substring(0,b),_=v.match(/#([^#\s]*)$/);if(!_)return!1;const S=_[1],x=_.index,E=x>0?v[x-1]:" ";if(!(x===0||/\s/.test(E)))return!1;const T=document.querySelector(".Menu.Menu--tag");if(T&&!f()){const O=T.querySelector(".Menu__line--selected");if(O){if(!S||S.trim()==="")return d.preventDefault(),O.click(),!0;const N=O.querySelector(".Menu__text"),A=N?N.textContent.trim():"",D=go(S);if(go(A)===D)return d.preventDefault(),O.click(),!0}}return!S||S.trim()===""?!1:(d.preventDefault(),s.update(()=>{const O=V();if(!I(O))return;const N=O.anchor.getNode(),A=N.getTextContent(),D=O.anchor.offset,k=A.substring(0,D).match(/#([^#\s]*)$/);if(k){const U=k.index;let P=k[1];if(P=jc(P),!P)return;const J=A.substring(0,U),j=A.substring(D),Y=new Mn("#",P,{data:{entity_type:"tag",markdown_code:P,entity_link_name:P,richMode:l,_pending_check:!0}});N.setTextContent(J),J?(N.insertAfter(Y),Y.insertAfter(Be(" "+j))):(N.replace(Y),Y.insertAfter(Be(" "+j)));const le=Y.getNextSibling();le&&le.select(1,1);const B=Y.getKey();o(P,B,l,100)}}),!0)},bi),[s,r,e,t,l,o]),L.useEffect(()=>()=>{u()},[u]),null};function gk(r){return r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}const hk=r=>"(?:"+r.map(e=>gk(e)).join("|")+")";function pk(r,e){const t=Object.keys(r),l=[];if(t.length){const s=new RegExp(hk(t),"g");let o;for(s.lastIndex=0;(o=s.exec(e))!==null;)l.push({value:o[0],index:o.index})}return l}function mk(r,e,t,l){const s=pk(r,e),o=[];let u=0;if(s.forEach(({value:f,index:d})=>{if(d>u){const g=e.substring(u,d);o.push({type:"text",value:g})}o.push({type:"mention",value:f}),u=d+f.length}),u<e.length){const f=e.substring(u);o.push({type:"text",value:f})}return o}function yk(r,e,t,l=TR){const s=mk(r,e),o=[];for(const u of s)if(u.type==="text")o.push(Be(u.value));else{const f=r[u.value],d=f.entity_type==="tag"?"#":"@";let g=f.markdown_code;f.entity_type==="tag"&&g.startsWith("#")&&(g=g.substring(1)),f.entity_type==="tag"&&(g=jc(g)),o.push(new Mn(d,g,{data:{...f,markdown_code:g,richMode:!0}}))}return o}function _k(r,e){return yk(r,e)}function jh(r,e){const t={};for(const l of r){const s=e(l);s&&(t[s]?t[s].push(l):t[s]=[l])}return t}function Hh(r){const e=jh(r,t=>t.type);return{element:e.element||[],multilineElement:e["multiline-element"]||[],textFormat:e["text-format"]||[],textMatch:e["text-match"]||[]}}const Hc=/[!-/:-@[-`{-~\s]/,bk=/^\s{0,3}$/;function Kh(r){if(!On(r))return!1;const e=r.getFirstChild();return e==null||r.getChildrenSize()===1&&se(e)&&bk.test(e.getTextContent())}function vk(r,e,t,l){for(const s of e){if(!s.export)continue;const o=s.export(r,u=>Kc(u,t,l));if(o!=null)return o}return Q(r)?Kc(r,t,l):Ke(r)?r.getTextContent():null}function Kc(r,e,t,l,s){const o=[],u=r.getChildren();l||(l=[]),s||(s=[]);e:for(const f of u){for(const d of t){if(!d.export)continue;const g=d.export(f,p=>Kc(p,e,t,l,[...s,...l]),(p,y)=>tS(p,y,e,l,s));if(g!=null){o.push(g);continue e}}Nn(f)?o.push(`
`):se(f)?o.push(tS(f,f.getTextContent(),e,l,s)):Q(f)?o.push(Kc(f,e,t,l,s)):Ke(f)&&o.push(f.getTextContent())}return o.join("")}function tS(r,e,t,l,s){let o=r.getFormat()===0?e:function(b){return b.replace(/^\s+|\s+$/g,v=>[...v].map(_=>"&#"+_.codePointAt(0)+";").join(""))}(e);r.hasFormat("code")||(o=o.replace(/([*_`~\\])/g,"\\$1"));let u="",f="",d="";const g=nS(r,!0),p=nS(r,!1),y=new Set;for(const b of t){const v=b.format[0],_=b.tag;Ic(r,v)&&!y.has(v)&&(y.add(v),Ic(g,v)&&l.find(S=>S.tag===_)||(l.push({format:v,tag:_}),u+=_))}for(let b=0;b<l.length;b++){const v=Ic(r,l[b].format),_=Ic(p,l[b].format);if(v&&_)continue;const S=[...l];for(;S.length>b;){const x=S.pop();s&&x&&s.find(E=>E.tag===x.tag)||(x&&typeof x.tag=="string"&&(v?_||(d+=x.tag):f+=x.tag),l.pop())}break}return o=u+o+d,f+o}function nS(r,e){let t=e?r.getPreviousSibling():r.getNextSibling();if(!t){const l=r.getParentOrThrow();l.isInline()&&(t=e?l.getPreviousSibling():l.getNextSibling())}for(;t;){if(Q(t)){if(!t.isInline())break;const l=e?t.getLastDescendant():t.getFirstDescendant();if(se(l))return l;t=e?t.getPreviousSibling():t.getNextSibling()}if(se(t))return t;if(!Q(t))return null}return null}function Ic(r,e){return se(r)&&r.hasFormat(e)}function Sk(r,e){const t=function(s,o){const u=s.match(o.openTagsRegExp);if(u==null)return null;for(const f of u){const d=f.replace(/^\s/,""),g=o.fullMatchRegExpByTag[d];if(g==null)continue;const p=s.match(g),y=o.transformersByTag[d];if(p!=null&&y!=null){if(y.intraword!==!1)return p;const{index:b=0}=p,v=s[b-1],_=s[b+p[0].length];if((!v||Hc.test(v))&&(!_||Hc.test(_)))return p}}return null}(r.getTextContent(),e);if(!t)return null;const l=t.index||0;return{endIndex:l+t[0].length,match:t,startIndex:l,transformer:e.transformersByTag[t[1]]}}function Tl(r){return se(r)&&!r.hasFormat("code")}function wl(r,e,t){let l=Sk(r,e),s=function(u,f){const d=u;let g,p,y,b;for(const v of f){if(!v.replace||!v.importRegExp)continue;const _=d.getTextContent().match(v.importRegExp);if(!_)continue;const S=_.index||0,x=v.getEndIndex?v.getEndIndex(d,_):S+_[0].length;x!==!1&&(g===void 0||p===void 0||S<g&&x>p)&&(g=S,p=x,y=v,b=_)}return g===void 0||p===void 0||y===void 0||b===void 0?null:{endIndex:p,match:b,startIndex:g,transformer:y}}(r,t);if(l&&s&&(l.startIndex<=s.startIndex&&l.endIndex>=s.endIndex?s=null:l=null),l){const u=function(f,d,g,p,y){const b=f.getTextContent();let v,_,S;if(y[0]===b?v=f:d===0?[v,_]=f.splitText(g):[S,v,_]=f.splitText(d,g),v.setTextContent(y[2]),p)for(const x of p.format)v.hasFormat(x)||v.toggleFormat(x);return{nodeAfter:_,nodeBefore:S,transformedNode:v}}(r,l.startIndex,l.endIndex,l.transformer,l.match);Tl(u.nodeAfter)&&wl(u.nodeAfter,e,t),Tl(u.nodeBefore)&&wl(u.nodeBefore,e,t),Tl(u.transformedNode)&&wl(u.transformedNode,e,t)}else if(s){const u=function(f,d,g,p,y){let b,v,_;return d===0?[b,v]=f.splitText(g):[_,b,v]=f.splitText(d,g),p.replace?{nodeAfter:v,nodeBefore:_,transformedNode:p.replace(b,y)||void 0}:null}(r,s.startIndex,s.endIndex,s.transformer,s.match);if(!u)return;Tl(u.nodeAfter)&&wl(u.nodeAfter,e,t),Tl(u.nodeBefore)&&wl(u.nodeBefore,e,t),Tl(u.transformedNode)&&wl(u.transformedNode,e,t)}const o=r.getTextContent().replace(/\\([*_`~\\])/g,"$1").replace(/&#(\d+);/g,(u,f)=>String.fromCodePoint(f));r.setTextContent(o)}function xk(r,e=!1){const t=Hh(r),l=function(s){const o={},u={},f=[],d="(?<![\\\\])";for(const g of s){const{tag:p}=g;o[p]=g;const y=p.replace(/(\*|\^|\+)/g,"\\$1");f.push(y),p.length===1?u[p]=new RegExp(`(?<![\\\\${y}])(${y})((\\\\${y})?.*?[^${y}\\s](\\\\${y})?)((?<!\\\\)|(?<=\\\\\\\\))(${y})(?![\\\\${y}])`):u[p]=new RegExp(`(?<!\\\\)(${y})((\\\\${y})?.*?[^\\s](\\\\${y})?)((?<!\\\\)|(?<=\\\\\\\\))(${y})(?!\\\\)`)}return{fullMatchRegExpByTag:u,openTagsRegExp:new RegExp(`${d}(${f.join("|")})`,"g"),transformersByTag:o}}(t.textFormat);return(s,o)=>{const u=s.split(`
`),f=u.length,d=o||Je();d.clear();for(let p=0;p<f;p++){const y=u[p],[b,v]=Ck(u,p,t.multilineElement,d);b?p=v:Ek(y,d,t.element,l,t.textMatch,e)}const g=d.getChildren();for(const p of g)!e&&Kh(p)&&d.getChildrenSize()>1&&p.remove();V()!==null&&d.selectStart()}}function Ck(r,e,t,l){for(const s of t){const{handleImportAfterStartMatch:o,regExpEnd:u,regExpStart:f,replace:d}=s,g=r[e].match(f);if(!g)continue;if(o){const _=o({lines:r,rootNode:l,startLineIndex:e,startMatch:g,transformer:s});if(_===null)continue;if(_)return _}const p=typeof u=="object"&&"regExp"in u?u.regExp:u,y=u&&typeof u=="object"&&"optional"in u?u.optional:!u;let b=e;const v=r.length;for(;b<v;){const _=p?r[b].match(p):null;if(!_&&(!y||y&&b<v-1)){b++;continue}if(_&&e===b&&_.index===g.index){b++;continue}const S=[];if(_&&e===b)S.push(r[e].slice(g[0].length,-_[0].length));else for(let x=e;x<=b;x++)if(x===e){const E=r[x].slice(g[0].length);S.push(E)}else if(x===b&&_){const E=r[x].slice(0,-_[0].length);S.push(E)}else S.push(r[x]);if(d(l,null,g,_,S,!0)!==!1)return[!0,b];break}}return[!1,e]}function Ek(r,e,t,l,s,o){const u=Be(r),f=Ae();f.append(u),e.append(f);for(const{regExp:d,replace:g}of t){const p=r.match(d);if(p&&(u.setTextContent(r.slice(p[0].length)),g(f,[u],p,!0)!==!1))break}if(wl(u,l,s),f.isAttached()&&r.length>0){const d=f.getPreviousSibling();if(!o&&(On(d)||jg(d)||ke(d))){let g=d;if(ke(d)){const p=d.getLastDescendant();g=p==null?null:ze(p,Qe)}g!=null&&g.getTextContentSize()>0&&(g.splice(g.getChildrenSize(),0,[In(),...f.getChildren()]),f.remove())}}}function Tk(r,...e){const t=new URL("https://lexical.dev/docs/error"),l=new URLSearchParams;l.append("code",r);for(const s of e)l.append("v",s);throw t.search=l.toString(),Error(`Minified Lexical error #${r}; visit ${t.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function rS(r,e,t){const l=t.length;for(let s=e;s>=l;s--){const o=s-l;if(iS(r,o,t,0,l)&&r[o+l]!==" ")return o}return-1}function iS(r,e,t,l,s){for(let o=0;o<s;o++)if(r[e+o]!==t[l+o])return!1;return!0}function wk(r,e=Pc){const t=Hh(e),l=jh(t.textFormat,({tag:u})=>u[u.length-1]),s=jh(t.textMatch,({trigger:u})=>u);for(const u of e){const f=u.type;if(f==="element"||f==="text-match"||f==="multiline-element"){const d=u.dependencies;for(const g of d)r.hasNode(g)||Tk(173,g.getType())}}const o=(u,f,d)=>{(function(g,p,y,b){const v=g.getParent();if(!Ct(v)||g.getFirstChild()!==p)return!1;const _=p.getTextContent();if(_[y-1]!==" ")return!1;for(const{regExp:S,replace:x}of b){const E=_.match(S);if(E&&E[0].length===(E[0].endsWith(" ")?y:y-1)){const C=p.getNextSiblings(),[T,O]=p.splitText(y);if(x(g,O?[O,...C]:C,E,!1)!==!1)return T.remove(),!0}}return!1})(u,f,d,t.element)||function(g,p,y,b){const v=g.getParent();if(!Ct(v)||g.getFirstChild()!==p)return!1;const _=p.getTextContent();if(_[y-1]!==" ")return!1;for(const{regExpStart:S,replace:x,regExpEnd:E}of b){if(E&&!("optional"in E)||E&&"optional"in E&&!E.optional)continue;const C=_.match(S);if(C&&C[0].length===(C[0].endsWith(" ")?y:y-1)){const T=p.getNextSiblings(),[O,N]=p.splitText(y);if(x(g,N?[N,...T]:T,C,null,null,!1)!==!1)return O.remove(),!0}}return!1}(u,f,d,t.multilineElement)||function(g,p,y){let b=g.getTextContent();const v=y[b[p-1]];if(v==null)return!1;p<b.length&&(b=b.slice(0,p));for(const _ of v){if(!_.replace||!_.regExp)continue;const S=b.match(_.regExp);if(S===null)continue;const x=S.index||0,E=x+S[0].length;let C;return x===0?[C]=g.splitText(E):[,C]=g.splitText(x,E),C.selectNext(0,0),_.replace(C,S),!0}return!1}(f,d,s)||function(g,p,y){const b=g.getTextContent(),v=p-1,_=b[v],S=y[_];if(!S)return!1;for(const x of S){const{tag:E}=x,C=E.length,T=v-C+1;if(C>1&&!iS(b,T,E,0,C)||b[T-1]===" ")continue;const O=b[v+1];if(x.intraword===!1&&O&&!Hc.test(O))continue;const N=g;let A=N,D=rS(b,T,E),M=A;for(;D<0&&(M=M.getPreviousSibling())&&!Nn(M);)if(se(M)){if(M.hasFormat("code"))continue;const X=M.getTextContent();A=M,D=rS(X,X.length,E)}if(D<0||A===N&&D+C===T)continue;const k=A.getTextContent();if(D>0&&k[D-1]===_)continue;const U=k[D-1];if(x.intraword===!1&&U&&!Hc.test(U))continue;const P=N.getTextContent(),J=P.slice(0,T)+P.slice(v+1);N.setTextContent(J);const j=A===N?J:k;A.setTextContent(j.slice(0,D)+j.slice(D+C));const Y=V(),le=is();Ye(le);const B=v-C*(A===N?2:1)+1;le.anchor.set(A.__key,D,"text"),le.focus.set(N.__key,B,"text");for(const X of x.format)le.hasFormat(X)||le.formatText(X);le.anchor.set(le.focus.key,le.focus.offset,le.focus.type);for(const X of x.format)le.hasFormat(X)&&le.toggleFormat(X);return I(Y)&&(le.format=Y.format),!0}}(f,d,l)};return r.registerUpdateListener(({tags:u,dirtyLeaves:f,editorState:d,prevEditorState:g})=>{if(u.has(ib)||u.has(Zu)||r.isComposing())return;const p=d.read(V),y=g.read(V);if(!I(y)||!I(p)||!p.isCollapsed()||p.is(y))return;const b=p.anchor.key,v=p.anchor.offset,_=d._nodeMap.get(b);!se(_)||!f.has(b)||v!==1&&v>y.anchor.offset+1||r.update(()=>{if(!Tl(_))return;const S=_.getParent();S===null||lo(S)||o(S,_,p.anchor.offset)})})}const lS=/^(\s*)(\d{1,})\.\s/,sS=/^(\s*)[-*+]\s/,Nk=/^(\s*)(?:-\s)?\s?(\[(\s|x)?\])\s/i,Ih=/^(#{1,6})\s/,aS=/^>\s/,oS=/^[ \t]*```(\w+)?/,uS=/[ \t]*```$/,Ak=/^[ \t]*```[^`]+(?:(?:`{1,2}|`{4,})[^`]+)*```(?:[^`]|$)/,Ok=/^(?:\|)(.+)(?:\|)\s?$/,Rk=/^(\| ?:?-*:? ?)+\|\s?$/,cS=r=>(e,t,l,s)=>{const o=r(l);o.append(...t),e.replace(o),s||o.select(0,0)},fS=r=>(e,t,l,s)=>{const o=e.getPreviousSibling(),u=e.getNextSibling(),f=Sn(r==="check"?l[3]==="x":void 0);if(ke(u)&&u.getListType()===r){const g=u.getFirstChild();g!==null?g.insertBefore(f):u.append(f),e.remove()}else if(ke(o)&&o.getListType()===r)o.append(f),e.remove();else{const g=an(r,r==="number"?Number(l[2]):void 0);g.append(f),e.replace(g)}f.append(...t),s||f.select(0,0);const d=function(g){const p=g.match(/\t/g),y=g.match(/ /g);let b=0;return p&&(b+=p.length),y&&(b+=Math.floor(y.length/4)),b}(l[1]);d&&f.setIndent(d)},Ph=(r,e,t)=>{const l=[],s=r.getChildren();let o=0;for(const u of s)if(Qe(u)){if(u.getChildrenSize()===1){const p=u.getFirstChild();if(ke(p)){l.push(Ph(p,e,t+1));continue}}const f=" ".repeat(4*t),d=r.getListType(),g=d==="number"?`${r.getStart()+o}. `:d==="check"?`- [${u.getChecked()?"x":" "}] `:"- ";l.push(f+g+e(u)),o++}return l.join(`
`)},kk={dependencies:[mc],export:(r,e)=>{if(!dv(r))return null;const t=Number(r.getTag().slice(1));return"#".repeat(t)+" "+e(r)},regExp:Ih,replace:cS(r=>{const e="h"+r[1].length;return Wt(e)}),type:"element"},Mk={dependencies:[pc],export:(r,e)=>{if(!jg(r))return null;const t=e(r).split(`
`),l=[];for(const s of t)l.push("> "+s);return l.join(`
`)},regExp:aS,replace:(r,e,t,l)=>{if(l){const o=r.getPreviousSibling();if(jg(o))return o.splice(o.getChildrenSize(),0,[In(),...e]),void r.remove()}const s=Qa();s.append(...e),r.replace(s),l||s.select(0,0)},type:"element"},Nl={dependencies:[Nc],export:r=>{if(!lo(r))return null;const e=r.getTextContent();return"```"+(r.getLanguage()||"")+(e?`
`+e:"")+"\n```"},regExpEnd:{optional:!0,regExp:uS},regExpStart:oS,replace:(r,e,t,l,s,o)=>{let u,f;if(!e&&s){if(s.length===1)l?(u=gr(),f=t[1]+s[0]):(u=gr(t[1]),f=s[0].startsWith(" ")?s[0].slice(1):s[0]);else{if(u=gr(t[1]),s[0].trim().length===0)for(;s.length>0&&!s[0].length;)s.shift();else s[0]=s[0].startsWith(" ")?s[0].slice(1):s[0];for(;s.length>0&&!s[s.length-1].length;)s.pop();f=s.join(`
`)}const d=Be(f);u.append(d),r.append(u)}else e&&cS(d=>gr(d?d[1]:void 0))(r,e,t,o)},type:"multiline-element"},Dk={dependencies:[wi,Ti],export:(r,e)=>ke(r)?Ph(r,e,0):null,regExp:sS,replace:fS("bullet"),type:"element"},Lk={dependencies:[wi,Ti],export:(r,e)=>ke(r)?Ph(r,e,0):null,regExp:lS,replace:fS("number"),type:"element"},zk={format:["code"],tag:"`",type:"text-format"},$k={format:["highlight"],tag:"==",type:"text-format"},Fk={format:["bold","italic"],tag:"***",type:"text-format"},Bk={format:["bold","italic"],intraword:!1,tag:"___",type:"text-format"},Uk={format:["bold"],tag:"**",type:"text-format"},jk={format:["bold"],intraword:!1,tag:"__",type:"text-format"},Hk={format:["strikethrough"],tag:"~~",type:"text-format"},Kk={format:["italic"],tag:"*",type:"text-format"},Ik={format:["italic"],intraword:!1,tag:"_",type:"text-format"},Pk={dependencies:[Ni],export:(r,e,t)=>{if(!Dt(r)||Yn(r))return null;const l=r.getTitle(),s=e(r);return l?`[${s}](${r.getURL()} "${l}")`:`[${s}](${r.getURL()})`},importRegExp:/(?:\[([^[]+)\])(?:\((?:([^()\s]+)(?:\s"((?:[^"]*\\")*[^"]*)"\s*)?)\))/,regExp:/(?:\[([^[]+)\])(?:\((?:([^()\s]+)(?:\s"((?:[^"]*\\")*[^"]*)"\s*)?)\))$/,replace:(r,e)=>{const[,t,l,s]=e,o=Sl(l,{title:s}),u=Be(t);return u.setFormat(r.getFormat()),o.append(u),r.replace(o),u},trigger:")",type:"text-match"},Ts=[kk,Mk,Dk,Lk],qk=[Nl],ws=[zk,Fk,Bk,Uk,jk,$k,Kk,Ik,Hk],Ns=[Pk],Pc=[...Ts,...qk,...ws,...Ns];function qc(r,e=Pc,t,l=!1,s=!1){const o=l?r:function(u,f=!1){const d=u.split(`
`);let g=!1;const p=[];for(let y=0;y<d.length;y++){const b=d[y],v=p[p.length-1];Ak.test(b)?p.push(b):oS.test(b)||uS.test(b)?(g=!g,p.push(b)):g||b===""||v===""||!v||Ih.test(v)||Ih.test(b)||aS.test(b)||lS.test(b)||sS.test(b)||Nk.test(b)||Ok.test(b)||Rk.test(b)||!f?p.push(b):p[p.length-1]=v+b}return p.join(`
`)}(r,s);return xk(e,l)(o,t)}function dS(r=Pc,e,t=!1){return function(s,o=!1){const u=Hh(s),f=[...u.multilineElement,...u.element],d=!o,g=u.textFormat.filter(p=>p.format.length===1).sort((p,y)=>Number(p.format.includes("code"))-Number(y.format.includes("code")));return p=>{const y=[],b=(p||Je()).getChildren();for(let v=0;v<b.length;v++){const _=b[v],S=vk(_,f,g,u.textMatch);S!=null&&y.push(d&&v>0&&!Kh(_)&&!Kh(b[v-1])?`
`.concat(S):S)}return y.join(`
`)}}(r,t)(e)}var qh={exports:{}},Yh,gS;function Yk(){if(gS)return Yh;gS=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Yh=r,Yh}var Vh,hS;function Vk(){if(hS)return Vh;hS=1;var r=Yk();function e(){}function t(){}return t.resetWarningCache=e,Vh=function(){function l(u,f,d,g,p,y){if(y!==r){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}l.isRequired=l;function s(){return l}var o={array:l,bigint:l,bool:l,func:l,number:l,object:l,string:l,symbol:l,any:l,arrayOf:s,element:l,elementType:l,instanceOf:s,node:l,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:t,resetWarningCache:e};return o.PropTypes=o,o},Vh}var pS;function Gk(){return pS||(pS=1,qh.exports=Vk()()),qh.exports}var Xk=Gk();const Ot=Lr(Xk);function mS({loading:r,...e}){const{t}=zr();return r?$.jsx("div",{className:"Menu__loading",children:t("loading")}):$.jsx("ul",{style:{scrollbarWidth:"none",msOverflowStyle:"none"},className:"Menu Menu--tag",...e})}const Gh=L.forwardRef(({selected:r,item:e,itemValue:t,...l},s)=>{const{data:o}=l,u=(o==null?void 0:o.entity_type)==="tag"?e.trigger:o!=null&&o.entity_image?$.jsx("img",{src:o.entity_image,className:Bh("Menu__icon",["user","contact"].includes(o.entity_type)?"Menu__icon--rounded":"")}):e.trigger;return $.jsxs("li",{ref:s,className:Bh("Menu__line",r?"Menu__line--selected":""),...l,children:[u,$.jsx("div",{className:"Menu__text",children:eS((o==null?void 0:o.entity_title)||e.value)})]})});Gh.displayName="MenuItem";const Al={dependencies:[xl],export:r=>so(r)?`![${r.getAltText()}](${r.getSrc()})`:null,importRegExp:/!\[([^\]]*)\]\(([^)]+)\)/,regExp:/!\[([^\]]*)\]\(([^)]+)\)$/,replace:(r,e)=>{const[,t,l]=e;if(!l||l.trim()==="")return;if(!/^(https?:\/\/|\/|\.\/|data:)/i.test(l.trim())){console.warn("Invalid image source:",l);return}const o=Oc({altText:t||"",src:l.trim()});r.replace(o)},trigger:")",type:"text-match"},Zk=r=>{const e=r.getFirstChild();return tt(e)?e.getChildrenSize():0},yS=(r,e)=>{r=r.replace(/\\n/g,`
`).trim();const t=qn(ot.NO_STATUS);if(!r)return t.append(Ae()),t;if(e)t.append(e(r));else if(/^```[\w]*\n[\s\S]*\n```$/.test(r))qc(r,[Nl],t);else{const s=[Al,Nl,...Ts,...ws,...Ns];qc(r,s,t)}return t},_S=(r,e)=>{const t=r.match(bS);return!t||!t[1]?null:Wk(t[1]).map(l=>yS(l,e))},Xh={dependencies:[no],export:r=>e0(r)?"***":null,regExp:/^(---|\*\*\*|___)\s?$/,replace:(r,e,t,l)=>{const s=ro();l||r.getNextSibling()!=null?r.replace(s):r.insertBefore(s),s.selectNext()},type:"element"},bS=/^(?:\|)(.+)(?:\|)\s?$/,Qk=/^(\| ?:?-{3,}?:? ?)+\|\s?$/,Wk=r=>{const e=[];let t="",l=0;for(;l<r.length;){const s=r[l];s==="\\"&&l+1<r.length?(t+=s+r[l+1],l+=2):s==="|"?(e.push(t.trim()),t="",l++):(t+=s,l++)}return(t.length>0||e.length===0)&&e.push(t.trim()),e},Jk=r=>({dependencies:[Er,yl,dr],export:e=>{if(!ht(e))return null;const t=[];for(const l of e.getChildren()){const s=[];if(!tt(l))continue;let o=!1;for(const u of l.getChildren())if(ve(u)){const f=[Al,Nl,...Ts,...ws,...Ns];s.push(dS(f,u).replace(/\n/g,"\\n")),u.getHeaderStyles()===ot.ROW&&(o=!0)}t.push(`| ${s.join(" | ")} |`),o&&t.push(`| ${s.map(u=>"---").join(" | ")} |`)}return t.join(`
`)},regExp:bS,replace:(e,t,l)=>{if(Qk.test(l[0])){const p=e.getPreviousSibling();if(!p||!ht(p))return;const y=p.getChildren(),b=y[y.length-1];if(!b||!tt(b))return;b.getChildren().forEach(v=>{ve(v)&&v.toggleHeaderStyle(ot.ROW)}),e.remove();return}const s=_S(l[0],r);if(s==null)return;const o=[s];let u=e.getPreviousSibling(),f=s.length;for(;u&&!(!On(u)||u.getChildrenSize()!==1);){const p=u.getFirstChild();if(!se(p))break;const y=_S(p.getTextContent(),r);if(y==null)break;f=Math.max(f,y.length),o.unshift(y);const b=u.getPreviousSibling();u.remove(),u=b}const d=Ec();for(const p of o){const y=_s();d.append(y);for(let b=0;b<f;b++)y.append(b<p.length?p[b]:yS(""))}const g=e.getPreviousSibling();ht(g)&&Zk(g)===f?(g.append(...d.getChildren()),e.remove()):e.replace(d),d.selectEnd()},type:"element"}),Zh=[Al,...ws,Nl,...Ts,...Ns];function eM({editorRef:r}){const[e]=Fe();return L.useEffect(()=>{typeof r=="function"?r(e):typeof r=="object"&&(r.current=e)},[e]),null}function tM({editorRef:r}){return $.jsx(eM,{editorRef:r})}function nM(){const[r]=Fe();return L.useEffect(()=>{const e=r.getRootElement();if(!e)return;const t=e.closest(".editor-container");if(!t)return;const l=[t.querySelector(".editor"),t.querySelector(".editor-inner"),t.querySelector(".editor-scroller")].filter(Boolean),s=o=>{o.target!==e&&!o.target.closest('[contenteditable="true"]')&&!o.target.closest(".toolbar")&&!o.target.closest(".link-editor")&&!o.target.closest(".table-cell-action-button-container")&&r.focus()};return l.forEach(o=>{o&&o.addEventListener("click",s)}),()=>{l.forEach(o=>{o&&o.removeEventListener("click",s)})}},[r]),null}function rM(){const[r]=Fe();return L.useEffect(()=>r.registerCommand(es,e=>{const t=V();if(!I(t))return!1;const l=t.anchor.getNode();return ze(l,o=>ke(o))?(e.preventDefault(),e.shiftKey?r.dispatchCommand(Hd,void 0):r.dispatchCommand(d_,void 0),!0):!1},Rn),[r]),null}const iM=[{dependencies:[no],export:r=>e0(r)?"***":null,regExp:/^(---|\*\*\*|___)\s?$/,replace:(r,e,t,l)=>{const s=ro();l||r.getNextSibling()!=null?r.replace(s):r.insertBefore(s),s.selectNext()},type:"element"},...Pc];function lM({transformers:r=iM}){const[e]=Fe();return L.useEffect(()=>wk(e,r),[e,r]),null}function sM(){return $.jsx(lM,{transformers:Zh})}(function(r){function e(t,l){return"___"+t.toUpperCase()+l+"___"}Object.defineProperties(r.languages["markup-templating"]={},{buildPlaceholders:{value:function(t,l,s,o){if(t.language===l){var u=t.tokenStack=[];t.code=t.code.replace(s,function(f){if(typeof o=="function"&&!o(f))return f;for(var d=u.length,g;t.code.indexOf(g=e(l,d))!==-1;)++d;return u[d]=f,g}),t.grammar=r.languages.markup}}},tokenizePlaceholders:{value:function(t,l){if(t.language!==l||!t.tokenStack)return;t.grammar=r.languages[l];var s=0,o=Object.keys(t.tokenStack);function u(f){for(var d=0;d<f.length&&!(s>=o.length);d++){var g=f[d];if(typeof g=="string"||g.content&&typeof g.content=="string"){var p=o[s],y=t.tokenStack[p],b=typeof g=="string"?g:g.content,v=e(l,p),_=b.indexOf(v);if(_>-1){++s;var S=b.substring(0,_),x=new r.Token(l,r.tokenize(y,t.grammar),"language-"+l,y),E=b.substring(_+v.length),C=[];S&&C.push.apply(C,u([S])),C.push(x),E&&C.push.apply(C,u([E])),typeof g=="string"?f.splice.apply(f,[d,1].concat(C)):g.content=C}}else g.content&&u(g.content)}return f}u(t.tokens)}}})})(Prism);var vS={},SS;function aM(){return SS||(SS=1,function(r){var e=/\/\*[\s\S]*?\*\/|\/\/.*|#(?!\[).*/,t=[{pattern:/\b(?:false|true)\b/i,alias:"boolean"},{pattern:/(::\s*)\b[a-z_]\w*\b(?!\s*\()/i,greedy:!0,lookbehind:!0},{pattern:/(\b(?:case|const)\s+)\b[a-z_]\w*(?=\s*[;=])/i,greedy:!0,lookbehind:!0},/\b(?:null)\b/i,/\b[A-Z_][A-Z0-9_]*\b(?!\s*\()/],l=/\b0b[01]+(?:_[01]+)*\b|\b0o[0-7]+(?:_[0-7]+)*\b|\b0x[\da-f]+(?:_[\da-f]+)*\b|(?:\b\d+(?:_\d+)*\.?(?:\d+(?:_\d+)*)?|\B\.\d+)(?:e[+-]?\d+)?/i,s=/<?=>|\?\?=?|\.{3}|\??->|[!=]=?=?|::|\*\*=?|--|\+\+|&&|\|\||<<|>>|[?~]|[/^|%*&<>.+-]=?/,o=/[{}\[\](),:;]/;r.languages.php={delimiter:{pattern:/\?>$|^<\?(?:php(?=\s)|=)?/i,alias:"important"},comment:e,variable:/\$+(?:\w+\b|(?=\{))/,package:{pattern:/(namespace\s+|use\s+(?:function\s+)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,lookbehind:!0,inside:{punctuation:/\\/}},"class-name-definition":{pattern:/(\b(?:class|enum|interface|trait)\s+)\b[a-z_]\w*(?!\\)\b/i,lookbehind:!0,alias:"class-name"},"function-definition":{pattern:/(\bfunction\s+)[a-z_]\w*(?=\s*\()/i,lookbehind:!0,alias:"function"},keyword:[{pattern:/(\(\s*)\b(?:array|bool|boolean|float|int|integer|object|string)\b(?=\s*\))/i,alias:"type-casting",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|object|self|static|string)\b(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|never|object|self|static|string|void)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/\b(?:array(?!\s*\()|bool|float|int|iterable|mixed|object|string|void)\b/i,alias:"type-declaration",greedy:!0},{pattern:/(\|\s*)(?:false|null)\b|\b(?:false|null)(?=\s*\|)/i,alias:"type-declaration",greedy:!0,lookbehind:!0},{pattern:/\b(?:parent|self|static)(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(\byield\s+)from\b/i,lookbehind:!0},/\bclass\b/i,{pattern:/((?:^|[^\s>:]|(?:^|[^-])>|(?:^|[^:]):)\s*)\b(?:abstract|and|array|as|break|callable|case|catch|clone|const|continue|declare|default|die|do|echo|else|elseif|empty|enddeclare|endfor|endforeach|endif|endswitch|endwhile|enum|eval|exit|extends|final|finally|fn|for|foreach|function|global|goto|if|implements|include|include_once|instanceof|insteadof|interface|isset|list|match|namespace|never|new|or|parent|print|private|protected|public|readonly|require|require_once|return|self|static|switch|throw|trait|try|unset|use|var|while|xor|yield|__halt_compiler)\b/i,lookbehind:!0}],"argument-name":{pattern:/([(,]\s*)\b[a-z_]\w*(?=\s*:(?!:))/i,lookbehind:!0},"class-name":[{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self|\s+static))\s+|\bcatch\s*\()\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/(\|\s*)\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/\b[a-z_]\w*(?!\\)\b(?=\s*\|)/i,greedy:!0},{pattern:/(\|\s*)(?:\\?\b[a-z_]\w*)+\b/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(?:\\?\b[a-z_]\w*)+\b(?=\s*\|)/i,alias:"class-name-fully-qualified",greedy:!0,inside:{punctuation:/\\/}},{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self\b|\s+static\b))\s+|\bcatch\s*\()(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*\$)/i,alias:"type-declaration",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-declaration"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*::)/i,alias:["class-name-fully-qualified","static-context"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/([(,?]\s*)[a-z_]\w*(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-hint"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b[a-z_]\w*(?!\\)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:["class-name-fully-qualified","return-type"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:t,function:{pattern:/(^|[^\\\w])\\?[a-z_](?:[\w\\]*\w)?(?=\s*\()/i,lookbehind:!0,inside:{punctuation:/\\/}},property:{pattern:/(->\s*)\w+/,lookbehind:!0},number:l,operator:s,punctuation:o};var u={pattern:/\{\$(?:\{(?:\{[^{}]+\}|[^{}]+)\}|[^{}])+\}|(^|[^\\{])\$+(?:\w+(?:\[[^\r\n\[\]]+\]|->\w+)?)/,lookbehind:!0,inside:r.languages.php},f=[{pattern:/<<<'([^']+)'[\r\n](?:.*[\r\n])*?\1;/,alias:"nowdoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<'[^']+'|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<'?|[';]$/}}}},{pattern:/<<<(?:"([^"]+)"[\r\n](?:.*[\r\n])*?\1;|([a-z_]\w*)[\r\n](?:.*[\r\n])*?\2;)/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<(?:"[^"]+"|[a-z_]\w*)|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<"?|[";]$/}},interpolation:u}},{pattern:/`(?:\\[\s\S]|[^\\`])*`/,alias:"backtick-quoted-string",greedy:!0},{pattern:/'(?:\\[\s\S]|[^\\'])*'/,alias:"single-quoted-string",greedy:!0},{pattern:/"(?:\\[\s\S]|[^\\"])*"/,alias:"double-quoted-string",greedy:!0,inside:{interpolation:u}}];r.languages.insertBefore("php","variable",{string:f,attribute:{pattern:/#\[(?:[^"'\/#]|\/(?![*/])|\/\/.*$|#(?!\[).*$|\/\*(?:[^*]|\*(?!\/))*\*\/|"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*')+\](?=\s*[a-z$#])/im,greedy:!0,inside:{"attribute-content":{pattern:/^(#\[)[\s\S]+(?=\]$)/,lookbehind:!0,inside:{comment:e,string:f,"attribute-class-name":[{pattern:/([^:]|^)\b[a-z_]\w*(?!\\)\b/i,alias:"class-name",greedy:!0,lookbehind:!0},{pattern:/([^:]|^)(?:\\?\b[a-z_]\w*)+/i,alias:["class-name","class-name-fully-qualified"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:t,number:l,operator:s,punctuation:o}},delimiter:{pattern:/^#\[|\]$/,alias:"punctuation"}}}}),r.hooks.add("before-tokenize",function(d){if(/<\?/.test(d.code)){var g=/<\?(?:[^"'/#]|\/(?![*/])|("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|(?:\/\/|#(?!\[))(?:[^?\n\r]|\?(?!>))*(?=$|\?>|[\r\n])|#\[|\/\*(?:[^*]|\*(?!\/))*(?:\*\/|$))*?(?:\?>|$)/g;r.languages["markup-templating"].buildPlaceholders(d,"php",g)}}),r.hooks.add("after-tokenize",function(d){r.languages["markup-templating"].tokenizePlaceholders(d,"php")})}(Prism)),vS}aM(),typeof window<"u"&&(window.Prism=rO,window.Prism.manual=!0);let po;const Yc=new Map;function xS({message:r}){return $.jsx("div",{className:"editor-placeholder",children:r})}function oM(){const[r]=Fe();return L.useEffect(()=>()=>{},[r]),null}xS.propTypes={message:Ot.string};const CS=(r,e)=>{const t=Ae();qc(e,[Al,...ws,Nl,...Ts,...Ns],t,!0);const l=t.getChildren().reduce((o,u,f)=>[...o,...f>0?[In()]:[],...u.getChildren()],[]);t.remove();const s=[];for(const o of l)if(se(o)){const u=o.getTextContent(),f=_k(r,u);if(f.length===1&&f[0].__type!=="custom-beautifulMention")s.push(o);else for(const d of f)if(d.__type==="custom-beautifulMention")s.push(d);else{const g=Be(d.getTextContent());g.setFormat(o.getFormat()),s.push(g)}}else s.push(o);return s},uM=(r,e)=>{const t=r.getChildren();if(t.length===0)return r;if(t.every(s=>se(s)&&s.getFormat()===0)){const s=Ae(),o=r.getTextContent();return s.append(...CS(e,o)),s}return r},ES=({initialElement:r,richMode:e,taskLinks:t,storage:l})=>{const[s]=Fe(),[o,u]=L.useState(!1);return L.useEffect(()=>{if(o)return;let f=r.value;if(l&&!f)try{const d=JSON.parse(localStorage.getItem(l));f=(d==null?void 0:d[e?"lexical":"md"])||""}catch{}f!=null&&s.update(()=>{const d=Je();if(d.clear(),e){if(typeof f=="object"){const g=s.parseEditorState(f);g.isEmpty()||setTimeout(()=>{s.setEditorState(g)})}else if(typeof f=="string"&&f.trim()){const g=Ae();d.append(g);const p=[po,Xh,Al,...ws,Nl,...Ts,...Ns];qc(f,p,g);const y=g.getChildren();for(const b of y)if(On(b)){const v=uM(b,t);d.append(v)}else d.append(b);g.remove()}}else typeof f=="string"&&ng([Be(f)]);u(!0)})},[s,r.value,e,t,l,o]),null};ES.propTypes={initialElement:Ot.object.isRequired,richMode:Ot.bool,taskLinks:Ot.array,storage:Ot.string};const cM=()=>{if(!po||!po.type)return[Xh,Al,...Zh];const r="export";return Yc.has(r)||Yc.set(r,[po,Xh,Al,...Zh]),Yc.get(r)},fM=/(\s|^)(@|#)([^\s#@]+)/g,dM=/\u200B|\u200C|\u200D|\uFEFF/g;function gM(r,e,t){r.read(()=>{const l=cM();let s=dS(l);(s.includes("@")||s.includes("#"))&&(s=s.replace(fM,(o,u,f,d)=>{const g=d.replace(dM,"");return u+f+g})),s=sk(s),e.value=s,e.dispatchEvent(new Event("input")),t&&(s.trim()?localStorage.setItem(t,JSON.stringify({lexical:r,md:s})):localStorage.removeItem(t))})}const Qh=new Map,hM=[Mn,{replace:Ai,with:r=>new Mn(r.getTrigger(),r.getValue(),r.getData())},no,mc,wi,Ti,pc,Nc,yh,Er,dr,yl,Ac,Ni,xl],pM=r=>{const e=r?"rich":"plain";if(!Qh.has(e)){const t={theme:{...ER,beautifulMentions:r?ho:uk},onError(l){throw l},nodes:hM};Qh.set(e,t)}return Qh.get(e)};function TS({el:r,isRichMode:e,taskId:t,storage:l,placeholder:s,mentions:o,controls:u,imageUploadUrl:f,imageUploadTaskUuid:d,mentionsFetchUrlApi:g,mentionsFetchUrlWA:p,autoFocus:y=!0,getEditorRef:b}){const[v,_]=L.useState(null),[S,x]=L.useState(!1),E=L.useMemo(()=>Jk(A=>Ae().append(...CS(o,A))),[o]);L.useEffect(()=>{po=E,Yc.clear()},[E]);const C=L.useMemo(()=>pM(e),[e]),T=L.useCallback(A=>{gM(A,r,l)},[r,l]),O=L.useCallback(A=>{A!==null&&_(A)},[]);if(L.useEffect(()=>{e===!1&&(r&&r.parentElement&&(r.style.display=""),typeof b=="function"&&b(null))},[e,r,b]),e===!1)return null;const N=e?wN:LN;return $.jsx(Pw,{initialConfig:C,children:$.jsxs("div",{className:"editor-container",children:[e&&$.jsx(GO,{setIsLinkEditMode:x,isShowImgButton:!!f}),$.jsxs("div",{className:"editor-inner",children:[$.jsx(N,{contentEditable:$.jsx("div",{className:"editor-scroller",children:$.jsx("div",{className:"editor",ref:O,children:$.jsx(jN,{className:"editor-input"})})}),placeholder:$.jsx(xS,{message:s}),ErrorBoundary:FN}),$.jsx(J0,{triggers:["@"],onSearch:(...A)=>Uh(...A,e,t,g,p),menuComponent:mS,menuItemComponent:Gh,allowSpaces:!1,menuItemLimit:10}),$.jsx(J0,{triggers:["#"],onSearch:(...A)=>Uh(...A,e,t,g,p),menuComponent:mS,menuItemComponent:Gh,allowSpaces:!1,punctuation:`\\,\\*\\?\\$\\|#{}\\(\\)\\^\\[\\]\\\\/!%'"~=<>_:;`,creatable:!1,createOnBlur:!0,appendSpaceOnSelect:!0,exactMatch:!0,menuItemLimit:10,createMentionNode:(A,D)=>{let M=D.startsWith("#")?D.substring(1):D;return M=jc(M),new Mn(A,M,{data:{entity_type:"tag",markdown_code:M,entity_link_name:M,richMode:e}})}}),$.jsx(xO,{onChange:T}),$.jsx(ES,{initialElement:r,richMode:e,taskLinks:o,storage:l}),$.jsx(_R,{}),y&&$.jsx(IN,{}),$.jsx(FA,{hasCellMerge:!1}),$.jsx(vO,{}),$.jsx(oM,{}),e&&f&&$.jsx(XO,{imageUploadUrl:f,imageUploadTaskUuid:d}),e&&f&&$.jsx(zO,{imageUploadUrl:f,imageUploadTaskUuid:d}),e&&$.jsx(bO,{}),e&&$.jsx(rM,{}),e&&$.jsx(oR,{}),e&&$.jsx(sM,{}),e&&u&&$.jsx(fk,{controls:u}),$.jsx(dk,{taskId:t,mentionsFetchUrlApi:g,mentionsFetchUrlWA:p,isRichMode:e}),$.jsx(QN,{}),$.jsx(nM,{}),v&&$.jsxs($.Fragment,{children:[$.jsx(rR,{anchorElem:v}),$.jsx(IA,{anchorElem:v,cellMerge:!1}),$.jsx(CR,{anchorElem:v,isLinkEditMode:S,setIsLinkEditMode:x})]}),typeof b=="function"&&$.jsx(tM,{editorRef:b})]})]})})}if(TS.propTypes={el:Ot.object.isRequired,isRichMode:Ot.bool,taskId:Ot.oneOfType([Ot.string,Ot.number]),storage:Ot.string,placeholder:Ot.string,mentions:Ot.array,controls:Ot.object,imageUploadUrl:Ot.string,imageUploadTaskUuid:Ot.string,mentionsFetchUrlApi:Ot.string,mentionsFetchUrlWA:Ot.string,autoFocus:Ot.bool,getEditorRef:Ot.func},typeof window<"u"){window.lexicalEditor=window.lexicalEditor||{},window.lexicalEditor.instances=window.lexicalEditor.instances||new Map,window.lexicalEditor.focusEditor=function(e){if(!this.instances)return!1;const t=typeof e=="string"?this.instances.get(e):this.instances.get(e);return t&&typeof t.focus=="function"?(t.focus(),!0):!1};const r=()=>{if(window.lexicalEditor.tabNavigationInitialized)return;const e=t=>{if(t.key==="Tab"&&!t.shiftKey){const l=t.target;if(!l.classList.contains("t-task-name-input"))return;const s=l.closest(".t-big-editor-wrapper");if(!s||!s.querySelector('[data-lexical-editor="true"]'))return;t.preventDefault();const u=s.querySelector('textarea[id^="redactor-task-"]');u&&u.id&&window.lexicalEditor.focusEditor&&window.lexicalEditor.focusEditor(u.id)}};document.addEventListener("keydown",e),window.lexicalEditor.tabNavigationInitialized=!0};document.readyState==="complete"?r():window.addEventListener("load",r)}function mM({el:r,isRichMode:e,taskId:t,storage:l,placeholder:s,mentions:o,controls:u,imageUploadUrl:f,imageUploadTaskUuid:d,mentionsFetchUrlApi:g,mentionsFetchUrlWA:p,lang:y,autoFocus:b=!0}){if(!(r instanceof HTMLElement)){console.error("No container provided");return}const v=r.parentElement;if(!v){console.error("Container's parent does not exist");return}if(e===!1)return r.style.display="",{focus:()=>!1,isInitialized:!1};const _=document.createElement("div");_.classList.add("lexical-editor"),v.insertBefore(_,r),r.style.display="none",y&&It.changeLanguage(y);let S=null;const x=E=>{S=E,typeof window<"u"&&window.lexicalEditor.instances&&(window.lexicalEditor.instances.set(r,E),r.id&&window.lexicalEditor.instances.set(r.id,E))};return LT.createRoot(_).render($.jsx(cd.StrictMode,{children:$.jsx(TS,{el:r,isRichMode:e,taskId:t,storage:l,placeholder:s,mentions:o,controls:u,imageUploadUrl:f,imageUploadTaskUuid:d,mentionsFetchUrlApi:g,mentionsFetchUrlWA:p,autoFocus:b,getEditorRef:x})})),{focus:()=>S&&typeof S.focus=="function"?(S.focus(),!0):!1}}function Wh(r,e,t){return Math.min(Math.max(r,e),t)}const dt={east:1,north:8,south:2,west:4};function yM({onResizeStart:r,onResizeEnd:e,buttonRef:t,imageRef:l,maxWidth:s,editor:o,showCaption:u,setShowCaption:f,captionsEnabled:d}){const g=L.useRef(null),p=L.useRef({priority:"",value:"default"}),y=L.useRef({currentHeight:0,currentWidth:0,direction:0,isResizing:!1,ratio:0,startHeight:0,startWidth:0,startX:0,startY:0}),b=o.getRootElement(),v=s||(b!==null?b.getBoundingClientRect().width-20:100),_=b!==null?b.getBoundingClientRect().height-20:100,S=100,x=100,E=A=>{const D=A===dt.east||A===dt.west,M=A===dt.north||A===dt.south,k=A&dt.north&&A&dt.west||A&dt.south&&A&dt.east,U=D?"ew":M?"ns":k?"nwse":"nesw";b!==null&&b.style.setProperty("cursor",`${U}-resize`,"important"),document.body!==null&&(document.body.style.setProperty("cursor",`${U}-resize`,"important"),p.current.value=document.body.style.getPropertyValue("-webkit-user-select"),p.current.priority=document.body.style.getPropertyPriority("-webkit-user-select"),document.body.style.setProperty("-webkit-user-select","none","important"))},C=()=>{b!==null&&b.style.setProperty("cursor","text"),document.body!==null&&(document.body.style.setProperty("cursor","default"),document.body.style.setProperty("-webkit-user-select",p.current.value,p.current.priority))},T=(A,D)=>{if(!o.isEditable())return;const M=l.current,k=g.current;if(M!==null&&k!==null){A.preventDefault();const{width:U,height:P}=M.getBoundingClientRect(),J=ml(M),j=y.current;j.startWidth=U,j.startHeight=P,j.ratio=U/P,j.currentWidth=U,j.currentHeight=P,j.startX=A.clientX/J,j.startY=A.clientY/J,j.isResizing=!0,j.direction=D,E(D),r(),k.classList.add("image-control-wrapper--resizing"),M.style.height=`${P}px`,M.style.width=`${U}px`,document.addEventListener("pointermove",O),document.addEventListener("pointerup",N)}},O=A=>{const D=l.current,M=y.current,k=M.direction&(dt.east|dt.west),U=M.direction&(dt.south|dt.north);if(D!==null&&M.isResizing){const P=ml(D);if(k&&U){let J=Math.floor(M.startX-A.clientX/P);J=M.direction&dt.east?-J:J;const j=Wh(M.startWidth+J,S,v),Y=j/M.ratio;D.style.width=`${j}px`,D.style.height=`${Y}px`,M.currentHeight=Y,M.currentWidth=j}else if(U){let J=Math.floor(M.startY-A.clientY/P);J=M.direction&dt.south?-J:J;const j=Wh(M.startHeight+J,x,_);D.style.height=`${j}px`,M.currentHeight=j}else{let J=Math.floor(M.startX-A.clientX/P);J=M.direction&dt.east?-J:J;const j=Wh(M.startWidth+J,S,v);D.style.width=`${j}px`,M.currentWidth=j}}},N=()=>{const A=l.current,D=y.current,M=g.current;if(A!==null&&M!==null&&D.isResizing){const k=D.currentWidth,U=D.currentHeight;D.startWidth=0,D.startHeight=0,D.ratio=0,D.startX=0,D.startY=0,D.currentWidth=0,D.currentHeight=0,D.isResizing=!1,M.classList.remove("image-control-wrapper--resizing"),C(),e(k,U),document.removeEventListener("pointermove",O),document.removeEventListener("pointerup",N)}};return $.jsxs("div",{ref:g,children:[$.jsx("div",{className:"image-resizer image-resizer-n",onPointerDown:A=>{T(A,dt.north)}}),$.jsx("div",{className:"image-resizer image-resizer-ne",onPointerDown:A=>{T(A,dt.north|dt.east)}}),$.jsx("div",{className:"image-resizer image-resizer-e",onPointerDown:A=>{T(A,dt.east)}}),$.jsx("div",{className:"image-resizer image-resizer-se",onPointerDown:A=>{T(A,dt.south|dt.east)}}),$.jsx("div",{className:"image-resizer image-resizer-s",onPointerDown:A=>{T(A,dt.south)}}),$.jsx("div",{className:"image-resizer image-resizer-sw",onPointerDown:A=>{T(A,dt.south|dt.west)}}),$.jsx("div",{className:"image-resizer image-resizer-w",onPointerDown:A=>{T(A,dt.west)}}),$.jsx("div",{className:"image-resizer image-resizer-nw",onPointerDown:A=>{T(A,dt.north|dt.west)}})]})}const Jh=new Set,ep=Ee("RIGHT_CLICK_IMAGE_COMMAND");function _M(r){if(!Jh.has(r))throw new Promise(e=>{const t=new Image;t.src=r,t.onload=()=>{Jh.add(r),e(null)},t.onerror=()=>{Jh.add(r)}})}function bM({altText:r,className:e,imageRef:t,src:l,width:s,height:o,maxWidth:u,onError:f}){return _M(l),$.jsx("img",{className:e||void 0,src:l,alt:r,ref:t,style:{height:o,width:s},onError:f,draggable:"false"})}function vM({src:r,altText:e,nodeKey:t,width:l,height:s,maxWidth:o,resizable:u,showCaption:f,caption:d,captionsEnabled:g}){const p=L.useRef(null),y=L.useRef(null),[b,v,_]=gh(t),[S,x]=L.useState(!1),[E]=Fe(),[C,T]=L.useState(null),O=L.useRef(null),[N,A]=L.useState(!1),{t:D}=zr(),M=L.useCallback(H=>{if(b&&rt(V())){H.preventDefault();const z=Ge(t);if(so(z))return z.remove(),!0}return!1},[b,t]),k=L.useCallback(H=>{const re=V(),z=y.current;if(b&&rt(re)&&re.getNodes().length===1){if(f)return Ye(null),H.preventDefault(),d.focus(),!0;if(z!==null&&z!==document.activeElement)return H.preventDefault(),z.focus(),!0}return!1},[d,b,f]),U=L.useCallback(H=>O.current===d||y.current===H.target?(Ye(null),E.update(()=>{v(!0);const re=E.getRootElement();re!==null&&re.focus()}),!0):!1,[d,E,v]),P=L.useCallback(H=>{const re=H;return S?!0:re.target===p.current?(re.shiftKey?v(!b):(_(),v(!0)),!0):!1},[S,b,v,_]),J=L.useCallback(H=>{E.getEditorState().read(()=>{const re=V();H.target.tagName==="IMG"&&I(re)&&re.getNodes().length===1&&E.dispatchCommand(ep,H)})},[E]);L.useEffect(()=>{let H=!0;const re=E.getRootElement(),z=mt(E.registerUpdateListener(({editorState:G})=>{H&&T(G.read(()=>V()))}),E.registerCommand(hn,(G,ie)=>(O.current=ie,!1),De),E.registerCommand(di,P,De),E.registerCommand(ep,P,De),E.registerCommand(Ra,G=>G.target===p.current?(G.preventDefault(),!0):!1,De),E.registerCommand(Jl,M,De),E.registerCommand(_i,M,De),E.registerCommand(yi,k,De),E.registerCommand(sl,U,De));return re==null||re.addEventListener("contextmenu",J),()=>{H=!1,z(),re==null||re.removeEventListener("contextmenu",J)}},[_,E,S,b,t,M,k,U,P,J,v]);const j=()=>{E.update(()=>{const H=Ge(t);so(H)&&H.setShowCaption(!0)})},Y=(H,re)=>{setTimeout(()=>{x(!1)},200),E.update(()=>{const z=Ge(t);so(z)&&z.setWidthAndHeight(H,re)})},le=()=>{x(!0)},B=b&&rt(C)&&!S,X=b||S;return $.jsx(L.Suspense,{fallback:null,children:$.jsxs($.Fragment,{children:[$.jsx("div",{draggable:B,children:N?D("Broken Image"):$.jsx(bM,{className:X?`focused ${rt(C)?"draggable":""}`:null,src:r,altText:e,imageRef:p,width:l,height:s,maxWidth:o,onError:()=>A(!0)})}),u&&rt(C)&&X&&$.jsx(yM,{showCaption:f,setShowCaption:j,editor:E,buttonRef:y,imageRef:p,maxWidth:o,onResizeStart:le,onResizeEnd:Y,captionsEnabled:!N&&g})]})})}const SM=Object.freeze(Object.defineProperty({__proto__:null,RIGHT_CLICK_IMAGE_COMMAND:ep,default:vM},Symbol.toStringTag,{value:"Module"}));Kn.createLexicalInstance=mM,Object.defineProperty(Kn,Symbol.toStringTag,{value:"Module"})});
